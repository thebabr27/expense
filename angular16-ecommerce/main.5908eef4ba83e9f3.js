"use strict";(self.webpackChunkangular16Ecommerce=self.webpackChunkangular16Ecommerce||[]).push([[792],{821:()=>{function ye(e){return"function"==typeof e}function wa(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Qu=wa(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Fo(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class Gt{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(ye(r))try{r()}catch(o){t=o instanceof Qu?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{xI(o)}catch(s){t=t??[],s instanceof Qu?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Qu(t)}}add(t){var n;if(t&&t!==this)if(this.closed)xI(t);else{if(t instanceof Gt){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Fo(n,t)}remove(t){const{_finalizers:n}=this;n&&Fo(n,t),t instanceof Gt&&t._removeParent(this)}}Gt.EMPTY=(()=>{const e=new Gt;return e.closed=!0,e})();const MI=Gt.EMPTY;function RI(e){return e instanceof Gt||e&&"closed"in e&&ye(e.remove)&&ye(e.add)&&ye(e.unsubscribe)}function xI(e){ye(e)?e():e.unsubscribe()}const Li={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Zu={setTimeout(e,t,...n){const{delegate:r}=Zu;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=Zu;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function NI(e){Zu.setTimeout(()=>{const{onUnhandledError:t}=Li;if(!t)throw e;t(e)})}function Qf(){}const c2=Zf("C",void 0,void 0);function Zf(e,t,n){return{kind:e,value:t,error:n}}let Vi=null;function Ju(e){if(Li.useDeprecatedSynchronousErrorHandling){const t=!Vi;if(t&&(Vi={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=Vi;if(Vi=null,n)throw r}}else e()}class Jf extends Gt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,RI(t)&&t.add(this)):this.destination=g2}static create(t,n,r){return new Ea(t,n,r)}next(t){this.isStopped?ep(function l2(e){return Zf("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?ep(function u2(e){return Zf("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?ep(c2,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const h2=Function.prototype.bind;function Xf(e,t){return h2.call(e,t)}class f2{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Xu(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Xu(r)}else Xu(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Xu(n)}}}class Ea extends Jf{constructor(t,n,r){let i;if(super(),ye(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Li.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Xf(t.next,o),error:t.error&&Xf(t.error,o),complete:t.complete&&Xf(t.complete,o)}):i=t}this.destination=new f2(i)}}function Xu(e){Li.useDeprecatedSynchronousErrorHandling?function d2(e){Li.useDeprecatedSynchronousErrorHandling&&Vi&&(Vi.errorThrown=!0,Vi.error=e)}(e):NI(e)}function ep(e,t){const{onStoppedNotification:n}=Li;n&&Zu.setTimeout(()=>n(e,t))}const g2={closed:!0,next:Qf,error:function p2(e){throw e},complete:Qf},tp="function"==typeof Symbol&&Symbol.observable||"@@observable";function Xr(e){return e}function PI(e){return 0===e.length?Xr:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}let Le=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function v2(e){return e&&e instanceof Jf||function _2(e){return e&&ye(e.next)&&ye(e.error)&&ye(e.complete)}(e)&&RI(e)}(n)?n:new Ea(n,r,i);return Ju(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=kI(r))((i,o)=>{const s=new Ea({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[tp](){return this}pipe(...n){return PI(n)(this)}toPromise(n){return new(n=kI(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function kI(e){var t;return null!==(t=e??Li.Promise)&&void 0!==t?t:Promise}const y2=wa(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let sn=(()=>{class e extends Le{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new OI(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new y2}next(n){Ju(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Ju(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ju(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?MI:(this.currentObservers=null,o.push(n),new Gt(()=>{this.currentObservers=null,Fo(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new Le;return n.source=this,n}}return e.create=(t,n)=>new OI(t,n),e})();class OI extends sn{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:MI}}function FI(e){return ye(e?.lift)}function Xe(e){return t=>{if(FI(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ke(e,t,n,r,i){return new C2(e,t,n,r,i)}class C2 extends Jf{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Ce(e,t){return Xe((n,r)=>{let i=0;n.subscribe(Ke(r,o=>{r.next(e.call(t,o,i++))}))})}function el(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function ei(e){return this instanceof ei?(this.v=e,this):new ei(e)}function jI(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function op(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,c){!function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}(a,c,(s=e[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const BI=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function $I(e){return ye(e?.then)}function HI(e){return ye(e[tp])}function zI(e){return Symbol.asyncIterator&&ye(e?.[Symbol.asyncIterator])}function WI(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const GI=function G2(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function qI(e){return ye(e?.[GI])}function KI(e){return function UI(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),o=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function s(f){return function(p){return Promise.resolve(p).then(f,d)}}),i[Symbol.asyncIterator]=function(){return this},i;function a(f,p){r[f]&&(i[f]=function(v){return new Promise(function(b,E){o.push([f,v,b,E])>1||c(f,v)})},p&&(i[f]=p(i[f])))}function c(f,p){try{!function u(f){f.value instanceof ei?Promise.resolve(f.value.v).then(l,d):h(o[0][2],f)}(r[f](p))}catch(v){h(o[0][3],v)}}function l(f){c("next",f)}function d(f){c("throw",f)}function h(f,p){f(p),o.shift(),o.length&&c(o[0][0],o[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield ei(n.read());if(i)return yield ei(void 0);yield yield ei(r)}}finally{n.releaseLock()}})}function YI(e){return ye(e?.getReader)}function an(e){if(e instanceof Le)return e;if(null!=e){if(HI(e))return function q2(e){return new Le(t=>{const n=e[tp]();if(ye(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(BI(e))return function K2(e){return new Le(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if($I(e))return function Y2(e){return new Le(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,NI)})}(e);if(zI(e))return QI(e);if(qI(e))return function Q2(e){return new Le(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(YI(e))return function Z2(e){return QI(KI(e))}(e)}throw WI(e)}function QI(e){return new Le(t=>{(function J2(e,t){var n,r,i,o;return function LI(e,t,n,r){return new(n||(n=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(l.value).then(a,c)}u((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=jI(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function Cr(e,t,n,r=0,i=!1){const o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function ft(e,t,n=1/0){return ye(t)?ft((r,i)=>Ce((o,s)=>t(r,o,i,s))(an(e(r,i))),n):("number"==typeof t&&(n=t),Xe((r,i)=>function X2(e,t,n,r,i,o,s,a){const c=[];let u=0,l=0,d=!1;const h=()=>{d&&!c.length&&!u&&t.complete()},f=v=>u<r?p(v):c.push(v),p=v=>{o&&t.next(v),u++;let b=!1;an(n(v,l++)).subscribe(Ke(t,E=>{i?.(E),o?f(E):t.next(E)},()=>{b=!0},void 0,()=>{if(b)try{for(u--;c.length&&u<r;){const E=c.shift();s?Cr(t,s,()=>p(E)):p(E)}h()}catch(E){t.error(E)}}))};return e.subscribe(Ke(t,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,e,n)))}function Lo(e=1/0){return ft(Xr,e)}const Gn=new Le(e=>e.complete());function ap(e){return e[e.length-1]}function ZI(e){return ye(ap(e))?e.pop():void 0}function Ia(e){return function tV(e){return e&&ye(e.schedule)}(ap(e))?e.pop():void 0}function tl(e,t=0){return Xe((n,r)=>{n.subscribe(Ke(r,i=>Cr(r,e,()=>r.next(i),t),()=>Cr(r,e,()=>r.complete(),t),i=>Cr(r,e,()=>r.error(i),t)))})}function nl(e,t=0){return Xe((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function JI(e,t){if(!e)throw new Error("Iterable cannot be null");return new Le(n=>{Cr(n,t,()=>{const r=e[Symbol.asyncIterator]();Cr(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function it(e,t){return t?function cV(e,t){if(null!=e){if(HI(e))return function rV(e,t){return an(e).pipe(nl(t),tl(t))}(e,t);if(BI(e))return function oV(e,t){return new Le(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if($I(e))return function iV(e,t){return an(e).pipe(nl(t),tl(t))}(e,t);if(zI(e))return JI(e,t);if(qI(e))return function sV(e,t){return new Le(n=>{let r;return Cr(n,t,()=>{r=e[GI](),Cr(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>ye(r?.return)&&r.return()})}(e,t);if(YI(e))return function aV(e,t){return JI(KI(e),t)}(e,t)}throw WI(e)}(e,t):an(e)}class xt extends sn{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function z(...e){return it(e,Ia(e))}function XI(e={}){const{connector:t=(()=>new sn),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return o=>{let s,a,c,u=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=c=void 0,l=d=!1},p=()=>{const v=s;f(),v?.unsubscribe()};return Xe((v,b)=>{u++,!d&&!l&&h();const E=c=c??t();b.add(()=>{u--,0===u&&!d&&!l&&(a=cp(p,i))}),E.subscribe(b),!s&&u>0&&(s=new Ea({next:y=>E.next(y),error:y=>{d=!0,h(),a=cp(f,n,y),E.error(y)},complete:()=>{l=!0,h(),a=cp(f,r),E.complete()}}),an(v).subscribe(s))})(o)}}function cp(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new Ea({next:()=>{r.unsubscribe(),e()}});return an(t(...n)).subscribe(r)}function qn(e,t){return Xe((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(Ke(r,c=>{i?.unsubscribe();let u=0;const l=o++;an(e(c,l)).subscribe(i=Ke(r,d=>r.next(t?t(c,d,l,u++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function dV(e,t){return e===t}function ge(e){for(let t in e)if(e[t]===ge)return t;throw Error("Could not find renamed property on target object.")}function rl(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function et(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(et).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function up(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const hV=ge({__forward_ref__:ge});function Ie(e){return e.__forward_ref__=Ie,e.toString=function(){return et(this())},e}function $(e){return lp(e)?e():e}function lp(e){return"function"==typeof e&&e.hasOwnProperty(hV)&&e.__forward_ref__===Ie}function dp(e){return e&&!!e.\u0275providers}const eD="https://g.co/ng/security#xss";class T extends Error{constructor(t,n){super(function il(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function G(e){return"string"==typeof e?e:null==e?"":String(e)}function hp(e,t){throw new T(-201,!1)}function _n(e,t){null==e&&function j(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function F(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Nt(e){return{providers:e.providers||[],imports:e.imports||[]}}function ol(e){return tD(e,al)||tD(e,nD)}function tD(e,t){return e.hasOwnProperty(t)?e[t]:null}function sl(e){return e&&(e.hasOwnProperty(fp)||e.hasOwnProperty(CV))?e[fp]:null}const al=ge({\u0275prov:ge}),fp=ge({\u0275inj:ge}),nD=ge({ngInjectableDef:ge}),CV=ge({ngInjectorDef:ge});var ne=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(ne||{});let pp;function qt(e){const t=pp;return pp=e,t}function iD(e,t,n){const r=ol(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&ne.Optional?null:void 0!==t?t:void hp(et(e))}const De=globalThis;class N{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=F({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Da={},yp="__NG_DI_FLAG__",cl="ngTempTokenPath",EV=/\n/gm,sD="__source";let Vo;function ti(e){const t=Vo;return Vo=e,t}function TV(e,t=ne.Default){if(void 0===Vo)throw new T(-203,!1);return null===Vo?iD(e,void 0,t):Vo.get(e,t&ne.Optional?null:void 0,t)}function O(e,t=ne.Default){return(function rD(){return pp}()||TV)($(e),t)}function k(e,t=ne.Default){return O(e,ul(t))}function ul(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Cp(e){const t=[];for(let n=0;n<e.length;n++){const r=$(e[n]);if(Array.isArray(r)){if(0===r.length)throw new T(900,!1);let i,o=ne.Default;for(let s=0;s<r.length;s++){const a=r[s],c=SV(a);"number"==typeof c?-1===c?i=a.token:o|=c:i=a}t.push(O(i,o))}else t.push(O(r))}return t}function Ta(e,t){return e[yp]=t,e.prototype[yp]=t,e}function SV(e){return e[yp]}function br(e){return{toString:e}.toString()}var ll=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(ll||{}),Rn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Rn||{});const Kn={},se=[],dl=ge({\u0275cmp:ge}),bp=ge({\u0275dir:ge}),wp=ge({\u0275pipe:ge}),cD=ge({\u0275mod:ge}),wr=ge({\u0275fac:ge}),Sa=ge({__NG_ELEMENT_ID__:ge}),uD=ge({__NG_ENV_ID__:ge});function lD(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}function Ep(e,t,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{const o=i,s=n[++r];hD(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function dD(e){return 3===e||4===e||6===e}function hD(e){return 64===e.charCodeAt(0)}function Aa(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||fD(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function fD(e,t,n,r,i){let o=0,s=e.length;if(-1===t)s=-1;else for(;o<e.length;){const a=e[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<e.length;){const a=e[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}const pD="ng-template";function RV(e,t,n){let r=0,i=!0;for(;r<e.length;){let o=e[r++];if("string"==typeof o&&i){const s=e[r++];if(n&&"class"===o&&-1!==lD(s.toLowerCase(),t,0))return!0}else{if(1===o){for(;r<e.length&&"string"==typeof(o=e[r++]);)if(o.toLowerCase()===t)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function gD(e){return 4===e.type&&e.value!==pD}function xV(e,t,n){return t===(4!==e.type||n?e.value:pD)}function NV(e,t,n){let r=4;const i=e.attrs||[],o=function OV(e){for(let t=0;t<e.length;t++)if(dD(e[t]))return t;return e.length}(i);let s=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!xV(e,c,n)||""===c&&1===t.length){if(xn(r))return!1;s=!0}}else{const u=8&r?c:t[++a];if(8&r&&null!==e.attrs){if(!RV(e.attrs,u,n)){if(xn(r))return!1;s=!0}continue}const d=PV(8&r?"class":c,i,gD(e),n);if(-1===d){if(xn(r))return!1;s=!0;continue}if(""!==u){let h;h=d>o?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==lD(f,u,0)||2&r&&u!==h){if(xn(r))return!1;s=!0}}}}else{if(!s&&!xn(r)&&!xn(c))return!1;if(s&&xn(c))continue;s=!1,r=c|1&r}}return xn(r)||s}function xn(e){return 0==(1&e)}function PV(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){const s=t[i];if(s===e)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++i];for(;"string"==typeof a;)a=t[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function FV(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function mD(e,t,n=!1){for(let r=0;r<t.length;r++)if(NV(e,t[r],n))return!0;return!1}function _D(e,t){return e?":not("+t.trim()+")":t}function VV(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&r){const a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!xn(s)&&(t+=_D(o,i),i=""),r=s,o=o||!xn(r);n++}return""!==i&&(t+=_D(o,i)),t}function be(e){return br(()=>{const t=yD(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===ll.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Rn.Emulated,styles:e.styles||se,_:null,schemas:e.schemas||null,tView:null,id:""};CD(n);const r=e.dependencies;return n.directiveDefs=hl(r,!1),n.pipeDefs=hl(r,!0),n.id=function GV(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const i of n)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(n),n})}function $V(e){return ie(e)||pt(e)}function HV(e){return null!==e}function Kt(e){return br(()=>({type:e.type,bootstrap:e.bootstrap||se,declarations:e.declarations||se,imports:e.imports||se,exports:e.exports||se,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function vD(e,t){if(null==e)return Kn;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}function H(e){return br(()=>{const t=yD(e);return CD(t),t})}function Yt(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function ie(e){return e[dl]||null}function pt(e){return e[bp]||null}function Pt(e){return e[wp]||null}function un(e,t){const n=e[cD]||null;if(!n&&!0===t)throw new Error(`Type ${et(e)} does not have '\u0275mod' property.`);return n}function yD(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Kn,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||se,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:vD(e.inputs,t),outputs:vD(e.outputs)}}function CD(e){e.features?.forEach(t=>t(e))}function hl(e,t){if(!e)return null;const n=t?Pt:$V;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(HV)}const Ve=0,x=1,Y=2,xe=3,Nn=4,Ma=5,It=6,jo=7,He=8,ni=9,Bo=10,q=11,Ra=12,bD=13,$o=14,ze=15,xa=16,Ho=17,Yn=18,Na=19,wD=20,ri=21,Er=22,Pa=23,ka=24,re=25,Ip=1,ED=2,Qn=7,zo=9,gt=11;function Qt(e){return Array.isArray(e)&&"object"==typeof e[Ip]}function kt(e){return Array.isArray(e)&&!0===e[Ip]}function Dp(e){return 0!=(4&e.flags)}function ji(e){return e.componentOffset>-1}function pl(e){return 1==(1&e.flags)}function Pn(e){return!!e.template}function Tp(e){return 0!=(512&e[Y])}function Bi(e,t){return e.hasOwnProperty(wr)?e[wr]:null}let mt=null,gl=!1;function vn(e){const t=mt;return mt=e,t}const TD={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function AD(e){if(!Fa(e)||e.dirty){if(!e.producerMustRecompute(e)&&!xD(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function RD(e){e.dirty=!0,function MD(e){if(void 0===e.liveConsumerNode)return;const t=gl;gl=!0;try{for(const n of e.liveConsumerNode)n.dirty||RD(n)}finally{gl=t}}(e),e.consumerMarkedDirty?.(e)}function Ap(e){return e&&(e.nextProducerIndex=0),vn(e)}function Mp(e,t){if(vn(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Fa(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)ml(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function xD(e){Wo(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(AD(n),r!==n.version))return!0}return!1}function ND(e){if(Wo(e),Fa(e))for(let t=0;t<e.producerNode.length;t++)ml(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function ml(e,t){if(function kD(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),Wo(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)ml(e.producerNode[r],e.producerIndexOfThis[r]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];Wo(i),i.producerIndexOfThis[r]=t}}function Fa(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Wo(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let OD=null;const UD=()=>{},oU=(()=>({...TD,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:UD}))();class sU{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function yn(){return jD}function jD(e){return e.type.prototype.ngOnChanges&&(e.setInput=cU),aU}function aU(){const e=$D(this),t=e?.current;if(t){const n=e.previous;if(n===Kn)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function cU(e,t,n,r){const i=this.declaredInputs[n],o=$D(e)||function uU(e,t){return e[BD]=t}(e,{previous:Kn,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[i];s[i]=new sU(c&&c.currentValue,t,a===Kn),e[r]=t}yn.ngInherit=!0;const BD="__ngSimpleChanges__";function $D(e){return e[BD]||null}const Zn=function(e,t,n){};function Te(e){for(;Array.isArray(e);)e=e[Ve];return e}function _l(e,t){return Te(t[e])}function Zt(e,t){return Te(t[e.index])}function WD(e,t){return e.data[t]}function Go(e,t){return e[t]}function ln(e,t){const n=t[e];return Qt(n)?n:n[Ve]}function oi(e,t){return null==t?null:e[t]}function GD(e){e[Ho]=0}function gU(e){1024&e[Y]||(e[Y]|=1024,KD(e,1))}function qD(e){1024&e[Y]&&(e[Y]&=-1025,KD(e,-1))}function KD(e,t){let n=e[xe];if(null===n)return;n[Ma]+=t;let r=n;for(n=n[xe];null!==n&&(1===t&&1===r[Ma]||-1===t&&0===r[Ma]);)n[Ma]+=t,r=n,n=n[xe]}const B={lFrame:oT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function ZD(){return B.bindingsEnabled}function D(){return B.lFrame.lView}function oe(){return B.lFrame.tView}function We(e){return B.lFrame.contextLView=e,e[He]}function Ge(e){return B.lFrame.contextLView=null,e}function _t(){let e=JD();for(;null!==e&&64===e.type;)e=e.parent;return e}function JD(){return B.lFrame.currentTNode}function Jn(e,t){const n=B.lFrame;n.currentTNode=e,n.isParent=t}function kp(){return B.lFrame.isParent}function Ot(){const e=B.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Ko(){return B.lFrame.bindingIndex++}function Dr(e){const t=B.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function SU(e,t){const n=B.lFrame;n.bindingIndex=n.bindingRootIndex=e,Fp(t)}function Fp(e){B.lFrame.currentDirectiveIndex=e}function nT(){return B.lFrame.currentQueryIndex}function Vp(e){B.lFrame.currentQueryIndex=e}function MU(e){const t=e[x];return 2===t.type?t.declTNode:1===t.type?e[It]:null}function rT(e,t,n){if(n&ne.SkipSelf){let i=t,o=e;for(;!(i=i.parent,null!==i||n&ne.Host||(i=MU(o),null===i||(o=o[$o],10&i.type))););if(null===i)return!1;t=i,e=o}const r=B.lFrame=iT();return r.currentTNode=t,r.lView=e,!0}function Up(e){const t=iT(),n=e[x];B.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function iT(){const e=B.lFrame,t=null===e?null:e.child;return null===t?oT(e):t}function oT(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function sT(){const e=B.lFrame;return B.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const aT=sT;function jp(){const e=sT();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Ft(){return B.lFrame.selectedIndex}function $i(e){B.lFrame.selectedIndex=e}function ke(){const e=B.lFrame;return WD(e.tView,e.selectedIndex)}let uT=!0;function vl(){return uT}function si(e){uT=e}function yl(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),u&&((e.viewHooks??=[]).push(n,u),(e.viewCheckHooks??=[]).push(n,u)),null!=l&&(e.destroyHooks??=[]).push(n,l)}}function Cl(e,t,n){lT(e,t,3,n)}function bl(e,t,n,r){(3&e[Y])===n&&lT(e,t,n,r)}function Bp(e,t){let n=e[Y];(3&n)===t&&(n&=8191,n+=1,e[Y]=n)}function lT(e,t,n,r){const o=r??-1,s=t.length-1;let a=0;for(let c=void 0!==r?65535&e[Ho]:0;c<s;c++)if("number"==typeof t[c+1]){if(a=t[c],null!=r&&a>=r)break}else t[c]<0&&(e[Ho]+=65536),(a<o||-1==o)&&(LU(e,n,t,c),e[Ho]=(4294901760&e[Ho])+c+2),c++}function dT(e,t){Zn(4,e,t);const n=vn(null);try{t.call(e)}finally{vn(n),Zn(5,e,t)}}function LU(e,t,n,r){const i=n[r]<0,o=n[r+1],a=e[i?-n[r]:n[r]];i?e[Y]>>13<e[Ho]>>16&&(3&e[Y])===t&&(e[Y]+=8192,dT(a,o)):dT(a,o)}const Yo=-1;class Va{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Hp(e){return e!==Yo}function Ua(e){return 32767&e}function ja(e,t){let n=function BU(e){return e>>16}(e),r=t;for(;n>0;)r=r[$o],n--;return r}let zp=!0;function wl(e){const t=zp;return zp=e,t}const hT=255,fT=5;let $U=0;const Xn={};function El(e,t){const n=pT(e,t);if(-1!==n)return n;const r=t[x];r.firstCreatePass&&(e.injectorIndex=t.length,Wp(r.data,e),Wp(t,null),Wp(r.blueprint,null));const i=Il(e,t),o=e.injectorIndex;if(Hp(i)){const s=Ua(i),a=ja(i,t),c=a[x].data;for(let u=0;u<8;u++)t[o+u]=a[s+u]|c[s+u]}return t[o+8]=i,o}function Wp(e,t){e.push(0,0,0,0,0,0,0,0,t)}function pT(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Il(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){if(r=bT(i),null===r)return Yo;if(n++,i=i[$o],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Yo}function Gp(e,t,n){!function HU(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Sa)&&(r=n[Sa]),null==r&&(r=n[Sa]=$U++);const i=r&hT;t.data[e+(i>>fT)]|=1<<i}(e,t,n)}function gT(e,t,n){if(n&ne.Optional||void 0!==e)return e;hp()}function mT(e,t,n,r){if(n&ne.Optional&&void 0===r&&(r=null),!(n&(ne.Self|ne.Host))){const i=e[ni],o=qt(void 0);try{return i?i.get(t,r,n&ne.Optional):iD(t,r,n&ne.Optional)}finally{qt(o)}}return gT(r,0,n)}function _T(e,t,n,r=ne.Default,i){if(null!==e){if(2048&t[Y]&&!(r&ne.Self)){const s=function YU(e,t,n,r,i){let o=e,s=t;for(;null!==o&&null!==s&&2048&s[Y]&&!(512&s[Y]);){const a=vT(o,s,n,r|ne.Self,Xn);if(a!==Xn)return a;let c=o.parent;if(!c){const u=s[wD];if(u){const l=u.get(n,Xn,r);if(l!==Xn)return l}c=bT(s),s=s[$o]}o=c}return i}(e,t,n,r,Xn);if(s!==Xn)return s}const o=vT(e,t,n,r,Xn);if(o!==Xn)return o}return mT(t,n,r,i)}function vT(e,t,n,r,i){const o=function GU(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Sa)?e[Sa]:void 0;return"number"==typeof t?t>=0?t&hT:KU:t}(n);if("function"==typeof o){if(!rT(t,e,r))return r&ne.Host?gT(i,0,r):mT(t,n,r,i);try{let s;if(s=o(r),null!=s||r&ne.Optional)return s;hp()}finally{aT()}}else if("number"==typeof o){let s=null,a=pT(e,t),c=Yo,u=r&ne.Host?t[ze][It]:null;for((-1===a||r&ne.SkipSelf)&&(c=-1===a?Il(e,t):t[a+8],c!==Yo&&CT(r,!1)?(s=t[x],a=Ua(c),t=ja(c,t)):a=-1);-1!==a;){const l=t[x];if(yT(o,a,l.data)){const d=WU(a,t,n,s,r,u);if(d!==Xn)return d}c=t[a+8],c!==Yo&&CT(r,t[x].data[a+8]===u)&&yT(o,a,t)?(s=l,a=Ua(c),t=ja(c,t)):a=-1}}return i}function WU(e,t,n,r,i,o){const s=t[x],a=s.data[e+8],l=Dl(a,s,n,null==r?ji(a)&&zp:r!=s&&0!=(3&a.type),i&ne.Host&&o===a);return null!==l?Hi(t,s,l,a):Xn}function Dl(e,t,n,r,i){const o=e.providerIndexes,s=t.data,a=1048575&o,c=e.directiveStart,l=o>>20,h=i?a+l:e.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=s[f];if(f<c&&n===p||f>=c&&p.type===n)return f}if(i){const f=s[c];if(f&&Pn(f)&&f.type===n)return c}return null}function Hi(e,t,n,r){let i=e[n];const o=t.data;if(function VU(e){return e instanceof Va}(i)){const s=i;s.resolving&&function fV(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new T(-200,`Circular dependency in DI detected for ${e}${n}`)}(function de(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():G(e)}(o[n]));const a=wl(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?qt(s.injectImpl):null;rT(e,r,ne.Default);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function FU(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){const s=jD(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}(n,o[n],t)}finally{null!==u&&qt(u),wl(a),s.resolving=!1,aT()}}return i}function yT(e,t,n){return!!(n[t+(e>>fT)]&1<<e)}function CT(e,t){return!(e&ne.Self||e&ne.Host&&t)}class Lt{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return _T(this._tNode,this._lView,t,ul(r),n)}}function KU(){return new Lt(_t(),D())}function vt(e){return br(()=>{const t=e.prototype.constructor,n=t[wr]||qp(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const o=i[wr]||qp(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function qp(e){return lp(e)?()=>{const t=qp($(e));return t&&t()}:Bi(e)}function bT(e){const t=e[x],n=t.type;return 2===n?t.declTNode:1===n?e[It]:null}const Zo="__parameters__";function Xo(e,t,n){return br(()=>{const r=function Kp(e){return function(...n){if(e){const r=e(...n);for(const i in r)this[i]=r[i]}}}(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(c,u,l){const d=c.hasOwnProperty(Zo)?c[Zo]:Object.defineProperty(c,Zo,{value:[]})[Zo];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function ts(e,t){e.forEach(n=>Array.isArray(n)?ts(n,t):t(n))}function ET(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Sl(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function dn(e,t,n){let r=ns(e,t);return r>=0?e[1|r]=n:(r=~r,function nj(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function Yp(e,t){const n=ns(e,t);if(n>=0)return e[1|n]}function ns(e,t){return function IT(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}(e,t,1)}const Vt=Ta(Xo("Optional"),8),Ml=Ta(Xo("SkipSelf"),4);function kl(e){return 128==(128&e.flags)}var ai=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(ai||{});const eg=new Map;let Tj=0;const ng="__ngContext__";function Dt(e,t){Qt(t)?(e[ng]=t[Na],function Aj(e){eg.set(e[Na],e)}(t)):e[ng]=t}let rg;function ig(e,t){return rg(e,t)}function Ga(e){const t=e[xe];return kt(t)?t[xe]:t}function zT(e){return GT(e[Ra])}function WT(e){return GT(e[Nn])}function GT(e){for(;null!==e&&!kt(e);)e=e[Nn];return e}function os(e,t,n,r,i){if(null!=r){let o,s=!1;kt(r)?o=r:Qt(r)&&(s=!0,r=r[Ve]);const a=Te(r);0===e&&null!==n?null==i?QT(t,n,a):zi(t,n,a,i||null,!0):1===e&&null!==n?zi(t,n,a,i||null,!0):2===e?function Bl(e,t,n){const r=Ul(e,t);r&&function qj(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,a,s):3===e&&t.destroyNode(a),null!=o&&function Qj(e,t,n,r,i){const o=n[Qn];o!==Te(n)&&os(t,e,r,o,i);for(let a=gt;a<n.length;a++){const c=n[a];Ka(c[x],c,e,t,r,o)}}(t,e,o,n,i)}}function Ll(e,t,n){return e.createElement(t,n)}function KT(e,t){const n=e[zo],r=n.indexOf(t);qD(t),n.splice(r,1)}function Vl(e,t){if(e.length<=gt)return;const n=gt+t,r=e[n];if(r){const i=r[xa];null!==i&&i!==e&&KT(i,r),t>0&&(e[n-1][Nn]=r[Nn]);const o=Sl(e,gt+t);!function Uj(e,t){Ka(e,t,t[q],2,null,null),t[Ve]=null,t[It]=null}(r[x],r);const s=o[Yn];null!==s&&s.detachView(o[x]),r[xe]=null,r[Nn]=null,r[Y]&=-129}return r}function sg(e,t){if(!(256&t[Y])){const n=t[q];t[Pa]&&ND(t[Pa]),t[ka]&&ND(t[ka]),n.destroyNode&&Ka(e,t,n,3,null,null),function $j(e){let t=e[Ra];if(!t)return ag(e[x],e);for(;t;){let n=null;if(Qt(t))n=t[Ra];else{const r=t[gt];r&&(n=r)}if(!n){for(;t&&!t[Nn]&&t!==e;)Qt(t)&&ag(t[x],t),t=t[xe];null===t&&(t=e),Qt(t)&&ag(t[x],t),n=t&&t[Nn]}t=n}}(t)}}function ag(e,t){if(!(256&t[Y])){t[Y]&=-129,t[Y]|=256,function Gj(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof Va)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],c=o[s+1];Zn(4,a,c);try{c.call(a)}finally{Zn(5,a,c)}}else{Zn(4,i,o);try{o.call(i)}finally{Zn(5,i,o)}}}}}(e,t),function Wj(e,t){const n=e.cleanup,r=t[jo];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(t[jo]=null);const i=t[ri];if(null!==i){t[ri]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(e,t),1===t[x].type&&t[q].destroy();const n=t[xa];if(null!==n&&kt(t[xe])){n!==t[xe]&&KT(n,t);const r=t[Yn];null!==r&&r.detachView(e)}!function Mj(e){eg.delete(e[Na])}(t)}}function cg(e,t,n){return function YT(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[Ve];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=e.data[r.directiveStart+i];if(o===Rn.None||o===Rn.Emulated)return null}return Zt(r,n)}}(e,t.parent,n)}function zi(e,t,n,r,i){e.insertBefore(t,n,r,i)}function QT(e,t,n){e.appendChild(t,n)}function ZT(e,t,n,r,i){null!==r?zi(e,t,n,r,i):QT(e,t,n)}function Ul(e,t){return e.parentNode(t)}let ug,$l,fg,Hl,e0=function XT(e,t,n){return 40&e.type?Zt(e,n):null};function jl(e,t,n,r){const i=cg(e,r,t),o=t[q],a=function JT(e,t,n){return e0(e,t,n)}(r.parent||t[It],r,t);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)ZT(o,i,n[c],a,!1);else ZT(o,i,n,a,!1);void 0!==ug&&ug(o,r,t,n,i)}function qa(e,t){if(null!==t){const n=t.type;if(3&n)return Zt(t,e);if(4&n)return lg(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return qa(e,r);{const i=e[t.index];return kt(i)?lg(-1,i):Te(i)}}if(32&n)return ig(t,e)()||Te(e[t.index]);{const r=n0(e,t);return null!==r?Array.isArray(r)?r[0]:qa(Ga(e[ze]),r):qa(e,t.next)}}return null}function n0(e,t){return null!==t?e[ze][It].projection[t.projection]:null}function lg(e,t){const n=gt+e+1;if(n<t.length){const r=t[n],i=r[x].firstChild;if(null!==i)return qa(r,i)}return t[Qn]}function dg(e,t,n,r,i,o,s){for(;null!=n;){const a=r[n.index],c=n.type;if(s&&0===t&&(a&&Dt(Te(a),r),n.flags|=2),32!=(32&n.flags))if(8&c)dg(e,t,n.child,r,i,o,!1),os(t,e,i,a,o);else if(32&c){const u=ig(n,r);let l;for(;l=u();)os(t,e,i,l,o);os(t,e,i,a,o)}else 16&c?o0(e,t,r,n,i,o):os(t,e,i,a,o);n=s?n.projectionNext:n.next}}function Ka(e,t,n,r,i,o){dg(n,r,e.firstChild,t,i,o,!1)}function o0(e,t,n,r,i,o){const s=n[ze],c=s[It].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++)os(t,e,i,c[u],o);else{let u=c;const l=s[xe];kl(r)&&(u.flags|=128),dg(e,t,u,l,i,o,!0)}}function s0(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function a0(e,t,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&Ep(e,t,r),null!==i&&s0(e,t,i),null!==o&&function Jj(e,t,n){e.setAttribute(t,"style",n)}(e,t,o)}function ss(e){return function hg(){if(void 0===$l&&($l=null,De.trustedTypes))try{$l=De.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return $l}()?.createHTML(e)||e}function as(){if(void 0!==fg)return fg;if(typeof document<"u")return document;throw new T(210,!1)}function pg(){if(void 0===Hl&&(Hl=null,De.trustedTypes))try{Hl=De.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Hl}function c0(e){return pg()?.createHTML(e)||e}function l0(e){return pg()?.createScriptURL(e)||e}class d0{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${eD})`}}function ci(e){return e instanceof d0?e.changingThisBreaksApplicationSecurity:e}function Ya(e,t){const n=function cB(e){return e instanceof d0&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${eD})`)}return n===t}class uB{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(ss(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.removeChild(n.firstChild),n)}catch{return null}}}class lB{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const n=this.inertDocument.createElement("template");return n.innerHTML=ss(t),n}}const hB=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function gg(e){return(e=String(e)).match(hB)?e:"unsafe:"+e}function Tr(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function Qa(...e){const t={};for(const n of e)for(const r in n)n.hasOwnProperty(r)&&(t[r]=!0);return t}const f0=Tr("area,br,col,hr,img,wbr"),p0=Tr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),g0=Tr("rp,rt"),mg=Qa(f0,Qa(p0,Tr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Qa(g0,Tr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Qa(g0,p0)),_g=Tr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),m0=Qa(_g,Tr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Tr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),fB=Tr("script,style,template");class pB{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let n=t.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(t){const n=t.nodeName.toLowerCase();if(!mg.hasOwnProperty(n))return this.sanitizedSomething=!0,!fB.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=t.attributes;for(let i=0;i<r.length;i++){const o=r.item(i),s=o.name,a=s.toLowerCase();if(!m0.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;_g[a]&&(c=gg(c)),this.buf.push(" ",s,'="',_0(c),'"')}return this.buf.push(">"),!0}endElement(t){const n=t.nodeName.toLowerCase();mg.hasOwnProperty(n)&&!f0.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(_0(t))}checkClobberedElement(t,n){if(n&&(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return n}}const gB=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,mB=/([^\#-~ |!])/g;function _0(e){return e.replace(/&/g,"&amp;").replace(gB,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(mB,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let zl;function vg(e){return"content"in e&&function vB(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var cs=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(cs||{});function yg(e){const t=Za();return t?c0(t.sanitize(cs.HTML,e)||""):Ya(e,"HTML")?c0(ci(e)):function _B(e,t){let n=null;try{zl=zl||function h0(e){const t=new lB(e);return function dB(){try{return!!(new window.DOMParser).parseFromString(ss(""),"text/html")}catch{return!1}}()?new uB(t):t}(e);let r=t?String(t):"";n=zl.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=zl.getInertBodyElement(r)}while(r!==o);return ss((new pB).sanitizeChildren(vg(n)||n))}finally{if(n){const r=vg(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}(as(),G(e))}function Cg(e){const t=Za();return t?t.sanitize(cs.URL,e)||"":Ya(e,"URL")?ci(e):gg(G(e))}function v0(e){const t=Za();if(t)return l0(t.sanitize(cs.RESOURCE_URL,e)||"");if(Ya(e,"ResourceURL"))return l0(ci(e));throw new T(904,!1)}function Za(){const e=D();return e&&e[Bo].sanitizer}const Ja=new N("ENVIRONMENT_INITIALIZER"),C0=new N("INJECTOR",-1),b0=new N("INJECTOR_DEF_TYPES");class bg{get(t,n=Da){if(n===Da){const r=new Error(`NullInjectorError: No provider for ${et(t)}!`);throw r.name="NullInjectorError",r}return n}}function IB(...e){return{\u0275providers:E0(0,e),\u0275fromNgModule:!0}}function E0(e,...t){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return ts(t,s=>{const a=s;Wl(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&I0(i,o),n}function I0(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:i}=e[n];wg(i,o=>{t(o,r)})}}function Wl(e,t,n,r){if(!(e=$(e)))return!1;let i=null,o=sl(e);const s=!o&&ie(e);if(o||s){if(s&&!s.standalone)return!1;i=e}else{const c=e.ngModule;if(o=sl(c),!o)return!1;i=c}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const u of c)Wl(u,t,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let u;r.add(i);try{ts(o.imports,l=>{Wl(l,t,n,r)&&(u||=[],u.push(l))})}finally{}void 0!==u&&I0(u,t)}if(!a){const u=Bi(i)||(()=>new i);t({provide:i,useFactory:u,deps:se},i),t({provide:b0,useValue:i,multi:!0},i),t({provide:Ja,useValue:()=>O(i),multi:!0},i)}const c=o.providers;if(null!=c&&!a){const u=e;wg(c,l=>{t(l,u)})}}}return i!==e&&void 0!==e.providers}function wg(e,t){for(let n of e)dp(n)&&(n=n.\u0275providers),Array.isArray(n)?wg(n,t):t(n)}const DB=ge({provide:String,useValue:ge});function Eg(e){return null!==e&&"object"==typeof e&&DB in e}function Wi(e){return"function"==typeof e}const Ig=new N("Set Injector scope."),Gl={},SB={};let Dg;function ql(){return void 0===Dg&&(Dg=new bg),Dg}class bn{}class us extends bn{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Sg(t,s=>this.processProvider(s)),this.records.set(C0,ls(void 0,this)),i.has("environment")&&this.records.set(bn,ls(void 0,this));const o=this.records.get(Ig);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(b0.multi,se,ne.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=ti(this),r=qt(void 0);try{return t()}finally{ti(n),qt(r)}}get(t,n=Da,r=ne.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(uD))return t[uD](this);r=ul(r);const o=ti(this),s=qt(void 0);try{if(!(r&ne.SkipSelf)){let c=this.records.get(t);if(void 0===c){const u=function NB(e){return"function"==typeof e||"object"==typeof e&&e instanceof N}(t)&&ol(t);c=u&&this.injectableDefInScope(u)?ls(Tg(t),Gl):null,this.records.set(t,c)}if(null!=c)return this.hydrate(t,c)}return(r&ne.Self?ql():this.parent).get(t,n=r&ne.Optional&&n===Da?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[cl]=a[cl]||[]).unshift(et(t)),o)throw a;return function AV(e,t,n,r){const i=e[cl];throw t[sD]&&i.unshift(t[sD]),e.message=function MV(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=et(t);if(Array.isArray(t))i=t.map(et).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):et(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(EV,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[cl]=null,e}(a,t,"R3InjectorError",this.source)}throw a}finally{qt(s),ti(o)}}resolveInjectorInitializers(){const t=ti(this),n=qt(void 0);try{const i=this.get(Ja.multi,se,ne.Self);for(const o of i)o()}finally{ti(t),qt(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(et(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new T(205,!1)}processProvider(t){let n=Wi(t=$(t))?t:$(t&&t.provide);const r=function MB(e){return Eg(e)?ls(void 0,e.useValue):ls(S0(e),Gl)}(t);if(Wi(t)||!0!==t.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=ls(void 0,Gl,!0),i.factory=()=>Cp(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===Gl&&(n.value=SB,n.value=n.factory()),"object"==typeof n.value&&n.value&&function xB(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=$(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Tg(e){const t=ol(e),n=null!==t?t.factory:Bi(e);if(null!==n)return n;if(e instanceof N)throw new T(204,!1);if(e instanceof Function)return function AB(e){const t=e.length;if(t>0)throw function Ha(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new T(204,!1);const n=function yV(e){return e&&(e[al]||e[nD])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new T(204,!1)}function S0(e,t,n){let r;if(Wi(e)){const i=$(e);return Bi(i)||Tg(i)}if(Eg(e))r=()=>$(e.useValue);else if(function T0(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Cp(e.deps||[]));else if(function D0(e){return!(!e||!e.useExisting)}(e))r=()=>O($(e.useExisting));else{const i=$(e&&(e.useClass||e.provide));if(!function RB(e){return!!e.deps}(e))return Bi(i)||Tg(i);r=()=>new i(...Cp(e.deps))}return r}function ls(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Sg(e,t){for(const n of e)Array.isArray(n)?Sg(n,t):n&&dp(n)?Sg(n.\u0275providers,t):t(n)}const Kl=new N("AppId",{providedIn:"root",factory:()=>PB}),PB="ng",A0=new N("Platform Initializer"),ui=new N("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),M0=new N("CSP nonce",{providedIn:"root",factory:()=>as().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let R0=(e,t,n)=>null;function Og(e,t,n=!1){return R0(e,t,n)}class HB{}class P0{}class WB{resolveComponentFactory(t){throw function zB(e){const t=Error(`No component factory found for ${et(e)}.`);return t.ngComponent=e,t}(t)}}let ed=(()=>{class e{static{this.NULL=new WB}}return e})();function GB(){return fs(_t(),D())}function fs(e,t){return new hn(Zt(e,t))}let hn=(()=>{class e{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=GB}}return e})();function qB(e){return e instanceof hn?e.nativeElement:e}class O0{}let Sr=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function KB(){const e=D(),n=ln(_t().index,e);return(Qt(n)?n:e)[q]}()}}return e})(),YB=(()=>{class e{static{this.\u0275prov=F({token:e,providedIn:"root",factory:()=>null})}}return e})();class ps{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const F0=new ps("16.2.12"),Vg={};function j0(e,t=null,n=null,r){const i=B0(e,t,n,r);return i.resolveInjectorInitializers(),i}function B0(e,t=null,n=null,r,i=new Set){const o=[n||se,IB(e)];return r=r||("object"==typeof e?void 0:et(e)),new us(o,t||ql(),r||null,i)}let Tt=(()=>{class e{static{this.THROW_IF_NOT_FOUND=Da}static{this.NULL=new bg}static create(n,r){if(Array.isArray(n))return j0({name:""},r,n,"");{const i=n.name??"";return j0({name:i},n.parent,n.providers,i)}}static{this.\u0275prov=F({token:e,providedIn:"any",factory:()=>O(C0)})}static{this.__NG_ELEMENT_ID__=-1}}return e})();function jg(e){return e.ngOriginalError}class Ar{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&jg(t);for(;n&&jg(n);)n=jg(n);return n||null}}function Bg(e){return t=>{setTimeout(e,void 0,t)}}const ae=class r$ extends sn{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&"object"==typeof t){const c=t;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=Bg(o),i&&(i=Bg(i)),s&&(s=Bg(s)));const a=super.subscribe({next:i,error:o,complete:s});return t instanceof Gt&&t.add(a),a}};function H0(...e){}class he{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ae(!1),this.onMicrotaskEmpty=new ae(!1),this.onStable=new ae(!1),this.onError=new ae(!1),typeof Zone>"u")throw new T(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function i$(){const e="function"==typeof De.requestAnimationFrame;let t=De[e?"requestAnimationFrame":"setTimeout"],n=De[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function a$(e){const t=()=>{!function s$(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(De,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Hg(e),e.isCheckStableRunning=!0,$g(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Hg(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(function u$(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,o,s,a);try{return z0(e),n.invokeTask(i,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&t(),W0(e)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return z0(e),n.invoke(i,o,s,a,c)}finally{e.shouldCoalesceRunChangeDetection&&t(),W0(e)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,Hg(e),$g(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!he.isInAngularZone())throw new T(909,!1)}static assertNotInAngularZone(){if(he.isInAngularZone())throw new T(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,o$,H0,H0);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const o$={};function $g(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Hg(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function z0(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function W0(e){e._nesting--,$g(e)}class c${constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ae,this.onMicrotaskEmpty=new ae,this.onStable=new ae,this.onError=new ae}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}const G0=new N("",{providedIn:"root",factory:q0});function q0(){const e=k(he);let t=!0;return function uV(...e){const t=Ia(e),n=function nV(e,t){return"number"==typeof ap(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?an(r[0]):Lo(n)(it(r,t)):Gn}(new Le(i=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{i.next(t),i.complete()})}),new Le(i=>{let o;e.runOutsideAngular(()=>{o=e.onStable.subscribe(()=>{he.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,i.next(!0))})})});const s=e.onUnstable.subscribe(()=>{he.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(XI()))}function Mr(e){return e instanceof Function?e():e}let zg=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=F({token:e,providedIn:"root",factory:()=>new e})}}return e})();function tc(e){for(;e;){e[Y]|=64;const t=Ga(e);if(Tp(e)&&!t)return e;e=t}return null}const J0=new N("",{providedIn:"root",factory:()=>!1});let rd=null;function nS(e,t){return e[t]??oS()}function rS(e,t){const n=oS();n.producerNode?.length&&(e[t]=rd,n.lView=e,rd=iS())}const y$={...TD,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{tc(e.lView)},lView:null};function iS(){return Object.create(y$)}function oS(){return rd??=iS(),rd}const K={};function I(e){sS(oe(),D(),Ft()+e,!1)}function sS(e,t,n,r){if(!r)if(3==(3&t[Y])){const o=e.preOrderCheckHooks;null!==o&&Cl(t,o,n)}else{const o=e.preOrderHooks;null!==o&&bl(t,o,0,n)}$i(n)}function w(e,t=ne.Default){const n=D();return null===n?O(e,t):_T(_t(),n,$(e),t)}function id(e,t,n,r,i,o,s,a,c,u,l){const d=t.blueprint.slice();return d[Ve]=i,d[Y]=140|r,(null!==u||e&&2048&e[Y])&&(d[Y]|=2048),GD(d),d[xe]=d[$o]=e,d[He]=n,d[Bo]=s||e&&e[Bo],d[q]=a||e&&e[q],d[ni]=c||e&&e[ni]||null,d[It]=o,d[Na]=function Sj(){return Tj++}(),d[Er]=l,d[wD]=u,d[ze]=2==t.type?e[ze]:d,d}function _s(e,t,n,r,i){let o=e.data[t];if(null===o)o=function Wg(e,t,n,r,i){const o=JD(),s=kp(),c=e.data[t]=function S$(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return function qo(){return null!==B.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(e,t,n,r,i),function TU(){return B.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function La(){const e=B.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Jn(o,!0),o}function nc(e,t,n,r){if(0===n)return-1;const i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function cS(e,t,n,r,i){const o=nS(t,Pa),s=Ft(),a=2&r;try{$i(-1),a&&t.length>re&&sS(e,t,re,!1),Zn(a?2:0,i);const u=a?o:null,l=Ap(u);try{null!==u&&(u.dirty=!1),n(r,i)}finally{Mp(u,l)}}finally{a&&null===t[Pa]&&rS(t,Pa),$i(s),Zn(a?3:1,i)}}function Gg(e,t,n){if(Dp(t)){const r=vn(null);try{const o=t.directiveEnd;for(let s=t.directiveStart;s<o;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{vn(r)}}}function qg(e,t,n){ZD()&&(function k$(e,t,n,r){const i=n.directiveStart,o=n.directiveEnd;ji(n)&&function B$(e,t,n){const r=Zt(t,e),i=uS(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=od(e,id(e,i,null,s,r,t,null,e[Bo].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=a}(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||El(n,t),Dt(r,t);const s=n.initialInputs;for(let a=i;a<o;a++){const c=e.data[a],u=Hi(t,e,a,n);Dt(u,t),null!==s&&$$(0,a-i,u,c,0,s),Pn(c)&&(ln(n.index,t)[He]=Hi(t,e,a,n))}}(e,t,n,Zt(n,t)),64==(64&n.flags)&&pS(e,t,n))}function Kg(e,t,n=Zt){const r=t.localNames;if(null!==r){let i=t.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(t,e):e[s];e[i++]=a}}}function uS(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Yg(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Yg(e,t,n,r,i,o,s,a,c,u,l){const d=re+r,h=d+i,f=function b$(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:K);return n}(d,h),p="function"==typeof u?u():u;return f[x]={type:e,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:l}}let lS=e=>null;function dS(e,t,n,r){for(let i in e)if(e.hasOwnProperty(i)){n=null===n?{}:n;const o=e[i];null===r?hS(n,t,i,o):r.hasOwnProperty(i)&&hS(n,t,r[i],o)}return n}function hS(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function Qg(e,t,n,r){if(ZD()){const i=null===r?null:{"":-1},o=function F$(e,t){const n=e.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(mD(t,s.selectors,!1))if(r||(r=[]),Pn(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),Zg(e,t,a.length)}else r.unshift(s),Zg(e,t,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(e,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&fS(e,t,n,s,i,a),i&&function L$(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const o=n[t[i+1]];if(null==o)throw new T(-301,!1);r.push(t[i],o)}}}(n,r,i)}n.mergedAttrs=Aa(n.mergedAttrs,n.attrs)}function fS(e,t,n,r,i,o){for(let u=0;u<r.length;u++)Gp(El(n,t),e,r[u].type);!function U$(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let u=0;u<r.length;u++){const l=r[u];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,c=nc(e,t,r.length,null);for(let u=0;u<r.length;u++){const l=r[u];n.mergedAttrs=Aa(n.mergedAttrs,l.hostAttrs),j$(e,n,t,c,l),V$(c,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function A$(e,t,n){const i=t.directiveEnd,o=e.data,s=t.attrs,a=[];let c=null,u=null;for(let l=t.directiveStart;l<i;l++){const d=o[l],h=n?n.get(d):null,p=h?h.outputs:null;c=dS(d.inputs,l,c,h?h.inputs:null),u=dS(d.outputs,l,u,p);const v=null===c||null===s||gD(t)?null:H$(c,l,s);a.push(v)}null!==c&&(c.hasOwnProperty("class")&&(t.flags|=8),c.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=c,t.outputs=u}(e,n,o)}function pS(e,t,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function AU(){return B.lFrame.currentDirectiveIndex}();try{$i(o);for(let a=r;a<i;a++){const c=e.data[a],u=t[a];Fp(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&O$(c,u)}}finally{$i(-1),Fp(s)}}function O$(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Zg(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function V$(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Pn(t)&&(n[""]=e)}}function j$(e,t,n,r,i){e.data[r]=i;const o=i.factory||(i.factory=Bi(i.type)),s=new Va(o,Pn(i),w);e.blueprint[r]=s,n[r]=s,function N$(e,t,n,r,i){const o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~t.index;(function P$(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(e,t,r,nc(e,n,i.hostVars,K),i)}function er(e,t,n,r,i,o){const s=Zt(e,t);!function Jg(e,t,n,r,i,o,s){if(null==o)e.removeAttribute(t,i,n);else{const a=null==s?G(o):s(o,r||"",i);e.setAttribute(t,i,a,n)}}(t[q],s,o,e.value,n,r,i)}function $$(e,t,n,r,i,o){const s=o[t];if(null!==s)for(let a=0;a<s.length;)gS(r,n,s[a++],s[a++],s[a++])}function gS(e,t,n,r,i){const o=vn(null);try{const s=e.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(t,i)),null!==e.setInput?e.setInput(t,i,n,r):t[r]=i}finally{vn(o)}}function H$(e,t,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(e.hasOwnProperty(o)){null===r&&(r=[]);const s=e[o];for(let a=0;a<s.length;a+=2)if(s[a]===t){r.push(o,s[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function mS(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null,null]}function _S(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r+1];if(-1!==o){const s=e.data[o];Vp(n[r]),s.contentQueries(2,t[o],o)}}}function od(e,t){return e[Ra]?e[bD][Nn]=t:e[Ra]=t,e[bD]=t,t}function Xg(e,t,n){Vp(0);const r=vn(null);try{t(e,n)}finally{vn(r)}}function vS(e){return e[jo]||(e[jo]=[])}function yS(e){return e.cleanup||(e.cleanup=[])}function bS(e,t){const n=e[ni],r=n?n.get(Ar,null):null;r&&r.handleError(t)}function em(e,t,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++];gS(e.data[s],t[s],r,a,i)}}function Rr(e,t,n){const r=_l(t,e);!function qT(e,t,n){e.setValue(t,n)}(e[q],r,n)}function z$(e,t){const n=ln(t,e),r=n[x];!function W$(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const i=n[Ve];null!==i&&null===n[Er]&&(n[Er]=Og(i,n[ni])),tm(r,n,n[He])}function tm(e,t,n){Up(t);try{const r=e.viewQuery;null!==r&&Xg(1,r,n);const i=e.template;null!==i&&cS(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&_S(e,t),e.staticViewQueries&&Xg(2,e.viewQuery,n);const o=e.components;null!==o&&function G$(e,t){for(let n=0;n<t.length;n++)z$(e,t[n])}(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[Y]&=-5,jp()}}let wS=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const o=typeof Zone>"u"?null:Zone.current,s=function iU(e,t,n){const r=Object.create(oU);n&&(r.consumerAllowSignalWrites=!0),r.fn=e,r.schedule=t;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>RD(r),run:()=>{if(r.dirty=!1,r.hasRun&&!xD(r))return;r.hasRun=!0;const s=Ap(r);try{r.cleanupFn(),r.cleanupFn=UD,r.fn(i)}finally{Mp(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(n,u=>{this.all.has(u)&&this.queue.set(u,o)},i);let a;this.all.add(s),s.notify();const c=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=F({token:e,providedIn:"root",factory:()=>new e})}}return e})();function sd(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?i=up(i,a):2==o&&(r=up(r,a+": "+t[++s]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function rc(e,t,n,r,i=!1){for(;null!==n;){const o=t[n.index];null!==o&&r.push(Te(o)),kt(o)&&ES(o,r);const s=n.type;if(8&s)rc(e,t,n.child,r);else if(32&s){const a=ig(n,t);let c;for(;c=a();)r.push(c)}else if(16&s){const a=n0(t,n);if(Array.isArray(a))r.push(...a);else{const c=Ga(t[ze]);rc(c[x],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function ES(e,t){for(let n=gt;n<e.length;n++){const r=e[n],i=r[x].firstChild;null!==i&&rc(r[x],r,i,t)}e[Qn]!==e[Ve]&&t.push(e[Qn])}function ad(e,t,n,r=!0){const i=t[Bo],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{IS(e,t,e.template,n)}catch(c){throw r&&bS(t,c),c}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function IS(e,t,n,r){const i=t[Y];if(256!=(256&i)){t[Bo].effectManager?.flush(),Up(t);try{GD(t),function eT(e){return B.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&cS(e,t,n,2,r);const s=3==(3&i);if(s){const u=e.preOrderCheckHooks;null!==u&&Cl(t,u,null)}else{const u=e.preOrderHooks;null!==u&&bl(t,u,0,null),Bp(t,0)}if(function Y$(e){for(let t=zT(e);null!==t;t=WT(t)){if(!t[ED])continue;const n=t[zo];for(let r=0;r<n.length;r++){gU(n[r])}}}(t),DS(t,2),null!==e.contentQueries&&_S(e,t),s){const u=e.contentCheckHooks;null!==u&&Cl(t,u)}else{const u=e.contentHooks;null!==u&&bl(t,u,1),Bp(t,1)}!function C$(e,t){const n=e.hostBindingOpCodes;if(null===n)return;const r=nS(t,ka);try{for(let i=0;i<n.length;i++){const o=n[i];if(o<0)$i(~o);else{const s=o,a=n[++i],c=n[++i];SU(a,s),r.dirty=!1;const u=Ap(r);try{c(2,t[s])}finally{Mp(r,u)}}}}finally{null===t[ka]&&rS(t,ka),$i(-1)}}(e,t);const a=e.components;null!==a&&SS(t,a,0);const c=e.viewQuery;if(null!==c&&Xg(2,c,r),s){const u=e.viewCheckHooks;null!==u&&Cl(t,u)}else{const u=e.viewHooks;null!==u&&bl(t,u,2),Bp(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Y]&=-73,qD(t)}finally{jp()}}}function DS(e,t){for(let n=zT(e);null!==n;n=WT(n))for(let r=gt;r<n.length;r++)TS(n[r],t)}function Q$(e,t,n){TS(ln(t,e),n)}function TS(e,t){if(!function fU(e){return 128==(128&e[Y])}(e))return;const n=e[x],r=e[Y];if(80&r&&0===t||1024&r||2===t)IS(n,e,n.template,e[He]);else if(e[Ma]>0){DS(e,1);const i=n.components;null!==i&&SS(e,i,1)}}function SS(e,t,n){for(let r=0;r<t.length;r++)Q$(e,t[r],n)}class ic{get rootNodes(){const t=this._lView,n=t[x];return rc(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[He]}set context(t){this._lView[He]=t}get destroyed(){return 256==(256&this._lView[Y])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[xe];if(kt(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(Vl(t,r),Sl(n,r))}this._attachedToViewContainer=!1}sg(this._lView[x],this._lView)}onDestroy(t){!function YD(e,t){if(256==(256&e[Y]))throw new T(911,!1);null===e[ri]&&(e[ri]=[]),e[ri].push(t)}(this._lView,t)}markForCheck(){tc(this._cdRefInjectingView||this._lView)}detach(){this._lView[Y]&=-129}reattach(){this._lView[Y]|=128}detectChanges(){ad(this._lView[x],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new T(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Bj(e,t){Ka(e,t,t[q],2,null,null)}(this._lView[x],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new T(902,!1);this._appRef=t}}class Z$ extends ic{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;ad(t[x],t,t[He],!1)}checkNoChanges(){}get context(){return null}}class AS extends ed{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=ie(t);return new oc(n,this.ngModule)}}function MS(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class X${constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=ul(r);const i=this.injector.get(t,Vg,r);return i!==Vg||n===Vg?i:this.parentInjector.get(t,n,r)}}class oc extends P0{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=MS(t.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return MS(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function UV(e){return e.map(VV).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){let o=(i=i||this.ngModule)instanceof bn?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new X$(t,o):t,a=s.get(O0,null);if(null===a)throw new T(407,!1);const d={rendererFactory:a,sanitizer:s.get(YB,null),effectManager:s.get(wS,null),afterRenderEventManager:s.get(zg,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?function w$(e,t,n,r){const o=r.get(J0,!1)||n===Rn.ShadowDom,s=e.selectRootElement(t,o);return function E$(e){lS(e)}(s),s}(h,r,this.componentDef.encapsulation,s):Ll(h,f,function J$(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(f)),E=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let y=null;null!==p&&(y=Og(p,s,!0));const P=Yg(0,null,null,1,0,null,null,null,null,null,null),V=id(null,P,null,E,null,null,d,h,s,null,y);let ee,ht;Up(V);try{const Mn=this.componentDef;let Fi,Oo=null;Mn.findHostDirectiveDefs?(Fi=[],Oo=new Map,Mn.findHostDirectiveDefs(Mn,Fi,Oo),Fi.push(Mn)):Fi=[Mn];const AI=function tH(e,t){const n=e[x],r=re;return e[r]=t,_s(n,r,2,"#host",null)}(V,p),zse=function nH(e,t,n,r,i,o,s){const a=i[x];!function rH(e,t,n,r){for(const i of e)t.mergedAttrs=Aa(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(sd(t,t.mergedAttrs,!0),null!==n&&a0(r,n,t))}(r,e,t,s);let c=null;null!==t&&(c=Og(t,i[ni]));const u=o.rendererFactory.createRenderer(t,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const d=id(i,uS(n),null,l,i[e.index],e,o,u,null,null,c);return a.firstCreatePass&&Zg(a,e,r.length-1),od(i,d),i[e.index]=d}(AI,p,Mn,Fi,V,d,h);ht=WD(P,re),p&&function oH(e,t,n,r){if(r)Ep(e,n,["ng-version",F0.full]);else{const{attrs:i,classes:o}=function jV(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!xn(i))break;i=o}r++}return{attrs:t,classes:n}}(t.selectors[0]);i&&Ep(e,n,i),o&&o.length>0&&s0(e,n,o.join(" "))}}(h,Mn,p,r),void 0!==n&&function sH(e,t,n){const r=e.projection=[];for(let i=0;i<t.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(ht,this.ngContentSelectors,n),ee=function iH(e,t,n,r,i,o){const s=_t(),a=i[x],c=Zt(s,i);fS(a,i,s,n,null,r);for(let l=0;l<n.length;l++)Dt(Hi(i,a,s.directiveStart+l,s),i);pS(a,i,s),c&&Dt(c,i);const u=Hi(i,a,s.directiveStart+s.componentOffset,s);if(e[He]=i[He]=u,null!==o)for(const l of o)l(u,t);return Gg(a,s,e),u}(zse,Mn,Fi,Oo,V,[aH]),tm(P,V,null)}finally{jp()}return new eH(this.componentType,ee,fs(ht,V),V,ht)}}class eH extends HB{constructor(t,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Z$(i),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const o=this._rootLView;em(o[x],o,i,t,n),this.previousInputValues.set(t,n),tc(ln(this._tNode.index,o))}}get injector(){return new Lt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function aH(){const e=_t();yl(D()[x],e)}function me(e){let t=function RS(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let i;if(Pn(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new T(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);const s=e;s.inputs=cd(e.inputs),s.inputTransforms=cd(e.inputTransforms),s.declaredInputs=cd(e.declaredInputs),s.outputs=cd(e.outputs);const a=i.hostBindings;a&&dH(e,a);const c=i.viewQuery,u=i.contentQueries;if(c&&uH(e,c),u&&lH(e,u),rl(e.inputs,i.inputs),rl(e.declaredInputs,i.declaredInputs),rl(e.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),rl(s.inputTransforms,i.inputTransforms)),Pn(i)&&i.data.animation){const l=e.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(e),a===me&&(n=!1)}}t=Object.getPrototypeOf(t)}!function cH(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Aa(i.hostAttrs,n=Aa(n,i.hostAttrs))}}(r)}function cd(e){return e===Kn?{}:e===se?[]:e}function uH(e,t){const n=e.viewQuery;e.viewQuery=n?(r,i)=>{t(r,i),n(r,i)}:t}function lH(e,t){const n=e.contentQueries;e.contentQueries=n?(r,i,o)=>{t(r,i,o),n(r,i,o)}:t}function dH(e,t){const n=e.hostBindings;e.hostBindings=n?(r,i)=>{t(r,i),n(r,i)}:t}function kS(e){const t=e.inputConfig,n={};for(const r in t)if(t.hasOwnProperty(r)){const i=t[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}e.inputTransforms=n}function ud(e){return!!nm(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function nm(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function tr(e,t,n){return e[t]=n}function St(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Gi(e,t,n,r){const i=St(e,t,n);return St(e,t+1,r)||i}function nr(e,t,n,r){const i=D();return St(i,Ko(),t)&&(oe(),er(ke(),i,e,t,n,r)),nr}function Cs(e,t,n,r,i,o){const a=Gi(e,function Ir(){return B.lFrame.bindingIndex}(),n,i);return Dr(2),a?t+G(n)+r+G(i)+o:K}function L(e,t,n,r,i,o,s,a){const c=D(),u=oe(),l=e+re,d=u.firstCreatePass?function FH(e,t,n,r,i,o,s,a,c){const u=t.consts,l=_s(t,e,4,s||null,oi(u,a));Qg(t,n,l,oi(u,c)),yl(t,l);const d=l.tView=Yg(2,l,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,u,null);return null!==t.queries&&(t.queries.template(t,l),d.queries=t.queries.embeddedTView(l)),l}(l,u,c,t,n,r,i,o,s):u.data[l];Jn(d,!1);const h=qS(u,c,d,e);vl()&&jl(u,c,h,d),Dt(h,c),od(c,c[l]=mS(h,c,h,d)),pl(d)&&qg(u,c,d),null!=s&&Kg(c,d,a)}let qS=function KS(e,t,n,r){return si(!0),t[q].createComment("")};function Ss(e){return Go(function DU(){return B.lFrame.contextLView}(),re+e)}function R(e,t,n){const r=D();return St(r,Ko(),t)&&function fn(e,t,n,r,i,o,s,a){const c=Zt(t,n);let l,u=t.inputs;!a&&null!=u&&(l=u[r])?(em(e,n,l,r,i),ji(t)&&function R$(e,t){const n=ln(t,e);16&n[Y]||(n[Y]|=64)}(n,t.index)):3&t.type&&(r=function M$(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=s?s(i,t.value||"",r):i,o.setProperty(c,r,i))}(oe(),ke(),r,e,t,r[q],n,!1),R}function cm(e,t,n,r,i){const s=i?"class":"style";em(e,n,t.inputs[s],s,r)}function m(e,t,n,r){const i=D(),o=oe(),s=re+e,a=i[q],c=o.firstCreatePass?function jH(e,t,n,r,i,o){const s=t.consts,c=_s(t,e,2,r,oi(s,i));return Qg(t,n,c,oi(s,o)),null!==c.attrs&&sd(c,c.attrs,!1),null!==c.mergedAttrs&&sd(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(s,o,i,t,n,r):o.data[s],u=YS(o,i,c,a,t,e);i[s]=u;const l=pl(c);return Jn(c,!0),a0(a,u,c),32!=(32&c.flags)&&vl()&&jl(o,i,u,c),0===function _U(){return B.lFrame.elementDepthCount}()&&Dt(u,i),function vU(){B.lFrame.elementDepthCount++}(),l&&(qg(o,i,c),Gg(o,c,i)),null!==r&&Kg(i,c),m}function g(){let e=_t();kp()?function Op(){B.lFrame.isParent=!1}():(e=e.parent,Jn(e,!1));const t=e;(function CU(e){return B.skipHydrationRootTNode===e})(t)&&function IU(){B.skipHydrationRootTNode=null}(),function yU(){B.lFrame.elementDepthCount--}();const n=oe();return n.firstCreatePass&&(yl(n,e),Dp(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function UU(e){return 0!=(8&e.flags)}(t)&&cm(n,t,D(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function jU(e){return 0!=(16&e.flags)}(t)&&cm(n,t,D(),t.stylesWithoutHost,!1),g}function A(e,t,n,r){return m(e,t,n,r),g(),A}let YS=(e,t,n,r,i,o)=>(si(!0),Ll(r,i,function cT(){return B.lFrame.currentNamespace}()));function xr(){return D()}function lc(e){return!!e&&"function"==typeof e.then}function JS(e){return!!e&&"function"==typeof e.subscribe}function U(e,t,n,r){const i=D(),o=oe(),s=_t();return function eA(e,t,n,r,i,o,s){const a=pl(r),u=e.firstCreatePass&&yS(e),l=t[He],d=vS(t);let h=!0;if(3&r.type||s){const v=Zt(r,t),b=s?s(v):v,E=d.length,y=s?V=>s(Te(V[r.index])):r.index;let P=null;if(!s&&a&&(P=function GH(e,t,n,r){const i=e.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=t[jo],c=i[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(e,t,i,r.index)),null!==P)(P.__ngLastListenerFn__||P).__ngNextListenerFn__=o,P.__ngLastListenerFn__=o,h=!1;else{o=nA(r,t,l,o,!1);const V=n.listen(b,i,o);d.push(o,V),u&&u.push(i,y,E,E+1)}}else o=nA(r,t,l,o,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const v=p.length;if(v)for(let b=0;b<v;b+=2){const ee=t[p[b]][p[b+1]].subscribe(o),ht=d.length;d.push(o,ee),u&&u.push(i,r.index,ht,-(ht+1))}}}(o,i,i[q],s,e,t,r),U}function tA(e,t,n,r){try{return Zn(6,t,n),!1!==n(r)}catch(i){return bS(e,i),!1}finally{Zn(7,t,n)}}function nA(e,t,n,r,i){return function o(s){if(s===Function)return r;tc(e.componentOffset>-1?ln(e.index,t):t);let c=tA(t,n,r,s),u=o.__ngNextListenerFn__;for(;u;)c=tA(t,n,u,s)&&c,u=u.__ngNextListenerFn__;return i&&!1===c&&s.preventDefault(),c}}function W(e=1){return function RU(e){return(B.lFrame.contextLView=function xU(e,t){for(;e>0;)t=t[$o],e--;return t}(e,B.lFrame.contextLView))[He]}(e)}function pd(e,t){return e<<17|t<<2}function li(e){return e>>17&32767}function hm(e){return 2|e}function qi(e){return(131068&e)>>2}function fm(e,t){return-131069&e|t<<2}function pm(e){return 1|e}function hA(e,t,n,r,i){const o=e[n+1],s=null===t;let a=r?li(o):qi(o),c=!1;for(;0!==a&&(!1===c||s);){const l=e[a+1];t3(e[a],t)&&(c=!0,e[a+1]=r?pm(l):hm(l)),a=r?li(l):qi(l)}c&&(e[n+1]=r?hm(o):pm(o))}function t3(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&ns(e,t)>=0}const nt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function fA(e){return e.substring(nt.key,nt.keyEnd)}function pA(e,t){const n=nt.textEnd;return n===t?-1:(t=nt.keyEnd=function o3(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,nt.key=t,n),As(e,t,n))}function As(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function gd(e,t){return function kn(e,t,n,r){const i=D(),o=oe(),s=Dr(2);o.firstUpdatePass&&bA(o,e,s,r),t!==K&&St(i,s,t)&&EA(o,o.data[Ft()],i,i[q],e,i[s+1]=function m3(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=et(ci(e)))),e}(t,n),r,s)}(e,t,null,!0),gd}function Nr(e){!function On(e,t,n,r){const i=oe(),o=Dr(2);i.firstUpdatePass&&bA(i,null,o,r);const s=D();if(n!==K&&St(s,o,n)){const a=i.data[Ft()];if(DA(a,r)&&!CA(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(n=up(c,n||"")),cm(i,a,s,n,r)}else!function g3(e,t,n,r,i,o,s,a){i===K&&(i=se);let c=0,u=0,l=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;null!==l||null!==d;){const h=c<i.length?i[c+1]:void 0,f=u<o.length?o[u+1]:void 0;let v,p=null;l===d?(c+=2,u+=2,h!==f&&(p=d,v=f)):null===d||null!==l&&l<d?(c+=2,p=l):(u+=2,p=d,v=f),null!==p&&EA(e,t,n,r,p,v,s,a),l=c<i.length?i[c]:null,d=u<o.length?o[u]:null}}(i,a,s,s[q],s[o+1],s[o+1]=function f3(e,t,n){if(null==n||""===n)return se;const r=[],i=ci(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)e(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&e(r,o,i[o]);else"string"==typeof i&&t(r,i);return r}(e,t,n),r,o)}}(p3,ir,e,!0)}function ir(e,t){for(let n=function r3(e){return function mA(e){nt.key=0,nt.keyEnd=0,nt.value=0,nt.valueEnd=0,nt.textEnd=e.length}(e),pA(e,As(e,0,nt.textEnd))}(t);n>=0;n=pA(t,n))dn(e,fA(t),!0)}function CA(e,t){return t>=e.expandoStartIndex}function bA(e,t,n,r){const i=e.data;if(null===i[n+1]){const o=i[Ft()],s=CA(e,n);DA(o,r)&&null===t&&!s&&(t=!1),t=function u3(e,t,n,r){const i=function Lp(e){const t=B.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=dc(n=gm(null,e,t,n,r),t.attrs,r),o=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==i)if(n=gm(i,e,t,n,r),null===o){let c=function l3(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==qi(r))return e[li(r)]}(e,t,r);void 0!==c&&Array.isArray(c)&&(c=gm(null,e,t,c[1],r),c=dc(c,t.attrs,r),function d3(e,t,n,r){e[li(n?t.classBindings:t.styleBindings)]=r}(e,t,r,c))}else o=function h3(e,t,n){let r;const i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++)r=dc(r,e[o].hostAttrs,n);return dc(r,t.attrs,n)}(e,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),n}(i,o,t,r),function XH(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=li(s),c=qi(s);e[r]=n;let l,u=!1;if(Array.isArray(n)?(l=n[1],(null===l||ns(n,l)>0)&&(u=!0)):l=n,i)if(0!==c){const h=li(e[a+1]);e[r+1]=pd(h,a),0!==h&&(e[h+1]=fm(e[h+1],r)),e[a+1]=function ZH(e,t){return 131071&e|t<<17}(e[a+1],r)}else e[r+1]=pd(a,0),0!==a&&(e[a+1]=fm(e[a+1],r)),a=r;else e[r+1]=pd(c,0),0===a?a=r:e[c+1]=fm(e[c+1],r),c=r;u&&(e[r+1]=hm(e[r+1])),hA(e,l,r,!0),hA(e,l,r,!1),function e3(e,t,n,r,i){const o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&ns(o,t)>=0&&(n[r+1]=pm(n[r+1]))}(t,l,e,r,o),s=pd(a,c),o?t.classBindings=s:t.styleBindings=s}(i,o,t,n,s,r)}}function gm(e,t,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=t[a],r=dc(r,o.hostAttrs,i),o!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function dc(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?i=s:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),dn(e,s,!!n||t[++o]))}return void 0===e?null:e}function p3(e,t,n){const r=String(t);""!==r&&!r.includes(" ")&&dn(e,r,n)}function EA(e,t,n,r,i,o,s,a){if(!(3&t.type))return;const c=e.data,u=c[a+1],l=function JH(e){return 1==(1&e)}(u)?IA(c,t,n,i,qi(u),s):void 0;md(l)||(md(o)||function QH(e){return 2==(2&e)}(u)&&(o=IA(c,null,n,i,a,s)),function Zj(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:ai.DashCase;null==i?e.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=ai.Important),e.setStyle(n,r,i,o))}}(r,s,_l(Ft(),n),i,o))}function IA(e,t,n,r,i,o){const s=null===t;let a;for(;i>0;){const c=e[i],u=Array.isArray(c),l=u?c[1]:c,d=null===l;let h=n[i+1];h===K&&(h=d?se:void 0);let f=d?Yp(h,r):l===r?h:void 0;if(u&&!md(f)&&(f=Yp(c,r)),md(f)&&(a=f,s))return a;const p=e[i+1];i=s?li(p):qi(p)}if(null!==t){let c=o?t.residualClasses:t.residualStyles;null!=c&&(a=Yp(c,r))}return a}function md(e){return void 0!==e}function DA(e,t){return 0!=(e.flags&(t?8:16))}function C(e,t=""){const n=D(),r=oe(),i=e+re,o=r.firstCreatePass?_s(r,i,1,t,null):r.data[i],s=TA(r,n,o,t,e);n[i]=s,vl()&&jl(r,n,s,o),Jn(o,!1)}let TA=(e,t,n,r,i)=>(si(!0),function Fl(e,t){return e.createText(t)}(t[q],r));function fe(e){return yt("",e,""),fe}function yt(e,t,n){const r=D(),i=function ys(e,t,n,r){return St(e,Ko(),n)?t+G(n)+r:K}(r,e,t,n);return i!==K&&Rr(r,Ft(),i),yt}function _d(e,t,n,r,i){const o=D(),s=Cs(o,e,t,n,r,i);return s!==K&&Rr(o,Ft(),s),_d}const Ki=void 0;var V3=["en",[["a","p"],["AM","PM"],Ki],[["AM","PM"],Ki,Ki],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ki,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ki,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ki,"{1} 'at' {0}",Ki],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function L3(e){const n=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let Ms={};function Ut(e){const t=function j3(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=GA(t);if(n)return n;const r=t.split("-")[0];if(n=GA(r),n)return n;if("en"===r)return V3;throw new T(701,!1)}function GA(e){return e in Ms||(Ms[e]=De.ng&&De.ng.common&&De.ng.common.locales&&De.ng.common.locales[e]),Ms[e]}var Se=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Se||{});const Rs="en-US";let qA=Rs;function vm(e,t,n,r,i){if(e=$(e),Array.isArray(e))for(let o=0;o<e.length;o++)vm(e[o],t,n,r,i);else{const o=oe(),s=D(),a=_t();let c=Wi(e)?e:$(e.provide);const u=S0(e),l=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(Wi(e)||!e.multi){const f=new Va(u,i,w),p=Cm(c,t,i?l:l+h,d);-1===p?(Gp(El(a,s),o,c),ym(o,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[p]=f,s[p]=f)}else{const f=Cm(c,t,l+h,d),p=Cm(c,t,l,l+h),b=p>=0&&n[p];if(i&&!b||!i&&!(f>=0&&n[f])){Gp(El(a,s),o,c);const E=function V4(e,t,n,r,i){const o=new Va(e,n,w);return o.multi=[],o.index=t,o.componentProviders=0,vM(o,i,r&&!n),o}(i?L4:F4,n.length,i,r,u);!i&&b&&(n[p].providerFactory=E),ym(o,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(E),s.push(E)}else ym(o,e,f>-1?f:p,vM(n[i?p:f],u,!i&&r));!i&&r&&b&&n[p].componentProviders++}}}function ym(e,t,n,r){const i=Wi(t),o=function TB(e){return!!e.useClass}(t);if(i||o){const c=(o?$(t.useClass):t).prototype.ngOnDestroy;if(c){const u=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const l=u.indexOf(n);-1===l?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function vM(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Cm(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function F4(e,t,n,r){return bm(this.multi,[])}function L4(e,t,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Hi(n,n[x],this.providerFactory.index,r);o=a.slice(0,s),bm(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],bm(i,o);return o}function bm(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Ne(e,t=[]){return n=>{n.providersResolver=(r,i)=>function O4(e,t,n){const r=oe();if(r.firstCreatePass){const i=Pn(e);vm(n,r.data,r.blueprint,i,!0),vm(t,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,t)}}class Yi{}class yM{}class wm extends Yi{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new AS(this);const i=un(t);this._bootstrapComponents=Mr(i.bootstrap),this._r3Injector=B0(t,n,[{provide:Yi,useValue:this},{provide:ed,useValue:this.componentFactoryResolver},...r],et(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Em extends yM{constructor(t){super(),this.moduleType=t}create(t){return new wm(this.moduleType,t,[])}}class CM extends Yi{constructor(t){super(),this.componentFactoryResolver=new AS(this),this.instance=null;const n=new us([...t.providers,{provide:Yi,useValue:this},{provide:ed,useValue:this.componentFactoryResolver}],t.parent||ql(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Im(e,t,n=null){return new CM({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let B4=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=E0(0,n.type),i=r.length>0?Im([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=F({token:e,providedIn:"environment",factory:()=>new e(O(bn))})}}return e})();function bM(e){e.getStandaloneInjector=t=>t.get(B4).getOrCreateStandaloneInjector(e)}function RM(e,t,n,r,i,o,s){const a=t+n;return Gi(e,a,i,o)?tr(e,a+2,s?r.call(s,i,o):r(i,o)):function _c(e,t){const n=e[t];return n===K?void 0:n}(e,a+2)}function Ye(e,t){const n=oe();let r;const i=e+re;n.firstCreatePass?(r=function oz(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}}(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=Bi(r.type)),a=qt(w);try{const c=wl(!1),u=o();return wl(c),function UH(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,D(),i,u),u}finally{qt(a)}}function Qe(e,t,n,r){const i=e+re,o=D(),s=Go(o,i);return function vc(e,t){return e[x].data[t].pure}(o,i)?RM(o,Ot(),t,s.transform,n,r,s):s.transform(n,r)}function lz(){return this._results[Symbol.iterator]()}class Tm{get changes(){return this._changes||(this._changes=new ae)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Tm.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=lz)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const i=function Cn(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function ej(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function hz(e,t,n,r=!0){const i=t[x];if(function Hj(e,t,n,r){const i=gt+r,o=n.length;r>0&&(n[i-1][Nn]=t),r<o-gt?(t[Nn]=n[i],ET(n,gt+r,t)):(n.push(t),t[Nn]=null),t[xe]=n;const s=t[xa];null!==s&&n!==s&&function zj(e,t){const n=e[zo];t[ze]!==t[xe][xe][ze]&&(e[ED]=!0),null===n?e[zo]=[t]:n.push(t)}(s,t);const a=t[Yn];null!==a&&a.insertView(e),t[Y]|=128}(i,t,e,n),r){const o=lg(n,e),s=t[q],a=Ul(s,e[Qn]);null!==a&&function jj(e,t,n,r,i,o){r[Ve]=i,r[It]=t,Ka(e,r,n,1,i,o)}(i,e[It],s,t,a,o)}}let Pr=(()=>{class e{static{this.__NG_ELEMENT_ID__=gz}}return e})();const fz=Pr,pz=class extends fz{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){const i=function dz(e,t,n,r){const i=t.tView,a=id(e,i,n,4096&e[Y]?4096:16,null,t,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[xa]=e[t.index];const u=e[Yn];return null!==u&&(a[Yn]=u.createEmbeddedView(i)),tm(i,a,n),a}(this._declarationLView,this._declarationTContainer,t,{injector:n,hydrationInfo:r});return new ic(i)}};function gz(){return wd(_t(),D())}function wd(e,t){return 4&e.type?new pz(t,e,fs(e,t)):null}let Fn=(()=>{class e{static{this.__NG_ELEMENT_ID__=bz}}return e})();function bz(){return jM(_t(),D())}const wz=Fn,VM=class extends wz{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return fs(this._hostTNode,this._hostLView)}get injector(){return new Lt(this._hostTNode,this._hostLView)}get parentInjector(){const t=Il(this._hostTNode,this._hostLView);if(Hp(t)){const n=ja(t,this._hostLView),r=Ua(t);return new Lt(n[x].data[r+8],n)}return new Lt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=UM(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-gt}createEmbeddedView(t,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=t.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,false),a}createComponent(t,n,r,i,o){const s=t&&!function $a(e){return"function"==typeof e}(t);let a;if(s)a=n;else{const v=n||{};a=v.index,r=v.injector,i=v.projectableNodes,o=v.environmentInjector||v.ngModuleRef}const c=s?t:new oc(ie(t)),u=r||this.parentInjector;if(!o&&null==c.ngModule){const b=(s?u:this.parentInjector).get(bn,null);b&&(o=b)}ie(c.componentType??{});const f=c.create(u,i,null,o);return this.insertImpl(f.hostView,a,false),f}insert(t,n){return this.insertImpl(t,n,!1)}insertImpl(t,n,r){const i=t._lView;if(function pU(e){return kt(e[xe])}(i)){const c=this.indexOf(t);if(-1!==c)this.detach(c);else{const u=i[xe],l=new VM(u,u[It],u[xe]);l.detach(l.indexOf(t))}}const s=this._adjustIndex(n),a=this._lContainer;return hz(a,i,s,!r),t.attachToViewContainerRef(),ET(Sm(a),s,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=UM(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=Vl(this._lContainer,n);r&&(Sl(Sm(this._lContainer),n),sg(r[x],r))}detach(t){const n=this._adjustIndex(t,-1),r=Vl(this._lContainer,n);return r&&null!=Sl(Sm(this._lContainer),n)?new ic(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function UM(e){return e[8]}function Sm(e){return e[8]||(e[8]=[])}function jM(e,t){let n;const r=t[e.index];return kt(r)?n=r:(n=mS(r,t,null,e),t[e.index]=n,od(t,n)),BM(n,t,e,r),new VM(n,e,t)}let BM=function $M(e,t,n,r){if(e[Qn])return;let i;i=8&n.type?Te(r):function Ez(e,t){const n=e[q],r=n.createComment(""),i=Zt(t,e);return zi(n,Ul(n,i),r,function Kj(e,t){return e.nextSibling(t)}(n,i),!1),r}(t,n),e[Qn]=i};class Am{constructor(t){this.queryList=t,this.matches=null}clone(){return new Am(this.queryList)}setDirty(){this.queryList.setDirty()}}class Mm{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){const s=n.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new Mm(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==YM(t,n).matches&&this.queries[n].setDirty()}}class HM{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class Rm{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new Rm(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class xm{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new xm(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(t,n,Tz(n,o)),this.matchTNodeWithReadOption(t,n,Dl(n,t,o,!1,!1))}else r===Pr?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Dl(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===hn||i===Fn||i===Pr&&4&n.type)this.addMatch(n.index,-2);else{const o=Dl(n,t,i,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function Tz(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function Az(e,t,n,r){return-1===n?function Sz(e,t){return 11&e.type?fs(e,t):4&e.type?wd(e,t):null}(t,e):-2===n?function Mz(e,t,n){return n===hn?fs(t,e):n===Pr?wd(t,e):n===Fn?jM(t,e):void 0}(e,t,r):Hi(e,e[x],n,t)}function zM(e,t,n,r){const i=t[Yn].queries[r];if(null===i.matches){const o=e.data,s=n.matches,a=[];for(let c=0;c<s.length;c+=2){const u=s[c];a.push(u<0?null:Az(t,o[u],s[c+1],n.metadata.read))}i.matches=a}return i.matches}function Nm(e,t,n,r){const i=e.queries.getByIndex(n),o=i.matches;if(null!==o){const s=zM(e,t,i,n);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)r.push(s[a/2]);else{const u=o[a+1],l=t[-c];for(let d=gt;d<l.length;d++){const h=l[d];h[xa]===h[xe]&&Nm(h[x],h,u,r)}if(null!==l[zo]){const d=l[zo];for(let h=0;h<d.length;h++){const f=d[h];Nm(f[x],f,u,r)}}}}}return r}function Pm(e){const t=D(),n=oe(),r=nT();Vp(r+1);const i=YM(n,r);if(e.dirty&&function hU(e){return 4==(4&e[Y])}(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const o=i.crossesNgTemplate?Nm(n,t,r,[]):zM(n,t,i,r);e.reset(o,qB),e.notifyOnChanges()}return!0}return!1}function WM(e,t,n){const r=oe();r.firstCreatePass&&(function KM(e,t,n){null===e.queries&&(e.queries=new Rm),e.queries.track(new xm(t,n))}(r,new HM(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),function qM(e,t,n){const r=new Tm(4==(4&n));(function T$(e,t,n,r){const i=vS(t);i.push(n),e.firstCreatePass&&yS(e).push(r,i.length-1)})(e,t,r,r.destroy),null===t[Yn]&&(t[Yn]=new Mm),t[Yn].queries.push(new Am(r))}(r,D(),t)}function YM(e,t){return e.queries.getByIndex(t)}function Qi(e,t){return wd(e,t)}const jm=new N("Application Initializer");let Bm=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=k(jm,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=i();if(lc(o))n.push(o);else if(JS(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),h1=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();const or=new N("LocaleId",{providedIn:"root",factory:()=>k(or,ne.Optional|ne.SkipSelf)||function Jz(){return typeof $localize<"u"&&$localize.locale||Rs}()}),Xz=new N("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let f1=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new xt(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();class tW{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let p1=(()=>{class e{compileModuleSync(n){return new Em(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=Mr(un(n).declarations).reduce((s,a)=>{const c=ie(a);return c&&s.push(new oc(c)),s},[]);return new tW(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const v1=new N(""),Td=new N("");let Gm,zm=(()=>{class e{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Gm||(function EW(e){Gm=e}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{he.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static{this.\u0275fac=function(r){return new(r||e)(O(he),O(Wm),O(Td))}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac})}}return e})(),Wm=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Gm?.findTestabilityInTree(this,n,r)??null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})(),di=null;const y1=new N("AllowMultipleToken"),qm=new N("PlatformDestroyListeners"),Km=new N("appBootstrapListener");class b1{constructor(t,n){this.name=t,this.token=n}}function E1(e,t,n=[]){const r=`Platform: ${t}`,i=new N(r);return(o=[])=>{let s=Ym();if(!s||s.injector.get(y1,!1)){const a=[...n,...o,{provide:i,useValue:!0}];e?e(a):function TW(e){if(di&&!di.get(y1,!1))throw new T(400,!1);(function C1(){!function XV(e){OD=e}(()=>{throw new T(600,!1)})})(),di=e;const t=e.get(D1);(function w1(e){e.get(A0,null)?.forEach(n=>n())})(e)}(function I1(e=[],t){return Tt.create({name:t,providers:[{provide:Ig,useValue:"platform"},{provide:qm,useValue:new Set([()=>di=null])},...e]})}(a,r))}return function AW(e){const t=Ym();if(!t)throw new T(401,!1);return t}()}}function Ym(){return di?.get(D1)??null}let D1=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function MW(e="zone.js",t){return"noop"===e?new c$:"zone.js"===e?new he(t):e}(r?.ngZone,function T1(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function j4(e,t,n){return new wm(e,t,n)}(n.moduleType,this.injector,function x1(e){return[{provide:he,useFactory:e},{provide:Ja,multi:!0,useFactory:()=>{const t=k(xW,{optional:!0});return()=>t.initialize()}},{provide:R1,useFactory:RW},{provide:G0,useFactory:q0}]}(()=>i)),s=o.injector.get(Ar,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:c=>{s.handleError(c)}});o.onDestroy(()=>{Sd(this._modules,o),a.unsubscribe()})}),function S1(e,t,n){try{const r=n();return lc(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(Bm);return a.runInitializers(),a.donePromise.then(()=>(function KA(e){_n(e,"Expected localeId to be defined"),"string"==typeof e&&(qA=e.toLowerCase().replace(/_/g,"-"))}(o.injector.get(or,Rs)||Rs),this._moduleDoBootstrap(o),o))})})}bootstrapModule(n,r=[]){const i=A1({},r);return function IW(e,t,n){const r=new Em(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(Ps);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new T(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new T(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(qm,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||e)(O(Tt))}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function A1(e,t){return Array.isArray(t)?t.reduce(A1,e):{...e,...t}}let Ps=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=k(R1),this.zoneIsStable=k(G0),this.componentTypes=[],this.components=[],this.isStable=k(f1).hasPendingTasks.pipe(qn(n=>n?z(!1):this.zoneIsStable),function lV(e,t=Xr){return e=e??dV,Xe((n,r)=>{let i,o=!0;n.subscribe(Ke(r,s=>{const a=t(s);(o||!e(i,a))&&(o=!1,i=a,r.next(s))}))})}(),XI()),this._injector=k(bn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof P0;if(!this._injector.get(Bm).done)throw!i&&function Uo(e){const t=ie(e)||pt(e)||Pt(e);return null!==t&&t.standalone}(n),new T(405,!1);let s;s=i?n:this._injector.get(ed).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function DW(e){return e.isBoundToModule}(s)?void 0:this._injector.get(Yi),u=s.create(Tt.NULL,[],r||s.selector,a),l=u.location.nativeElement,d=u.injector.get(v1,null);return d?.registerApplication(l),u.onDestroy(()=>{this.detachView(u.hostView),Sd(this.components,u),d?.unregisterApplication(l)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new T(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Sd(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Km,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Sd(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new T(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Sd(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const R1=new N("",{providedIn:"root",factory:()=>k(Ar).handleError.bind(void 0)});function RW(){const e=k(he),t=k(Ar);return n=>e.runOutsideAngular(()=>t.handleError(n))}let xW=(()=>{class e{constructor(){this.zone=k(he),this.applicationRef=k(Ps)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();let Ad=(()=>{class e{static{this.__NG_ELEMENT_ID__=PW}}return e})();function PW(e){return function kW(e,t,n){if(ji(e)&&!n){const r=ln(e.index,t);return new ic(r,r)}return 47&e.type?new ic(t[ze],t):null}(_t(),D(),16==(16&e))}class F1{constructor(){}supports(t){return ud(t)}create(t){return new UW(t)}}const VW=(e,t)=>t;class UW{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||VW}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<V1(r,i,o)?n:r,a=V1(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const u=a-i,l=c-i;if(u!=l){for(let h=0;h<u;h++){const f=h<o.length?o[h]:o[h]=0,p=f+h;l<=p&&p<u&&(o[h]=f+1)}o[s.previousIndex]=l-u}}a!==c&&t(s,a,c)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!ud(t))throw new T(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function vH(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,i)):t=this._addAfter(new jW(n,r),o,i),t}_verifyReinsertion(t,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,o=t._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const i=null===n?this._itHead:n._next;return t._next=i,t._prev=n,null===i?this._itTail=t:i._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new L1),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new L1),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class jW{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class BW{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class L1{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new BW,this.map.set(n,r)),r.add(t)}get(t,n){const i=this.map.get(t);return i?i.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function V1(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class U1{constructor(){}supports(t){return t instanceof Map||nm(t)}create(){return new $W}}class $W{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||nm(t)))throw new T(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const i=this._records.get(t);this._maybeAddToChanges(i,n);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new HW(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class HW{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function j1(){return new xd([new F1])}let xd=(()=>{class e{static{this.\u0275prov=F({token:e,providedIn:"root",factory:j1})}constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||j1()),deps:[[e,new Ml,new Vt]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new T(901,!1)}}return e})();function B1(){return new bc([new U1])}let bc=(()=>{class e{static{this.\u0275prov=F({token:e,providedIn:"root",factory:B1})}constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||B1()),deps:[[e,new Ml,new Vt]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new T(901,!1)}}return e})();const GW=E1(null,"core",[]);let qW=(()=>{class e{constructor(n){}static{this.\u0275fac=function(r){return new(r||e)(O(Ps))}}static{this.\u0275mod=Kt({type:e})}static{this.\u0275inj=Nt({})}}return e})();function ks(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}let t_=null;function hi(){return t_}class aG{}const En=new N("DocumentToken");let n_=(()=>{class e{historyGo(n){throw new Error("Not implemented")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=F({token:e,factory:function(){return k(uG)},providedIn:"platform"})}}return e})();const cG=new N("Location Initialized");let uG=(()=>{class e extends n_{constructor(){super(),this._doc=k(En),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return hi().getBaseHref(this._doc)}onPopState(n){const r=hi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=hi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=F({token:e,factory:function(){return new e},providedIn:"platform"})}}return e})();function r_(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function Q1(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function kr(e){return e&&"?"!==e[0]?"?"+e:e}let Ji=(()=>{class e{historyGo(n){throw new Error("Not implemented")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=F({token:e,factory:function(){return k(J1)},providedIn:"root"})}}return e})();const Z1=new N("appBaseHref");let J1=(()=>{class e extends Ji{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??k(En).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return r_(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+kr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+kr(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+kr(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||e)(O(n_),O(Z1,8))}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),lG=(()=>{class e extends Ji{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=r_(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+kr(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+kr(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||e)(O(n_),O(Z1,8))}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac})}}return e})(),i_=(()=>{class e{constructor(n){this._subject=new ae,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function fG(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(Q1(X1(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+kr(r))}normalize(n){return e.stripTrailingSlash(function hG(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,X1(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+kr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+kr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=kr}static{this.joinWithSlash=r_}static{this.stripTrailingSlash=Q1}static{this.\u0275fac=function(r){return new(r||e)(O(Ji))}}static{this.\u0275prov=F({token:e,factory:function(){return function dG(){return new i_(O(Ji))}()},providedIn:"root"})}}return e})();function X1(e){return e.replace(/\/index.html$/,"")}const eR={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Pd=function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e}(Pd||{}),Bt=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(Bt||{}),we=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(we||{}),pn=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(pn||{}),qe=function(e){return e[e.Decimal=0]="Decimal",e[e.Group=1]="Group",e[e.List=2]="List",e[e.PercentSign=3]="PercentSign",e[e.PlusSign=4]="PlusSign",e[e.MinusSign=5]="MinusSign",e[e.Exponential=6]="Exponential",e[e.SuperscriptingExponent=7]="SuperscriptingExponent",e[e.PerMille=8]="PerMille",e[e.Infinity=9]="Infinity",e[e.NaN=10]="NaN",e[e.TimeSeparator=11]="TimeSeparator",e[e.CurrencyDecimal=12]="CurrencyDecimal",e[e.CurrencyGroup=13]="CurrencyGroup",e}(qe||{});function kd(e,t){return Dn(Ut(e)[Se.DateFormat],t)}function Od(e,t){return Dn(Ut(e)[Se.TimeFormat],t)}function Fd(e,t){return Dn(Ut(e)[Se.DateTimeFormat],t)}function In(e,t){const n=Ut(e),r=n[Se.NumberSymbols][t];if(typeof r>"u"){if(t===qe.CurrencyDecimal)return n[Se.NumberSymbols][qe.Decimal];if(t===qe.CurrencyGroup)return n[Se.NumberSymbols][qe.Group]}return r}function o_(e,t){return Ut(e)[Se.NumberFormats][t]}function tR(e){if(!e[Se.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[Se.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Dn(e,t){for(let n=t;n>-1;n--)if(typeof e[n]<"u")return e[n];throw new Error("Locale data API: locale data undefined")}function s_(e){const[t,n]=e.split(":");return{hours:+t,minutes:+n}}const SG=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,wc={},AG=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Or=function(e){return e[e.Short=0]="Short",e[e.ShortGMT=1]="ShortGMT",e[e.Long=2]="Long",e[e.Extended=3]="Extended",e}(Or||{}),ue=function(e){return e[e.FullYear=0]="FullYear",e[e.Month=1]="Month",e[e.Date=2]="Date",e[e.Hours=3]="Hours",e[e.Minutes=4]="Minutes",e[e.Seconds=5]="Seconds",e[e.FractionalSeconds=6]="FractionalSeconds",e[e.Day=7]="Day",e}(ue||{}),le=function(e){return e[e.DayPeriods=0]="DayPeriods",e[e.Days=1]="Days",e[e.Months=2]="Months",e[e.Eras=3]="Eras",e}(le||{});function MG(e,t,n,r){let i=function VG(e){if(iR(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){const[i,o=1,s=1]=e.split("-").map(a=>+a);return Ld(i,o-1,s)}const n=parseFloat(e);if(!isNaN(e-n))return new Date(n);let r;if(r=e.match(SG))return function UG(e){const t=new Date(0);let n=0,r=0;const i=e[8]?t.setUTCFullYear:t.setFullYear,o=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));const s=Number(e[4]||0)-n,a=Number(e[5]||0)-r,c=Number(e[6]||0),u=Math.floor(1e3*parseFloat("0."+(e[7]||0)));return o.call(t,s,a,c,u),t}(r)}const t=new Date(e);if(!iR(t))throw new Error(`Unable to convert "${e}" into a date`);return t}(e);t=Fr(n,t)||t;let a,s=[];for(;t;){if(a=AG.exec(t),!a){s.push(t);break}{s=s.concat(a.slice(1));const l=s.pop();if(!l)break;t=l}}let c=i.getTimezoneOffset();r&&(c=rR(r,c),i=function LG(e,t,n){const r=n?-1:1,i=e.getTimezoneOffset();return function FG(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,r*(rR(t,i)-i))}(i,r,!0));let u="";return s.forEach(l=>{const d=function OG(e){if(c_[e])return c_[e];let t;switch(e){case"G":case"GG":case"GGG":t=Ae(le.Eras,we.Abbreviated);break;case"GGGG":t=Ae(le.Eras,we.Wide);break;case"GGGGG":t=Ae(le.Eras,we.Narrow);break;case"y":t=Ze(ue.FullYear,1,0,!1,!0);break;case"yy":t=Ze(ue.FullYear,2,0,!0,!0);break;case"yyy":t=Ze(ue.FullYear,3,0,!1,!0);break;case"yyyy":t=Ze(ue.FullYear,4,0,!1,!0);break;case"Y":t=Bd(1);break;case"YY":t=Bd(2,!0);break;case"YYY":t=Bd(3);break;case"YYYY":t=Bd(4);break;case"M":case"L":t=Ze(ue.Month,1,1);break;case"MM":case"LL":t=Ze(ue.Month,2,1);break;case"MMM":t=Ae(le.Months,we.Abbreviated);break;case"MMMM":t=Ae(le.Months,we.Wide);break;case"MMMMM":t=Ae(le.Months,we.Narrow);break;case"LLL":t=Ae(le.Months,we.Abbreviated,Bt.Standalone);break;case"LLLL":t=Ae(le.Months,we.Wide,Bt.Standalone);break;case"LLLLL":t=Ae(le.Months,we.Narrow,Bt.Standalone);break;case"w":t=a_(1);break;case"ww":t=a_(2);break;case"W":t=a_(1,!0);break;case"d":t=Ze(ue.Date,1);break;case"dd":t=Ze(ue.Date,2);break;case"c":case"cc":t=Ze(ue.Day,1);break;case"ccc":t=Ae(le.Days,we.Abbreviated,Bt.Standalone);break;case"cccc":t=Ae(le.Days,we.Wide,Bt.Standalone);break;case"ccccc":t=Ae(le.Days,we.Narrow,Bt.Standalone);break;case"cccccc":t=Ae(le.Days,we.Short,Bt.Standalone);break;case"E":case"EE":case"EEE":t=Ae(le.Days,we.Abbreviated);break;case"EEEE":t=Ae(le.Days,we.Wide);break;case"EEEEE":t=Ae(le.Days,we.Narrow);break;case"EEEEEE":t=Ae(le.Days,we.Short);break;case"a":case"aa":case"aaa":t=Ae(le.DayPeriods,we.Abbreviated);break;case"aaaa":t=Ae(le.DayPeriods,we.Wide);break;case"aaaaa":t=Ae(le.DayPeriods,we.Narrow);break;case"b":case"bb":case"bbb":t=Ae(le.DayPeriods,we.Abbreviated,Bt.Standalone,!0);break;case"bbbb":t=Ae(le.DayPeriods,we.Wide,Bt.Standalone,!0);break;case"bbbbb":t=Ae(le.DayPeriods,we.Narrow,Bt.Standalone,!0);break;case"B":case"BB":case"BBB":t=Ae(le.DayPeriods,we.Abbreviated,Bt.Format,!0);break;case"BBBB":t=Ae(le.DayPeriods,we.Wide,Bt.Format,!0);break;case"BBBBB":t=Ae(le.DayPeriods,we.Narrow,Bt.Format,!0);break;case"h":t=Ze(ue.Hours,1,-12);break;case"hh":t=Ze(ue.Hours,2,-12);break;case"H":t=Ze(ue.Hours,1);break;case"HH":t=Ze(ue.Hours,2);break;case"m":t=Ze(ue.Minutes,1);break;case"mm":t=Ze(ue.Minutes,2);break;case"s":t=Ze(ue.Seconds,1);break;case"ss":t=Ze(ue.Seconds,2);break;case"S":t=Ze(ue.FractionalSeconds,1);break;case"SS":t=Ze(ue.FractionalSeconds,2);break;case"SSS":t=Ze(ue.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Ud(Or.Short);break;case"ZZZZZ":t=Ud(Or.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Ud(Or.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Ud(Or.Long);break;default:return null}return c_[e]=t,t}(l);u+=d?d(i,n,c):"''"===l?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function Ld(e,t,n){const r=new Date(0);return r.setFullYear(e,t,n),r.setHours(0,0,0),r}function Fr(e,t){const n=function gG(e){return Ut(e)[Se.LocaleId]}(e);if(wc[n]=wc[n]||{},wc[n][t])return wc[n][t];let r="";switch(t){case"shortDate":r=kd(e,pn.Short);break;case"mediumDate":r=kd(e,pn.Medium);break;case"longDate":r=kd(e,pn.Long);break;case"fullDate":r=kd(e,pn.Full);break;case"shortTime":r=Od(e,pn.Short);break;case"mediumTime":r=Od(e,pn.Medium);break;case"longTime":r=Od(e,pn.Long);break;case"fullTime":r=Od(e,pn.Full);break;case"short":const i=Fr(e,"shortTime"),o=Fr(e,"shortDate");r=Vd(Fd(e,pn.Short),[i,o]);break;case"medium":const s=Fr(e,"mediumTime"),a=Fr(e,"mediumDate");r=Vd(Fd(e,pn.Medium),[s,a]);break;case"long":const c=Fr(e,"longTime"),u=Fr(e,"longDate");r=Vd(Fd(e,pn.Long),[c,u]);break;case"full":const l=Fr(e,"fullTime"),d=Fr(e,"fullDate");r=Vd(Fd(e,pn.Full),[l,d])}return r&&(wc[n][t]=r),r}function Vd(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(n,r){return null!=t&&r in t?t[r]:n})),e}function Ln(e,t,n="-",r,i){let o="";(e<0||i&&e<=0)&&(i?e=1-e:(e=-e,o=n));let s=String(e);for(;s.length<t;)s="0"+s;return r&&(s=s.slice(s.length-t)),o+s}function Ze(e,t,n=0,r=!1,i=!1){return function(o,s){let a=function xG(e,t){switch(e){case ue.FullYear:return t.getFullYear();case ue.Month:return t.getMonth();case ue.Date:return t.getDate();case ue.Hours:return t.getHours();case ue.Minutes:return t.getMinutes();case ue.Seconds:return t.getSeconds();case ue.FractionalSeconds:return t.getMilliseconds();case ue.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,o);if((n>0||a>-n)&&(a+=n),e===ue.Hours)0===a&&-12===n&&(a=12);else if(e===ue.FractionalSeconds)return function RG(e,t){return Ln(e,3).substring(0,t)}(a,t);const c=In(s,qe.MinusSign);return Ln(a,t,c,r,i)}}function Ae(e,t,n=Bt.Format,r=!1){return function(i,o){return function NG(e,t,n,r,i,o){switch(n){case le.Months:return function vG(e,t,n){const r=Ut(e),o=Dn([r[Se.MonthsFormat],r[Se.MonthsStandalone]],t);return Dn(o,n)}(t,i,r)[e.getMonth()];case le.Days:return function _G(e,t,n){const r=Ut(e),o=Dn([r[Se.DaysFormat],r[Se.DaysStandalone]],t);return Dn(o,n)}(t,i,r)[e.getDay()];case le.DayPeriods:const s=e.getHours(),a=e.getMinutes();if(o){const u=function wG(e){const t=Ut(e);return tR(t),(t[Se.ExtraData][2]||[]).map(r=>"string"==typeof r?s_(r):[s_(r[0]),s_(r[1])])}(t),l=function EG(e,t,n){const r=Ut(e);tR(r);const o=Dn([r[Se.ExtraData][0],r[Se.ExtraData][1]],t)||[];return Dn(o,n)||[]}(t,i,r),d=u.findIndex(h=>{if(Array.isArray(h)){const[f,p]=h,v=s>=f.hours&&a>=f.minutes,b=s<p.hours||s===p.hours&&a<p.minutes;if(f.hours<p.hours){if(v&&b)return!0}else if(v||b)return!0}else if(h.hours===s&&h.minutes===a)return!0;return!1});if(-1!==d)return l[d]}return function mG(e,t,n){const r=Ut(e),o=Dn([r[Se.DayPeriodsFormat],r[Se.DayPeriodsStandalone]],t);return Dn(o,n)}(t,i,r)[s<12?0:1];case le.Eras:return function yG(e,t){return Dn(Ut(e)[Se.Eras],t)}(t,r)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(i,o,e,t,n,r)}}function Ud(e){return function(t,n,r){const i=-1*r,o=In(n,qe.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case Or.Short:return(i>=0?"+":"")+Ln(s,2,o)+Ln(Math.abs(i%60),2,o);case Or.ShortGMT:return"GMT"+(i>=0?"+":"")+Ln(s,1,o);case Or.Long:return"GMT"+(i>=0?"+":"")+Ln(s,2,o)+":"+Ln(Math.abs(i%60),2,o);case Or.Extended:return 0===r?"Z":(i>=0?"+":"")+Ln(s,2,o)+":"+Ln(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${e}"`)}}}const PG=0,jd=4;function nR(e){return Ld(e.getFullYear(),e.getMonth(),e.getDate()+(jd-e.getDay()))}function a_(e,t=!1){return function(n,r){let i;if(t){const o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{const o=nR(n),s=function kG(e){const t=Ld(e,PG,1).getDay();return Ld(e,0,1+(t<=jd?jd:jd+7)-t)}(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Ln(i,e,In(r,qe.MinusSign))}}function Bd(e,t=!1){return function(n,r){return Ln(nR(n).getFullYear(),e,In(r,qe.MinusSign),t)}}const c_={};function rR(e,t){e=e.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function iR(e){return e instanceof Date&&!isNaN(e.valueOf())}const jG=/^(\d+)?\.((\d+)(-(\d+))?)?$/,oR=22,$d=".",Ec="0",BG=";",$G=",",u_="#";function l_(e,t,n,r,i,o,s=!1){let a="",c=!1;if(isFinite(e)){let u=function KG(e){let r,i,o,s,a,t=Math.abs(e)+"",n=0;for((i=t.indexOf($d))>-1&&(t=t.replace($d,"")),(o=t.search(/e/i))>0?(i<0&&(i=o),i+=+t.slice(o+1),t=t.substring(0,o)):i<0&&(i=t.length),o=0;t.charAt(o)===Ec;o++);if(o===(a=t.length))r=[0],i=1;else{for(a--;t.charAt(a)===Ec;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(t.charAt(o))}return i>oR&&(r=r.splice(0,oR-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}(e);s&&(u=function qG(e){if(0===e.digits[0])return e;const t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===t?e.digits.push(0,0):1===t&&e.digits.push(0),e.integerLen+=2),e}(u));let l=t.minInt,d=t.minFrac,h=t.maxFrac;if(o){const y=o.match(jG);if(null===y)throw new Error(`${o} is not a valid digit info`);const P=y[1],V=y[3],ee=y[5];null!=P&&(l=h_(P)),null!=V&&(d=h_(V)),null!=ee?h=h_(ee):null!=V&&d>h&&(h=d)}!function YG(e,t,n){if(t>n)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${n}).`);let r=e.digits,i=r.length-e.integerLen;const o=Math.min(Math.max(t,i),n);let s=o+e.integerLen,a=r[s];if(s>0){r.splice(Math.max(e.integerLen,s));for(let d=s;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),e.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let d=1;d<s;d++)r[d]=0}if(a>=5)if(s-1<0){for(let d=0;d>s;d--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let c=0!==o;const u=t+e.integerLen,l=r.reduceRight(function(d,h,f,p){return p[f]=(h+=d)<10?h:h-10,c&&(0===p[f]&&f>=u?p.pop():c=!1),h>=10?1:0},0);l&&(r.unshift(l),e.integerLen++)}(u,d,h);let f=u.digits,p=u.integerLen;const v=u.exponent;let b=[];for(c=f.every(y=>!y);p<l;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?b=f.splice(p,f.length):(b=f,f=[0]);const E=[];for(f.length>=t.lgSize&&E.unshift(f.splice(-t.lgSize,f.length).join(""));f.length>t.gSize;)E.unshift(f.splice(-t.gSize,f.length).join(""));f.length&&E.unshift(f.join("")),a=E.join(In(n,r)),b.length&&(a+=In(n,i)+b.join("")),v&&(a+=In(n,qe.Exponential)+"+"+v)}else a=In(n,qe.Infinity);return a=e<0&&!c?t.negPre+a+t.negSuf:t.posPre+a+t.posSuf,a}function d_(e,t="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(BG),i=r[0],o=r[1],s=-1!==i.indexOf($d)?i.split($d):[i.substring(0,i.lastIndexOf(Ec)+1),i.substring(i.lastIndexOf(Ec)+1)],a=s[0],c=s[1]||"";n.posPre=a.substring(0,a.indexOf(u_));for(let l=0;l<c.length;l++){const d=c.charAt(l);d===Ec?n.minFrac=n.maxFrac=l+1:d===u_?n.maxFrac=l+1:n.posSuf+=d}const u=a.split($G);if(n.gSize=u[1]?u[1].length:0,n.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,o){const l=i.length-n.posPre.length-n.posSuf.length,d=o.indexOf(u_);n.negPre=o.substring(0,d).replace(/'/g,""),n.negSuf=o.slice(d+l).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}function h_(e){const t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}const p_=/\s+/,cR=[];let uR=(()=>{class e{constructor(n,r,i,o){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this.initialClasses=cR,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(p_):cR}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(p_):n}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const r of n)this._updateState(r,!0);else if(null!=n)for(const r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){const i=this.stateMap.get(n);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){(n=n.trim()).length>0&&n.split(p_).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||e)(w(xd),w(bc),w(hn),w(Sr))}}static{this.\u0275dir=H({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return e})();class e6{constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Fs=(()=>{class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new e6(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),dR(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{dR(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(w(Fn),w(Pr),w(xd))}}static{this.\u0275dir=H({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return e})();function dR(e,t){e.context.$implicit=t.item}let tn=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new t6,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){hR("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){hR("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(w(Fn),w(Pr))}}static{this.\u0275dir=H({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return e})();class t6{constructor(){this.$implicit=null,this.ngIf=null}}function hR(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${et(t)}'.`)}function Vn(e,t){return new T(2100,!1)}const p6=new N("DATE_PIPE_DEFAULT_TIMEZONE"),g6=new N("DATE_PIPE_DEFAULT_OPTIONS");let __=(()=>{class e{constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(null==n||""===n||n!=n)return null;try{return MG(n,r??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(s){throw Vn()}}static{this.\u0275fac=function(r){return new(r||e)(w(or,16),w(p6,24),w(g6,24))}}static{this.\u0275pipe=Yt({name:"date",type:e,pure:!0,standalone:!0})}}return e})(),v_=(()=>{class e{constructor(n){this._locale=n}transform(n,r,i){if(!y_(n))return null;i=i||this._locale;try{return function GG(e,t,n){return l_(e,d_(o_(t,Pd.Decimal),In(t,qe.MinusSign)),t,qe.Group,qe.Decimal,n)}(C_(n),i,r)}catch(o){throw Vn()}}static{this.\u0275fac=function(r){return new(r||e)(w(or,16))}}static{this.\u0275pipe=Yt({name:"number",type:e,pure:!0,standalone:!0})}}return e})(),Xi=(()=>{class e{constructor(n,r="USD"){this._locale=n,this._defaultCurrencyCode=r}transform(n,r=this._defaultCurrencyCode,i="symbol",o,s){if(!y_(n))return null;s=s||this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;"code"!==i&&(a="symbol"===i||"symbol-narrow"===i?function IG(e,t,n="en"){const r=function CG(e){return Ut(e)[Se.Currencies]}(n)[e]||eR[e]||[],i=r[1];return"narrow"===t&&"string"==typeof i?i:r[0]||e}(a,"symbol"===i?"wide":"narrow",s):i);try{return function zG(e,t,n,r,i){const s=d_(o_(t,Pd.Currency),In(t,qe.MinusSign));return s.minFrac=function TG(e){let t;const n=eR[e];return n&&(t=n[2]),"number"==typeof t?t:2}(r),s.maxFrac=s.minFrac,l_(e,s,t,qe.CurrencyGroup,qe.CurrencyDecimal,i).replace("\xa4",n).replace("\xa4","").trim()}(C_(n),s,a,r,o)}catch(c){throw Vn()}}static{this.\u0275fac=function(r){return new(r||e)(w(or,16),w(Xz,16))}}static{this.\u0275pipe=Yt({name:"currency",type:e,pure:!0,standalone:!0})}}return e})();function y_(e){return!(null==e||""===e||e!=e)}function C_(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error(`${e} is not a number`);return e}let E6=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Kt({type:e})}static{this.\u0275inj=Nt({})}}return e})();function mR(e){return"server"===e}let S6=(()=>{class e{static{this.\u0275prov=F({token:e,providedIn:"root",factory:()=>new A6(O(En),window)})}}return e})();class A6{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function M6(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class X6 extends aG{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class E_ extends X6{static makeCurrent(){!function sG(e){t_||(t_=e)}(new E_)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function e5(){return Dc=Dc||document.querySelector("base"),Dc?Dc.getAttribute("href"):null}();return null==n?null:function t5(e){Wd=Wd||document.createElement("a"),Wd.setAttribute("href",e);const t=Wd.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){Dc=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function JG(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let Wd,Dc=null,r5=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac})}}return e})();const I_=new N("EventManagerPlugins");let bR=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new T(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||e)(O(I_),O(he))}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac})}}return e})();class wR{constructor(t){this._doc=t}}const D_="ng-app-id";let ER=(()=>{class e{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=mR(o),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${D_}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(D_),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(D_,this.appId),s}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||e)(O(En),O(Kl),O(M0,8),O(ui))}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac})}}return e})();const T_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},S_=/%COMP%/g,a5=new N("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function DR(e,t){return t.map(n=>n.replace(S_,e))}let TR=(()=>{class e{constructor(n,r,i,o,s,a,c,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=mR(a),this.defaultRenderer=new A_(n,s,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Rn.ShadowDom&&(r={...r,encapsulation:Rn.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof AR?i.applyToHost(n):i instanceof M_&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Rn.Emulated:o=new AR(c,u,r,this.appId,l,s,a,d);break;case Rn.ShadowDom:return new d5(c,u,n,r,s,a,this.nonce,d);default:o=new M_(c,u,r,l,s,a,d)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||e)(O(bR),O(ER),O(Kl),O(a5),O(En),O(ui),O(he),O(M0))}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac})}}return e})();class A_{constructor(t,n,r,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(T_[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(SR(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(SR(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new T(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const o=T_[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=T_[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(ai.DashCase|ai.Important)?t.style.setProperty(n,r,i&ai.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&ai.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){if("string"==typeof t&&!(t=hi().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))&&n.preventDefault()}}}function SR(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class d5 extends A_{constructor(t,n,r,i,o,s,a,c){super(t,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=DR(i.id,i.styles);for(const l of u){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class M_ extends A_{constructor(t,n,r,i,o,s,a,c){super(t,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?DR(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class AR extends M_{constructor(t,n,r,i,o,s,a,c){const u=i+"-"+r.id;super(t,n,r,o,s,a,c,u),this.contentAttr=function c5(e){return"_ngcontent-%COMP%".replace(S_,e)}(u),this.hostAttr=function u5(e){return"_nghost-%COMP%".replace(S_,e)}(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}let h5=(()=>{class e extends wR{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||e)(O(En))}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac})}}return e})();const MR=["alt","control","meta","shift"],f5={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},p5={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let g5=(()=>{class e extends wR{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i){const o=e.parseEventName(r),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>hi().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=e._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),MR.forEach(u=>{const l=r.indexOf(u);l>-1&&(r.splice(l,1),s+=u+".")}),s+=o,0!=r.length||0===o.length)return null;const c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=f5[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),MR.forEach(s=>{s!==i&&(0,p5[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}static{this.\u0275fac=function(r){return new(r||e)(O(En))}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac})}}return e})();const y5=E1(GW,"browser",[{provide:ui,useValue:"browser"},{provide:A0,useValue:function m5(){E_.makeCurrent()},multi:!0},{provide:En,useFactory:function v5(){return function nB(e){fg=e}(document),document},deps:[]}]),C5=new N(""),NR=[{provide:Td,useClass:class n5{addToWindow(t){De.getAngularTestability=(r,i=!0)=>{const o=t.findTestabilityInTree(r,i);if(null==o)throw new T(5103,!1);return o},De.getAllAngularTestabilities=()=>t.getAllTestabilities(),De.getAllAngularRootElements=()=>t.getAllRootElements(),De.frameworkStabilizers||(De.frameworkStabilizers=[]),De.frameworkStabilizers.push(r=>{const i=De.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(c){s=s||c,o--,0==o&&r(s)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?hi().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:v1,useClass:zm,deps:[he,Wm,Td]},{provide:zm,useClass:zm,deps:[he,Wm,Td]}],PR=[{provide:Ig,useValue:"root"},{provide:Ar,useFactory:function _5(){return new Ar},deps:[]},{provide:I_,useClass:h5,multi:!0,deps:[En,he,ui]},{provide:I_,useClass:g5,multi:!0,deps:[En]},TR,ER,bR,{provide:O0,useExisting:TR},{provide:class R6{},useClass:r5,deps:[]},[]];let b5=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:Kl,useValue:n.appId}]}}static{this.\u0275fac=function(r){return new(r||e)(O(C5,12))}}static{this.\u0275mod=Kt({type:e})}static{this.\u0275inj=Nt({providers:[...PR,...NR],imports:[E6,qW]})}}return e})(),kR=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||e)(O(En))}}static{this.\u0275prov=F({token:e,factory:function(r){let i=null;return i=r?new r:function E5(){return new kR(O(En))}(),i},providedIn:"root"})}}return e})();typeof window<"u"&&window;const{isArray:M5}=Array,{getPrototypeOf:R5,prototype:x5,keys:N5}=Object;function VR(e){if(1===e.length){const t=e[0];if(M5(t))return{args:t,keys:null};if(function P5(e){return e&&"object"==typeof e&&R5(e)===x5}(t)){const n=N5(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}const{isArray:k5}=Array;function UR(e){return Ce(t=>function O5(e,t){return k5(t)?e(...t):e(t)}(e,t))}function jR(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function x_(...e){const t=Ia(e),n=ZI(e),{args:r,keys:i}=VR(e);if(0===r.length)return it([],t);const o=new Le(function F5(e,t,n=Xr){return r=>{BR(t,()=>{const{length:i}=e,o=new Array(i);let s=i,a=i;for(let c=0;c<i;c++)BR(t,()=>{const u=it(e[c],t);let l=!1;u.subscribe(Ke(r,d=>{o[c]=d,l||(l=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,t,i?s=>jR(i,s):Xr));return n?o.pipe(UR(n)):o}function BR(e,t,n){e?Cr(n,e,t):t()}const Gd=wa(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function N_(...e){return function L5(){return Lo(1)}()(it(e,Ia(e)))}function $R(e){return new Le(t=>{an(e()).subscribe(t)})}function Tc(e,t){const n=ye(e)?e:()=>e,r=i=>i.error(n());return new Le(t?i=>t.schedule(r,0,i):r)}function P_(){return Xe((e,t)=>{let n=null;e._refCount++;const r=Ke(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class HR extends Le{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,FI(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Gt;const n=this.getSubject();t.add(this.source.subscribe(Ke(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Gt.EMPTY)}return t}refCount(){return P_()(this)}}function eo(e){return e<=0?()=>Gn:Xe((t,n)=>{let r=0;t.subscribe(Ke(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function Lr(e,t){return Xe((n,r)=>{let i=0;n.subscribe(Ke(r,o=>e.call(t,o,i++)&&r.next(o)))})}function qd(e){return Xe((t,n)=>{let r=!1;t.subscribe(Ke(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function zR(e=U5){return Xe((t,n)=>{let r=!1;t.subscribe(Ke(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function U5(){return new Gd}function to(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Lr((i,o)=>e(i,o,r)):Xr,eo(1),n?qd(t):zR(()=>new Gd))}function Sc(e,t){return ye(t)?ft(e,t,1):ft(e,1)}function Ct(e,t,n){const r=ye(e)||t||n?{next:e,error:t,complete:n}:e;return r?Xe((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Ke(o,c=>{var u;null===(u=r.next)||void 0===u||u.call(r,c),o.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),o.complete()},c=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,c),o.error(c)},()=>{var c,u;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):Xr}function no(e){return Xe((t,n)=>{let o,r=null,i=!1;r=t.subscribe(Ke(n,void 0,void 0,s=>{o=an(e(s,no(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function k_(e){return e<=0?()=>Gn:Xe((t,n)=>{let r=[];t.subscribe(Ke(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function O_(e){return Xe((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}const Z="primary",Ac=Symbol("RouteTitle");class W5{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Ls(e){return new W5(e)}function G5(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=e[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function sr(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!WR(e[i],t[i]))return!1;return!0}function WR(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}return e===t}function GR(e){return e.length>0?e[e.length-1]:null}function pi(e){return function A5(e){return!!e&&(e instanceof Le||ye(e.lift)&&ye(e.subscribe))}(e)?e:lc(e)?it(Promise.resolve(e)):z(e)}const K5={exact:function YR(e,t,n){if(!ro(e.segments,t.segments)||!Kd(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!YR(e.children[r],t.children[r],n))return!1;return!0},subset:QR},qR={exact:function Y5(e,t){return sr(e,t)},subset:function Q5(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>WR(e[n],t[n]))},ignored:()=>!0};function KR(e,t,n){return K5[n.paths](e.root,t.root,n.matrixParams)&&qR[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function QR(e,t,n){return ZR(e,t,t.segments,n)}function ZR(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!(!ro(i,n)||t.hasChildren()||!Kd(i,n,r))}if(e.segments.length===n.length){if(!ro(e.segments,n)||!Kd(e.segments,n,r))return!1;for(const i in t.children)if(!e.children[i]||!QR(e.children[i],t.children[i],r))return!1;return!0}{const i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!!(ro(e.segments,i)&&Kd(e.segments,i,r)&&e.children[Z])&&ZR(e.children[Z],t,o,r)}}function Kd(e,t,n){return t.every((r,i)=>qR[n](e[i].parameters,r.parameters))}class Vs{constructor(t=new _e([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ls(this.queryParams)),this._queryParamMap}toString(){return X5.serialize(this)}}class _e{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Yd(this)}}class Mc{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Ls(this.parameters)),this._parameterMap}toString(){return ex(this)}}function ro(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let Rc=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=F({token:e,factory:function(){return new F_},providedIn:"root"})}}return e})();class F_{parse(t){const n=new l8(t);return new Vs(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${xc(t.root,!0)}`,r=function n8(e){const t=Object.keys(e).map(n=>{const r=e[n];return Array.isArray(r)?r.map(i=>`${Qd(n)}=${Qd(i)}`).join("&"):`${Qd(n)}=${Qd(r)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function e8(e){return encodeURI(e)}(t.fragment)}`:""}`}}const X5=new F_;function Yd(e){return e.segments.map(t=>ex(t)).join("/")}function xc(e,t){if(!e.hasChildren())return Yd(e);if(t){const n=e.children[Z]?xc(e.children[Z],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==Z&&r.push(`${i}:${xc(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function J5(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===Z&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==Z&&(n=n.concat(t(i,r)))}),n}(e,(r,i)=>i===Z?[xc(e.children[Z],!1)]:[`${i}:${xc(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Z]?`${Yd(e)}/${n[0]}`:`${Yd(e)}/(${n.join("//")})`}}function JR(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Qd(e){return JR(e).replace(/%3B/gi,";")}function L_(e){return JR(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Zd(e){return decodeURIComponent(e)}function XR(e){return Zd(e.replace(/\+/g,"%20"))}function ex(e){return`${L_(e.path)}${function t8(e){return Object.keys(e).map(t=>`;${L_(t)}=${L_(e[t])}`).join("")}(e.parameters)}`}const r8=/^[^\/()?;#]+/;function V_(e){const t=e.match(r8);return t?t[0]:""}const i8=/^[^\/()?;=#]+/,s8=/^[^=?&#]+/,c8=/^[^&#]+/;class l8{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new _e([],{}):new _e([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[Z]=new _e(t,n)),r}parseSegment(){const t=V_(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new T(4009,!1);return this.capture(t),new Mc(Zd(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=function o8(e){const t=e.match(i8);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=V_(this.remaining);i&&(r=i,this.capture(r))}t[Zd(n)]=Zd(r)}parseQueryParam(t){const n=function a8(e){const t=e.match(s8);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function u8(e){const t=e.match(c8);return t?t[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=XR(n),o=XR(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=V_(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new T(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Z);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[Z]:new _e([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new T(4011,!1)}}function tx(e){return e.segments.length>0?new _e([],{[Z]:e}):e}function nx(e){const t={};for(const r of Object.keys(e.children)){const o=nx(e.children[r]);if(r===Z&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}return function d8(e){if(1===e.numberOfChildren&&e.children[Z]){const t=e.children[Z];return new _e(e.segments.concat(t.segments),t.children)}return e}(new _e(e.segments,t))}function io(e){return e instanceof Vs}function rx(e){let t;const i=tx(function n(o){const s={};for(const c of o.children){const u=n(c);s[c.outlet]=u}const a=new _e(o.url,s);return o===e&&(t=a),a}(e.root));return t??i}function ix(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(0===t.length)return U_(i,i,i,n,r);const o=function f8(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new sx(!0,0,e);let t=0,n=!1;const r=e.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?t++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new sx(n,t,r)}(t);if(o.toRoot())return U_(i,i,new _e([],{}),n,r);const s=function p8(e,t,n){if(e.isAbsolute)return new Xd(t,!0,0);if(!n)return new Xd(t,!1,NaN);if(null===n.parent)return new Xd(n,!0,0);const r=Jd(e.commands[0])?0:1;return function g8(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new T(4005,!1);i=r.segments.length}return new Xd(r,!1,i-o)}(n,n.segments.length-1+r,e.numberOfDoubleDots)}(o,i,e),a=s.processChildren?Pc(s.segmentGroup,s.index,o.commands):ax(s.segmentGroup,s.index,o.commands);return U_(i,s.segmentGroup,a,n,r)}function Jd(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Nc(e){return"object"==typeof e&&null!=e&&e.outlets}function U_(e,t,n,r,i){let s,o={};r&&Object.entries(r).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),s=e===t?n:ox(e,t,n);const a=tx(nx(s));return new Vs(a,o,i)}function ox(e,t,n){const r={};return Object.entries(e.children).forEach(([i,o])=>{r[i]=o===t?n:ox(o,t,n)}),new _e(e.segments,r)}class sx{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Jd(r[0]))throw new T(4003,!1);const i=r.find(Nc);if(i&&i!==GR(r))throw new T(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Xd{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function ax(e,t,n){if(e||(e=new _e([],{})),0===e.segments.length&&e.hasChildren())return Pc(e,t,n);const r=function _8(e,t,n){let r=0,i=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;const s=e.segments[i],a=n[r];if(Nc(a))break;const c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===c)break;if(c&&u&&"object"==typeof u&&void 0===u.outlets){if(!ux(c,u,s))return o;r+=2}else{if(!ux(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const o=new _e(e.segments.slice(0,r.pathIndex),{});return o.children[Z]=new _e(e.segments.slice(r.pathIndex),e.children),Pc(o,0,i)}return r.match&&0===i.length?new _e(e.segments,{}):r.match&&!e.hasChildren()?j_(e,t,n):r.match?Pc(e,0,i):j_(e,t,n)}function Pc(e,t,n){if(0===n.length)return new _e(e.segments,{});{const r=function m8(e){return Nc(e[0])?e[0].outlets:{[Z]:e}}(n),i={};if(Object.keys(r).some(o=>o!==Z)&&e.children[Z]&&1===e.numberOfChildren&&0===e.children[Z].segments.length){const o=Pc(e.children[Z],t,n);return new _e(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=ax(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new _e(e.segments,i)}}function j_(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const o=n[i];if(Nc(o)){const c=v8(o.outlets);return new _e(r,c)}if(0===i&&Jd(n[0])){r.push(new Mc(e.segments[t].path,cx(n[0]))),i++;continue}const s=Nc(o)?o.outlets[Z]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Jd(a)?(r.push(new Mc(s,cx(a))),i+=2):(r.push(new Mc(s,{})),i++)}return new _e(r,{})}function v8(e){const t={};return Object.entries(e).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(t[n]=j_(new _e([],{}),0,r))}),t}function cx(e){const t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function ux(e,t,n){return e==n.path&&sr(t,n.parameters)}const kc="imperative";class ar{constructor(t,n){this.id=t,this.url=n}}class eh extends ar{constructor(t,n,r="imperative",i=null){super(t,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Vr extends ar{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Oc extends ar{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Us extends ar{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=16}}class th extends ar{constructor(t,n,r,i){super(t,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class lx extends ar{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class y8 extends ar{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class C8 extends ar{constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class b8 extends ar{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class w8 extends ar{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class E8{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class I8{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class D8{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class T8{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class S8{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class A8{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dx{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class B_{}class $_{constructor(t){this.url=t}}class M8{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Fc,this.attachRef=null}}let Fc=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new M8,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();class hx{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=H_(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=H_(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=z_(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return z_(t,this._root).map(n=>n.value)}}function H_(e,t){if(e===t.value)return t;for(const n of t.children){const r=H_(e,n);if(r)return r}return null}function z_(e,t){if(e===t.value)return[t];for(const n of t.children){const r=z_(e,n);if(r.length)return r.unshift(t),r}return[]}class Ur{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function js(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class fx extends hx{constructor(t,n){super(t),this.snapshot=n,W_(this,t)}toString(){return this.snapshot.toString()}}function px(e,t){const n=function R8(e,t){const s=new nh([],{},{},"",{},Z,t,null,{});return new mx("",new Ur(s,[]))}(0,t),r=new xt([new Mc("",{})]),i=new xt({}),o=new xt({}),s=new xt({}),a=new xt(""),c=new Bs(r,i,s,a,o,Z,t,n.root);return c.snapshot=n.root,new fx(new Ur(c,[]),n)}class Bs{constructor(t,n,r,i,o,s,a,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Ce(u=>u[Ac]))??z(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ce(t=>Ls(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ce(t=>Ls(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function gx(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function x8(e){return e.reduce((t,n)=>({params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class nh{get title(){return this.data?.[Ac]}constructor(t,n,r,i,o,s,a,c,u){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ls(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ls(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class mx extends hx{constructor(t,n){super(n),this.url=t,W_(this,n)}toString(){return _x(this._root)}}function W_(e,t){t.value._routerState=e,t.children.forEach(n=>W_(e,n))}function _x(e){const t=e.children.length>0?` { ${e.children.map(_x).join(", ")} } `:"";return`${e.value}${t}`}function G_(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,sr(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),sr(t.params,n.params)||e.paramsSubject.next(n.params),function q5(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!sr(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.urlSubject.next(n.url),sr(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function q_(e,t){const n=sr(e.params,t.params)&&function Z5(e,t){return ro(e,t)&&e.every((n,r)=>sr(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||q_(e.parent,t.parent))}let K_=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Z,this.activateEvents=new ae,this.deactivateEvents=new ae,this.attachEvents=new ae,this.detachEvents=new ae,this.parentContexts=k(Fc),this.location=k(Fn),this.changeDetector=k(Ad),this.environmentInjector=k(bn),this.inputBinder=k(rh,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new T(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new T(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new T(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new T(4013,!1);this._activatedRoute=n;const i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new N8(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=H({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[yn]})}}return e})();class N8{constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===Bs?this.route:t===Fc?this.childContexts:this.parent.get(t,n)}}const rh=new N("");let vx=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=x_([r.queryParams,r.params,r.data]).pipe(qn(([o,s,a],c)=>(a={...o,...s,...a},0===c?z(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const s=function oG(e){const t=ie(e);if(!t)return null;const n=new oc(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac})}}return e})();function Lc(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function k8(e,t,n){return t.children.map(r=>{for(const i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Lc(e,r,i);return Lc(e,r)})}(e,t,n);return new Ur(r,i)}{if(e.shouldAttach(t.value)){const o=e.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Lc(e,a)),s}}const r=function O8(e){return new Bs(new xt(e.url),new xt(e.params),new xt(e.queryParams),new xt(e.fragment),new xt(e.data),e.outlet,e.component,e)}(t.value),i=t.children.map(o=>Lc(e,o));return new Ur(r,i)}}const Y_="ngNavigationCancelingError";function yx(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=io(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=Cx(!1,0,t);return i.url=n,i.navigationBehaviorOptions=r,i}function Cx(e,t,n){const r=new Error("NavigationCancelingError: "+(e||""));return r[Y_]=!0,r.cancellationCode=t,n&&(r.url=n),r}function bx(e){return e&&e[Y_]}let wx=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=be({type:e,selectors:[["ng-component"]],standalone:!0,features:[bM],decls:1,vars:0,template:function(r,i){1&r&&A(0,"router-outlet")},dependencies:[K_],encapsulation:2})}}return e})();function Q_(e){const t=e.children&&e.children.map(Q_),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Z&&(n.component=wx),n}function Un(e){return e.outlet||Z}function Vc(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class H8{constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),G_(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const i=js(n);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){const i=t.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=js(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=js(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){const i=js(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new A8(o.value.snapshot))}),t.children.length&&this.forwardEvent(new T8(t.value.snapshot))}activateRoutes(t,n,r){const i=t.value,o=n?n.value:null;if(G_(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),G_(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=Vc(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,r)}}class Ex{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class ih{constructor(t,n){this.component=t,this.route=n}}function z8(e,t,n){const r=e._root;return Uc(r,t?t._root:null,n,[r.value])}function $s(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function vV(e){return null!==ol(e)}(e)?t.get(e):e:r}function Uc(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=js(t);return e.children.forEach(s=>{(function G8(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function q8(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!ro(e.url,t.url);case"pathParamsOrQueryParamsChange":return!ro(e.url,t.url)||!sr(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!q_(e,t)||!sr(e.queryParams,t.queryParams);default:return!q_(e,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Ex(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Uc(e,t,o.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ih(a.outlet.component,s))}else s&&jc(t,a,i),i.canActivateChecks.push(new Ex(r)),Uc(e,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>jc(a,n.getContext(s),i)),i}function jc(e,t,n){const r=js(e),i=e.value;Object.entries(r).forEach(([o,s])=>{jc(s,i.component?t?t.children.getContext(o):null:t,n)}),n.canDeactivateChecks.push(new ih(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function Bc(e){return"function"==typeof e}function Ix(e){return e instanceof Gd||"EmptyError"===e?.name}const oh=Symbol("INITIAL_VALUE");function Hs(){return qn(e=>x_(e.map(t=>t.pipe(eo(1),function V5(...e){const t=Ia(e);return Xe((n,r)=>{(t?N_(e,n,t):N_(e,n)).subscribe(r)})}(oh)))).pipe(Ce(t=>{for(const n of t)if(!0!==n){if(n===oh)return oh;if(!1===n||n instanceof Vs)return n}return!0}),Lr(t=>t!==oh),eo(1)))}function Dx(e){return function m2(...e){return PI(e)}(Ct(t=>{if(io(t))throw yx(0,t)}),Ce(t=>!0===t))}class sh{constructor(t){this.segmentGroup=t||null}}class Tx{constructor(t){this.urlTree=t}}function zs(e){return Tc(new sh(e))}function Sx(e){return Tc(new Tx(e))}class fq{constructor(t,n){this.urlSerializer=t,this.urlTree=n}noMatchError(t){return new T(4002,!1)}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return z(r);if(i.numberOfChildren>1||!i.children[Z])return Tc(new T(4e3,!1));i=i.children[Z]}}applyRedirectCommands(t,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r)}applyRedirectCreateUrlTree(t,n,r,i){const o=this.createSegmentGroup(t,n.root,r,i);return new Vs(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return Object.entries(t).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){const o=this.createSegments(t,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,r,i)}),new _e(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){const i=r[n.path.substring(1)];if(!i)throw new T(4001,!1);return i}findOrReturn(t,n){let r=0;for(const i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}}const Z_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function pq(e,t,n,r,i){const o=J_(e,t,n);return o.matched?(r=function L8(e,t){return e.providers&&!e._injector&&(e._injector=Im(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,r),function lq(e,t,n,r){const i=t.canMatch;return i&&0!==i.length?z(i.map(s=>{const a=$s(s,e);return pi(function X8(e){return e&&Bc(e.canMatch)}(a)?a.canMatch(t,n):e.runInContext(()=>a(t,n)))})).pipe(Hs(),Dx()):z(!0)}(r,t,n).pipe(Ce(s=>!0===s?o:{...Z_}))):z(o)}function J_(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...Z_}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(t.matcher||G5)(n,e,t);if(!i)return{...Z_};const o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Ax(e,t,n,r){return n.length>0&&function _q(e,t,n){return n.some(r=>ah(e,t,r)&&Un(r)!==Z)}(e,n,r)?{segmentGroup:new _e(t,mq(r,new _e(n,e.children))),slicedSegments:[]}:0===n.length&&function vq(e,t,n){return n.some(r=>ah(e,t,r))}(e,n,r)?{segmentGroup:new _e(e.segments,gq(e,0,n,r,e.children)),slicedSegments:n}:{segmentGroup:new _e(e.segments,e.children),slicedSegments:n}}function gq(e,t,n,r,i){const o={};for(const s of r)if(ah(e,n,s)&&!i[Un(s)]){const a=new _e([],{});o[Un(s)]=a}return{...i,...o}}function mq(e,t){const n={};n[Z]=t;for(const r of e)if(""===r.path&&Un(r)!==Z){const i=new _e([],{});n[Un(r)]=i}return n}function ah(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}class wq{constructor(t,n,r,i,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new fq(this.urlSerializer,this.urlTree)}noMatchError(t){return new T(4002,!1)}recognize(){const t=Ax(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Z).pipe(no(n=>{if(n instanceof Tx)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof sh?this.noMatchError(n):n}),Ce(n=>{const r=new nh([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Z,this.rootComponentType,null,{}),i=new Ur(r,n),o=new mx("",i),s=function h8(e,t,n=null,r=null){return ix(rx(e),t,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,Z).pipe(no(r=>{throw r instanceof sh?this.noMatchError(r):r}))}inheritParamsAndData(t){const n=t.value,r=gx(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,i,!0)}processChildren(t,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return it(i).pipe(Sc(o=>{const s=r.children[o],a=function B8(e,t){const n=e.filter(r=>Un(r)===t);return n.push(...e.filter(r=>Un(r)!==t)),n}(n,o);return this.processSegmentGroup(t,a,s,o)}),function B5(e,t){return Xe(function j5(e,t,n,r,i){return(o,s)=>{let a=n,c=t,u=0;o.subscribe(Ke(s,l=>{const d=u++;c=a?e(c,l,d):(a=!0,l),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}(e,t,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),qd(null),function $5(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Lr((i,o)=>e(i,o,r)):Xr,k_(1),n?qd(t):zR(()=>new Gd))}(),ft(o=>{if(null===o)return zs(r);const s=Mx(o);return function Eq(e){e.sort((t,n)=>t.value.outlet===Z?-1:n.value.outlet===Z?1:t.value.outlet.localeCompare(n.value.outlet))}(s),z(s)}))}processSegment(t,n,r,i,o,s){return it(n).pipe(Sc(a=>this.processSegmentAgainstRoute(a._injector??t,n,a,r,i,o,s).pipe(no(c=>{if(c instanceof sh)return z(null);throw c}))),to(a=>!!a),no(a=>{if(Ix(a))return function Cq(e,t,n){return 0===t.length&&!e.children[n]}(r,i,o)?z([]):zs(r);throw a}))}processSegmentAgainstRoute(t,n,r,i,o,s,a){return function yq(e,t,n,r){return!!(Un(e)===r||r!==Z&&ah(t,n,e))&&("**"===e.path||J_(t,e,n).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s):zs(i):zs(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Sx(o):this.applyRedirects.lineralizeSegments(r,o).pipe(ft(s=>{const a=new _e(s,{});return this.processSegment(t,n,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s){const{matched:a,consumedSegments:c,remainingSegments:u,positionalParamSegments:l}=J_(n,i,o);if(!a)return zs(n);const d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return i.redirectTo.startsWith("/")?Sx(d):this.applyRedirects.lineralizeSegments(i,d).pipe(ft(h=>this.processSegment(t,r,n,h.concat(u),s,!1)))}matchSegmentAgainstRoute(t,n,r,i,o,s){let a;if("**"===r.path){const c=i.length>0?GR(i).parameters:{};a=z({snapshot:new nh(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Rx(r),Un(r),r.component??r._loadedComponent??null,r,xx(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=pq(n,r,i,t).pipe(Ce(({matched:c,consumedSegments:u,remainingSegments:l,parameters:d})=>c?{snapshot:new nh(u,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Rx(r),Un(r),r.component??r._loadedComponent??null,r,xx(r)),consumedSegments:u,remainingSegments:l}:null));return a.pipe(qn(c=>null===c?zs(n):this.getChildConfig(t=r._injector??t,r,i).pipe(qn(({routes:u})=>{const l=r._loadedInjector??t,{snapshot:d,consumedSegments:h,remainingSegments:f}=c,{segmentGroup:p,slicedSegments:v}=Ax(n,h,f,u);if(0===v.length&&p.hasChildren())return this.processChildren(l,u,p).pipe(Ce(E=>null===E?null:[new Ur(d,E)]));if(0===u.length&&0===v.length)return z([new Ur(d,[])]);const b=Un(r)===o;return this.processSegment(l,u,p,v,b?Z:o,!0).pipe(Ce(E=>[new Ur(d,E)]))}))))}getChildConfig(t,n,r){return n.children?z({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?z({routes:n._loadedRoutes,injector:n._loadedInjector}):function uq(e,t,n,r){const i=t.canLoad;return void 0===i||0===i.length?z(!0):z(i.map(s=>{const a=$s(s,e);return pi(function Y8(e){return e&&Bc(e.canLoad)}(a)?a.canLoad(t,n):e.runInContext(()=>a(t,n)))})).pipe(Hs(),Dx())}(t,n,r).pipe(ft(i=>i?this.configLoader.loadChildren(t,n).pipe(Ct(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function hq(e){return Tc(Cx(!1,3))}())):z({routes:[],injector:t})}}function Iq(e){const t=e.value.routeConfig;return t&&""===t.path}function Mx(e){const t=[],n=new Set;for(const r of e){if(!Iq(r)){t.push(r);continue}const i=t.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):t.push(r)}for(const r of n){const i=Mx(r.children);t.push(new Ur(r.value,i))}return t.filter(r=>!n.has(r))}function Rx(e){return e.data||{}}function xx(e){return e.resolve||{}}function Nx(e){return"string"==typeof e.title||null===e.title}function X_(e){return qn(t=>{const n=e(t);return n?it(n).pipe(Ce(()=>t)):z(t)})}const Ws=new N("ROUTES");let ev=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=k(p1)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return z(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=pi(n.loadComponent()).pipe(Ce(Px),Ct(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),O_(()=>{this.componentLoaders.delete(n)})),i=new HR(r,()=>new sn).pipe(P_());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return z({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function xq(e,t,n,r){return pi(e.loadChildren()).pipe(Ce(Px),ft(i=>i instanceof yM||Array.isArray(i)?z(i):it(t.compileModuleAsync(i))),Ce(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(n).injector,s=o.get(Ws,[],{optional:!0,self:!0}).flat()),{routes:s.map(Q_),injector:o}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(O_(()=>{this.childrenLoaders.delete(r)})),s=new HR(o,()=>new sn).pipe(P_());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Px(e){return function Nq(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let ch=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new sn,this.transitionAbortSubject=new sn,this.configLoader=k(ev),this.environmentInjector=k(bn),this.urlSerializer=k(Rc),this.rootContexts=k(Fc),this.inputBindingEnabled=null!==k(rh,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>z(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new I8(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new E8(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new xt({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:kc,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Lr(o=>0!==o.id),Ce(o=>({...o,extractedUrl:n.urlHandlingStrategy.extract(o.rawUrl)})),qn(o=>{this.currentTransition=o;let s=!1,a=!1;return z(o).pipe(Ct(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),qn(c=>{const u=c.currentBrowserUrl.toString(),l=!n.navigated||c.extractedUrl.toString()!==u||u!==c.currentUrlTree.toString();if(!l&&"reload"!==(c.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const h="";return this.events.next(new Us(c.id,this.urlSerializer.serialize(c.rawUrl),h,0)),c.resolve(null),Gn}if(n.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return z(c).pipe(qn(h=>{const f=this.transitions?.getValue();return this.events.next(new eh(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?Gn:Promise.resolve(h)}),function Dq(e,t,n,r,i,o){return ft(s=>function bq(e,t,n,r,i,o,s="emptyOnly"){return new wq(e,t,n,r,i,s,o).recognize()}(e,t,n,r,s.extractedUrl,i,o).pipe(Ce(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Ct(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new lx(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&n.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:h,extractedUrl:f,source:p,restoredState:v,extras:b}=c,E=new eh(h,this.urlSerializer.serialize(f),p,v);this.events.next(E);const y=px(0,this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:y,urlAfterRedirects:f,extras:{...b,skipLocationChange:!1,replaceUrl:!1}},z(o)}{const h="";return this.events.next(new Us(c.id,this.urlSerializer.serialize(c.extractedUrl),h,1)),c.resolve(null),Gn}}),Ct(c=>{const u=new y8(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Ce(c=>(this.currentTransition=o={...c,guards:z8(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function tq(e,t){return ft(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?z({...n,guardsResult:!0}):function nq(e,t,n,r){return it(e).pipe(ft(i=>function cq(e,t,n,r,i){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?z(o.map(a=>{const c=Vc(t)??i,u=$s(a,c);return pi(function J8(e){return e&&Bc(e.canDeactivate)}(u)?u.canDeactivate(e,t,n,r):c.runInContext(()=>u(e,t,n,r))).pipe(to())})).pipe(Hs()):z(!0)}(i.component,i.route,n,t,r)),to(i=>!0!==i,!0))}(s,r,i,e).pipe(ft(a=>a&&function K8(e){return"boolean"==typeof e}(a)?function rq(e,t,n,r){return it(t).pipe(Sc(i=>N_(function oq(e,t){return null!==e&&t&&t(new D8(e)),z(!0)}(i.route.parent,r),function iq(e,t){return null!==e&&t&&t(new S8(e)),z(!0)}(i.route,r),function aq(e,t,n){const r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function W8(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(s)).filter(s=>null!==s).map(s=>$R(()=>z(s.guards.map(c=>{const u=Vc(s.node)??n,l=$s(c,u);return pi(function Z8(e){return e&&Bc(e.canActivateChild)}(l)?l.canActivateChild(r,e):u.runInContext(()=>l(r,e))).pipe(to())})).pipe(Hs())));return z(o).pipe(Hs())}(e,i.path,n),function sq(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return z(!0);const i=r.map(o=>$R(()=>{const s=Vc(t)??n,a=$s(o,s);return pi(function Q8(e){return e&&Bc(e.canActivate)}(a)?a.canActivate(t,e):s.runInContext(()=>a(t,e))).pipe(to())}));return z(i).pipe(Hs())}(e,i.route,n))),to(i=>!0!==i,!0))}(r,o,e,t):z(a)),Ce(a=>({...n,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),Ct(c=>{if(o.guardsResult=c.guardsResult,io(c.guardsResult))throw yx(0,c.guardsResult);const u=new C8(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),Lr(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),X_(c=>{if(c.guards.canActivateChecks.length)return z(c).pipe(Ct(u=>{const l=new b8(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),qn(u=>{let l=!1;return z(u).pipe(function Tq(e,t){return ft(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return z(n);let o=0;return it(i).pipe(Sc(s=>function Sq(e,t,n,r){const i=e.routeConfig,o=e._resolve;return void 0!==i?.title&&!Nx(i)&&(o[Ac]=i.title),function Aq(e,t,n,r){const i=function Mq(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===i.length)return z({});const o={};return it(i).pipe(ft(s=>function Rq(e,t,n,r){const i=Vc(t)??r,o=$s(e,i);return pi(o.resolve?o.resolve(t,n):i.runInContext(()=>o(t,n)))}(e[s],t,n,r).pipe(to(),Ct(a=>{o[s]=a}))),k_(1),function H5(e){return Ce(()=>e)}(o),no(s=>Ix(s)?Gn:Tc(s)))}(o,e,t,r).pipe(Ce(s=>(e._resolvedData=s,e.data=gx(e,n).resolve,i&&Nx(i)&&(e.data[Ac]=i.title),null)))}(s.route,r,e,t)),Ct(()=>o++),k_(1),ft(s=>o===i.length?z(n):Gn))})}(n.paramsInheritanceStrategy,this.environmentInjector),Ct({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(u,"",2)}}))}),Ct(u=>{const l=new w8(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}))}),X_(c=>{const u=l=>{const d=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(l.routeConfig).pipe(Ct(h=>{l.component=h}),Ce(()=>{})));for(const h of l.children)d.push(...u(h));return d};return x_(u(c.targetSnapshot.root)).pipe(qd(),eo(1))}),X_(()=>this.afterPreactivation()),Ce(c=>{const u=function P8(e,t,n){const r=Lc(e,t._root,n?n._root:void 0);return new fx(r,t)}(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:u},o}),Ct(()=>{this.events.next(new B_)}),((e,t,n,r)=>Ce(i=>(new H8(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)))(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),eo(1),Ct({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Vr(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),n.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),function z5(e){return Xe((t,n)=>{an(e).subscribe(Ke(n,()=>n.complete(),Qf)),!n.closed&&t.subscribe(n)})}(this.transitionAbortSubject.pipe(Ct(c=>{throw c}))),O_(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),no(c=>{if(a=!0,bx(c))this.events.next(new Oc(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function F8(e){return bx(e)&&io(e.url)}(c)?this.events.next(new $_(c.url)):o.resolve(!1);else{this.events.next(new th(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(c))}catch(u){o.reject(u)}}return Gn}))}))}cancelNavigationTransition(n,r,i){const o=new Oc(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function kx(e){return e!==kc}let Ox=(()=>{class e{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Z);return r}getResolvedTitleForRoute(n){return n.data[Ac]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=F({token:e,factory:function(){return k(Pq)},providedIn:"root"})}}return e})(),Pq=(()=>{class e extends Ox{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||e)(O(kR))}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),kq=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=F({token:e,factory:function(){return k(Fq)},providedIn:"root"})}}return e})();class Oq{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let Fq=(()=>{class e extends Oq{static{this.\u0275fac=function(){let n;return function(i){return(n||(n=vt(e)))(i||e)}}()}static{this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const uh=new N("",{providedIn:"root",factory:()=>({})});let Lq=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=F({token:e,factory:function(){return k(Vq)},providedIn:"root"})}}return e})(),Vq=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var $c=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}($c||{});function Fx(e,t){e.events.pipe(Lr(n=>n instanceof Vr||n instanceof Oc||n instanceof th||n instanceof Us),Ce(n=>n instanceof Vr||n instanceof Us?$c.COMPLETE:n instanceof Oc&&(0===n.code||1===n.code)?$c.REDIRECTING:$c.FAILED),Lr(n=>n!==$c.REDIRECTING),eo(1)).subscribe(()=>{t()})}function Uq(e){throw e}function jq(e,t,n){return t.parse("/")}const Bq={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},$q={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ot=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=k(h1),this.isNgZoneEnabled=!1,this._events=new sn,this.options=k(uh,{optional:!0})||{},this.pendingTasks=k(f1),this.errorHandler=this.options.errorHandler||Uq,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||jq,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=k(Lq),this.routeReuseStrategy=k(kq),this.titleStrategy=k(Ox),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=k(Ws,{optional:!0})?.flat()??[],this.navigationTransitions=k(ch),this.urlSerializer=k(Rc),this.location=k(i_),this.componentInputBindingEnabled=!!k(rh,{optional:!0}),this.eventsSubscription=new Gt,this.isNgZoneEnabled=k(he)instanceof he&&he.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Vs,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=px(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(Lx(r)&&this._events.next(r));if(r instanceof eh)kx(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof Us)this.rawUrlTree=i.rawUrl;else if(r instanceof lx){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(o,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof B_)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Oc)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof $_){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),s={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||kx(i.source)};this.scheduleNavigation(o,kc,null,s,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof th&&this.restoreHistory(i,!0),r instanceof Vr&&(this.navigated=!0),Lx(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),kc,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Q_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s;let d,l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...o};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=o||null}null!==l&&(l=this.removeEmptyProps(l));try{d=rx(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return ix(d,n,l,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=io(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,kc,null,r)}navigate(n,r={skipLocationChange:!1}){return function Hq(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new T(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...Bq}:!1===r?{...$q}:r,io(n))return KR(this.currentUrlTree,n,i);const o=this.parseUrl(n);return KR(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const o=n[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((d,h)=>{a=d,c=h});const l=this.pendingTasks.add();return Fx(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Lx(e){return!(e instanceof B_||e instanceof $_)}let gi=(()=>{class e{constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new sn,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=n.events.subscribe(u=>{u instanceof Vr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function y0(e,t,n){return function EB(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?v0:Cg}(t,n)(e)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||e)(w(ot),w(Bs),function Tl(e){return function zU(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if(dD(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===t)return n[i+1];i+=2}}}return null}(_t(),e)}("tabindex"),w(Sr),w(hn),w(Ji))}}static{this.\u0275dir=H({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&U("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&nr("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",ks],skipLocationChange:["skipLocationChange","skipLocationChange",ks],replaceUrl:["replaceUrl","replaceUrl",ks],routerLink:"routerLink"},standalone:!0,features:[kS,yn]})}}return e})();class Vx{}let Gq=(()=>{class e{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Lr(n=>n instanceof Vr),Sc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=Im(o.providers,n,`Route: ${o.path}`));const s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return it(i).pipe(Lo())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):z(null);const o=i.pipe(ft(s=>null===s?z(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));return r.loadComponent&&!r._loadedComponent?it([o,this.loader.loadComponent(r)]).pipe(Lo()):o})}static{this.\u0275fac=function(r){return new(r||e)(O(ot),O(p1),O(bn),O(Vx),O(ev))}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const tv=new N("");let Ux=(()=>{class e{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof eh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Vr?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Us&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof dx&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new dx(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){!function aS(){throw new Error("invalid")}()}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac})}}return e})();function jr(e,t){return{\u0275kind:e,\u0275providers:t}}function Bx(){const e=k(Tt);return t=>{const n=e.get(Ps);if(t!==n.components[0])return;const r=e.get(ot),i=e.get($x);1===e.get(nv)&&r.initialNavigation(),e.get(Hx,null,ne.Optional)?.setUpPreloading(),e.get(tv,null,ne.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const $x=new N("",{factory:()=>new sn}),nv=new N("",{providedIn:"root",factory:()=>1}),Hx=new N("");function Qq(e){return jr(0,[{provide:Hx,useExisting:Gq},{provide:Vx,useExisting:e}])}const zx=new N("ROUTER_FORROOT_GUARD"),Jq=[i_,{provide:Rc,useClass:F_},ot,Fc,{provide:Bs,useFactory:function jx(e){return e.routerState.root},deps:[ot]},ev,[]];function Xq(){return new b1("Router",ot)}let Wx=(()=>{class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[Jq,[],{provide:Ws,multi:!0,useValue:n},{provide:zx,useFactory:r7,deps:[[ot,new Vt,new Ml]]},{provide:uh,useValue:r||{}},r?.useHash?{provide:Ji,useClass:lG}:{provide:Ji,useClass:J1},{provide:tv,useFactory:()=>{const e=k(S6),t=k(he),n=k(uh),r=k(ch),i=k(Rc);return n.scrollOffset&&e.setOffset(n.scrollOffset),new Ux(i,r,e,t,n)}},r?.preloadingStrategy?Qq(r.preloadingStrategy).\u0275providers:[],{provide:b1,multi:!0,useFactory:Xq},r?.initialNavigation?i7(r):[],r?.bindToComponentInputs?jr(8,[vx,{provide:rh,useExisting:vx}]).\u0275providers:[],[{provide:Gx,useFactory:Bx},{provide:Km,multi:!0,useExisting:Gx}]]}}static forChild(n){return{ngModule:e,providers:[{provide:Ws,multi:!0,useValue:n}]}}static{this.\u0275fac=function(r){return new(r||e)(O(zx,8))}}static{this.\u0275mod=Kt({type:e})}static{this.\u0275inj=Nt({})}}return e})();function r7(e){return"guarded"}function i7(e){return["disabled"===e.initialNavigation?jr(3,[{provide:jm,multi:!0,useFactory:()=>{const t=k(ot);return()=>{t.setUpLocationChangeListener()}}},{provide:nv,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?jr(2,[{provide:nv,useValue:0},{provide:jm,multi:!0,deps:[Tt],useFactory:t=>{const n=t.get(cG,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=t.get(ot),o=t.get($x);Fx(i,()=>{r(!0)}),t.get(ch).afterPreactivation=()=>(r(!0),o.closed?z(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const Gx=new N("");function qx(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(u){return void n(u)}a.done?t(c):Promise.resolve(c).then(r,i)}function _(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function s(c){qx(o,r,i,s,a,"next",c)}function a(c){qx(o,r,i,s,a,"throw",c)}s(void 0)})}}const S=function(e,t){if(!e)throw Gs(t)},Gs=function(e){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+e)},Kx=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},lh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const o=e[i],s=i+1<e.length,a=s?e[i+1]:0,c=i+2<e.length,u=c?e[i+2]:0;let h=(15&a)<<2|u>>6,f=63&u;c||(f=64,s||(h=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Kx(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const c=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(1023&c))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const d=i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==u||null==d)throw new a7;r.push(o<<2|a>>4),64!==u&&(r.push(a<<4&240|u>>2),64!==d&&r.push(u<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class a7 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Yx=function(e){const t=Kx(e);return lh.encodeByteArray(t,!0)},dh=function(e){return Yx(e).replace(/\./g,"")},hh=function(e){try{return lh.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function c7(e){return Qx(void 0,e)}function Qx(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!u7(n)||(e[n]=Qx(e[n],t[n]));return e}function u7(e){return"__proto__"!==e}const fh=()=>{try{return function l7(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const e=process.env.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&hh(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},Zx=e=>{var t,n;return null===(n=null===(t=fh())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Jx=()=>{var e;return null===(e=fh())||void 0===e?void 0:e.config},Xx=e=>{var t;return null===(t=fh())||void 0===t?void 0:t[`_${e}`]};class oo{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof t&&(this.promise.catch(()=>{}),1===t.length?t(n):t(n,r))}}}function st(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function iv(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(st())}function ov(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function eN(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function so(){try{return"object"==typeof indexedDB}catch{return!1}}function Hc(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(n){t(n)}})}function sv(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class jn extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,jn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cr.prototype.create)}}class cr{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],s=o?function y7(e,t){return e.replace(C7,(n,r)=>{const i=t[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new jn(i,`${this.serviceName}: ${s} (${i}).`,r)}}const C7=/\{\$([^}]+)}/g;function zc(e){return JSON.parse(e)}function rt(e){return JSON.stringify(e)}const ph=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=zc(hh(o[0])||""),n=zc(hh(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}};function ur(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function qs(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function av(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function gh(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function mh(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const o=e[i],s=t[i];if(tN(o)&&tN(s)){if(!mh(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function tN(e){return null!==e&&"object"==typeof e}function Ks(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Wc(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(o)}}),t}function Gc(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class E7{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const r=this.W_;if("string"==typeof t)for(let d=0;d<16;d++)r[d]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=4294967295&(h<<1|h>>>31)}let u,l,i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],c=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(u=a^o&(s^a),l=1518500249):(u=o^s^a,l=1859775393):d<60?(u=o&s|a&(o|s),l=2400959708):(u=o^s^a,l=3395469782);const h=(i<<5|i>>>27)+u+c+l+r[d]&4294967295;c=a,a=s,s=4294967295&(o<<30|o>>>2),o=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(t,n){if(null==t)return;void 0===n&&(n=t.length);const r=n-this.blockSize;let i=0;const o=this.buf_;let s=this.inbuf_;for(;i<n;){if(0===s)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if("string"==typeof t){for(;i<n;)if(o[s]=t.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=t[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){const t=[];let n=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&n,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)t[r]=this.chain_[i]>>o&255,++r;return t}}class D7{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(void 0===t&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function T7(e,t){if("object"!=typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(t,["next","error","complete"])?t:{next:t,error:n,complete:r},void 0===i.next&&(i.next=cv),void 0===i.error&&(i.error=cv),void 0===i.complete&&(i.complete=cv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(t){void 0===this.observers||void 0===this.observers[t]||(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cv(){}function Ys(e,t){return`${e} failed: ${t} argument `}const _h=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},A7=1e3,M7=2,R7=144e5,x7=.5;function uv(e,t=A7,n=M7){const r=t*Math.pow(n,e),i=Math.round(x7*r*(Math.random()-.5)*2);return Math.min(R7,r+i)}function bt(e){return e&&e._delegate?e._delegate:e}class At{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const ao="[DEFAULT]";class P7{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new oo;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t?.identifier),i=null!==(n=t?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function O7(e){return"EAGER"===e.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:ao})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=ao){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){var t=this;return _(function*(){const n=Array.from(t.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(t=ao){return this.instances.has(t)}getOptions(t=ao){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&t(s,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(e=t,e===ao?void 0:e),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}var e;return r||null}normalizeInstanceIdentifier(t=ao){return this.component?this.component.multipleInstances?t:ao:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class F7{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new P7(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}const lv=[];var ve=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}(ve||{});const nN={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},L7=ve.INFO,V7={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},U7=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=V7[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class Qs{constructor(t){this.name=t,this._logLevel=L7,this._logHandler=U7,this._userLogHandler=null,lv.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ve))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?nN[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...t),this._logHandler(this,ve.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...t),this._logHandler(this,ve.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...t),this._logHandler(this,ve.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...t),this._logHandler(this,ve.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...t),this._logHandler(this,ve.ERROR,...t)}}const j7=(e,t)=>t.some(n=>e instanceof n);let rN,iN;const oN=new WeakMap,dv=new WeakMap,sN=new WeakMap,hv=new WeakMap,fv=new WeakMap;let pv={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return dv.get(e);if("objectStoreNames"===t)return e.objectStoreNames||sN.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return mi(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function q7(e){return"function"==typeof e?function G7(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function $7(){return iN||(iN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(e)?function(...t){return e.apply(gv(this),t),mi(oN.get(this))}:function(...t){return mi(e.apply(gv(this),t))}:function(t,...n){const r=e.call(gv(this),t,...n);return sN.set(r,t.sort?t.sort():[t]),mi(r)}}(e):(e instanceof IDBTransaction&&function z7(e){if(dv.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});dv.set(e,t)}(e),j7(e,function B7(){return rN||(rN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(e,pv):e)}function mi(e){if(e instanceof IDBRequest)return function H7(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(mi(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&oN.set(n,e)}).catch(()=>{}),fv.set(t,e),t}(e);if(hv.has(e))return hv.get(e);const t=q7(e);return t!==e&&(hv.set(e,t),fv.set(t,e)),t}const gv=e=>fv.get(e),Y7=["get","getKey","getAll","getAllKeys","count"],Q7=["put","add","delete","clear"],mv=new Map;function aN(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(mv.get(t))return mv.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Q7.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Y7.includes(n))return;const o=function(){var s=_(function*(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]});return function(c){return s.apply(this,arguments)}}();return mv.set(t,o),o}!function W7(e){pv=e(pv)}(e=>({...e,get:(t,n,r)=>aN(t,n)||e.get(t,n,r),has:(t,n)=>!!aN(t,n)||e.has(t,n)}));class Z7{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function J7(e){const t=e.getComponent();return"VERSION"===t?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const _v="@firebase/app",co=new Qs("@firebase/app"),vh="[DEFAULT]",I9={[_v]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},uo=new Map,yh=new Map;function D9(e,t){try{e.container.addComponent(t)}catch(n){co.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function $t(e){const t=e.name;if(yh.has(t))return co.debug(`There were multiple attempts to register component ${t}.`),!1;yh.set(t,e);for(const n of uo.values())D9(n,e);return!0}function Zs(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const $r=new cr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class S9{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new At("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw $r.create("app-deleted",{appName:this._name})}}const lo="9.23.0";function uN(e,t={}){let n=e;"object"!=typeof t&&(t={name:t});const r=Object.assign({name:vh,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!=typeof i||!i)throw $r.create("bad-app-name",{appName:String(i)});if(n||(n=Jx()),!n)throw $r.create("no-options");const o=uo.get(i);if(o){if(mh(n,o.options)&&mh(r,o.config))return o;throw $r.create("duplicate-app",{appName:i})}const s=new F7(i);for(const c of yh.values())s.addComponent(c);const a=new S9(n,r,s);return uo.set(i,a),a}function vv(e=vh){const t=uo.get(e);if(!t&&e===vh&&Jx())return uN();if(!t)throw $r.create("no-app",{appName:e});return t}function lN(){return Array.from(uo.values())}function je(e,t,n){var r;let i=null!==(r=I9[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${t}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void co.warn(a.join(" "))}$t(new At(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const A9="firebase-heartbeat-database",M9=1,qc="firebase-heartbeat-store";let Cv=null;function dN(){return Cv||(Cv=function K7(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=mi(s);return r&&s.addEventListener("upgradeneeded",c=>{r(mi(s.result),c.oldVersion,c.newVersion,mi(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}(A9,M9,{upgrade:(e,t)=>{0===t&&e.createObjectStore(qc)}}).catch(e=>{throw $r.create("idb-open",{originalErrorMessage:e.message})})),Cv}function bv(){return(bv=_(function*(e){try{return yield(yield dN()).transaction(qc).objectStore(qc).get(fN(e))}catch(t){if(t instanceof jn)co.warn(t.message);else{const n=$r.create("idb-get",{originalErrorMessage:t?.message});co.warn(n.message)}}})).apply(this,arguments)}function hN(e,t){return wv.apply(this,arguments)}function wv(){return(wv=_(function*(e,t){try{const r=(yield dN()).transaction(qc,"readwrite");yield r.objectStore(qc).put(t,fN(e)),yield r.done}catch(n){if(n instanceof jn)co.warn(n.message);else{const r=$r.create("idb-set",{originalErrorMessage:n?.message});co.warn(r.message)}}})).apply(this,arguments)}function fN(e){return`${e.name}!${e.options.appId}`}class P9{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new O9(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var t=this;return _(function*(){const r=t.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=pN();if(null===t._heartbeatsCache&&(t._heartbeatsCache=yield t._heartbeatsCachePromise),t._heartbeatsCache.lastSentHeartbeatDate!==i&&!t._heartbeatsCache.heartbeats.some(o=>o.date===i))return t._heartbeatsCache.heartbeats.push({date:i,agent:r}),t._heartbeatsCache.heartbeats=t._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=2592e6}),t._storage.overwrite(t._heartbeatsCache)})()}getHeartbeatsHeader(){var t=this;return _(function*(){if(null===t._heartbeatsCache&&(yield t._heartbeatsCachePromise),null===t._heartbeatsCache||0===t._heartbeatsCache.heartbeats.length)return"";const n=pN(),{heartbeatsToSend:r,unsentEntries:i}=function k9(e,t=1024){const n=[];let r=e.slice();for(const i of e){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),gN(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),gN(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(t._heartbeatsCache.heartbeats),o=dh(JSON.stringify({version:2,heartbeats:r}));return t._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(t._heartbeatsCache.heartbeats=i,yield t._storage.overwrite(t._heartbeatsCache)):(t._heartbeatsCache.heartbeats=[],t._storage.overwrite(t._heartbeatsCache)),o})()}}function pN(){return(new Date).toISOString().substring(0,10)}class O9{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(function*(){return!!so()&&Hc().then(()=>!0).catch(()=>!1)})()}read(){var t=this;return _(function*(){return(yield t._canUseIndexedDBPromise)&&(yield function R9(e){return bv.apply(this,arguments)}(t.app))||{heartbeats:[]}})()}overwrite(t){var n=this;return _(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return hN(n.app,{lastSentHeartbeatDate:null!==(r=t.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}})()}add(t){var n=this;return _(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return hN(n.app,{lastSentHeartbeatDate:null!==(r=t.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}})()}}function gN(e){return dh(JSON.stringify({version:2,heartbeats:e})).length}!function F9(e){$t(new At("platform-logger",t=>new Z7(t),"PRIVATE")),$t(new At("heartbeat",t=>new P9(t),"PRIVATE")),je(_v,"0.9.13",e),je(_v,"0.9.13","esm2017"),je("fire-js","")}("");const L9=function mN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},_N=new cr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ch=new Qs("@firebase/auth");function bh(e,...t){Ch.logLevel<=ve.ERROR&&Ch.error(`Auth (${lo}): ${e}`,...t)}function nn(e,...t){throw Ev(e,...t)}function lr(e,...t){return Ev(e,...t)}function Ev(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return _N.create(e,...t)}function M(e,t,...n){if(!e)throw Ev(t,...n)}function dr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw bh(t),new Error(t)}function _i(e,t){e||dr(t)}function Kc(){var e;return typeof self<"u"&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function yN(){var e;return typeof self<"u"&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Yc{constructor(t,n){this.shortDelay=t,this.longDelay=n,_i(n>t,"Short delay should be less than long delay!"),this.isMobile=iv()||eN()}get(){return function U9(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Iv(){return"http:"===yN()||"https:"===yN()}()||ov()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Dv(e,t){_i(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class CN{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void dr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void dr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void dr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const B9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},$9=new Yc(3e4,6e4);function Oe(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Be(e,t,n,r){return Tv.apply(this,arguments)}function Tv(){return(Tv=_(function*(e,t,n,r,i={}){return bN(e,i,_(function*(){let o={},s={};r&&("GET"===t?s=r:o={body:JSON.stringify(r)});const a=Ks(Object.assign({key:e.config.apiKey},s)).slice(1),c=yield e._getAdditionalHeaders();return c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode),CN.fetch()(wN(e,e.config.apiHost,n,a),Object.assign({method:t,headers:c,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function bN(e,t,n){return Sv.apply(this,arguments)}function Sv(){return(Sv=_(function*(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},B9),t);try{const i=new H9(e),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw Qc(e,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw Qc(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===c)throw Qc(e,"email-already-in-use",s);if("USER_DISABLED"===c)throw Qc(e,"user-disabled",s);const l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw function vN(e,t,n){const r=Object.assign(Object.assign({},L9()),{[t]:n});return new cr("auth","Firebase",r).create(t,{appName:e.name})}(e,l,u);nn(e,l)}}catch(i){if(i instanceof jn)throw i;nn(e,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function Hr(e,t,n,r){return Av.apply(this,arguments)}function Av(){return(Av=_(function*(e,t,n,r,i={}){const o=yield Be(e,t,n,r,i);return"mfaPendingCredential"in o&&nn(e,"multi-factor-auth-required",{_serverResponse:o}),o})).apply(this,arguments)}function wN(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?Dv(e.config,i):`${e.config.apiScheme}://${i}`}class H9{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(lr(this.auth,"network-request-failed")),$9.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Qc(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=lr(e,t,r);return i.customData._tokenResponse=n,i}function Mv(){return(Mv=_(function*(e,t){return Be(e,"POST","/v1/accounts:delete",t)})).apply(this,arguments)}function xv(){return(xv=_(function*(e,t){return Be(e,"POST","/v1/accounts:lookup",t)})).apply(this,arguments)}function Zc(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function Nv(){return(Nv=_(function*(e,t=!1){const n=bt(e),r=yield n.getIdToken(t),i=wh(r);M(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Zc(Pv(i.auth_time)),issuedAtTime:Zc(Pv(i.iat)),expirationTime:Zc(Pv(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function Pv(e){return 1e3*Number(e)}function wh(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return bh("JWT malformed, contained fewer than 3 sections"),null;try{const i=hh(n);return i?JSON.parse(i):(bh("Failed to decode base64 JWT payload"),null)}catch(i){return bh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function zr(e,t){return kv.apply(this,arguments)}function kv(){return(kv=_(function*(e,t,n=!1){if(n)return t;try{return yield t}catch(r){throw r instanceof jn&&function Y9({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(r)&&e.auth.currentUser===e&&(yield e.auth.signOut()),r}})).apply(this,arguments)}class Q9{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(t);this.timerId=setTimeout(_(function*(){yield n.iteration()}),r)}iteration(){var t=this;return _(function*(){try{yield t.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&t.schedule(!0))}t.schedule()})()}}class EN{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zc(this.lastLoginAt),this.creationTime=Zc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Jc(e){return Ov.apply(this,arguments)}function Ov(){return Ov=_(function*(e){var t;const n=e.auth,r=yield e.getIdToken(),i=yield zr(e,function G9(e,t){return xv.apply(this,arguments)}(n,{idToken:r}));M(i?.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=null!==(t=o.providerUserInfo)&&void 0!==t&&t.length?function X9(e){return e.map(t=>{var{providerId:n}=t,r=el(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(o.providerUserInfo):[],a=function J9(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}(e.providerData,s),l=!!e.isAnonymous&&!(e.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new EN(o.createdAt,o.lastLoginAt),isAnonymous:l};Object.assign(e,d)}),Ov.apply(this,arguments)}function Fv(){return(Fv=_(function*(e){const t=bt(e);yield Jc(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})).apply(this,arguments)}function Lv(){return(Lv=_(function*(e,t){const n=yield bN(e,{},_(function*(){const r=Ks({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=e.config,s=wN(e,i,"/v1/token",`key=${o}`),a=yield e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",CN.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Xc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){M(t.idToken,"internal-error"),M(typeof t.idToken<"u","internal-error"),M(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):function K9(e){const t=wh(e);return M(t,"internal-error"),M(typeof t.exp<"u","internal-error"),M(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}getToken(t,n=!1){var r=this;return _(function*(){return M(!r.accessToken||r.refreshToken,t,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(t,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(t,n){var r=this;return _(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function eK(e,t){return Lv.apply(this,arguments)}(t,n);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Xc;return r&&(M("string"==typeof r,"internal-error",{appName:t}),s.refreshToken=r),i&&(M("string"==typeof i,"internal-error",{appName:t}),s.accessToken=i),o&&(M("number"==typeof o,"internal-error",{appName:t}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Xc,this.toJSON())}_performRefresh(){return dr("not implemented")}}function vi(e,t){M("string"==typeof e||typeof e>"u","internal-error",{appName:t})}class ho{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,o=el(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Q9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new EN(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(t){var n=this;return _(function*(){const r=yield zr(n,n.stsTokenManager.getToken(n.auth,t));return M(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(t){return function q9(e){return Nv.apply(this,arguments)}(this,t)}reload(){return function Z9(e){return Fv.apply(this,arguments)}(this)}_assign(t){this!==t&&(M(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ho(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){M(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,n=!1){var r=this;return _(function*(){let i=!1;t.idToken&&t.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(t),i=!0),n&&(yield Jc(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var t=this;return _(function*(){const n=yield t.getIdToken();return yield zr(t,function z9(e,t){return Mv.apply(this,arguments)}(t.auth,{idToken:n})),t.stsTokenManager.clearRefreshToken(),t.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,o,s,a,c,u,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,p=null!==(s=n.photoURL)&&void 0!==s?s:void 0,v=null!==(a=n.tenantId)&&void 0!==a?a:void 0,b=null!==(c=n._redirectEventId)&&void 0!==c?c:void 0,E=null!==(u=n.createdAt)&&void 0!==u?u:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:P,emailVerified:V,isAnonymous:ee,providerData:ht,stsTokenManager:Mn}=n;M(P&&Mn,t,"internal-error");const Fi=Xc.fromJSON(this.name,Mn);M("string"==typeof P,t,"internal-error"),vi(d,t.name),vi(h,t.name),M("boolean"==typeof V,t,"internal-error"),M("boolean"==typeof ee,t,"internal-error"),vi(f,t.name),vi(p,t.name),vi(v,t.name),vi(b,t.name),vi(E,t.name),vi(y,t.name);const Oo=new ho({uid:P,auth:t,email:h,emailVerified:V,displayName:d,isAnonymous:ee,photoURL:p,phoneNumber:f,tenantId:v,stsTokenManager:Fi,createdAt:E,lastLoginAt:y});return ht&&Array.isArray(ht)&&(Oo.providerData=ht.map(AI=>Object.assign({},AI))),b&&(Oo._redirectEventId=b),Oo}static _fromIdTokenResponse(t,n,r=!1){return _(function*(){const i=new Xc;i.updateFromServerResponse(n);const o=new ho({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return yield Jc(o),o})()}}const IN=new Map;function Wr(e){_i(e instanceof Function,"Expected a class definition");let t=IN.get(e);return t?(_i(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,IN.set(e,t),t)}const DN=(()=>{class e{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(function*(){return!0})()}_set(n,r){var i=this;return _(function*(){i.storage[n]=r})()}_get(n){var r=this;return _(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return _(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return e.type="NONE",e})();function Eh(e,t,n){return`firebase:${e}:${t}:${n}`}class Xs{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Eh(this.userKey,i.apiKey,o),this.fullPersistenceKey=Eh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){var t=this;return _(function*(){const n=yield t.persistence._get(t.fullUserKey);return n?ho._fromJSON(t.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){var n=this;return _(function*(){if(n.persistence===t)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=t,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,n,r="authUser"){return _(function*(){if(!n.length)return new Xs(Wr(DN),t,r);const i=(yield Promise.all(n.map(function(){var u=_(function*(l){if(yield l._isAvailable())return l});return function(l){return u.apply(this,arguments)}}()))).filter(u=>u);let o=i[0]||Wr(DN);const s=Eh(r,t.config.apiKey,t.name);let a=null;for(const u of n)try{const l=yield u._get(s);if(l){const d=ho._fromJSON(t,l);u!==o&&(a=d),o=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return o._shouldAllowMigration&&c.length?(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(function(){var u=_(function*(l){if(l!==o)try{yield l._remove(s)}catch{}});return function(l){return u.apply(this,arguments)}}())),new Xs(o,t,r)):new Xs(o,t,r)})()}}function TN(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(MN(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(SN(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(xN(t))return"Blackberry";if(NN(t))return"Webos";if(Vv(t))return"Safari";if((t.includes("chrome/")||AN(t))&&!t.includes("edge/"))return"Chrome";if(RN(t))return"Android";{const r=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function SN(e=st()){return/firefox\//i.test(e)}function Vv(e=st()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function AN(e=st()){return/crios\//i.test(e)}function MN(e=st()){return/iemobile/i.test(e)}function RN(e=st()){return/android/i.test(e)}function xN(e=st()){return/blackberry/i.test(e)}function NN(e=st()){return/webos/i.test(e)}function Ih(e=st()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function PN(e=st()){return Ih(e)||RN(e)||NN(e)||xN(e)||/windows phone/i.test(e)||MN(e)}function kN(e,t=[]){let n;switch(e){case"Browser":n=TN(st());break;case"Worker":n=`${TN(st())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${lo}/${r}`}function ON(e,t){return jv.apply(this,arguments)}function jv(){return(jv=_(function*(e,t){return Be(e,"GET","/v2/recaptchaConfig",Oe(e,t))})).apply(this,arguments)}function LN(e){return void 0!==e&&void 0!==e.enterprise}class VN{constructor(t){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}function Bv(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const o=lr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",function oK(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})}function UN(e){return`__${e}${Math.floor(1e6*Math.random())}`}class jN{constructor(t){this.type="recaptcha-enterprise",this.auth=at(t)}verify(t="verify",n=!1){var r=this;return _(function*(){function o(){return o=_(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=_(function*(u,l){ON(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new VN(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,u(h.siteKey)}l(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{l(d)})});return function(u,l){return c.apply(this,arguments)}}())}),o.apply(this,arguments)}function s(a,c,u){const l=window.grecaptcha;LN(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:t}).then(d=>{c(d)}).catch(()=>{c("NO_RECAPTCHA")})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function i(a){return o.apply(this,arguments)})(r.auth).then(u=>{if(!n&&LN(window.grecaptcha))s(u,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));Bv("https://www.google.com/recaptcha/enterprise.js?render="+u).then(()=>{s(u,a,c)}).catch(l=>{c(l)})}}).catch(u=>{c(u)})})})()}}function yi(e,t,n){return $v.apply(this,arguments)}function $v(){return($v=_(function*(e,t,n,r=!1){const i=new jN(e);let o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}const s=Object.assign({},t);return Object.assign(s,r?{captchaResp:o}:{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})).apply(this,arguments)}class uK{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=o=>new Promise((s,a)=>{try{s(t(o))}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(t){var n=this;return _(function*(){if(n.auth.currentUser===t)return;const r=[];try{for(const i of n.queue)yield i(t),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class lK{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new BN(this),this.idTokenSubscription=new BN(this),this.beforeStateQueue=new uK(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_N,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){var r=this;return n&&(this._popupRedirectResolver=Wr(n)),this._initializationPromise=this.queue(_(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield Xs.create(r,t),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var t=this;return _(function*(){if(t._deleted)return;const n=yield t.assertedPersistence.getCurrentUser();if(t.currentUser||n){if(t.currentUser&&n&&t.currentUser.uid===n.uid)return t._currentUser._assign(n),void(yield t.currentUser.getIdToken());yield t._updateCurrentUser(n,!0)}})()}initializeCurrentUser(t){var n=this;return _(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let o=i,s=!1;if(t&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,c=o?._redirectEventId,u=yield n.tryRedirectSignIn(t);(!a||a===c)&&u?.user&&(o=u.user,s=!0)}if(!o)return n.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield n.beforeStateQueue.runMiddleware(o)}catch(a){o=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return o?n.reloadAndSetCurrentUserOrClear(o):n.directlySetCurrentUser(null)}return M(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===o._redirectEventId?n.directlySetCurrentUser(o):n.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(t){var n=this;return _(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,t,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(t){var n=this;return _(function*(){try{yield Jc(t)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(t)})()}useDeviceLanguage(){this.languageCode=function j9(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}_delete(){var t=this;return _(function*(){t._deleted=!0})()}updateCurrentUser(t){var n=this;return _(function*(){const r=t?bt(t):null;return r&&M(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(t,n=!1){var r=this;return _(function*(){if(!r._deleted)return t&&M(r.tenantId===t.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(t)),r.queue(_(function*(){yield r.directlySetCurrentUser(t),r.notifyAuthListeners()}))})()}signOut(){var t=this;return _(function*(){return yield t.beforeStateQueue.runMiddleware(null),(t.redirectPersistenceManager||t._popupRedirectResolver)&&(yield t._setRedirectUser(null)),t._updateCurrentUser(null,!0)})()}setPersistence(t){var n=this;return this.queue(_(function*(){yield n.assertedPersistence.setPersistence(Wr(t))}))}initializeRecaptchaConfig(){var t=this;return _(function*(){const n=yield ON(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new VN(n);null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.emailPasswordEnabled&&new jN(t).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new cr("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}_setRedirectUser(t,n){var r=this;return _(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===t?i.removeCurrentUser():i.setCurrentUser(t)})()}getOrInitRedirectPersistenceManager(t){var n=this;return _(function*(){if(!n.redirectPersistenceManager){const r=t&&Wr(t)||n._popupRedirectResolver;M(r,n,"argument-error"),n.redirectPersistenceManager=yield Xs.create(n,[Wr(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(t){var n=this;return _(function*(){var r,i;return n._isInitialized&&(yield n.queue(_(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===t?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===t?n.redirectUser:null})()}_persistUserIfCurrent(t){var n=this;return _(function*(){if(t===n.currentUser)return n.queue(_(function*(){return n.directlySetCurrentUser(t)}))})()}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const o="function"==typeof n?n:n.next.bind(n),s=this._isInitialized?Promise.resolve():this._initializationPromise;return M(s,this,"internal-error"),s.then(()=>o(this.currentUser)),"function"==typeof n?t.addObserver(n,r,i):t.addObserver(n)}directlySetCurrentUser(t){var n=this;return _(function*(){n.currentUser&&n.currentUser!==t&&n._currentUser._stopProactiveRefresh(),t&&n.isProactiveRefreshEnabled&&t._startProactiveRefresh(),n.currentUser=t,t?yield n.assertedPersistence.setCurrentUser(t):yield n.assertedPersistence.removeCurrentUser()})()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return M(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=kN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var t=this;return _(function*(){var n;const r={"X-Client-Version":t.clientVersion};t.app.options.appId&&(r["X-Firebase-gmpid"]=t.app.options.appId);const i=yield null===(n=t.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield t._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var t=this;return _(function*(){var n;const r=yield null===(n=t.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function V9(e,...t){Ch.logLevel<=ve.WARN&&Ch.warn(`Auth (${lo}): ${e}`,...t)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function at(e){return bt(e)}class BN{constructor(t){this.auth=t,this.observer=null,this.addObserver=function I7(e,t){const n=new D7(e,t);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return M(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function $N(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function HN(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class eu{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return dr("not implemented")}_getIdTokenResponse(t){return dr("not implemented")}_linkToIdToken(t,n){return dr("not implemented")}_getReauthenticationResolver(t){return dr("not implemented")}}function WN(e,t){return zv.apply(this,arguments)}function zv(){return(zv=_(function*(e,t){return Be(e,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function Gv(e,t){return qv.apply(this,arguments)}function qv(){return(qv=_(function*(e,t){return Hr(e,"POST","/v1/accounts:signInWithPassword",Oe(e,t))})).apply(this,arguments)}function ty(){return(ty=_(function*(e,t){return Hr(e,"POST","/v1/accounts:signInWithEmailLink",Oe(e,t))})).apply(this,arguments)}function ny(){return(ny=_(function*(e,t){return Hr(e,"POST","/v1/accounts:signInWithEmailLink",Oe(e,t))})).apply(this,arguments)}class tu extends eu{constructor(t,n,r,i=null){super("password",r),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new tu(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new tu(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n="string"==typeof t?JSON.parse(t):t;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(t){var n=this;return _(function*(){var r;switch(n.signInMethod){case"password":const i={returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(r=t._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const o=yield yi(t,i,"signInWithPassword");return Gv(t,o)}return Gv(t,i).catch(function(){var o=_(function*(s){if("auth/missing-recaptcha-token"===s.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const a=yield yi(t,i,"signInWithPassword");return Gv(t,a)}return Promise.reject(s)});return function(s){return o.apply(this,arguments)}}());case"emailLink":return function yK(e,t){return ty.apply(this,arguments)}(t,{email:n._email,oobCode:n._password});default:nn(t,"internal-error")}})()}_linkToIdToken(t,n){var r=this;return _(function*(){switch(r.signInMethod){case"password":return WN(t,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function CK(e,t){return ny.apply(this,arguments)}(t,{idToken:n,email:r._email,oobCode:r._password});default:nn(t,"internal-error")}})()}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}function Gr(e,t){return ry.apply(this,arguments)}function ry(){return(ry=_(function*(e,t){return Hr(e,"POST","/v1/accounts:signInWithIdp",Oe(e,t))})).apply(this,arguments)}class iu{constructor(t){var n,r,i,o,s,a;const c=Wc(Gc(t)),u=null!==(n=c.apiKey)&&void 0!==n?n:null,l=null!==(r=c.oobCode)&&void 0!==r?r:null,d=function SK(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);M(u&&l&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=l,this.continueUrl=null!==(o=c.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=c.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(t){const n=function AK(e){const t=Wc(Gc(e)).link,n=t?Wc(Gc(t)).deep_link_id:null,r=Wc(Gc(e)).deep_link_id;return(r?Wc(Gc(r)).link:null)||r||n||t||e}(t);try{return new iu(n)}catch{return null}}}let GN=(()=>{class e{constructor(){this.providerId=e.PROVIDER_ID}static credential(n,r){return tu._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=iu.parseLink(r);return M(i,"argument-error"),tu._fromEmailAndCode(n,i.code,i.tenantId)}}return e.PROVIDER_ID="password",e.EMAIL_PASSWORD_SIGN_IN_METHOD="password",e.EMAIL_LINK_SIGN_IN_METHOD="emailLink",e})();class qr{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class MK extends qr{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}function Sh(e,t){return uy.apply(this,arguments)}function uy(){return(uy=_(function*(e,t){return Hr(e,"POST","/v1/accounts:signUp",Oe(e,t))})).apply(this,arguments)}class Tn{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static _fromIdTokenResponse(t,n,r,i=!1){return _(function*(){const o=yield ho._fromIdTokenResponse(t,r,i),s=qN(r);return new Tn({user:o,providerId:s,_tokenResponse:r,operationType:n})})()}static _forOperation(t,n,r){return _(function*(){yield t._updateTokensIfNecessary(r,!0);const i=qN(r);return new Tn({user:t,providerId:i,_tokenResponse:r,operationType:n})})()}}function qN(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Ah extends jn{constructor(t,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ah.prototype),this.customData={appName:t.name,tenantId:null!==(o=t.tenantId)&&void 0!==o?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new Ah(t,n,r,i)}}function KN(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?Ah._fromErrorAndOperation(e,o,t,r):o})}function fy(){return(fy=_(function*(e,t,n=!1){const r=yield zr(e,t._linkToIdToken(e.auth,yield e.getIdToken()),n);return Tn._forOperation(e,"link",r)})).apply(this,arguments)}function gy(){return(gy=_(function*(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const o=yield zr(e,KN(r,i,t,e),n);M(o.idToken,r,"internal-error");const s=wh(o.idToken);M(s,r,"internal-error");const{sub:a}=s;return M(e.uid===a,r,"user-mismatch"),Tn._forOperation(e,i,o)}catch(o){throw"auth/user-not-found"===o?.code&&nn(r,"user-mismatch"),o}})).apply(this,arguments)}function ZN(e,t){return my.apply(this,arguments)}function my(){return(my=_(function*(e,t,n=!1){const r="signIn",i=yield KN(e,r,t),o=yield Tn._fromIdTokenResponse(e,r,i);return n||(yield e._updateCurrentUser(o.user)),o})).apply(this,arguments)}function vy(){return(vy=_(function*(e,t){return ZN(at(e),t)})).apply(this,arguments)}function FK(e,t,n){return Ry.apply(this,arguments)}function Ry(){return Ry=_(function*(e,t,n){var r;const i=at(e),o={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let s;if(null!==(r=i._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const u=yield yi(i,o,"signUpPassword");s=Sh(i,u)}else s=Sh(i,o).catch(function(){var u=_(function*(l){if("auth/missing-recaptcha-token"===l.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const d=yield yi(i,o,"signUpPassword");return Sh(i,d)}return Promise.reject(l)});return function(l){return u.apply(this,arguments)}}());const a=yield s.catch(u=>Promise.reject(u)),c=yield Tn._fromIdTokenResponse(i,"signIn",a);return yield i._updateCurrentUser(c.user),c}),Ry.apply(this,arguments)}function LK(e,t,n){return function _y(e,t){return vy.apply(this,arguments)}(bt(e),GN.credential(t,n))}function qK(e,t,n,r){return bt(e).onAuthStateChanged(t,n,r)}function KK(e){return bt(e).signOut()}const Rh="__sak";class eP{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Rh,"1"),this.storage.removeItem(Rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const nY=(()=>{class e extends eP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function XK(){const e=st();return Vv(e)||Ih(e)}()&&function rK(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=PN(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const o=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);!function nK(){return function _7(){const e=st();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}()||s===n.newValue||n.newValue===n.oldValue?o():setTimeout(o,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,o=this;return _(function*(){yield i().call(o,n,r),o.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return _(function*(){const o=yield r().call(i,n);return i.localCache[n]=JSON.stringify(o),o})()}_remove(n){var r=()=>super._remove,i=this;return _(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return e.type="LOCAL",e})(),tP=(()=>{class e extends eP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return e.type="SESSION",e})();let iY=(()=>{class e{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;const i=new e(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return _(function*(){const i=n,{eventId:o,eventType:s,data:a}=i.data,c=r.handlersMap[s];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:o,eventType:s});const u=Array.from(c).map(function(){var d=_(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function rY(e){return Promise.all(e.map(function(){var t=_(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return t.apply(this,arguments)}}()))}(u);i.ports[0].postMessage({status:"done",eventId:o,eventType:s,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return e.receivers=[],e})();function zy(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}class oY{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}_send(t,n,r=50){var i=this;return _(function*(){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let s,a;return new Promise((c,u)=>{const l=zy("",20);o.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:o,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(f.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"))}}},i.handlers.add(a),o.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:t,eventId:l,data:n},[o.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function Je(){return window}function Wy(){return typeof Je().WorkerGlobalScope<"u"&&"function"==typeof Je().importScripts}function Gy(){return(Gy=_(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const nP="firebaseLocalStorageDb",xh="firebaseLocalStorage",rP="fbase_key";class au{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Nh(e,t){return e.transaction([xh],t?"readwrite":"readonly").objectStore(xh)}function qy(){const e=indexedDB.open(nP,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(xh,{keyPath:rP})}catch(i){n(i)}}),e.addEventListener("success",_(function*(){const r=e.result;r.objectStoreNames.contains(xh)?t(r):(r.close(),yield function dY(){const e=indexedDB.deleteDatabase(nP);return new au(e).toPromise()}(),t(yield qy()))}))})}function iP(e,t,n){return Ky.apply(this,arguments)}function Ky(){return(Ky=_(function*(e,t,n){const r=Nh(e,!0).put({[rP]:t,value:n});return new au(r).toPromise()})).apply(this,arguments)}function Yy(){return(Yy=_(function*(e,t){const n=Nh(e,!1).get(t),r=yield new au(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function oP(e,t){const n=Nh(e,!0).delete(t);return new au(n).toPromise()}const gY=(()=>{class e{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return _(function*(){return n.db||(n.db=yield qy()),n.db})()}_withRetries(n){var r=this;return _(function*(){let i=0;for(;;)try{const o=yield r._openDb();return yield n(o)}catch(o){if(i++>3)throw o;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return _(function*(){return Wy()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return _(function*(){n.receiver=iY._getInstance(function uY(){return Wy()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=_(function*(i,o){return{keyProcessed:(yield n._poll()).includes(o.key)}});return function(i,o){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=_(function*(i,o){return["keyChanged"]});return function(i,o){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return _(function*(){var r,i;if(n.activeServiceWorker=yield function aY(){return Gy.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new oY(n.activeServiceWorker);const o=yield n.sender._send("ping",{},800);o&&null!==(r=o[0])&&void 0!==r&&r.fulfilled&&null!==(i=o[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return _(function*(){if(r.sender&&r.activeServiceWorker&&function cY(){var e;return(null===(e=navigator?.serviceWorker)||void 0===e?void 0:e.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return _(function*(){try{if(!indexedDB)return!1;const n=yield qy();return yield iP(n,Rh,"1"),yield oP(n,Rh),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return _(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return _(function*(){return i._withPendingWrite(_(function*(){return yield i._withRetries(o=>iP(o,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return _(function*(){const i=yield r._withRetries(o=>function hY(e,t){return Yy.apply(this,arguments)}(o,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return _(function*(){return r._withPendingWrite(_(function*(){return yield r._withRetries(i=>oP(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return _(function*(){const r=yield n._withRetries(s=>{const a=Nh(s,!1).getAll();return new au(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],o=new Set;for(const{fbase_key:s,value:a}of r)o.add(s),JSON.stringify(n.localCache[s])!==JSON.stringify(a)&&(n.notifyListeners(s,a),i.push(s));for(const s of Object.keys(n.localCache))n.localCache[s]&&!o.has(s)&&(n.notifyListeners(s,null),i.push(s));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const o of Array.from(i))o(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(_(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return e.type="LOCAL",e})();UN("rcb"),new Yc(3e4,6e4);class iC extends eu{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Gr(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Gr(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Gr(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function xY(e){return ZN(e.auth,new iC(e),e.bypassAuthState)}function NY(e){const{auth:t,user:n}=e;return M(n,t,"internal-error"),function QN(e,t){return gy.apply(this,arguments)}(n,new iC(e),e.bypassAuthState)}function PY(e){return oC.apply(this,arguments)}function oC(){return(oC=_(function*(e){const{auth:t,user:n}=e;return M(n,t,"internal-error"),function hy(e,t){return fy.apply(this,arguments)}(n,new iC(e),e.bypassAuthState)})).apply(this,arguments)}class kY{constructor(t,n,r,i,o=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var t=this;return new Promise(function(){var n=_(function*(r,i){t.pendingPromise={resolve:r,reject:i};try{t.eventManager=yield t.resolver._initialize(t.auth),yield t.onExecution(),t.eventManager.registerConsumer(t)}catch(o){t.reject(o)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(t){var n=this;return _(function*(){const{urlResponse:r,sessionId:i,postBody:o,tenantId:s,error:a,type:c}=t;if(a)return void n.reject(a);const u={auth:n.auth,requestUri:r,sessionId:i,tenantId:s||void 0,postBody:o||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(c)(u))}catch(l){n.reject(l)}})()}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return xY;case"linkViaPopup":case"linkViaRedirect":return PY;case"reauthViaPopup":case"reauthViaRedirect":return NY;default:nn(this.auth,"internal-error")}}resolve(t){_i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){_i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Yc(2e3,1e4);const OY="pendingRedirect",cu=new Map;class FY extends kY{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var t=()=>super.execute,n=this;return _(function*(){let r=cu.get(n.auth._key());if(!r){try{const o=(yield function LY(e,t){return lC.apply(this,arguments)}(n.resolver,n.auth))?yield t().call(n):null;r=()=>Promise.resolve(o)}catch(i){r=()=>Promise.reject(i)}cu.set(n.auth._key(),r)}return n.bypassAuthState||cu.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(t){var n=()=>super.onAuthEvent,r=this;return _(function*(){if("signInViaRedirect"===t.type)return n().call(r,t);if("unknown"!==t.type){if(t.eventId){const i=yield r.auth._redirectUserForId(t.eventId);if(i)return r.user=i,n().call(r,t);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return _(function*(){})()}cleanUp(){}}function lC(){return(lC=_(function*(e,t){const n=function cP(e){return Eh(OY,e.config.apiKey,e.name)}(t),r=function aP(e){return Wr(e._redirectPersistence)}(e);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function VY(e,t){cu.set(e._key(),t)}function uP(e,t){return _C.apply(this,arguments)}function _C(){return(_C=_(function*(e,t,n=!1){const r=at(e),i=function po(e,t){return t?Wr(t):(M(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}(r,t),s=yield new FY(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,t)),s})).apply(this,arguments)}class HY{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!function zY(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hP(e);default:return!1}}(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!hP(t)){const i=(null===(r=t.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(lr(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=null===n.eventId||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(dP(t))}saveEventToCache(t){this.cachedEventUids.add(dP(t)),this.lastProcessedEventTime=Date.now()}}function dP(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function hP({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===t?.code}function yC(){return(yC=_(function*(e,t={}){return Be(e,"GET","/v1/projects",t)})).apply(this,arguments)}const GY=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qY=/^https?/;function CC(){return CC=_(function*(e){if(e.config.emulator)return;const{authorizedDomains:t}=yield function WY(e){return yC.apply(this,arguments)}(e);for(const n of t)try{if(YY(n))return}catch{}nn(e,"unauthorized-domain")}),CC.apply(this,arguments)}function YY(e){const t=Kc(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return""===s.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&s.hostname===r}if(!qY.test(n))return!1;if(GY.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const QY=new Yc(3e4,6e4);function fP(){const e=Je().___jsl;if(e?.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let kh=null;const XY=new Yc(5e3,15e3),eQ="__/auth/iframe",tQ="emulator/auth/iframe",nQ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rQ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function iQ(e){const t=e.config;M(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Dv(t,tQ):`https://${e.config.authDomain}/${eQ}`,r={apiKey:t.apiKey,appName:e.name,v:lo},i=rQ.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Ks(r).slice(1)}`}function bC(){return bC=_(function*(e){const t=yield function JY(e){return kh=kh||function ZY(e){return new Promise((t,n)=>{var r,i,o;function s(){fP(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{fP(),n(lr(e,"network-request-failed"))},timeout:QY.get()})}if(null!==(i=null===(r=Je().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)t(gapi.iframes.getContext());else{if(null===(o=Je().gapi)||void 0===o||!o.load){const a=UN("iframefcb");return Je()[a]=()=>{gapi.load?s():n(lr(e,"network-request-failed"))},Bv(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>n(c))}s()}}).catch(t=>{throw kh=null,t})}(e),kh}(e),n=Je().gapi;return M(n,e,"internal-error"),t.open({where:document.body,url:iQ(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nQ,dontclear:!0},r=>new Promise(function(){var i=_(function*(o,s){yield r.restyle({setHideOnLeave:!1});const a=lr(e,"network-request-failed"),c=Je().setTimeout(()=>{s(a)},XY.get());function u(){Je().clearTimeout(c),o(r)}r.ping(u).then(u,()=>{s(a)})});return function(o,s){return i.apply(this,arguments)}}()))}),bC.apply(this,arguments)}const sQ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class pP{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const fQ="__/auth/handler",pQ="emulator/auth/handler",gQ=encodeURIComponent("fac");function gP(e,t,n,r,i,o){return wC.apply(this,arguments)}function wC(){return(wC=_(function*(e,t,n,r,i,o){M(e.config.authDomain,e,"auth-domain-config-required"),M(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:lo,eventId:i};if(t instanceof qr){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",av(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[l,d]of Object.entries(o||{}))s[l]=d}if(t instanceof MK){const l=t.getScopes().filter(d=>""!==d);l.length>0&&(s.scopes=l.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];const c=yield e._getAppCheckToken(),u=c?`#${gQ}=${encodeURIComponent(c)}`:"";return`${function mQ({config:e}){return e.emulator?Dv(e,pQ):`https://${e.authDomain}/${fQ}`}(e)}?${Ks(a).slice(1)}${u}`})).apply(this,arguments)}const EC="webStorageSupport",vQ=class _Q{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tP,this._completeRedirectFn=uP,this._overrideRedirectResult=VY}_openPopup(t,n,r,i){var o=this;return _(function*(){var s;_i(null===(s=o.eventManagers[t._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");const a=yield gP(t,n,r,Kc(),i);return function dQ(e,t,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},sQ),{width:r.toString(),height:i.toString(),top:o,left:s}),u=st().toLowerCase();n&&(a=AN(u)?"_blank":n),SN(u)&&(t=t||"http://localhost",c.scrollbars="yes");const l=Object.entries(c).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function tK(e=st()){var t;return Ih(e)&&!(null===(t=window.navigator)||void 0===t||!t.standalone)}(u)&&"_self"!==a)return function hQ(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new pP(null);const d=window.open(t||"",a,l);M(d,e,"popup-blocked");try{d.focus()}catch{}return new pP(d)}(t,a,zy())})()}_openRedirect(t,n,r,i){var o=this;return _(function*(){return yield o._originValidation(t),function sY(e){Je().location.href=e}(yield gP(t,n,r,Kc(),i)),new Promise(()=>{})})()}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(_i(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(t){var n=this;return _(function*(){const r=yield function oQ(e){return bC.apply(this,arguments)}(t),i=new HY(t);return r.register("authEvent",o=>(M(o?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[t._key()]={manager:i},n.iframes[t._key()]=r,i})()}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(EC,{type:EC},i=>{var o;const s=null===(o=i?.[0])||void 0===o?void 0:o[EC];void 0!==s&&n(!!s),nn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function KY(e){return CC.apply(this,arguments)}(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return PN()||Vv()||Ih()}};var yP="@firebase/auth";class yQ{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}getToken(t){var n=this;return _(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(t)}:null})()}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){M(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const EQ=Xx("authIdTokenMaxAge")||300;let bP=null;const IQ=e=>function(){var t=_(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>EQ)return;const o=r?.token;bP!==o&&(bP=o,yield fetch(e,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});return function(n){return t.apply(this,arguments)}}();function DQ(e=vv()){const t=Zs(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function dK(e,t){const n=Zs(e,"auth");if(n.isInitialized()){const i=n.getImmediate();if(mh(n.getOptions(),t??{}))return i;nn(i,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:vQ,persistence:[gY,nY,tP]}),r=Xx("authTokenSyncURL");if(r){const o=IQ(r);(function GK(e,t,n){bt(e).beforeAuthStateChanged(t,n)})(n,o,()=>o(n.currentUser)),function WK(e,t,n,r){bt(e).onIdTokenChanged(t,n,r)}(n,s=>o(s))}const i=Zx("auth");return i&&function fK(e,t,n){const r=at(e);M(r._canInitEmulator,r,"emulator-config-failed"),M(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,o=$N(t),{host:s,port:a}=function pK(e){const t=$N(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:HN(r.substr(o.length+1))}}{const[o,s]=r.split(":");return{host:o,port:HN(s)}}}(t);r.config.emulator={url:`${o}//${s}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function gK(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(n,`http://${i}`),n}!function bQ(e){$t(new At("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;M(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kN(e)},u=new lK(r,i,o,c);return function hK(e,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Wr);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),$t(new At("auth-internal",t=>{const n=at(t.getProvider("auth").getImmediate());return new yQ(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),je(yP,"0.23.2",function CQ(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(e)),je(yP,"0.23.2","esm2017")}("Browser"),je("firebase","9.23.0","app");const AQ=(e,t)=>t.some(n=>e instanceof n);let wP,EP;const IP=new WeakMap,DC=new WeakMap,DP=new WeakMap,TC=new WeakMap,SC=new WeakMap;let AC={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return DC.get(e);if("objectStoreNames"===t)return e.objectStoreNames||DP.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ci(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function OQ(e){return"function"==typeof e?function kQ(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function RQ(){return EP||(EP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(e)?function(...t){return e.apply(MC(this),t),Ci(IP.get(this))}:function(...t){return Ci(e.apply(MC(this),t))}:function(t,...n){const r=e.call(MC(this),t,...n);return DP.set(r,t.sort?t.sort():[t]),Ci(r)}}(e):(e instanceof IDBTransaction&&function NQ(e){if(DC.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});DC.set(e,t)}(e),AQ(e,function MQ(){return wP||(wP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(e,AC):e)}function Ci(e){if(e instanceof IDBRequest)return function xQ(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(Ci(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&IP.set(n,e)}).catch(()=>{}),SC.set(t,e),t}(e);if(TC.has(e))return TC.get(e);const t=OQ(e);return t!==e&&(TC.set(e,t),SC.set(t,e)),t}const MC=e=>SC.get(e),LQ=["get","getKey","getAll","getAllKeys","count"],VQ=["put","add","delete","clear"],RC=new Map;function TP(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(RC.get(t))return RC.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=VQ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!LQ.includes(n))return;const o=function(){var s=_(function*(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]});return function(c){return s.apply(this,arguments)}}();return RC.set(t,o),o}!function PQ(e){AC=e(AC)}(e=>({...e,get:(t,n,r)=>TP(t,n)||e.get(t,n,r),has:(t,n)=>!!TP(t,n)||e.has(t,n)}));const SP="@firebase/installations",xC="0.6.4",AP=1e4,MP=`w:${xC}`,RP="FIS_v2",UQ="https://firebaseinstallations.googleapis.com/v1",jQ=36e5,Kr=new cr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function xP(e){return e instanceof jn&&e.code.includes("request-failed")}function NC({projectId:e}){return`${UQ}/projects/${e}/installations`}function NP(e){return{token:e.token,requestStatus:2,expiresIn:zQ(e.expiresIn),creationTime:Date.now()}}function PC(e,t){return kC.apply(this,arguments)}function kC(){return(kC=_(function*(e,t){const r=(yield t.json()).error;return Kr.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function PP({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function OC(e){return FC.apply(this,arguments)}function FC(){return(FC=_(function*(e){const t=yield e();return t.status>=500&&t.status<600?e():t})).apply(this,arguments)}function zQ(e){return Number(e.replace("s","000"))}function LC(){return(LC=_(function*({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=NC(e),i=PP(e),o=t.getImmediate({optional:!0});if(o){const u=yield o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:RP,appId:e.appId,sdkVersion:MP})},c=yield OC(()=>fetch(r,a));if(c.ok){const u=yield c.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:NP(u.authToken)}}throw yield PC("Create Installation",c)})).apply(this,arguments)}function OP(e){return new Promise(t=>{setTimeout(t,e)})}const KQ=/^[cdef][\w-]{21}$/,VC="";function YQ(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=function QQ(e){return function qQ(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}(e).substr(0,22)}(e);return KQ.test(n)?n:VC}catch{return VC}}function na(e){return`${e.appName}!${e.appId}`}const ra=new Map;function FP(e,t){const n=na(e);LP(n,t),function XQ(e,t){const n=function VP(){return!go&&"BroadcastChannel"in self&&(go=new BroadcastChannel("[Firebase] FID Change"),go.onmessage=e=>{LP(e.data.key,e.data.fid)}),go}();n&&n.postMessage({key:e,fid:t}),function UP(){0===ra.size&&go&&(go.close(),go=null)}()}(n,t)}function LP(e,t){const n=ra.get(e);if(n)for(const r of n)r(t)}let go=null;const eZ="firebase-installations-database",tZ=1,mo="firebase-installations-store";let UC=null;function jC(){return UC||(UC=function FQ(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=Ci(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Ci(s.result),c.oldVersion,c.newVersion,Ci(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(eZ,tZ,{upgrade:(e,t)=>{0===t&&e.createObjectStore(mo)}})),UC}function Fh(e,t){return BC.apply(this,arguments)}function BC(){return(BC=_(function*(e,t){const n=na(e),i=(yield jC()).transaction(mo,"readwrite"),o=i.objectStore(mo),s=yield o.get(n);return yield o.put(t,n),yield i.done,(!s||s.fid!==t.fid)&&FP(e,t.fid),t})).apply(this,arguments)}function $C(e){return HC.apply(this,arguments)}function HC(){return(HC=_(function*(e){const t=na(e),r=(yield jC()).transaction(mo,"readwrite");yield r.objectStore(mo).delete(t),yield r.done})).apply(this,arguments)}function uu(e,t){return zC.apply(this,arguments)}function zC(){return(zC=_(function*(e,t){const n=na(e),i=(yield jC()).transaction(mo,"readwrite"),o=i.objectStore(mo),s=yield o.get(n),a=t(s);return void 0===a?yield o.delete(n):yield o.put(a,n),yield i.done,a&&(!s||s.fid!==a.fid)&&FP(e,a.fid),a})).apply(this,arguments)}function WC(e){return GC.apply(this,arguments)}function GC(){return GC=_(function*(e){let t;const n=yield uu(e.appConfig,r=>{const i=function nZ(e){return BP(e||{fid:YQ(),registrationStatus:0})}(r),o=function rZ(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(Kr.create("app-offline"))};const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function iZ(e,t){return qC.apply(this,arguments)}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:oZ(e)}:{installationEntry:t}}(e,i);return t=o.registrationPromise,o.installationEntry});return n.fid===VC?{installationEntry:yield t}:{installationEntry:n,registrationPromise:t}}),GC.apply(this,arguments)}function qC(){return qC=_(function*(e,t){try{const n=yield function GQ(e,t){return LC.apply(this,arguments)}(e,t);return Fh(e.appConfig,n)}catch(n){throw xP(n)&&409===n.customData.serverCode?yield $C(e.appConfig):yield Fh(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}),qC.apply(this,arguments)}function oZ(e){return KC.apply(this,arguments)}function KC(){return(KC=_(function*(e){let t=yield jP(e.appConfig);for(;1===t.registrationStatus;)yield OP(100),t=yield jP(e.appConfig);if(0===t.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield WC(e);return r||n}return t})).apply(this,arguments)}function jP(e){return uu(e,t=>{if(!t)throw Kr.create("installation-not-found");return BP(t)})}function BP(e){return function sZ(e){return 1===e.registrationStatus&&e.registrationTime+AP<Date.now()}(e)?{fid:e.fid,registrationStatus:0}:e}function YC(){return(YC=_(function*({appConfig:e,heartbeatServiceProvider:t},n){const r=function cZ(e,{fid:t}){return`${NC(e)}/${t}/authTokens:generate`}(e,n),i=function kP(e,{refreshToken:t}){const n=PP(e);return n.append("Authorization",function WQ(e){return`${RP} ${e}`}(t)),n}(e,n),o=t.getImmediate({optional:!0});if(o){const u=yield o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:MP,appId:e.appId}})},c=yield OC(()=>fetch(r,a));if(c.ok)return NP(yield c.json());throw yield PC("Generate Auth Token",c)})).apply(this,arguments)}function QC(e){return ZC.apply(this,arguments)}function ZC(){return ZC=_(function*(e,t=!1){let n;const r=yield uu(e.appConfig,o=>{if(!HP(o))throw Kr.create("not-registered");const s=o.authToken;if(!t&&function dZ(e){return 2===e.requestStatus&&!function hZ(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+jQ}(e)}(s))return o;if(1===s.requestStatus)return n=function uZ(e,t){return JC.apply(this,arguments)}(e,t),o;{if(!navigator.onLine)throw Kr.create("app-offline");const a=function fZ(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(o);return n=function lZ(e,t){return XC.apply(this,arguments)}(e,a),a}});return n?yield n:r.authToken}),ZC.apply(this,arguments)}function JC(){return(JC=_(function*(e,t){let n=yield $P(e.appConfig);for(;1===n.authToken.requestStatus;)yield OP(100),n=yield $P(e.appConfig);const r=n.authToken;return 0===r.requestStatus?QC(e,t):r})).apply(this,arguments)}function $P(e){return uu(e,t=>{if(!HP(t))throw Kr.create("not-registered");return function pZ(e){return 1===e.requestStatus&&e.requestTime+AP<Date.now()}(t.authToken)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}function XC(){return XC=_(function*(e,t){try{const n=yield function aZ(e,t){return YC.apply(this,arguments)}(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return yield Fh(e.appConfig,r),n}catch(n){if(!xP(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});yield Fh(e.appConfig,r)}else yield $C(e.appConfig);throw n}}),XC.apply(this,arguments)}function HP(e){return void 0!==e&&2===e.registrationStatus}function eb(){return(eb=_(function*(e){const t=e,{installationEntry:n,registrationPromise:r}=yield WC(t);return r?r.catch(console.error):QC(t).catch(console.error),n.fid})).apply(this,arguments)}function tb(){return tb=_(function*(e,t=!1){const n=e;return yield function _Z(e){return nb.apply(this,arguments)}(n),(yield QC(n,t)).token}),tb.apply(this,arguments)}function nb(){return(nb=_(function*(e){const{registrationPromise:t}=yield WC(e);t&&(yield t)})).apply(this,arguments)}function ob(e){return Kr.create("missing-app-config-values",{valueName:e})}const zP="installations",wZ=e=>{const t=e.getProvider("app").getImmediate(),n=function CZ(e){if(!e||!e.options)throw ob("App Configuration");if(!e.name)throw ob("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw ob(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Zs(t,"heartbeat"),_delete:()=>Promise.resolve()}},EZ=e=>{const n=Zs(e.getProvider("app").getImmediate(),zP).getImmediate();return{getId:()=>function gZ(e){return eb.apply(this,arguments)}(n),getToken:i=>function mZ(e){return tb.apply(this,arguments)}(n,i)}};(function IZ(){$t(new At(zP,wZ,"PUBLIC")),$t(new At("installations-internal",EZ,"PRIVATE"))})(),je(SP,xC),je(SP,xC,"esm2017");const sb="@firebase/remote-config",rn=new cr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class OZ{constructor(t,n,r,i){this.client=t,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(t,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=t;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${t}. Is cache hit: ${i}.`),i}fetch(t){var n=this;return _(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(t.cacheMaxAgeMillis,r))return i;t.eTag=i&&i.eTag;const o=yield n.client.fetch(t),s=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===o.status&&s.push(n.storage.setLastSuccessfulFetchResponse(o)),yield Promise.all(s),o})()}}function FZ(e=navigator){return e.languages&&e.languages[0]||e.language}class LZ{constructor(t,n,r,i,o,s){this.firebaseInstallations=t,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=o,this.appId=s}fetch(t){var n=this;return _(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),s=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},c={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:FZ()},u={method:"POST",headers:a,body:JSON.stringify(c)},l=fetch(s,u),d=new Promise((E,y)=>{t.signal.addEventListener(()=>{const P=new Error("The operation was aborted.");P.name="AbortError",y(P)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(E){let y="fetch-client-network";throw"AbortError"===E?.name&&(y="fetch-timeout"),rn.create(y,{originalErrorMessage:E?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let v,b;if(200===h.status){let E;try{E=yield h.json()}catch(y){throw rn.create("fetch-client-parse",{originalErrorMessage:y?.message})}v=E.entries,b=E.state}if("INSTANCE_STATE_UNSPECIFIED"===b?f=500:"NO_CHANGE"===b?f=304:("NO_TEMPLATE"===b||"EMPTY_CONFIG"===b)&&(v={}),304!==f&&200!==f)throw rn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:v}})()}}class jZ{constructor(t,n){this.client=t,this.storage=n}fetch(t){var n=this;return _(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(t,r)})()}attemptFetch(t,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return _(function*(){yield function VZ(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(o),r(rn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(t.signal,n);try{const o=yield i.client.fetch(t);return yield i.storage.deleteThrottleMetadata(),o}catch(o){if(!function UZ(e){if(!(e instanceof jn&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(o))throw o;const s={throttleEndTimeMillis:Date.now()+uv(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(s),i.attemptFetch(t,s)}})()}}class HZ{constructor(t,n,r,i,o){this.app=t,this._client=n,this._storageCache=r,this._storage=i,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Vh(e,t){const n=e.target.error||void 0;return rn.create(t,{originalErrorMessage:n&&n?.message})}const _o="app_namespace_store";class qZ{constructor(t,n,r,i=function GZ(){return new Promise((e,t)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{t(Vh(r,"storage-open"))},n.onsuccess=r=>{e(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(_o,{keyPath:"compositeKey"})}}catch(n){t(rn.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=t,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(t){return this.set("last_fetch_status",t)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(t){return this.set("last_successful_fetch_timestamp_millis",t)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(t){return this.set("last_successful_fetch_response",t)}getActiveConfig(){return this.get("active_config")}setActiveConfig(t){return this.set("active_config",t)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(t){return this.set("active_config_etag",t)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(t){return this.set("throttle_metadata",t)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(t){var n=this;return _(function*(){const r=yield n.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([_o],"readonly").objectStore(_o),c=n.createCompositeKey(t);try{const u=a.get(c);u.onerror=l=>{o(Vh(l,"storage-get"))},u.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(u){o(rn.create("storage-get",{originalErrorMessage:u?.message}))}})})()}set(t,n){var r=this;return _(function*(){const i=yield r.openDbPromise;return new Promise((o,s)=>{const c=i.transaction([_o],"readwrite").objectStore(_o),u=r.createCompositeKey(t);try{const l=c.put({compositeKey:u,value:n});l.onerror=d=>{s(Vh(d,"storage-set"))},l.onsuccess=()=>{o()}}catch(l){s(rn.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(t){var n=this;return _(function*(){const r=yield n.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([_o],"readwrite").objectStore(_o),c=n.createCompositeKey(t);try{const u=a.delete(c);u.onerror=l=>{o(Vh(l,"storage-delete"))},u.onsuccess=()=>{i()}}catch(u){o(rn.create("storage-delete",{originalErrorMessage:u?.message}))}})})()}createCompositeKey(t){return[this.appId,this.appName,this.namespace,t].join()}}class KZ{constructor(t){this.storage=t}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var t=this;return _(function*(){const n=t.storage.getLastFetchStatus(),r=t.storage.getLastSuccessfulFetchTimestampMillis(),i=t.storage.getActiveConfig(),o=yield n;o&&(t.lastFetchStatus=o);const s=yield r;s&&(t.lastSuccessfulFetchTimestampMillis=s);const a=yield i;a&&(t.activeConfig=a)})()}setLastFetchStatus(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)}setLastSuccessfulFetchTimestampMillis(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)}setActiveConfig(t){return this.activeConfig=t,this.storage.setActiveConfig(t)}}function QZ(){return db.apply(this,arguments)}function db(){return(db=_(function*(){if(!so())return!1;try{return yield Hc()}catch{return!1}})).apply(this,arguments)}!function YZ(){$t(new At("remote-config",function e(t,{instanceIdentifier:n}){const r=t.getProvider("app").getImmediate(),i=t.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw rn.create("registration-window");if(!so())throw rn.create("indexed-db-unavailable");const{projectId:o,apiKey:s,appId:a}=r.options;if(!o)throw rn.create("registration-project-id");if(!s)throw rn.create("registration-api-key");if(!a)throw rn.create("registration-app-id");const c=new qZ(a,r.name,n=n||"firebase"),u=new KZ(c),l=new Qs(sb);l.logLevel=ve.ERROR;const d=new LZ(i,lo,n,o,s,a),h=new jZ(d,c),f=new OZ(h,c,u,l),p=new HZ(r,f,u,c,l);return function NZ(e){const t=bt(e);t._initializePromise||(t._initializePromise=t._storageCache.loadFromStorage().then(()=>{t._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),je(sb,"0.4.4"),je(sb,"0.4.4","esm2017")}();const ZZ=(e,t)=>t.some(n=>e instanceof n);let KP,YP;const QP=new WeakMap,hb=new WeakMap,ZP=new WeakMap,fb=new WeakMap,pb=new WeakMap;let gb={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return hb.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ZP.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yr(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function iJ(e){return"function"==typeof e?function rJ(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function XZ(){return YP||(YP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(e)?function(...t){return e.apply(mb(this),t),Yr(QP.get(this))}:function(...t){return Yr(e.apply(mb(this),t))}:function(t,...n){const r=e.call(mb(this),t,...n);return ZP.set(r,t.sort?t.sort():[t]),Yr(r)}}(e):(e instanceof IDBTransaction&&function tJ(e){if(hb.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});hb.set(e,t)}(e),ZZ(e,function JZ(){return KP||(KP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(e,gb):e)}function Yr(e){if(e instanceof IDBRequest)return function eJ(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(Yr(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&QP.set(n,e)}).catch(()=>{}),pb.set(t,e),t}(e);if(fb.has(e))return fb.get(e);const t=iJ(e);return t!==e&&(fb.set(e,t),pb.set(t,e)),t}const mb=e=>pb.get(e);function JP(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=Yr(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Yr(s.result),c.oldVersion,c.newVersion,Yr(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function _b(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",()=>t()),Yr(n).then(()=>{})}const oJ=["get","getKey","getAll","getAllKeys","count"],sJ=["put","add","delete","clear"],vb=new Map;function XP(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(vb.get(t))return vb.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=sJ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!oJ.includes(n))return;const o=function(){var s=_(function*(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]});return function(c){return s.apply(this,arguments)}}();return vb.set(t,o),o}!function nJ(e){gb=e(gb)}(e=>({...e,get:(t,n,r)=>XP(t,n)||e.get(t,n,r),has:(t,n)=>!!XP(t,n)||e.has(t,n)}));const aJ="/firebase-messaging-sw.js",cJ="/firebase-cloud-messaging-push-scope",ek="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",uJ="https://fcmregistrations.googleapis.com/v1",tk="google.c.a.c_id",lJ="google.c.a.c_l",dJ="google.c.a.ts";var Uh=function(e){return e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked",e}(Uh||{});function Qr(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function pJ(e){const n=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}const yb="fcm_token_details_db",gJ=5,nk="fcm_token_object_Store";function Cb(){return Cb=_(function*(e){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(yb))return null;let t=null;return(yield JP(yb,gJ,{upgrade:(r=_(function*(i,o,s,a){var c;if(o<2||!i.objectStoreNames.contains(nk))return;const u=a.objectStore(nk),l=yield u.index("fcmSenderId").get(e);if(yield u.clear(),l)if(2===o){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;t={token:d.fcmToken,createTime:null!==(c=d.createTime)&&void 0!==c?c:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Qr(d.vapidKey)}}}else if(3===o){const d=l;t={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Qr(d.auth),p256dh:Qr(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Qr(d.vapidKey)}}}else if(4===o){const d=l;t={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Qr(d.auth),p256dh:Qr(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Qr(d.vapidKey)}}}}),function(o,s,a,c){return r.apply(this,arguments)})})).close(),yield _b(yb),yield _b("fcm_vapid_details_db"),yield _b("undefined"),function _J(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}(t)?t:null;var r}),Cb.apply(this,arguments)}const vJ="firebase-messaging-database",yJ=1,vo="firebase-messaging-store";let bb=null;function wb(){return bb||(bb=JP(vJ,yJ,{upgrade:(e,t)=>{0===t&&e.createObjectStore(vo)}})),bb}function rk(e){return Eb.apply(this,arguments)}function Eb(){return Eb=_(function*(e){const t=Sb(e),r=yield(yield wb()).transaction(vo).objectStore(vo).get(t);if(r)return r;{const i=yield function mJ(e){return Cb.apply(this,arguments)}(e.appConfig.senderId);if(i)return yield Ib(e,i),i}}),Eb.apply(this,arguments)}function Ib(e,t){return Db.apply(this,arguments)}function Db(){return(Db=_(function*(e,t){const n=Sb(e),i=(yield wb()).transaction(vo,"readwrite");return yield i.objectStore(vo).put(t,n),yield i.done,t})).apply(this,arguments)}function Tb(){return(Tb=_(function*(e){const t=Sb(e),r=(yield wb()).transaction(vo,"readwrite");yield r.objectStore(vo).delete(t),yield r.done})).apply(this,arguments)}function Sb({appConfig:e}){return e.appId}const wt=new cr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function wJ(e,t){return Ab.apply(this,arguments)}function Ab(){return(Ab=_(function*(e,t){const n=yield Nb(e),r=ok(t),i={method:"POST",headers:n,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(xb(e.appConfig),i)).json()}catch(s){throw wt.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(o.error)throw wt.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw wt.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function Mb(){return(Mb=_(function*(e,t){const n=yield Nb(e),r=ok(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(`${xb(e.appConfig)}/${t.token}`,i)).json()}catch(s){throw wt.create("token-update-failed",{errorInfo:s?.toString()})}if(o.error)throw wt.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw wt.create("token-update-no-token");return o.token})).apply(this,arguments)}function ik(e,t){return Rb.apply(this,arguments)}function Rb(){return(Rb=_(function*(e,t){const r={method:"DELETE",headers:yield Nb(e)};try{const o=yield(yield fetch(`${xb(e.appConfig)}/${t}`,r)).json();if(o.error)throw wt.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(i){throw wt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function xb({projectId:e}){return`${uJ}/projects/${e}/registrations`}function Nb(e){return Pb.apply(this,arguments)}function Pb(){return(Pb=_(function*({appConfig:e,installations:t}){const n=yield t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function ok({p256dh:e,auth:t,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:t,p256dh:e}};return r!==ek&&(i.web.applicationPubKey=r),i}const IJ=6048e5;function kb(){return kb=_(function*(e){const t=yield function SJ(e,t){return Vb.apply(this,arguments)}(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:Qr(t.getKey("auth")),p256dh:Qr(t.getKey("p256dh"))},r=yield rk(e.firebaseDependencies);if(r){if(function AJ(e,t){return t.vapidKey===e.vapidKey&&t.endpoint===e.endpoint&&t.auth===e.auth&&t.p256dh===e.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+IJ?function TJ(e,t){return Fb.apply(this,arguments)}(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield ik(e.firebaseDependencies,r.token)}catch(i){console.warn(i)}return ak(e.firebaseDependencies,n)}return ak(e.firebaseDependencies,n)}),kb.apply(this,arguments)}function Ob(){return Ob=_(function*(e){const t=yield rk(e.firebaseDependencies);t&&(yield ik(e.firebaseDependencies,t.token),yield function CJ(e){return Tb.apply(this,arguments)}(e.firebaseDependencies));const n=yield e.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),Ob.apply(this,arguments)}function Fb(){return Fb=_(function*(e,t){try{const n=yield function EJ(e,t){return Mb.apply(this,arguments)}(e.firebaseDependencies,t),r=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return yield Ib(e.firebaseDependencies,r),n}catch(n){throw yield function sk(e){return Ob.apply(this,arguments)}(e),n}}),Fb.apply(this,arguments)}function ak(e,t){return Lb.apply(this,arguments)}function Lb(){return(Lb=_(function*(e,t){const r={token:yield wJ(e,t),createTime:Date.now(),subscriptionOptions:t};return yield Ib(e,r),r.token})).apply(this,arguments)}function Vb(){return(Vb=_(function*(e,t){return(yield e.pushManager.getSubscription())||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:pJ(t)})})).apply(this,arguments)}function ck(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function MJ(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const i=t.notification.image;i&&(e.notification.image=i);const o=t.notification.icon;o&&(e.notification.icon=o)}(t,e),function RJ(e,t){t.data&&(e.data=t.data)}(t,e),function xJ(e,t){var n,r,i,o,s;if(!(t.fcmOptions||null!==(n=t.notification)&&void 0!==n&&n.click_action))return;e.fcmOptions={};const a=null!==(i=null===(r=t.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(o=t.notification)||void 0===o?void 0:o.click_action;a&&(e.fcmOptions.link=a);const c=null===(s=t.fcmOptions)||void 0===s?void 0:s.analytics_label;c&&(e.fcmOptions.analyticsLabel=c)}(t,e),t}function uk(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}function Ub(e){return wt.create("missing-app-config-values",{valueName:e})}uk("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),uk("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class kJ{constructor(t,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function PJ(e){if(!e||!e.options)throw Ub("App Configuration Object");if(!e.name)throw Ub("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const r of t)if(!n[r])throw Ub(r);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(t);this.firebaseDependencies={app:t,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function jb(){return(jb=_(function*(e){try{e.swRegistration=yield navigator.serviceWorker.register(aJ,{scope:cJ}),e.swRegistration.update().catch(()=>{})}catch(t){throw wt.create("failed-service-worker-registration",{browserErrorMessage:t?.message})}})).apply(this,arguments)}function Bb(){return(Bb=_(function*(e,t){if(!t&&!e.swRegistration&&(yield function lk(e){return jb.apply(this,arguments)}(e)),t||!e.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw wt.create("invalid-sw-registration");e.swRegistration=t}})).apply(this,arguments)}function $b(){return($b=_(function*(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=ek)})).apply(this,arguments)}function Hb(){return Hb=_(function*(e,t){if(!navigator)throw wt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw wt.create("permission-blocked");return yield function FJ(e,t){return $b.apply(this,arguments)}(e,t?.vapidKey),yield function OJ(e,t){return Bb.apply(this,arguments)}(e,t?.serviceWorkerRegistration),function DJ(e){return kb.apply(this,arguments)}(e)}),Hb.apply(this,arguments)}function zb(){return(zb=_(function*(e,t,n){const r=function VJ(e){switch(e){case Uh.NOTIFICATION_CLICKED:return"notification_open";case Uh.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t);(yield e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[tk],message_name:n[lJ],message_time:n[dJ],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Wb(){return Wb=_(function*(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===Uh.PUSH_RECEIVED&&("function"==typeof e.onMessageHandler?e.onMessageHandler(ck(n)):e.onMessageHandler.next(ck(n)));const r=n.data;(function NJ(e){return"object"==typeof e&&!!e&&tk in e})(r)&&"1"===r["google.c.a.e"]&&(yield function LJ(e,t,n){return zb.apply(this,arguments)}(e,n.messageType,r))}),Wb.apply(this,arguments)}const hk="@firebase/messaging",jJ=e=>{const t=new kJ(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function UJ(e,t){return Wb.apply(this,arguments)}(t,n)),t},BJ=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:r=>function dk(e,t){return Hb.apply(this,arguments)}(t,r)}};function pk(){return Gb.apply(this,arguments)}function Gb(){return(Gb=_(function*(){try{yield Hc()}catch{return!1}return typeof window<"u"&&so()&&sv()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function $J(){$t(new At("messaging",jJ,"PUBLIC")),$t(new At("messaging-internal",BJ,"PRIVATE")),je(hk,"0.12.4"),je(hk,"0.12.4","esm2017")}();const jh="analytics",WJ="firebase_id",GJ="origin",qJ=6e4,KJ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Yb="https://www.googletagmanager.com/gtag/js",ct=new Qs("@firebase/analytics"),Ht=new cr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function QJ(e){if(!e.startsWith(Yb)){const t=Ht.create("invalid-gtag-resource",{gtagURL:e});return ct.warn(t.message),""}return e}function gk(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function Qb(){return(Qb=_(function*(e,t,n,r,i,o){const s=r[i];try{if(s)yield t[s];else{const c=(yield gk(n)).find(u=>u.measurementId===i);c&&(yield t[c.appId])}}catch(a){ct.error(a)}e("config",i,o)})).apply(this,arguments)}function Zb(){return(Zb=_(function*(e,t,n,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const a=yield gk(n);for(const c of s){const u=a.find(d=>d.measurementId===c),l=u&&t[u.appId];if(!l){o=[];break}o.push(l)}}0===o.length&&(o=Object.values(t)),yield Promise.all(o),e("event",r,i||{})}catch(o){ct.error(o)}})).apply(this,arguments)}const oX=30,mk=new class aX{constructor(t={},n=1e3){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}};function cX(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function Jb(){return(Jb=_(function*(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:cX(r)},o=KJ.replace("{app-id}",n),s=yield fetch(o,i);if(200!==s.status&&304!==s.status){let a="";try{const c=yield s.json();null!==(t=c.error)&&void 0!==t&&t.message&&(a=c.error.message)}catch{}throw Ht.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})).apply(this,arguments)}function Xb(){return(Xb=_(function*(e,t=mk,n){const{appId:r,apiKey:i,measurementId:o}=e.options;if(!r)throw Ht.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Ht.create("no-api-key")}const s=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new fX;return setTimeout(_(function*(){a.abort()}),void 0!==n?n:qJ),_k({appId:r,apiKey:i,measurementId:o},s,a,t)})).apply(this,arguments)}function _k(e,t,n){return ew.apply(this,arguments)}function ew(){return ew=_(function*(e,{throttleEndTimeMillis:t,backoffCount:n},r,i=mk){var o;const{appId:s,measurementId:a}=e;try{yield function dX(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(o),r(Ht.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(r,t)}catch(c){if(a)return ct.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:s,measurementId:a};throw c}try{const c=yield function uX(e){return Jb.apply(this,arguments)}(e);return i.deleteThrottleMetadata(s),c}catch(c){const u=c;if(!function hX(e){if(!(e instanceof jn&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(u)){if(i.deleteThrottleMetadata(s),a)return ct.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:s,measurementId:a};throw c}const l=503===Number(null===(o=u?.customData)||void 0===o?void 0:o.httpStatus)?uv(n,i.intervalMillis,oX):uv(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(s,d),ct.debug(`Calling attemptFetch again in ${l} millis`),_k(e,d,r,i)}}),ew.apply(this,arguments)}class fX{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}let tw,cw;function nw(){return(nw=_(function*(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const o=yield t;e("event",n,Object.assign(Object.assign({},r),{send_to:o}))}})).apply(this,arguments)}function uw(){return(uw=_(function*(){if(!so())return ct.warn(Ht.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Hc()}catch(e){return ct.warn(Ht.create("indexeddb-unavailable",{errorInfo:e?.toString()}).message),!1}return!0})).apply(this,arguments)}function lw(){return lw=_(function*(e,t,n,r,i,o,s){var a;const c=function lX(e){return Xb.apply(this,arguments)}(e);c.then(f=>{n[f.measurementId]=f.appId,e.options.measurementId&&f.measurementId!==e.options.measurementId&&ct.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>ct.error(f)),t.push(c);const u=function CX(){return uw.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([c,u]);(function iX(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Yb)&&n.src.includes(e))return n;return null})(o)||function JJ(e,t){const n=function ZJ(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:QJ}),r=document.createElement("script"),i=`${Yb}?l=${e}&id=${t}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(o,l.measurementId),cw&&(i("consent","default",cw),function vk(e){cw=e}(void 0)),i("js",new Date);const h=null!==(a=s?.config)&&void 0!==a?a:{};return h[GJ]="firebase",h.update=!0,null!=d&&(h[WJ]=d),i("config",l.measurementId,h),tw&&(i("set",tw),function yk(e){tw=e}(void 0)),l.measurementId}),lw.apply(this,arguments)}class wX{constructor(t){this.app=t}_delete(){return delete hr[this.app.options.appId],Promise.resolve()}}let hr={},Ck=[];const bk={};let Ek,fr,Bh="dataLayer",dw=!1;function IX(e,t,n){!function EX(){const e=[];if(ov()&&e.push("This is a browser extension environment."),sv()||e.push("Cookies are not available."),e.length>0){const t=e.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Ht.create("invalid-analytics-context",{errorInfo:t});ct.warn(n.message)}}();const r=e.options.appId;if(!r)throw Ht.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Ht.create("no-api-key");ct.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=hr[r])throw Ht.create("already-exists",{id:r});if(!dw){!function XJ(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Bh);const{wrappedGtag:o,gtagCore:s}=function rX(e,t,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function nX(e,t,n,r){function o(){return o=_(function*(s,...a){try{if("event"===s){const[c,u]=a;yield function tX(e,t,n,r,i){return Zb.apply(this,arguments)}(e,t,n,c,u)}else if("config"===s){const[c,u]=a;yield function eX(e,t,n,r,i,o){return Qb.apply(this,arguments)}(e,t,n,r,c,u)}else if("consent"===s){const[c]=a;e("consent","update",c)}else if("get"===s){const[c,u,l]=a;e("get",c,u,l)}else if("set"===s){const[c]=a;e("set",c)}else e(s,...a)}catch(c){ct.error(c)}}),o.apply(this,arguments)}return function i(s){return o.apply(this,arguments)}}(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}(hr,Ck,bk,Bh,"gtag");fr=o,Ek=s,dw=!0}return hr[r]=function bX(e,t,n,r,i,o,s){return lw.apply(this,arguments)}(e,Ck,bk,t,Ek,Bh,n),new wX(e)}function TX(){return hw.apply(this,arguments)}function hw(){return(hw=_(function*(){if(ov()||!sv()||!so())return!1;try{return yield Hc()}catch{return!1}})).apply(this,arguments)}const Ik="@firebase/analytics";!function AX(){$t(new At(jh,(t,{options:n})=>IX(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),$t(new At("analytics-internal",function e(t){try{const n=t.getProvider(jh).getImmediate();return{logEvent:(r,i,o)=>function SX(e,t,n,r){e=bt(e),function pX(e,t,n,r,i){return nw.apply(this,arguments)}(fr,hr[e.app.options.appId],t,n,r).catch(i=>ct.error(i))}(n,r,i,o)}}catch(n){throw Ht.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),je(Ik,"0.10.0"),je(Ik,"0.10.0","esm2017")}();class MX extends Gt{constructor(t,n){super()}schedule(t,n=0){return this}}const $h={setInterval(e,t,...n){const{delegate:r}=$h;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){const{delegate:t}=$h;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};class Tk extends MX{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,r=0){return $h.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&$h.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let i,r=!1;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Fo(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}}const Sk={now:()=>(Sk.delegate||Date).now(),delegate:void 0};class lu{constructor(t,n=lu.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}}lu.now=Sk.now;class Ak extends lu{constructor(t,n=lu.now){super(t,n),this.actions=[],this._active=!1}flush(t){const{actions:n}=this;if(this._active)return void n.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}}const NX=new class xX extends Ak{}(class RX extends Tk{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}schedule(t,n=0){return n>0?super.schedule(t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)}execute(t,n){return n>0||this.closed?super.execute(t,n):this._execute(t,n)}requestAsyncId(t,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(t,n,r):(t.flush(this),0)}}),PX=new Ak(Tk),Hh=new ps("7.6.0"),pw="__angularfire_symbol__analyticsIsSupportedValue",gw="__angularfire_symbol__analyticsIsSupported",mw="__angularfire_symbol__remoteConfigIsSupportedValue",_w="__angularfire_symbol__remoteConfigIsSupported",vw="__angularfire_symbol__messagingIsSupportedValue",yw="__angularfire_symbol__messagingIsSupported";function bw(e,t,n){if(t){if(1===t.length)return t[0];const o=t.filter(s=>s.app===n);if(1===o.length)return o[0]}return n.container.getProvider(e).getImmediate({optional:!0})}globalThis[gw]||(globalThis[gw]=TX().then(e=>globalThis[pw]=e).catch(()=>globalThis[pw]=!1)),globalThis[yw]||(globalThis[yw]=pk().then(e=>globalThis[vw]=e).catch(()=>globalThis[vw]=!1)),globalThis[_w]||(globalThis[_w]=QZ().then(e=>globalThis[mw]=e).catch(()=>globalThis[mw]=!1));const ww=(e,t)=>{const n=t?[t]:lN(),r=[];return n.forEach(i=>{i.container.getProvider(e).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};function ia(){}class Mk{constructor(t,n=NX){this.zone=t,this.delegate=n}now(){return this.delegate.now()}schedule(t,n,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{t.apply(this,[s])})},n,r)}}class kX{constructor(t){this.zone=t,this.task=null}call(t,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ia,{},ia,ia)),n.pipe(Ct({next:r,complete:r,error:r})).subscribe(t).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ew=(()=>{class e{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Mk(Zone.current)),this.insideAngular=n.run(()=>new Mk(Zone.current,PX)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return e.\u0275fac=function(n){return new(n||e)(O(he))},e.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function yo(){const e=globalThis.\u0275AngularFireScheduler;if(!e)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return e}function Co(e){return yo().ngZone.run(()=>e())}function FX(e){return yo(),function LX(e){return function(n){return(n=n.lift(new kX(e.ngZone))).pipe(nl(e.outsideAngular),tl(e.insideAngular))}}(yo())(e)}const VX=(e,t)=>function(){const r=arguments;return t&&setTimeout(()=>{"scheduled"===t.state&&t.invoke()},10),Co(()=>e.apply(void 0,r))},Sn=(e,t)=>function(){let n;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(t&&(n||(n=Co(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ia,{},ia,ia)))),r[o]=VX(r[o],n));const i=function OX(e){return yo().ngZone.runOutsideAngular(()=>e())}(()=>e.apply(this,r));if(!t){if(i instanceof Le){const o=yo();return i.pipe(nl(o.outsideAngular),tl(o.insideAngular))}return Co(()=>i)}return i instanceof Le?i.pipe(FX):i instanceof Promise?Co(()=>new Promise((o,s)=>i.then(a=>Co(()=>o(a)),a=>Co(()=>s(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Co(()=>i)};class oa{constructor(t){return t}}class Iw{constructor(){return lN()}}const Dw=new N("angularfire2._apps"),jX={provide:oa,useFactory:function UX(e){return e&&1===e.length?e[0]:new oa(vv())},deps:[[new Vt,Dw]]},BX={provide:Iw,deps:[[new Vt,Dw]]};function $X(e){return(t,n)=>{const r=t.runOutsideAngular(()=>e(n));return new oa(r)}}let HX=(()=>{class e{constructor(n){je("angularfire",Hh.full,"core"),je("angularfire",Hh.full,"app"),je("angular",F0.full,n.toString())}}return e.\u0275fac=function(n){return new(n||e)(O(ui))},e.\u0275mod=Kt({type:e}),e.\u0275inj=Nt({providers:[jX,BX]}),e})();function zX(e,...t){return{ngModule:HX,providers:[{provide:Dw,useFactory:$X(e),multi:!0,deps:[he,Tt,Ew,...t]}]}}const WX=Sn(uN,!0),Tw=new Map,Rk={activated:!1,tokenObservers:[]},GX={initialized:!1,enabled:!1};function $e(e){return Tw.get(e)||Object.assign({},Rk)}function zh(){return GX}const Sw="https://content-firebaseappcheck.googleapis.com/v1",QX="exchangeDebugToken",xk={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class JX{constructor(t,n,r,i,o){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var n=this;return _(function*(){n.stop();try{n.pending=new oo,yield function XX(e){return new Promise(t=>{setTimeout(t,e)})}(n.getNextRun(t)),n.pending.resolve(),yield n.pending.promise,n.pending=new oo,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Et=new cr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Aw(e){if(!$e(e).activated)throw Et.create("use-before-activation",{appName:e.name})}function qh(e,t){return Rw.apply(this,arguments)}function Rw(){return(Rw=_(function*({url:e,body:t},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const o={method:"POST",body:JSON.stringify(t),headers:r};let s,a;try{s=yield fetch(e,o)}catch(d){throw Et.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==s.status)throw Et.create("fetch-status-error",{httpStatus:s.status});try{a=yield s.json()}catch(d){throw Et.create("fetch-parse-error",{originalErrorMessage:d?.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw Et.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=1e3*Number(c[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+u,issuedAtTimeMillis:l}})).apply(this,arguments)}function Nk(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${Sw}/projects/${n}/apps/${r}:${QX}?key=${i}`,body:{debug_token:t}}}const ree="firebase-app-check-database",iee=1,du="firebase-app-check-store";let Kh=null;function xw(){return(xw=_(function*(e,t){const r=(yield function kk(){return Kh||(Kh=new Promise((e,t)=>{try{const n=indexedDB.open(ree,iee);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{var i;t(Et.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(du,{keyPath:"compositeKey"})}}catch(n){t(Et.create("storage-open",{originalErrorMessage:n?.message}))}}),Kh)}()).transaction(du,"readwrite"),o=r.objectStore(du).put({compositeKey:e,value:t});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var u;a(Et.create("storage-set",{originalErrorMessage:null===(u=c.target.error)||void 0===u?void 0:u.message}))}})})).apply(this,arguments)}const hu=new Qs("@firebase/app-check");function kw(e,t){return so()?function see(e,t){return function Ok(e,t){return xw.apply(this,arguments)}(function Lk(e){return`${e.options.appId}-${e.name}`}(e),t)}(e,t).catch(n=>{hu.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function Fw(){return zh().enabled}function Lw(){return Vw.apply(this,arguments)}function Vw(){return(Vw=_(function*(){const e=zh();if(e.enabled&&e.token)return e.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const hee={error:"UNKNOWN_ERROR"};function fee(e){return lh.encodeString(JSON.stringify(e),!1)}function Yh(e){return Uw.apply(this,arguments)}function Uw(){return(Uw=_(function*(e,t=!1){const n=e.app;Aw(n);const r=$e(n);let o,i=r.token;if(i&&!sa(i)&&(r.token=void 0,i=void 0),!i){const c=yield r.cachedTokenPromise;c&&(sa(c)?i=c:yield kw(n,void 0))}if(!t&&i&&sa(i))return{token:i.token};let a,s=!1;if(Fw()){r.exchangeTokenPromise||(r.exchangeTokenPromise=qh(Nk(n,yield Lw()),e.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);const c=yield r.exchangeTokenPromise;return yield kw(n,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield $e(n).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?hu.warn(c.message):hu.error(c),o=c}return i?o?a=sa(i)?{token:i.token,internalError:o}:Bk(o):(a={token:i.token},r.token=i,yield kw(n,i)):a=Bk(o),s&&function jk(e,t){const n=$e(e).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=t.error?r.error(t.error):r.next(t)}catch{}}(n,a),a})).apply(this,arguments)}function Vk(e){return jw.apply(this,arguments)}function jw(){return(jw=_(function*(e){const t=e.app;Aw(t);const{provider:n}=$e(t);if(Fw()){const r=yield Lw(),{token:i}=yield qh(Nk(t,r),e.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}})).apply(this,arguments)}function $w(e,t){const n=$e(e),r=n.tokenObservers.filter(i=>i.next!==t);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function Uk(e){const{app:t}=e,n=$e(t);let r=n.tokenRefresher;r||(r=function pee(e){const{app:t}=e;return new JX(_(function*(){let r;if(r=$e(t).token?yield Yh(e,!0):yield Yh(e),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=$e(t);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},xk.RETRIAL_MIN_WAIT,xk.RETRIAL_MAX_WAIT)}(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function sa(e){return e.expireTimeMillis-Date.now()>0}function Bk(e){return{token:fee(hee),error:e}}class gee{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:t}=$e(this.app);for(const n of t)$w(this.app,n.next);return Promise.resolve()}}const Yk="app-check-internal";!function Mee(){$t(new At("app-check",e=>function mee(e,t){return new gee(e,t)}(e.getProvider("app").getImmediate(),e.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(Yk).initialize()})),$t(new At(Yk,e=>function _ee(e){return{getToken:t=>Yh(e,t),getLimitedUseToken:()=>Vk(e),addTokenListener:t=>function Bw(e,t,n,r){const{app:i}=e,o=$e(i);if(o.tokenObservers=[...o.tokenObservers,{next:n,error:r,type:t}],o.token&&sa(o.token)){const a=o.token;Promise.resolve().then(()=>{n({token:a.token}),Uk(e)}).catch(()=>{})}o.cachedTokenPromise.then(()=>Uk(e))}(e,"INTERNAL",t),removeTokenListener:t=>$w(e.app,t)}}(e.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),je("@firebase/app-check","0.8.0")}();class Gw{constructor(){return ww("app-check")}}typeof window<"u"&&window;class Zh{constructor(t){return t}}class Jk{constructor(){return ww("auth")}}const Kw=new N("angularfire2.auth-instances");function Oee(e){return(t,n)=>{const r=t.runOutsideAngular(()=>e(n));return new Zh(r)}}const Fee={provide:Jk,deps:[[new Vt,Kw]]},Lee={provide:Zh,useFactory:function kee(e,t){const n=bw("auth",e,t);return n&&new Zh(n)},deps:[[new Vt,Kw],oa]};let Vee=(()=>{class e{constructor(){je("angularfire",Hh.full,"auth")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Kt({type:e}),e.\u0275inj=Nt({providers:[Lee,Fee]}),e})();function Uee(e,...t){return{ngModule:Vee,providers:[{provide:Kw,useFactory:Oee(e),multi:!0,deps:[he,Tt,Ew,Iw,[new Vt,Gw],...t]}]}}const jee=Sn(FK,!0),Bee=Sn(DQ,!0),$ee=Sn(qK,!0),Hee=Sn(LK,!0),zee=Sn(KK,!0),Xk="@firebase/database";let Yw="";class Gee{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){null==n?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),rt(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return null==n?null:zc(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class qee{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){null==n?delete this.cache_[t]:this.cache_[t]=n}get(t){return ur(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const tO=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Gee(t)}}catch{}return new qee},bo=tO("localStorage"),Qw=tO("sessionStorage"),aa=new Qs("@firebase/database"),nO=function(){let e=1;return function(){return e++}}(),rO=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,S(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new E7;n.update(t);const r=n.digest();return lh.encodeByteArray(r)},fu=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=fu.apply(null,r):t+="object"==typeof r?rt(r):r,t+=" "}return t};let wo=null,iO=!0;const ut=function(...e){if(!0===iO&&(iO=!1,null===wo&&!0===Qw.get("logging_enabled")&&function(e,t){S(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(aa.logLevel=ve.VERBOSE,wo=aa.log.bind(aa),t&&Qw.set("logging_enabled",!0)):"function"==typeof e?wo=e:(wo=null,Qw.remove("logging_enabled"))}(!0)),wo){const t=fu.apply(null,e);wo(t)}},pu=function(e){return function(...t){ut(e,...t)}},Zw=function(...e){const t="FIREBASE INTERNAL ERROR: "+fu(...e);aa.error(t)},pr=function(...e){const t=`FIREBASE FATAL ERROR: ${fu(...e)}`;throw aa.error(t),new Error(t)},Mt=function(...e){const t="FIREBASE WARNING: "+fu(...e);aa.warn(t)},Jh=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},bi="[MIN_NAME]",Zr="[MAX_NAME]",Eo=function(e,t){if(e===t)return 0;if(e===bi||t===Zr)return-1;if(t===bi||e===Zr)return 1;{const n=cO(e),r=cO(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},Qee=function(e,t){return e===t?0:e<t?-1:1},gu=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+rt(t))},Jw=function(e){if("object"!=typeof e||null===e)return rt(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=rt(t[r]),n+=":",n+=Jw(e[t[r]]);return n+="}",n},sO=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)r.push(e.substring(i,i+t>n?n:i+t));return r};function lt(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const aO=function(e){S(!Jh(e),"Invalid JSON number");const r=1023;let i,o,s,a,c;0===e?(o=0,s=0,i=1/e==-1/0?1:0):(i=e<0,(e=Math.abs(e))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),r),o=a+r,s=Math.round(e*Math.pow(2,52-a)-Math.pow(2,52))):(o=0,s=Math.round(e/Math.pow(2,-1074))));const u=[];for(c=52;c;c-=1)u.push(s%2?1:0),s=Math.floor(s/2);for(c=11;c;c-=1)u.push(o%2?1:0),o=Math.floor(o/2);u.push(i?1:0),u.reverse();const l=u.join("");let d="";for(c=0;c<64;c+=8){let h=parseInt(l.substr(c,8),2).toString(16);1===h.length&&(h="0"+h),d+=h}return d.toLowerCase()},ete=new RegExp("^-?(0*)\\d{1,10}$"),cO=function(e){if(ete.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},ca=function(e){try{e()}catch(t){setTimeout(()=>{throw Mt("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},mu=function(e,t){const n=setTimeout(e,t);return"number"==typeof n&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class ite{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){Mt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class ote{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&"auth/token-not-initialized"===n.code?(ut("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Mt(t)}}let _u=(()=>{class e{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return e.OWNER="owner",e})();const fO=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,mO="websocket",_O="long_polling";class eE{constructor(t,n,r,i,o=!1,s="",a=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=bo.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&bo.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function vO(e,t,n){let r;if(S("string"==typeof t,"typeof type must == string"),S("object"==typeof n,"typeof params must == object"),t===mO)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==_O)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function ste(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return lt(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}class ate{constructor(){this.counters_={}}incrementCounter(t,n=1){ur(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return c7(this.counters_)}}const tE={},nE={};function rE(e){const t=e.toString();return tE[t]||(tE[t]=new ate),tE[t]}class ute{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&ca(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class wi{constructor(t,n,r,i,o,s,a){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=pu(t),this.stats_=rE(n),this.urlFn=c=>(this.appCheckToken&&(c.ac=this.appCheckToken),vO(n,_O,c))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new ute(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if("complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new iE((...o)=>{const[s,a,c,u,l]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===s)this.id=a,this.password=c;else{if("close"!==s)throw new Error("Unrecognized command received: "+s);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&fO.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){wi.forceAllow_=!0}static forceDisallow(){wi.forceDisallow_=!0}static isAvailable(){return!(!wi.forceAllow_&&(wi.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=rt(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Yx(n),i=sO(r,1840);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=t,r.pw=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=rt(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class iE{constructor(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=nO(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=iE.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){ut("frame writing exception"),a.stack&&ut(a.stack),ut(a)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||ut("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const s=this.pendingSegs.shift();r=r+"&seg"+i+"="+s.seg+"&ts"+i+"="+s.ts+"&d"+i+"="+s.d,i++}return n+=r,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(i),r()})}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{ut("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let ef=null;typeof MozWebSocket<"u"?ef=MozWebSocket:typeof WebSocket<"u"&&(ef=WebSocket);let ua=(()=>{class e{constructor(n,r,i,o,s,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=pu(this.connId),this.stats_=rE(r),this.connURL=e.connectionURL_(r,a,c,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){const a={v:"5"};return typeof location<"u"&&location.hostname&&fO.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),o&&(a.ac=o),s&&(a.p=s),vO(n,mO,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,bo.set("previous_websocket_failure",!0);try{let i;0,this.mySock=new ef(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const o=i.message||i.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&null!==ef&&!e.forceDisallow_}static previouslyFailed(){return bo.isInMemoryStorage||!0===bo.get("previous_websocket_failure")}markConnectionHealthy(){bo.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=zc(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(S(null===this.frames,"We already have a frame buffer"),n.length<=6){const r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();const r=rt(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=sO(r,16384);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e})(),DO=(()=>{class e{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[wi,ua]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const r=ua&&ua.isAvailable();let i=r&&!ua.previouslyFailed();if(n.webSocketOnly&&(r||Mt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[ua];else{const o=this.transports_=[];for(const s of e.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return e.globalTransportInitialized_=!1,e})();class NO{constructor(t,n,r,i,o,s,a,c,u,l){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=u,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=pu("c:"+this.id+":"),this.transportManager_=new DO(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=mu(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const n=t.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=gu("t",t),r=gu("d",t);if("c"===n)this.onSecondaryControl_(r);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=gu("t",t),r=gu("d",t);"c"===n?this.onControl_(r):"d"===n&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=gu("t",t);if("d"in t){const r=t.d;if("h"===n){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(r):"r"===n?this.onReset_(r):"e"===n?Zw("Server Error: "+r):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Zw("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==r&&Mt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),mu(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):mu(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(bo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class PO{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}class kO{constructor(t){this.allowedEvents_=t,this.listeners_={},S(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context))return void i.splice(o,1)}validateEventType_(t){S(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}class tf extends kO{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!iv()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new tf}getInitialEvent(t){return S("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class pe{constructor(t,n){if(void 0===n){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(t+="/"+this.pieces_[n]);return t||"/"}}function ce(){return new pe("")}function J(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Ei(e){return e.pieces_.length-e.pieceNum_}function Ee(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new pe(e.pieces_,t)}function sE(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function vu(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function LO(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new pe(t,0)}function Pe(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof pe)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new pe(n,0)}function X(e){return e.pieceNum_>=e.pieces_.length}function zt(e,t){const n=J(e),r=J(t);if(null===n)return t;if(n===r)return zt(Ee(e),Ee(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function aE(e,t){if(Ei(e)!==Ei(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function An(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Ei(e)>Ei(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class Nte{constructor(t,n){this.errorPrefix_=n,this.parts_=vu(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=_h(this.parts_[r]);VO(this)}}function VO(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Io(e))}function Io(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class cE extends kO{constructor(){let t,n;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new cE}getInitialEvent(t){return S("visible"===t,"Unknown event type: "+t),[this.visible_]}}const yu=1e3;let rf,Do=(()=>{class e extends PO{constructor(n,r,i,o,s,a,c,u){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=u,this.id=e.nextPersistentConnectionId_++,this.log_=pu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=yu,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");cE.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&tf.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){const o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(rt(s)),S(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();const r=new oo,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{const c=a.d;"ok"===a.s?r.resolve(c):r.reject(c)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(n,r,i,o){this.initConnection_();const s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),S(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),S(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const c={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(n){const r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){const r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);const s={p:i};n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest("q",s,c=>{const u=c.d,l=c.s;e.warnOnListenWarnings_(u,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",c),"ok"!==l&&this.removeListen_(i,o),n.onComplete&&n.onComplete(l,u))})}static warnOnListenWarnings_(n,r){if(n&&"object"==typeof n&&ur(n,"w")){const i=qs(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();Mt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||function(e){const t=ph(e).claims;return"object"==typeof t&&!0===t.admin}(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,r=function(e){const n=ph(e).claims;return!!n&&"object"==typeof n&&n.hasOwnProperty("iat")}(n)?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{const s=o.s,a=o.d||"error";this.authToken_===n&&("ok"===s?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const r=n.s,i=n.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){const i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),S(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);const s={p:n};o&&(s.q=i,s.t=o),this.sendRequest("n",s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){const s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();const a={p:r,d:i};void 0!==s&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(n){const r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){const r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+rt(n));const r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),"d"===n?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===n?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===n?this.onListenRevoked_(r.p,r.q):"ac"===n?this.onAuthRevoked_(r.s,r.d):"apc"===n?this.onAppCheckRevoked_(r.s,r.d):"sd"===n?this.onSecurityDebugPacket_(r):Zw("Unrecognized action received from server: "+rt(n)+"\nAre you using the latest client?")}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){S(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=yu,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=yu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=yu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return _(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const r=n.onDataMessage_.bind(n),i=n.onReady_.bind(n),o=n.onRealtimeDisconnect_.bind(n),s=n.id+":"+e.nextConnectionId_++,a=n.lastSessionId;let c=!1,u=null;const l=function(){u?u.close():(c=!0,o())};n.realtime_={close:l,sendRequest:function(f){S(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(f)}};const h=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[f,p]=yield Promise.all([n.authTokenProvider_.getToken(h),n.appCheckTokenProvider_.getToken(h)]);c?ut("getToken() completed but was canceled"):(ut("getToken() completed. Creating connection."),n.authToken_=f&&f.accessToken,n.appCheckToken_=p&&p.token,u=new NO(s,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,r,i,o,v=>{Mt(v+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},a))}catch(f){n.log_("Failed to get token: "+f),c||(n.repoInfo_.nodeAdmin&&Mt(f),l())}}})()}interrupt(n){ut("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){ut("Resuming connection for reason: "+n),delete this.interruptReasons_[n],av(this.interruptReasons_)&&(this.reconnectDelay_=yu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const r=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;i=r?r.map(s=>Jw(s)).join("$"):"default";const o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){const i=new pe(n).toString();let o;if(this.listens.has(i)){const s=this.listens.get(i);o=s.get(r),s.delete(r),0===s.size&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){ut("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){ut("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let r="js";n["sdk."+r+"."+Yw.replace(/\./g,"-")]=1,iv()?n["framework.cordova"]=1:eN()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=tf.getInstance().currentlyOnline();return av(this.interruptReasons_)&&n}}return e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e})();class te{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new te(t,n)}}class nf{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new te(bi,t),i=new te(bi,n);return 0!==this.compare(r,i)}minPost(){return te.MIN}}class BO extends nf{static get __EMPTY_NODE(){return rf}static set __EMPTY_NODE(t){rf=t}compare(t,n){return Eo(t.name,n.name)}isDefinedOn(t){throw Gs("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return te.MIN}maxPost(){return new te(Zr,rf)}makePost(t,n){return S("string"==typeof t,"KeyIndex indexValue must always be a string."),new te(t,rf)}toString(){return".key"}}const gr=new BO;class sf{constructor(t,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,i&&(s*=-1),s<0)t=this.isReverse_?t.left:t.right;else{if(0===s){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,t=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let lE,Bn=(()=>{class e{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??e.RED,this.left=o??on.EMPTY_NODE,this.right=s??on.EMPTY_NODE}copy(n,r,i,o,s){return new e(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this;const s=i(n,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(n,r,i),null):0===s?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return on.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(n,i.key)){if(i.right.isEmpty())return on.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})();class on{constructor(t,n=on.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new on(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Bn.BLACK,null,null))}remove(t){return new on(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Bn.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),0===n)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),0===n){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}n<0?r=r.left:n>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new sf(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new sf(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new sf(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new sf(this.root_,null,this.comparator_,!0,t)}}function jte(e,t){return Eo(e.name,t.name)}function uE(e,t){return Eo(e,t)}on.EMPTY_NODE=new class Ute{copy(t,n,r,i,o){return this}insert(t,n,r){return new Bn(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const $O=function(e){return"number"==typeof e?"number:"+aO(e):"string:"+e},HO=function(e){if(e.isLeafNode()){const t=e.val();S("string"==typeof t||"number"==typeof t||"object"==typeof t&&ur(t,".sv"),"Priority must be a string or number.")}else S(e===lE||e.isEmpty(),"priority of unexpected type.");S(e===lE||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let zO,WO,GO,la=(()=>{class e{constructor(n,r=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,S(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),HO(this.priorityNode_)}static set __childrenNodeConstructor(n){zO=n}static get __childrenNodeConstructor(){return zO}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new e(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return X(n)?this:".priority"===J(n)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return".priority"===n?this.updatePriority(r):r.isEmpty()&&".priority"!==n?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){const i=J(n);return null===i?r:r.isEmpty()&&".priority"!==i?this:(S(".priority"!==i||1===Ei(n),".priority must be the last token in a path"),this.updateImmediateChild(i,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ee(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+$O(this.priorityNode_.val())+":");const r=typeof this.value_;n+=r+":",n+="number"===r?aO(this.value_):this.value_,this.lazyHash_=rO(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===e.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof e.__childrenNodeConstructor?-1:(S(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const r=typeof n.value_,i=typeof this.value_,o=e.VALUE_TYPE_ORDER.indexOf(r),s=e.VALUE_TYPE_ORDER.indexOf(i);return S(o>=0,"Unknown leaf type: "+r),S(s>=0,"Unknown leaf type: "+i),o===s?"object"===i?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){return n===this||!!n.isLeafNode()&&(this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_))}}return e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e})();const Me=new class zte extends nf{compare(t,n){const r=t.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return 0===o?Eo(t.name,n.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return te.MIN}maxPost(){return new te(Zr,new la("[PRIORITY-POST]",GO))}makePost(t,n){const r=WO(t);return new te(n,new la("[PRIORITY-POST]",r))}toString(){return".priority"}},Wte=Math.log(2);class Gte{constructor(t){this.count=parseInt(Math.log(t+1)/Wte,10),this.current_=this.count-1;const i=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const af=function(e,t,n,r){e.sort(t);const i=function(c,u){const l=u-c;let d,h;if(0===l)return null;if(1===l)return d=e[c],h=n?n(d):d,new Bn(h,d.node,Bn.BLACK,null,null);{const f=parseInt(l/2,10)+c,p=i(c,f),v=i(f+1,u);return d=e[f],h=n?n(d):d,new Bn(h,d.node,Bn.BLACK,p,v)}},a=function(c){let u=null,l=null,d=e.length;const h=function(p,v){const b=d-p,E=d;d-=p;const y=i(b+1,E),P=e[b],V=n?n(P):P;f(new Bn(V,P.node,v,null,y))},f=function(p){u?(u.left=p,u=p):(l=p,u=p)};for(let p=0;p<c.count;++p){const v=c.nextBitIsOne(),b=Math.pow(2,c.count-(p+1));v?h(b,Bn.BLACK):(h(b,Bn.BLACK),h(b,Bn.RED))}return l}(new Gte(e.length));return new on(r||t,a)};let dE;const da={};class Jr{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return S(da&&Me,"ChildrenNode.ts has not been loaded"),dE=dE||new Jr({".priority":da},{".priority":Me}),dE}get(t){const n=qs(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof on?n:null}hasIndex(t){return ur(this.indexSet_,t.toString())}addIndex(t,n){S(t!==gr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(te.Wrap);let a,s=o.getNext();for(;s;)i=i||t.isDefinedOn(s.node),r.push(s),s=o.getNext();a=i?af(r,t.getCompare()):da;const c=t.toString(),u=Object.assign({},this.indexSet_);u[c]=t;const l=Object.assign({},this.indexes_);return l[c]=a,new Jr(l,u)}addToIndexes(t,n){const r=gh(this.indexes_,(i,o)=>{const s=qs(this.indexSet_,o);if(S(s,"Missing index implementation for "+o),i===da){if(s.isDefinedOn(t.node)){const a=[],c=n.getIterator(te.Wrap);let u=c.getNext();for(;u;)u.name!==t.name&&a.push(u),u=c.getNext();return a.push(t),af(a,s.getCompare())}return da}{const a=n.get(t.name);let c=i;return a&&(c=c.remove(new te(t.name,a))),c.insert(t,t.node)}});return new Jr(r,this.indexSet_)}removeFromIndexes(t,n){const r=gh(this.indexes_,i=>{if(i===da)return i;{const o=n.get(t.name);return o?i.remove(new te(t.name,o)):i}});return new Jr(r,this.indexSet_)}}let Cu,Q=(()=>{class e{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&HO(this.priorityNode_),this.children_.isEmpty()&&S(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Cu||(Cu=new e(new on(uE),null,Jr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Cu}updatePriority(n){return this.children_.isEmpty()?this:new e(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const r=this.children_.get(n);return null===r?Cu:r}}getChild(n){const r=J(n);return null===r?this:this.getImmediateChild(r).getChild(Ee(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,r){if(S(r,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(r);{const i=new te(n,r);let o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));const a=o.isEmpty()?Cu:this.priorityNode_;return new e(o,a,s)}}updateChild(n,r){const i=J(n);if(null===i)return r;{S(".priority"!==J(n)||1===Ei(n),".priority must be the last token in a path");const o=this.getImmediateChild(i).updateChild(Ee(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const r={};let i=0,o=0,s=!0;if(this.forEachChild(Me,(a,c)=>{r[a]=c.val(n),i++,s&&e.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){const a=[];for(const c in r)a[c]=r[c];return a}return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+$O(this.getPriority().val())+":"),this.forEachChild(Me,(r,i)=>{const o=i.hash();""!==o&&(n+=":"+r+":"+o)}),this.lazyHash_=""===n?"":rO(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){const o=this.resolveIndex_(i);if(o){const s=o.getPredecessorKey(new te(n,r));return s?s.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(n){const r=this.getFirstChildName(n);return r?new te(r,this.children_.get(r)):null}getLastChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(n){const r=this.getLastChildName(n);return r?new te(r,this.children_.get(r)):null}forEachChild(n,r){const i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{const o=this.children_.getIteratorFrom(n.name,te.Wrap);let s=o.peek();for(;null!=s&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{const o=this.children_.getReverseIteratorFrom(n.name,te.Wrap);let s=o.peek();for(;null!=s&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===bu?-1:0}withIndex(n){if(n===gr||this.indexMap_.hasIndex(n))return this;{const r=this.indexMap_.addIndex(n,this.children_);return new e(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===gr||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const r=n;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(Me),o=r.getIterator(Me);let s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return null===s&&null===a}return!1}return!1}}resolveIndex_(n){return n===gr?null:this.indexMap_.get(n.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})();const bu=new class qte extends Q{constructor(){super(new on(uE),Q.EMPTY_NODE,Jr.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Q.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(te,{MIN:{value:new te(bi,Q.EMPTY_NODE)},MAX:{value:new te(Zr,bu)}}),BO.__EMPTY_NODE=Q.EMPTY_NODE,la.__childrenNodeConstructor=Q,function Bte(e){lE=e}(bu),function Hte(e){GO=e}(bu);const Kte=!0;function Fe(e,t=null){if(null===e)return Q.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),S(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new la(e,Fe(t));if(e instanceof Array||!Kte){let n=Q.EMPTY_NODE;return lt(e,(r,i)=>{if(ur(e,r)&&"."!==r.substring(0,1)){const o=Fe(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Fe(t))}{const n=[];let r=!1;if(lt(e,(s,a)=>{if("."!==s.substring(0,1)){const c=Fe(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new te(s,c)))}}),0===n.length)return Q.EMPTY_NODE;const o=af(n,jte,s=>s.name,uE);if(r){const s=af(n,Me.getCompare());return new Q(o,Fe(t),new Jr({".priority":s},{".priority":Me}))}return new Q(o,Fe(t),Jr.Default)}}!function $te(e){WO=e}(Fe);class hE extends nf{constructor(t){super(),this.indexPath_=t,S(!X(t)&&".priority"!==J(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),i=this.extractChild(n.node),o=r.compareTo(i);return 0===o?Eo(t.name,n.name):o}makePost(t,n){const r=Fe(t),i=Q.EMPTY_NODE.updateChild(this.indexPath_,r);return new te(n,i)}maxPost(){const t=Q.EMPTY_NODE.updateChild(this.indexPath_,bu);return new te(Zr,t)}toString(){return vu(this.indexPath_,0).join("/")}}const fE=new class Yte extends nf{compare(t,n){const r=t.node.compareTo(n.node);return 0===r?Eo(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return te.MIN}maxPost(){return te.MAX}makePost(t,n){const r=Fe(t);return new te(n,r)}toString(){return".value"}};function qO(e){return{type:"value",snapshotNode:e}}function ha(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function wu(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Eu(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class pE{constructor(t){this.index_=t}updateChild(t,n,r,i,o,s){S(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=t.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(null!=s&&(r.isEmpty()?t.hasChild(n)?s.trackChildChange(wu(n,a)):S(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(ha(n,r)):s.trackChildChange(Eu(n,r,a))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return null!=r&&(t.isLeafNode()||t.forEachChild(Me,(i,o)=>{n.hasChild(i)||r.trackChildChange(wu(i,o))}),n.isLeafNode()||n.forEachChild(Me,(i,o)=>{if(t.hasChild(i)){const s=t.getImmediateChild(i);s.equals(o)||r.trackChildChange(Eu(i,o,s))}else r.trackChildChange(ha(i,o))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?Q.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Iu{constructor(t){this.indexedFilter_=new pE(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Iu.getStartPost_(t),this.endPost_=Iu.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,o,s){return this.matches(new te(n,r))||(r=Q.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,o,s)}updateFullNode(t,n,r){n.isLeafNode()&&(n=Q.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Q.EMPTY_NODE);const o=this;return n.forEachChild(Me,(s,a)=>{o.matches(new te(s,a))||(i=i.updateImmediateChild(s,Q.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}return t.getIndex().maxPost()}}class Zte{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Iu(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,o,s){return this.rangedFilter_.matches(new te(n,r))||(r=Q.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,o,s):this.fullLimitUpdateChild_(t,n,r,o,s)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Q.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<n.numChildren()&&n.isIndexed(this.index_)){let o;i=Q.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const a=o.getNext();if(this.withinDirectionalStart(a)){if(!this.withinDirectionalEnd(a))break;i=i.updateImmediateChild(a.name,a.node),s++}}}else{let o;i=n.withIndex(this.index_),i=i.updatePriority(Q.EMPTY_NODE),o=this.reverse_?i.getReverseIterator(this.index_):i.getIterator(this.index_);let s=0;for(;o.hasNext();){const a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,Q.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,o){let s;if(this.reverse_){const d=this.index_.getCompare();s=(h,f)=>d(f,h)}else s=this.index_.getCompare();const a=t;S(a.numChildren()===this.limit_,"");const c=new te(n,r),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),l=this.rangedFilter_.matches(c);if(a.hasChild(n)){const d=a.getImmediateChild(n);let h=i.getChildAfterChild(this.index_,u,this.reverse_);for(;null!=h&&(h.name===n||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const f=null==h?1:s(h,c);if(l&&!r.isEmpty()&&f>=0)return o?.trackChildChange(Eu(n,r,d)),a.updateImmediateChild(n,r);{o?.trackChildChange(wu(n,d));const v=a.updateImmediateChild(n,Q.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(o?.trackChildChange(ha(h.name,h.node)),v.updateImmediateChild(h.name,h.node)):v}}return r.isEmpty()?t:l&&s(u,c)>=0?(null!=o&&(o.trackChildChange(wu(u.name,u.node)),o.trackChildChange(ha(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(u.name,Q.EMPTY_NODE)):t}}class gE{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Me}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return S(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return S(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:bi}hasEnd(){return this.endSet_}getIndexEndValue(){return S(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return S(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Zr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return S(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Me}copy(){const t=new gE;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function KO(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Me?n="$priority":e.index_===fE?n="$value":e.index_===gr?n="$key":(S(e.index_ instanceof hE,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=rt(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=rt(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+rt(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=rt(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+rt(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function YO(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Me&&(t.i=e.index_.toString()),t}class uf extends PO{constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=pu("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return void 0!==n?"tag$"+n:(S(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,r,i){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const s=uf.getListenId_(t,r),a={};this.listens_[s]=a;const c=KO(t._queryParams);this.restRequest_(o+".json",c,(u,l)=>{let d=l;if(404===u&&(d=null,u=null),null===u&&this.onDataUpdate_(o,d,!1,r),qs(this.listens_,s)===a){let h;h=u?401===u?"permission_denied":"rest_error:"+u:"ok",i(h,null)}})}unlisten(t,n){const r=uf.getListenId_(t,n);delete this.listens_[r]}get(t){const n=KO(t._queryParams),r=t._path.toString(),i=new oo;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;404===o&&(a=null,o=null),null===o?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Ks(n);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=zc(a.responseText)}catch{Mt("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,c)}else 401!==a.status&&404!==a.status&&Mt("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}}class rne{constructor(){this.rootNode_=Q.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}function lf(){return{value:null,children:new Map}}function fa(e,t,n){if(X(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=J(t);e.children.has(r)||e.children.set(r,lf()),fa(e.children.get(r),t=Ee(t),n)}}function yE(e,t,n){null!==e.value?n(t,e.value):function ine(e,t){e.children.forEach((n,r)=>{t(r,n)})}(e,(r,i)=>{yE(i,new pe(t.toString()+"/"+r),n)})}class one{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&lt(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}}class cne{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new one(t);const r=1e4+2e4*Math.random();mu(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;lt(t,(i,o)=>{o>0&&ur(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),mu(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var mr=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}(mr||{});function wE(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}class df{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=mr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(X(this.path)){if(null!=this.affectedTree.value)return S(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new pe(t));return new df(ce(),n,this.revert)}}return S(J(this.path)===t,"operationForChild called for unrelated child."),new df(Ee(this.path),this.affectedTree,this.revert)}}class Du{constructor(t,n){this.source=t,this.path=n,this.type=mr.LISTEN_COMPLETE}operationForChild(t){return X(this.path)?new Du(this.source,ce()):new Du(this.source,Ee(this.path))}}class To{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=mr.OVERWRITE}operationForChild(t){return X(this.path)?new To(this.source,ce(),this.snap.getImmediateChild(t)):new To(this.source,Ee(this.path),this.snap)}}class pa{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=mr.MERGE}operationForChild(t){if(X(this.path)){const n=this.children.subtree(new pe(t));return n.isEmpty()?null:n.value?new To(this.source,ce(),n.value):new pa(this.source,ce(),n)}return S(J(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new pa(this.source,Ee(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ii{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(X(t))return this.isFullyInitialized()&&!this.filtered_;const n=J(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class une{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Tu(e,t,n,r,i,o){const s=r.filter(a=>a.type===n);s.sort((a,c)=>function hne(e,t,n){if(null==t.childName||null==n.childName)throw Gs("Should only compare child_ events.");const r=new te(t.childName,t.snapshotNode),i=new te(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,a,c)),s.forEach(a=>{const c=function dne(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,a,o);i.forEach(u=>{u.respondsTo(a.type)&&t.push(u.createEvent(c,e.query_))})})}function hf(e,t){return{eventCache:e,serverCache:t}}function Su(e,t,n,r){return hf(new Ii(t,n,r),e.serverCache)}function ZO(e,t,n,r){return hf(e.eventCache,new Ii(t,n,r))}function ff(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function So(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let EE;class Re{constructor(t,n=(()=>(EE||(EE=new on(Qee)),EE))()){this.value=t,this.children=n}static fromObject(t){let n=new Re(null);return lt(t,(r,i)=>{n=n.set(new pe(r),i)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(null!=this.value&&n(this.value))return{path:ce(),value:this.value};if(X(t))return null;{const r=J(t),i=this.children.get(r);if(null!==i){const o=i.findRootMostMatchingPathAndValue(Ee(t),n);return null!=o?{path:Pe(new pe(r),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(X(t))return this;{const n=J(t),r=this.children.get(n);return null!==r?r.subtree(Ee(t)):new Re(null)}}set(t,n){if(X(t))return new Re(n,this.children);{const r=J(t),o=(this.children.get(r)||new Re(null)).set(Ee(t),n),s=this.children.insert(r,o);return new Re(this.value,s)}}remove(t){if(X(t))return this.children.isEmpty()?new Re(null):new Re(null,this.children);{const n=J(t),r=this.children.get(n);if(r){const i=r.remove(Ee(t));let o;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new Re(null):new Re(this.value,o)}return this}}get(t){if(X(t))return this.value;{const n=J(t),r=this.children.get(n);return r?r.get(Ee(t)):null}}setTree(t,n){if(X(t))return n;{const r=J(t),o=(this.children.get(r)||new Re(null)).setTree(Ee(t),n);let s;return s=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new Re(this.value,s)}}fold(t){return this.fold_(ce(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Pe(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,ce(),n)}findOnPath_(t,n,r){const i=!!this.value&&r(n,this.value);if(i)return i;if(X(t))return null;{const o=J(t),s=this.children.get(o);return s?s.findOnPath_(Ee(t),Pe(n,o),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,ce(),n)}foreachOnPath_(t,n,r){if(X(t))return this;{this.value&&r(n,this.value);const i=J(t),o=this.children.get(i);return o?o.foreachOnPath_(Ee(t),Pe(n,i),r):new Re(null)}}foreach(t){this.foreach_(ce(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Pe(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}class $n{constructor(t){this.writeTree_=t}static empty(){return new $n(new Re(null))}}function Au(e,t,n){if(X(t))return new $n(new Re(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let o=r.value;const s=zt(i,t);return o=o.updateChild(s,n),new $n(e.writeTree_.set(i,o))}{const i=new Re(n),o=e.writeTree_.setTree(t,i);return new $n(o)}}}function IE(e,t,n){let r=e;return lt(n,(i,o)=>{r=Au(r,Pe(t,i),o)}),r}function JO(e,t){if(X(t))return $n.empty();{const n=e.writeTree_.setTree(t,new Re(null));return new $n(n)}}function DE(e,t){return null!=Ao(e,t)}function Ao(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(zt(n.path,t)):null}function XO(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Me,(r,i)=>{t.push(new te(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&t.push(new te(r,i.value))}),t}function Di(e,t){if(X(t))return e;{const n=Ao(e,t);return new $n(null!=n?new Re(n):e.writeTree_.subtree(t))}}function TE(e){return e.writeTree_.isEmpty()}function ga(e,t){return eF(ce(),e.writeTree_,t)}function eF(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,o)=>{".priority"===i?(S(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):n=eF(Pe(e,i),o,n)}),!n.getChild(e).isEmpty()&&null!==r&&(n=n.updateChild(Pe(e,".priority"),r)),n}}function pf(e,t){return oF(t,e)}function vne(e,t){if(e.snap)return An(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&An(Pe(e.path,n),t))return!0;return!1}function Cne(e){return e.visible}function tF(e,t,n){let r=$n.empty();for(let i=0;i<e.length;++i){const o=e[i];if(t(o)){const s=o.path;let a;if(o.snap)An(n,s)?(a=zt(n,s),r=Au(r,a,o.snap)):An(s,n)&&(a=zt(s,n),r=Au(r,ce(),o.snap.getChild(a)));else{if(!o.children)throw Gs("WriteRecord should have .snap or .children");if(An(n,s))a=zt(n,s),r=IE(r,a,o.children);else if(An(s,n))if(a=zt(s,n),X(a))r=IE(r,ce(),o.children);else{const c=qs(o.children,J(a));if(c){const u=c.getChild(Ee(a));r=Au(r,ce(),u)}}}}}return r}function nF(e,t,n,r,i){if(r||i){const o=Di(e.visibleWrites,t);return!i&&TE(o)?n:i||null!=n||DE(o,ce())?ga(tF(e.allWrites,function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(An(u.path,t)||An(t,u.path))},t),n||Q.EMPTY_NODE):null}{const o=Ao(e.visibleWrites,t);if(null!=o)return o;{const s=Di(e.visibleWrites,t);return TE(s)?n:null!=n||DE(s,ce())?ga(s,n||Q.EMPTY_NODE):null}}}function gf(e,t,n,r){return nF(e.writeTree,e.treePath,t,n,r)}function SE(e,t){return function bne(e,t,n){let r=Q.EMPTY_NODE;const i=Ao(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Me,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){const o=Di(e.visibleWrites,t);return n.forEachChild(Me,(s,a)=>{const c=ga(Di(o,new pe(s)),a);r=r.updateImmediateChild(s,c)}),XO(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}return XO(Di(e.visibleWrites,t)).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}(e.writeTree,e.treePath,t)}function rF(e,t,n,r){return function wne(e,t,n,r,i){S(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=Pe(t,n);if(DE(e.visibleWrites,o))return null;{const s=Di(e.visibleWrites,o);return TE(s)?i.getChild(n):ga(s,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function mf(e,t){return function Ine(e,t){return Ao(e.visibleWrites,t)}(e.writeTree,Pe(e.treePath,t))}function AE(e,t,n){return function Ene(e,t,n,r){const i=Pe(t,n),o=Ao(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?ga(Di(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function iF(e,t){return oF(Pe(e.treePath,t),e.writeTree)}function oF(e,t){return{treePath:e,writeTree:t}}class Ane{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;S("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),S(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if("child_added"===n&&"child_removed"===o)this.changeMap.set(r,Eu(r,t.snapshotNode,i.snapshotNode));else if("child_removed"===n&&"child_added"===o)this.changeMap.delete(r);else if("child_removed"===n&&"child_changed"===o)this.changeMap.set(r,wu(r,i.oldSnap));else if("child_changed"===n&&"child_added"===o)this.changeMap.set(r,ha(r,t.snapshotNode));else{if("child_changed"!==n||"child_changed"!==o)throw Gs("Illegal combination of changes: "+t+" occurred after "+i);this.changeMap.set(r,Eu(r,t.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}const sF=new class Mne{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}};class ME{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=null!=this.optCompleteServerCache_?new Ii(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return AE(this.writes_,t,r)}}getChildAfterChild(t,n,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:So(this.viewCache_),o=function Sne(e,t,n,r,i,o){return function Dne(e,t,n,r,i,o,s){let a;const c=Di(e.visibleWrites,t),u=Ao(c,ce());if(null!=u)a=u;else{if(null==n)return[];a=ga(c,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const l=[],d=s.getCompare(),h=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let f=h.getNext();for(;f&&l.length<i;)0!==d(f,r)&&l.push(f),f=h.getNext();return l}}(e.writeTree,e.treePath,t,n,r,i,o)}(this.writes_,i,n,1,r,t);return 0===o.length?null:o[0]}}function aF(e,t,n,r,i,o){const s=t.eventCache;if(null!=mf(r,n))return t;{let a,c;if(X(n))if(S(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const u=So(t),d=SE(r,u instanceof Q?u:Q.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),d,o)}else{const u=gf(r,So(t));a=e.filter.updateFullNode(t.eventCache.getNode(),u,o)}else{const u=J(n);if(".priority"===u){S(1===Ei(n),"Can't have a priority with additional path components");const l=s.getNode();c=t.serverCache.getNode();const d=rF(r,n,l,c);a=null!=d?e.filter.updatePriority(l,d):s.getNode()}else{const l=Ee(n);let d;if(s.isCompleteForChild(u)){c=t.serverCache.getNode();const h=rF(r,n,s.getNode(),c);d=null!=h?s.getNode().getImmediateChild(u).updateChild(l,h):s.getNode().getImmediateChild(u)}else d=AE(r,u,t.serverCache);a=null!=d?e.filter.updateChild(s.getNode(),u,d,l,i,o):s.getNode()}}return Su(t,a,s.isFullyInitialized()||X(n),e.filter.filtersNodes())}}function _f(e,t,n,r,i,o,s,a){const c=t.serverCache;let u;const l=s?e.filter:e.filter.getIndexedFilter();if(X(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){const f=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),f,null)}else{const f=J(n);if(!c.isCompleteForPath(n)&&Ei(n)>1)return t;const p=Ee(n),b=c.getNode().getImmediateChild(f).updateChild(p,r);u=".priority"===f?l.updatePriority(c.getNode(),b):l.updateChild(c.getNode(),f,b,p,sF,null)}const d=ZO(t,u,c.isFullyInitialized()||X(n),l.filtersNodes());return aF(e,d,n,i,new ME(i,d,o),a)}function RE(e,t,n,r,i,o,s){const a=t.eventCache;let c,u;const l=new ME(i,t,o);if(X(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,s),c=Su(t,u,!0,e.filter.filtersNodes());else{const d=J(n);if(".priority"===d)u=e.filter.updatePriority(t.eventCache.getNode(),r),c=Su(t,u,a.isFullyInitialized(),a.isFiltered());else{const h=Ee(n),f=a.getNode().getImmediateChild(d);let p;if(X(h))p=r;else{const v=l.getCompleteChild(d);p=null!=v?".priority"===sE(h)&&v.getChild(LO(h)).isEmpty()?v:v.updateChild(h,r):Q.EMPTY_NODE}c=f.equals(p)?t:Su(t,e.filter.updateChild(a.getNode(),d,p,h,l,s),a.isFullyInitialized(),e.filter.filtersNodes())}}return c}function cF(e,t){return e.eventCache.isCompleteForChild(t)}function uF(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function xE(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let u,c=t;u=X(n)?r:new Re(null).setTree(n,r);const l=t.serverCache.getNode();return u.children.inorderTraversal((d,h)=>{if(l.hasChild(d)){const p=uF(0,t.serverCache.getNode().getImmediateChild(d),h);c=_f(e,c,new pe(d),p,i,o,s,a)}}),u.children.inorderTraversal((d,h)=>{const f=!t.serverCache.isCompleteForChild(d)&&null===h.value;if(!l.hasChild(d)&&!f){const v=uF(0,t.serverCache.getNode().getImmediateChild(d),h);c=_f(e,c,new pe(d),v,i,o,s,a)}}),c}class Vne{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new pE(r.getIndex()),o=function Jte(e){return e.loadsAllData()?new pE(e.getIndex()):e.hasLimit()?new Zte(e):new Iu(e)}(r);this.processor_=function Rne(e){return{filter:e}}(o);const s=n.serverCache,a=n.eventCache,c=i.updateFullNode(Q.EMPTY_NODE,s.getNode(),null),u=o.updateFullNode(Q.EMPTY_NODE,a.getNode(),null),l=new Ii(c,s.isFullyInitialized(),i.filtersNodes()),d=new Ii(u,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=hf(d,l),this.eventGenerator_=new une(this.query_)}get query(){return this.query_}}function Bne(e,t){const n=So(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!X(t)&&!n.getImmediateChild(J(t)).isEmpty())?n.getChild(t):null}function lF(e){return 0===e.eventRegistrations_.length}function dF(e,t,n){const r=[];if(n){S(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(n,i);s&&r.push(s)})}if(t){let i=[];for(let o=0;o<e.eventRegistrations_.length;++o){const s=e.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(o+1));break}}else i.push(s)}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function hF(e,t,n,r){t.type===mr.MERGE&&null!==t.source.queryId&&(S(So(e.viewCache_),"We should always have a full cache before handling merges"),S(ff(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,o=function Nne(e,t,n,r,i){const o=new Ane;let s,a;if(n.type===mr.OVERWRITE){const u=n;u.source.fromUser?s=RE(e,t,u.path,u.snap,r,i,o):(S(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.serverCache.isFiltered()&&!X(u.path),s=_f(e,t,u.path,u.snap,r,i,a,o))}else if(n.type===mr.MERGE){const u=n;u.source.fromUser?s=function kne(e,t,n,r,i,o,s){let a=t;return r.foreach((c,u)=>{const l=Pe(n,c);cF(t,J(l))&&(a=RE(e,a,l,u,i,o,s))}),r.foreach((c,u)=>{const l=Pe(n,c);cF(t,J(l))||(a=RE(e,a,l,u,i,o,s))}),a}(e,t,u.path,u.children,r,i,o):(S(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.serverCache.isFiltered(),s=xE(e,t,u.path,u.children,r,i,a,o))}else if(n.type===mr.ACK_USER_WRITE){const u=n;s=u.revert?function Lne(e,t,n,r,i,o){let s;if(null!=mf(r,n))return t;{const a=new ME(r,t,i),c=t.eventCache.getNode();let u;if(X(n)||".priority"===J(n)){let l;if(t.serverCache.isFullyInitialized())l=gf(r,So(t));else{const d=t.serverCache.getNode();S(d instanceof Q,"serverChildren would be complete if leaf node"),l=SE(r,d)}u=e.filter.updateFullNode(c,l,o)}else{const l=J(n);let d=AE(r,l,t.serverCache);null==d&&t.serverCache.isCompleteForChild(l)&&(d=c.getImmediateChild(l)),u=null!=d?e.filter.updateChild(c,l,d,Ee(n),a,o):t.eventCache.getNode().hasChild(l)?e.filter.updateChild(c,l,Q.EMPTY_NODE,Ee(n),a,o):c,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=gf(r,So(t)),s.isLeafNode()&&(u=e.filter.updateFullNode(u,s,o)))}return s=t.serverCache.isFullyInitialized()||null!=mf(r,ce()),Su(t,u,s,e.filter.filtersNodes())}}(e,t,u.path,r,i,o):function One(e,t,n,r,i,o,s){if(null!=mf(i,n))return t;const a=t.serverCache.isFiltered(),c=t.serverCache;if(null!=r.value){if(X(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return _f(e,t,n,c.getNode().getChild(n),i,o,a,s);if(X(n)){let u=new Re(null);return c.getNode().forEachChild(gr,(l,d)=>{u=u.set(new pe(l),d)}),xE(e,t,n,u,i,o,a,s)}return t}{let u=new Re(null);return r.foreach((l,d)=>{const h=Pe(n,l);c.isCompleteForPath(h)&&(u=u.set(l,c.getNode().getChild(h)))}),xE(e,t,n,u,i,o,a,s)}}(e,t,u.path,u.affectedTree,r,i,o)}else{if(n.type!==mr.LISTEN_COMPLETE)throw Gs("Unknown operation type: "+n.type);s=function Fne(e,t,n,r,i){const o=t.serverCache;return aF(e,ZO(t,o.getNode(),o.isFullyInitialized()||X(n),o.isFiltered()),n,r,sF,i)}(e,t,n.path,r,o)}const c=o.getChanges();return function Pne(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=ff(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(qO(ff(t)))}}(t,s,c),{viewCache:s,changes:c}}(e.processor_,i,t,n,r);return function xne(e,t){S(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),S(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}(e.processor_,o.viewCache),S(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,fF(e,o.changes,o.viewCache.eventCache.getNode(),null)}function fF(e,t,n,r){return function lne(e,t,n,r){const i=[],o=[];return t.forEach(s=>{"child_changed"===s.type&&e.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(function Qte(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}(s.childName,s.snapshotNode))}),Tu(e,i,"child_removed",t,r,n),Tu(e,i,"child_added",t,r,n),Tu(e,i,"child_moved",o,r,n),Tu(e,i,"child_changed",t,r,n),Tu(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,r?[r]:e.eventRegistrations_)}let vf,Cf;class pF{constructor(){this.views=new Map}}function NE(e,t,n,r){const i=t.source.queryId;if(null!==i){const o=e.views.get(i);return S(null!=o,"SyncTree gave us an op for an invalid query."),hF(o,t,n,r)}{let o=[];for(const s of e.views.values())o=o.concat(hF(s,t,n,r));return o}}function gF(e,t,n,r,i){const s=e.views.get(t._queryIdentifier);if(!s){let a=gf(n,i?r:null),c=!1;a?c=!0:r instanceof Q?(a=SE(n,r),c=!1):(a=Q.EMPTY_NODE,c=!1);const u=hf(new Ii(a,c,!1),new Ii(r,i,!1));return new Vne(t,u)}return s}function mF(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Ti(e,t){let n=null;for(const r of e.views.values())n=n||Bne(r,t);return n}function _F(e,t){return t._queryParams.loadsAllData()?yf(e):e.views.get(t._queryIdentifier)}function vF(e,t){return null!=_F(e,t)}function Si(e){return null!=yf(e)}function yf(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Zne=1;class yF{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Re(null),this.pendingWriteTree_=function Tne(){return{visibleWrites:$n.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function PE(e,t,n,r,i){return function pne(e,t,n,r,i){S(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Au(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?ma(e,new To({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Ai(e,t,n=!1){const r=function mne(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(function _ne(e,t){const n=e.allWrites.findIndex(a=>a.writeId===t);S(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){const a=e.allWrites[s];a.visible&&(s>=n&&vne(a,r.path)?i=!1:An(r.path,a.path)&&(o=!0)),s--}return!!i&&(o?(function yne(e){e.visibleWrites=tF(e.allWrites,Cne,ce()),e.lastWriteId=e.allWrites.length>0?e.allWrites[e.allWrites.length-1].writeId:-1}(e),!0):(r.snap?e.visibleWrites=JO(e.visibleWrites,r.path):lt(r.children,c=>{e.visibleWrites=JO(e.visibleWrites,Pe(r.path,c))}),!0))}(e.pendingWriteTree_,t)){let o=new Re(null);return null!=r.snap?o=o.set(ce(),!0):lt(r.children,s=>{o=o.set(new pe(s),!0)}),ma(e,new df(r.path,o,n))}return[]}function Mu(e,t,n){return ma(e,new To({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function bf(e,t,n,r,i=!1){const o=t._path,s=e.syncPointTree_.get(o);let a=[];if(s&&("default"===t._queryIdentifier||vF(s,t))){const c=function Kne(e,t,n,r){const i=t._queryIdentifier,o=[];let s=[];const a=Si(e);if("default"===i)for(const[c,u]of e.views.entries())s=s.concat(dF(u,n,r)),lF(u)&&(e.views.delete(c),u.query._queryParams.loadsAllData()||o.push(u.query));else{const c=e.views.get(i);c&&(s=s.concat(dF(c,n,r)),lF(c)&&(e.views.delete(i),c.query._queryParams.loadsAllData()||o.push(c.query)))}return a&&!Si(e)&&o.push(new(function Wne(){return S(vf,"Reference.ts has not been loaded"),vf}())(t._repo,t._path)),{removed:o,events:s}}(s,t,n,r);(function Gne(e){return 0===e.views.size})(s)&&(e.syncPointTree_=e.syncPointTree_.remove(o));const u=c.removed;if(a=c.events,!i){const l=-1!==u.findIndex(h=>h._queryParams.loadsAllData()),d=e.syncPointTree_.findOnPath(o,(h,f)=>Si(f));if(l&&!d){const h=e.syncPointTree_.subtree(o);if(!h.isEmpty()){const f=function ire(e){return e.fold((t,n,r)=>{if(n&&Si(n))return[yf(n)];{let i=[];return n&&(i=mF(n)),lt(r,(o,s)=>{i=i.concat(s)}),i}})}(h);for(let p=0;p<f.length;++p){const v=f[p],b=v.query,E=EF(e,v);e.listenProvider_.startListening(xu(b),Ru(e,b),E.hashFn,E.onComplete)}}}!d&&u.length>0&&!r&&(l?e.listenProvider_.stopListening(xu(t),null):u.forEach(h=>{const f=e.queryToTagMap.get(Ef(h));e.listenProvider_.stopListening(xu(h),f)}))}!function ore(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const i=Ef(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}(e,u)}return a}function CF(e,t,n,r){const i=OE(e,r);if(null!=i){const o=FE(i),s=o.path,a=o.queryId,c=zt(s,t);return LE(e,s,new To(wE(a),c,n))}return[]}function kE(e,t,n,r=!1){const i=t._path;let o=null,s=!1;e.syncPointTree_.foreachOnPath(i,(h,f)=>{const p=zt(h,i);o=o||Ti(f,p),s=s||Si(f)});let c,a=e.syncPointTree_.get(i);a?(s=s||Si(a),o=o||Ti(a,ce())):(a=new pF,e.syncPointTree_=e.syncPointTree_.set(i,a)),null!=o?c=!0:(c=!1,o=Q.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((f,p)=>{const v=Ti(p,ce());v&&(o=o.updateImmediateChild(f,v))}));const u=vF(a,t);if(!u&&!t._queryParams.loadsAllData()){const h=Ef(t);S(!e.queryToTagMap.has(h),"View does not exist, but we have a tag");const f=function sre(){return Zne++}();e.queryToTagMap.set(h,f),e.tagToQueryMap.set(f,h)}let d=function qne(e,t,n,r,i,o){const s=gF(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),function $ne(e,t){e.eventRegistrations_.push(t)}(s,n),function Hne(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Me,(o,s)=>{r.push(ha(o,s))}),n.isFullyInitialized()&&r.push(qO(n.getNode())),fF(e,r,n.getNode(),t)}(s,n)}(a,t,n,pf(e.pendingWriteTree_,i),o,c);if(!u&&!s&&!r){const h=_F(a,t);d=d.concat(function are(e,t,n){const r=t._path,i=Ru(e,t),o=EF(e,n),s=e.listenProvider_.startListening(xu(t),i,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(r);if(i)S(!Si(a.value),"If we're adding a query, it shouldn't be shadowed");else{const c=a.fold((u,l,d)=>{if(!X(u)&&l&&Si(l))return[yf(l).query];{let h=[];return l&&(h=h.concat(mF(l).map(f=>f.query))),lt(d,(f,p)=>{h=h.concat(p)}),h}});for(let u=0;u<c.length;++u){const l=c[u];e.listenProvider_.stopListening(xu(l),Ru(e,l))}}return s}(e,t,h))}return d}function wf(e,t,n){const i=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(s,a)=>{const u=Ti(a,zt(s,t));if(u)return u});return nF(i,t,o,n,!0)}function ma(e,t){return bF(t,e.syncPointTree_,null,pf(e.pendingWriteTree_,ce()))}function bF(e,t,n,r){if(X(e.path))return wF(e,t,n,r);{const i=t.get(ce());null==n&&null!=i&&(n=Ti(i,ce()));let o=[];const s=J(e.path),a=e.operationForChild(s),c=t.children.get(s);if(c&&a){const u=n?n.getImmediateChild(s):null,l=iF(r,s);o=o.concat(bF(a,c,u,l))}return i&&(o=o.concat(NE(i,e,r,n))),o}}function wF(e,t,n,r){const i=t.get(ce());null==n&&null!=i&&(n=Ti(i,ce()));let o=[];return t.children.inorderTraversal((s,a)=>{const c=n?n.getImmediateChild(s):null,u=iF(r,s),l=e.operationForChild(s);l&&(o=o.concat(wF(l,a,c,u)))}),i&&(o=o.concat(NE(i,e,r,n))),o}function EF(e,t){const n=t.query,r=Ru(e,n);return{hashFn:()=>(function Une(e){return e.viewCache_.serverCache.getNode()}(t)||Q.EMPTY_NODE).hash(),onComplete:i=>{if("ok"===i)return r?function tre(e,t,n){const r=OE(e,n);if(r){const i=FE(r),o=i.path,s=i.queryId,a=zt(o,t);return LE(e,o,new Du(wE(s),a))}return[]}(e,n._path,r):function ere(e,t){return ma(e,new Du({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const o=function Xee(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(i,n);return bf(e,n,null,o)}}}}function Ru(e,t){const n=Ef(t);return e.queryToTagMap.get(n)}function Ef(e){return e._path.toString()+"$"+e._queryIdentifier}function OE(e,t){return e.tagToQueryMap.get(t)}function FE(e){const t=e.indexOf("$");return S(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new pe(e.substr(0,t))}}function LE(e,t,n){const r=e.syncPointTree_.get(t);return S(r,"Missing sync point for query tag that we're tracking"),NE(r,n,pf(e.pendingWriteTree_,t),null)}function xu(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(function Qne(){return S(Cf,"Reference.ts has not been loaded"),Cf}())(e._repo,e._path):e}class VE{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new VE(n)}node(){return this.node_}}class UE{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=Pe(this.path_,t);return new UE(this.syncTree_,n)}node(){return wf(this.syncTree_,this.path_)}}const cre=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},IF=function(e,t,n){return e&&"object"==typeof e?(S(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?ure(e[".sv"],t,n):"object"==typeof e[".sv"]?lre(e[".sv"],t):void S(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},ure=function(e,t,n){if("timestamp"===e)return n.timestamp;S(!1,"Unexpected server value: "+e)},lre=function(e,t,n){e.hasOwnProperty("increment")||S(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!=typeof r&&S(!1,"Unexpected increment value: "+r);const i=t.node();if(S(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return"number"!=typeof s?r:s+r},DF=function(e,t,n,r){return BE(t,new UE(n,e),r)},jE=function(e,t,n){return BE(e,new VE(t),n)};function BE(e,t,n){const r=e.getPriority().val(),i=IF(r,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const s=e,a=IF(s.getValue(),t,n);return a!==s.getValue()||i!==s.getPriority().val()?new la(a,Fe(i)):e}{const s=e;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new la(i))),s.forEachChild(Me,(a,c)=>{const u=BE(c,t.getImmediateChild(a),n);u!==c&&(o=o.updateImmediateChild(a,u))}),o}}class $E{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function If(e,t){let n=t instanceof pe?t:new pe(t),r=e,i=J(n);for(;null!==i;){const o=qs(r.node.children,i)||{children:{},childCount:0};r=new $E(i,r,o),n=Ee(n),i=J(n)}return r}function Mo(e){return e.node.value}function HE(e,t){e.node.value=t,zE(e)}function TF(e){return e.node.childCount>0}function Df(e,t){lt(e.node.children,(n,r)=>{t(new $E(n,e,r))})}function SF(e,t,n,r){n&&!r&&t(e),Df(e,i=>{SF(i,t,!0,r)}),n&&r&&t(e)}function Nu(e){return new pe(null===e.parent?e.name:Nu(e.parent)+"/"+e.name)}function zE(e){null!==e.parent&&function fre(e,t,n){const r=function dre(e){return void 0===Mo(e)&&!TF(e)}(n),i=ur(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,zE(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,zE(e))}(e.parent,e.name,e)}const pre=/[\[\].#$\/\u0000-\u001F\u007F]/,gre=/[\[\].#$\u0000-\u001F\u007F]/,WE=10485760,Tf=function(e){return"string"==typeof e&&0!==e.length&&!pre.test(e)},AF=function(e){return"string"==typeof e&&0!==e.length&&!gre.test(e)},ku=function(e,t,n){const r=n instanceof pe?new Nte(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+Io(r));if("function"==typeof t)throw new Error(e+"contains a function "+Io(r)+" with contents = "+t.toString());if(Jh(t))throw new Error(e+"contains "+t.toString()+" "+Io(r));if("string"==typeof t&&t.length>WE/3&&_h(t)>WE)throw new Error(e+"contains a string greater than "+WE+" utf8 bytes "+Io(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let i=!1,o=!1;if(lt(t,(s,a)=>{if(".value"===s)i=!0;else if(".priority"!==s&&".sv"!==s&&(o=!0,!Tf(s)))throw new Error(e+" contains an invalid key ("+s+") "+Io(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Pte(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=_h(t),VO(e)})(r,s),ku(e,a,r),function kte(e){const t=e.parts_.pop();e.byteLength_-=_h(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)}),i&&o)throw new Error(e+' contains ".value" child '+Io(r)+" in addition to actual children.")}},qE=function(e,t,n,r){if(!(r&&void 0===n||AF(n)))throw new Error(Ys(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},vre=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),qE(e,t,n,r)};class yre{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Sf(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],o=i.getPath();null!==n&&!aE(o,n.path)&&(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function xF(e,t,n){Sf(e,n),NF(e,r=>aE(r,t))}function gn(e,t,n){Sf(e,n),NF(e,r=>An(r,t)||An(t,r))}function NF(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];i&&(t(i.path)?(Cre(e.eventLists_[r]),e.eventLists_[r]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}function Cre(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();wo&&ut("event: "+n.toString()),ca(r)}}}const bre=25;class wre{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new yre,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=lf(),this.transactionQueueTree_=new $E,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function kF(e){const n=e.infoData_.getNode(new pe(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function Fu(e){return cre({timestamp:kF(e)})}function OF(e,t,n,r,i){e.dataUpdateCount++;const o=new pe(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){const c=gh(n,u=>Fe(u));s=function nre(e,t,n,r){const i=OE(e,r);if(i){const o=FE(i),s=o.path,a=o.queryId,c=zt(s,t),u=Re.fromObject(n);return LE(e,s,new pa(wE(a),c,u))}return[]}(e.serverSyncTree_,o,c,i)}else{const c=Fe(n);s=CF(e.serverSyncTree_,o,c,i)}else if(r){const c=gh(n,u=>Fe(u));s=function Xne(e,t,n){const r=Re.fromObject(n);return ma(e,new pa({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,c)}else{const c=Fe(n);s=Mu(e.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=va(e,o)),gn(e.eventQueue_,a,s)}function FF(e,t){KE(e,"connected",t),!1===t&&function Sre(e){_a(e,"onDisconnectEvents");const t=Fu(e),n=lf();yE(e.onDisconnect_,ce(),(i,o)=>{const s=DF(i,o,e.serverSyncTree_,t);fa(n,i,s)});let r=[];yE(n,ce(),(i,o)=>{r=r.concat(Mu(e.serverSyncTree_,i,o));const s=JE(e,i);va(e,s)}),e.onDisconnect_=lf(),gn(e.eventQueue_,ce(),r)}(e)}function KE(e,t,n){const r=new pe("/.info/"+t),i=Fe(n);e.infoData_.updateSnapshot(r,i);const o=Mu(e.infoSyncTree_,r,i);gn(e.eventQueue_,r,o)}function Af(e){return e.nextWriteId_++}function YE(e,t,n,r,i){_a(e,"set",{path:t.toString(),value:n,priority:r});const o=Fu(e),s=Fe(n,r),a=wf(e.serverSyncTree_,t),c=jE(s,a,o),u=Af(e),l=PE(e.serverSyncTree_,t,c,u,!0);Sf(e.eventQueue_,l),e.server_.put(t.toString(),s.val(!0),(h,f)=>{const p="ok"===h;p||Mt("set at "+t+" failed: "+h);const v=Ai(e.serverSyncTree_,u,!p);gn(e.eventQueue_,t,v),function Mi(e,t,n,r){t&&ca(()=>{if("ok"===n)t(null);else{const i=(n||"error").toUpperCase();let o=i;r&&(o+=": "+r);const s=new Error(o);s.code=i,t(s)}})}(0,i,h,f)});const d=JE(e,t);va(e,d),gn(e.eventQueue_,d,[])}function QE(e,t,n){let r;r=".info"===J(t._path)?bf(e.infoSyncTree_,t,n):bf(e.serverSyncTree_,t,n),xF(e.eventQueue_,t._path,r)}function _a(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),ut(n,...t)}function ZE(e,t,n){return wf(e.serverSyncTree_,t,n)||Q.EMPTY_NODE}function Mf(e,t=e.transactionQueueTree_){if(t||Rf(e,t),Mo(t)){const n=jF(e,t);S(n.length>0,"Sending zero length transaction queue"),n.every(i=>0===i.status)&&function kre(e,t,n){const r=n.map(u=>u.currentWriteId),i=ZE(e,t,r);let o=i;const s=i.hash();for(let u=0;u<n.length;u++){const l=n[u];S(0===l.status,"tryToSendTransactionQueue_: items in queue should all be run."),l.status=1,l.retryCount++;const d=zt(t,l.path);o=o.updateChild(d,l.currentOutputSnapshotRaw)}const a=o.val(!0),c=t;e.server_.put(c.toString(),a,u=>{_a(e,"transaction put response",{path:c.toString(),status:u});let l=[];if("ok"===u){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,l=l.concat(Ai(e.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Rf(e,If(e.transactionQueueTree_,t)),Mf(e,e.transactionQueueTree_),gn(e.eventQueue_,t,l);for(let h=0;h<d.length;h++)ca(d[h])}else{if("datastale"===u)for(let d=0;d<n.length;d++)n[d].status=3===n[d].status?4:0;else{Mt("transaction at "+c.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}va(e,t)}},s)}(e,Nu(t),n)}else TF(t)&&Df(t,n=>{Mf(e,n)})}function va(e,t){const n=UF(e,t),r=Nu(n);return function Ore(e,t,n){if(0===t.length)return;const r=[];let i=[];const s=t.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){const c=t[a],u=zt(n,c.path);let d,l=!1;if(S(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)l=!0,d=c.abortReason,i=i.concat(Ai(e.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=bre)l=!0,d="maxretry",i=i.concat(Ai(e.serverSyncTree_,c.currentWriteId,!0));else{const h=ZE(e,c.path,s);c.currentInputSnapshot=h;const f=t[a].update(h.val());if(void 0!==f){ku("transaction failed: Data returned ",f,c.path);let p=Fe(f);"object"==typeof f&&null!=f&&ur(f,".priority")||(p=p.updatePriority(h.getPriority()));const b=c.currentWriteId,E=Fu(e),y=jE(p,h,E);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=y,c.currentWriteId=Af(e),s.splice(s.indexOf(b),1),i=i.concat(PE(e.serverSyncTree_,c.path,y,c.currentWriteId,c.applyLocally)),i=i.concat(Ai(e.serverSyncTree_,b,!0))}else l=!0,d="nodata",i=i.concat(Ai(e.serverSyncTree_,c.currentWriteId,!0))}gn(e.eventQueue_,n,i),i=[],l&&(t[a].status=2,setTimeout(t[a].unwatcher,Math.floor(0)),t[a].onComplete&&r.push("nodata"===d?()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot):()=>t[a].onComplete(new Error(d),!1,null)))}Rf(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)ca(r[a]);Mf(e,e.transactionQueueTree_)}(e,jF(e,n),r),r}function UF(e,t){let n,r=e.transactionQueueTree_;for(n=J(t);null!==n&&void 0===Mo(r);)r=If(r,n),n=J(t=Ee(t));return r}function jF(e,t){const n=[];return BF(e,t,n),n.sort((r,i)=>r.order-i.order),n}function BF(e,t,n){const r=Mo(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Df(t,i=>{BF(e,i,n)})}function Rf(e,t){const n=Mo(t);if(n){let r=0;for(let i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,HE(t,n.length>0?n:void 0)}Df(t,r=>{Rf(e,r)})}function JE(e,t){const n=Nu(UF(e,t)),r=If(e.transactionQueueTree_,t);return function hre(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,i=>{XE(e,i)}),XE(e,r),SF(r,i=>{XE(e,i)}),n}function XE(e,t){const n=Mo(t);if(n){const r=[];let i=[],o=-1;for(let s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?(S(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(S(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(Ai(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===o?HE(t,void 0):n.length=o+1,gn(e.eventQueue_,Nu(t),i);for(let s=0;s<r.length;s++)ca(r[s])}}const eI=function(e,t){const n=Vre(e),r=n.namespace;return"firebase.com"===n.domain&&pr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==n.domain&&pr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Mt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new eE(n.host,n.secure,r,"ws"===n.scheme||"wss"===n.scheme,t,"",r!==n.subdomain),path:new pe(n.pathString)}},Vre=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",c=443;if("string"==typeof e){let u=e.indexOf("//");u>=0&&(a=e.substring(0,u-1),e=e.substring(u+2));let l=e.indexOf("/");-1===l&&(l=e.length);let d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(l,d)),l<d&&(i=function Fre(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}(e.substring(l,d)));const h=function Lre(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Mt(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,d)));u=t.indexOf(":"),u>=0?(s="https"===a||"wss"===a,c=parseInt(t.substring(u+1),10)):u=t.length;const f=t.slice(0,u);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),o=r}"ns"in h&&(o=h.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};class HF{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+rt(this.snapshot.exportVal())}}class zF{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class tI{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return S(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class mn{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return X(this._path)?null:sE(this._path)}get ref(){return new Hn(this._repo,this._path)}get _queryIdentifier(){const t=YO(this._queryParams),n=Jw(t);return"{}"===n?"default":n}get _queryObject(){return YO(this._queryParams)}isEqual(t){if(!((t=bt(t))instanceof mn))return!1;const n=this._repo===t._repo,r=aE(this._path,t._path);return n&&r&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Rte(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class Hn extends mn{constructor(t,n){super(t,n,new gE,!1)}get parent(){const t=LO(this._path);return null===t?null:new Hn(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Ro{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new pe(t),r=xo(this.ref,t);return new Ro(this._node.getChild(n),r,Me)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,i)=>t(new Ro(i,xo(this.ref,r),Me)))}hasChild(t){const n=new pe(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function WF(e,t){return(e=bt(e))._checkNotDeleted("ref"),void 0!==t?xo(e._root,t):e._root}function xo(e,t){return null===J((e=bt(e))._path)?vre("child","path",t,!1):qE("child","path",t,!1),new Hn(e._repo,Pe(e._path,t))}function nI(e,t){(function(e,t){if(".info"===J(t))throw new Error(e+" failed = Can't modify data under /.info/")})("set",(e=bt(e))._path),function(e,t,n,r){r&&void 0===t||ku(Ys(e,"value"),t,n)}("set",t,e._path,!1);const n=new oo;return YE(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function Bre(e){e=bt(e);const t=new tI(()=>{}),n=new Lu(t);return function Dre(e,t,n){const r=function rre(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,(u,l)=>{const d=zt(u,n);r=r||Ti(l,d)});let i=e.syncPointTree_.get(n);i?r=r||Ti(i,ce()):(i=new pF,e.syncPointTree_=e.syncPointTree_.set(n,i));const o=null!=r,s=o?new Ii(r,!0,!1):null;return function jne(e){return ff(e.viewCache_)}(gF(i,t,pf(e.pendingWriteTree_,t._path),o?s.getNode():Q.EMPTY_NODE,o))}(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then(i=>{const o=Fe(i).withIndex(t._queryParams.getIndex());let s;if(kE(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())s=Mu(e.serverSyncTree_,t._path,o);else{const a=Ru(e.serverSyncTree_,t);s=CF(e.serverSyncTree_,t._path,o,a)}return gn(e.eventQueue_,t._path,s),bf(e.serverSyncTree_,t,n,null,!0),o},i=>(_a(e,"get for query "+rt(t)+" failed: "+i),Promise.reject(new Error(i))))}(e._repo,e,n).then(r=>new Ro(r,new Hn(e._repo,e._path),e._queryParams.getIndex()))}class Lu{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,n){const r=n._queryParams.getIndex();return new HF("value",this,new Ro(t.snapshotNode,new Hn(n._repo,n._path),r))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new zF(this,t,n):null}matches(t){return t instanceof Lu&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Pf{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n="children_added"===t?"child_added":t;return n="children_removed"===n?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new zF(this,t,n):null}createEvent(t,n){S(null!=t.childName,"Child events should have a childName.");const r=xo(new Hn(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new HF(t.type,this,new Ro(t.snapshotNode,r,i),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof Pf&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function GF(e,t,n,r){return function Vu(e,t,n,r,i){let o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){const c=n,u=(l,d)=>{QE(e._repo,e,a),c(l,d)};u.userCallback=n.userCallback,u.context=n.context,n=u}const s=new tI(n,o||void 0),a="value"===t?new Lu(s):new Pf(t,s);return function xre(e,t,n){let r;r=".info"===J(t._path)?kE(e.infoSyncTree_,t,n):kE(e.serverSyncTree_,t,n),xF(e.eventQueue_,t._path,r)}(e._repo,e,a),()=>QE(e._repo,e,a)}(e,"value",t,n,r)}(function zne(e){S(!vf,"__referenceConstructor has already been defined"),vf=e})(Hn),function Yne(e){S(!Cf,"__referenceConstructor has already been defined"),Cf=e}(Hn);const rI={};function Xre(e,t,n,r,i){let o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||pr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ut("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let c,u,s=eI(o,i),a=s.repoInfo;typeof process<"u"&&process.env&&(u=process.env.FIREBASE_DATABASE_EMULATOR_HOST),u?(c=!0,o=`http://${u}?ns=${a.namespace}`,s=eI(o,i),a=s.repoInfo):c=!s.repoInfo.secure;const l=i&&c?new _u(_u.OWNER):new ote(e.name,e.options,t);(function(e,t){const n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Tf(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),AF(e)}(n))throw new Error(Ys(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",s),X(s.path)||pr("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function tie(e,t,n,r){let i=rI[t.name];i||(i={},rI[t.name]=i);let o=i[e.toURLString()];return o&&pr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new wre(e,false,n,r),i[e.toURLString()]=o,o}(a,e,l,new ite(e.name,n));return new rie(d,e)}class rie{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Ere(e,t,n){if(e.stats_=rE(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new uf(e.repoInfo_,(r,i,o,s)=>{OF(e,r,i,o,s)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>FF(e,!0),0);else{if(typeof n<"u"&&null!==n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{rt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Do(e.repoInfo_,t,(r,i,o,s)=>{OF(e,r,i,o,s)},r=>{FF(e,r)},r=>{!function Ire(e,t){lt(t,(n,r)=>{KE(e,n,r)})}(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=function cte(e,t){const n=e.toString();return nE[n]||(nE[n]=t()),nE[n]}(e.repoInfo_,()=>new cne(e.stats_,e.server_)),e.infoData_=new rne,e.infoSyncTree_=new yF({startListening:(r,i,o,s)=>{let a=[];const c=e.infoData_.getNode(r._path);return c.isEmpty()||(a=Mu(e.infoSyncTree_,r._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),KE(e,"connected",!1),e.serverSyncTree_=new yF({startListening:(r,i,o,s)=>(e.server_.listen(r,o,i,(a,c)=>{const u=s(a,c);gn(e.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Hn(this._repo,ce())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function eie(e,t){const n=rI[t];(!n||n[e.key]!==e)&&pr(`Database ${t}(${e.repoInfo_}) has already been deleted.`),function VF(e){e.persistentConnection_&&e.persistentConnection_.interrupt("repo_interrupt")}(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&pr("Cannot call "+t+" on a deleted database.")}}function iie(e=vv(),t){const n=Zs(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const r=(e=>{const t=Zx("database");if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})();r&&function oie(e,t,n,r={}){(e=bt(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&pr("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&pr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new _u(_u.OWNER);else if(r.mockUserToken){const s="string"==typeof r.mockUserToken?r.mockUserToken:function g7(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[dh(JSON.stringify({alg:"none",type:"JWT"})),dh(JSON.stringify(s)),""].join(".")}(r.mockUserToken,e.app.options.projectId);o=new _u(s)}!function Jre(e,t,n,r){e.repoInfo_=new eE(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,o)}(n,...r)}return n}Do.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Do.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)},function sie(e){(function Wee(e){Yw=e})(lo),$t(new At("database",(t,{instanceIdentifier:n})=>Xre(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),je(Xk,"0.14.4",e),je(Xk,"0.14.4","esm2017")}();class Uu{constructor(t){return t}}const ZF="database",iI=new N("angularfire2.database-instances");function die(e){return(t,n)=>{const r=t.runOutsideAngular(()=>e(n));return new Uu(r)}}const hie={provide:class uie{constructor(){return ww(ZF)}},deps:[[new Vt,iI]]},fie={provide:Uu,useFactory:function lie(e,t){const n=bw(ZF,e,t);return n&&new Uu(n)},deps:[[new Vt,iI],oa]};let pie=(()=>{class e{constructor(){je("angularfire",Hh.full,"rtdb")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Kt({type:e}),e.\u0275inj=Nt({providers:[fie,hie]}),e})();function gie(e,...t){return{ngModule:pie,providers:[{provide:iI,useFactory:die(e),multi:!0,deps:[he,Tt,Ew,Iw,[new Vt,Jk],[new Vt,Gw],...t]}]}}const mie=Sn(xo,!0),oI=Sn(Bre,!0),_ie=Sn(iie,!0),vie=Sn(GF,!0),ya=Sn(WF,!0),JF=Sn(nI,!0);let zn=(()=>{class e{constructor(n,r,i){this.auth=n,this.db=r,this.router=i,this.userSubject=new xt(null),this.user$=this.userSubject.asObservable(),this.registeredUser=!1,this.roleSubject=new xt(null),this.userRole$=this.roleSubject.asObservable(),this.monitorAuthState()}monitorAuthState(){var n=this;$ee(this.auth,function(){var r=_(function*(i){if(n.userSubject.next(i),i){console.log("Utente autenticato:",i.email);const o=ya(n.db,`users/${i.uid}/role`),s=yield oI(o);if(s.exists()){const a=s.val();n.roleSubject.next(a),console.log("Ruolo utente:",a),a&&n.router.navigate(["/home"])}else n.roleSubject.next(null),n.router.navigate(["/not-registered"]),console.warn("Nessun ruolo trovato per l\u2019utente.")}else console.log("Nessun utente autenticato"),n.roleSubject.next(null),n.router.navigate(["/login"])});return function(i){return r.apply(this,arguments)}}())}getCurrentUser(){return this.auth.currentUser}register(n,r){var i=this;return jee(this.auth,n,r).then(function(){var o=_(function*(s){const c=ya(i.db,`users/${s.user.uid}/role`);return yield JF(c,"user"),i.roleSubject.next("user"),console.log("Utente registrato con ruolo: user"),s});return function(s){return o.apply(this,arguments)}}())}login(n,r){var i=this;return Hee(this.auth,n,r).then(function(){var o=_(function*(s){const c=ya(i.db,`users/${s.user.uid}/role`),u=yield oI(c);if(u.exists()){const l=u.val();i.roleSubject.next(l),console.log("Ruolo caricato dopo login:",l)}else i.roleSubject.next(null),console.warn("Ruolo non trovato al login");return s});return function(s){return o.apply(this,arguments)}}())}logout(){return this.roleSubject.next(null),zee(this.auth)}static{this.\u0275fac=function(r){return new(r||e)(O(Zh),O(Uu),O(ot))}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Wn=(()=>{class e{constructor(n){this.db=n,this.products=[]}writeData(n,r){return JF(ya(this.db,n),r)}readData(n){let r=n.split("/")[n.split("/").length-1];return console.log("reading data...",r),oI(mie(ya(this.db),n)).then(i=>i.exists()?(this.products=i.val(),i.val()):null)}listenToData(n,r){const i=ya(this.db,n);vie(i,o=>{r(o.val())})}static{this.\u0275fac=function(r){return new(r||e)(O(Uu))}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),XF=(()=>{class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||e)(w(Sr),w(hn))}}static{this.\u0275dir=H({type:e})}}return e})(),No=(()=>{class e extends XF{static{this.\u0275fac=function(){let n;return function(i){return(n||(n=vt(e)))(i||e)}}()}static{this.\u0275dir=H({type:e,features:[me]})}}return e})();const yr=new N("NgValueAccessor"),Cie={provide:yr,useExisting:Ie(()=>sI),multi:!0};let sI=(()=>{class e extends No{writeValue(n){this.setProperty("checked",n)}static{this.\u0275fac=function(){let n;return function(i){return(n||(n=vt(e)))(i||e)}}()}static{this.\u0275dir=H({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){1&r&&U("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[Ne([Cie]),me]})}}return e})();const bie={provide:yr,useExisting:Ie(()=>ju),multi:!0},Eie=new N("CompositionEventMode");let ju=(()=>{class e extends XF{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function wie(){const e=hi()?hi().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||e)(w(Sr),w(hn),w(Eie,8))}}static{this.\u0275dir=H({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&U("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Ne([bie]),me]})}}return e})();function Ni(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}function eL(e){return null!=e&&"number"==typeof e.length}const Rt=new N("NgValidators"),Pi=new N("NgAsyncValidators"),Iie=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ki{static min(t){return function tL(e){return t=>{if(Ni(t.value)||Ni(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}(t)}static max(t){return function nL(e){return t=>{if(Ni(t.value)||Ni(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}(t)}static required(t){return function rL(e){return Ni(e.value)?{required:!0}:null}(t)}static requiredTrue(t){return function iL(e){return!0===e.value?null:{required:!0}}(t)}static email(t){return function oL(e){return Ni(e.value)||Iie.test(e.value)?null:{email:!0}}(t)}static minLength(t){return function sL(e){return t=>Ni(t.value)||!eL(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function aL(e){return t=>eL(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}(t)}static pattern(t){return function cL(e){if(!e)return kf;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),r=>{if(Ni(r.value))return null;const i=r.value;return t.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(t)}static nullValidator(t){return null}static compose(t){return pL(t)}static composeAsync(t){return gL(t)}}function kf(e){return null}function uL(e){return null!=e}function lL(e){return lc(e)?it(e):e}function dL(e){let t={};return e.forEach(n=>{t=null!=n?{...t,...n}:t}),0===Object.keys(t).length?null:t}function hL(e,t){return t.map(n=>n(e))}function fL(e){return e.map(t=>function Die(e){return!e.validate}(t)?t:n=>t.validate(n))}function pL(e){if(!e)return null;const t=e.filter(uL);return 0==t.length?null:function(n){return dL(hL(n,t))}}function aI(e){return null!=e?pL(fL(e)):null}function gL(e){if(!e)return null;const t=e.filter(uL);return 0==t.length?null:function(n){return function yie(...e){const t=ZI(e),{args:n,keys:r}=VR(e),i=new Le(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let c=s,u=s;for(let l=0;l<s;l++){let d=!1;an(n[l]).subscribe(Ke(o,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||o.next(r?jR(r,a):a),o.complete())}))}});return t?i.pipe(UR(t)):i}(hL(n,t).map(lL)).pipe(Ce(dL))}}function cI(e){return null!=e?gL(fL(e)):null}function mL(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function _L(e){return e._rawValidators}function vL(e){return e._rawAsyncValidators}function uI(e){return e?Array.isArray(e)?e:[e]:[]}function Of(e,t){return Array.isArray(e)?e.includes(t):e===t}function yL(e,t){const n=uI(t);return uI(e).forEach(i=>{Of(n,i)||n.push(i)}),n}function CL(e,t){return uI(t).filter(n=>!Of(e,n))}class bL{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=aI(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=cI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return!!this.control&&this.control.hasError(t,n)}getError(t,n){return this.control?this.control.getError(t,n):null}}class Wt extends bL{get formDirective(){return null}get path(){return null}}class Oi extends bL{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class wL{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let lI=(()=>{class e extends wL{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||e)(w(Oi,2))}}static{this.\u0275dir=H({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&gd("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[me]})}}return e})(),Ff=(()=>{class e extends wL{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||e)(w(Wt,10))}}static{this.\u0275dir=H({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&gd("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[me]})}}return e})();const Bu="VALID",Vf="INVALID",Ca="PENDING",$u="DISABLED";function fI(e){return(Uf(e)?e.validators:e)||null}function pI(e,t){return(Uf(t)?t.asyncValidators:e)||null}function Uf(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function IL(e,t,n){const r=e.controls;if(!(t?Object.keys(r):r).length)throw new T(1e3,"");if(!r[n])throw new T(1001,"")}function DL(e,t,n){e._forEachChild((r,i)=>{if(void 0===n[i])throw new T(1002,"")})}class jf{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Bu}get invalid(){return this.status===Vf}get pending(){return this.status==Ca}get disabled(){return this.status===$u}get enabled(){return this.status!==$u}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(yL(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(yL(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(CL(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(CL(t,this._rawAsyncValidators))}hasValidator(t){return Of(this._rawValidators,t)}hasAsyncValidator(t){return Of(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Ca,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=$u,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=Bu,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Bu||this.status===Ca)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?$u:Bu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Ca,this._hasOwnPendingAsyncValidator=!0;const n=lL(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(!1!==n.emitEvent)}get(t){let n=t;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new ae,this.statusChanges=new ae}_calculateStatus(){return this._allControlsDisabled()?$u:this.errors?Vf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ca)?Ca:this._anyControlsHaveStatus(Vf)?Vf:Bu}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Uf(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function Mie(e){return Array.isArray(e)?aI(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function Rie(e){return Array.isArray(e)?cI(e):e||null}(this._rawAsyncValidators)}}class Hu extends jf{constructor(t,n,r){super(fI(n),pI(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){DL(this,0,t),Object.keys(t).forEach(r=>{IL(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(Object.keys(t).forEach(r=>{const i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class TL extends Hu{}const Po=new N("CallSetDisabledState",{providedIn:"root",factory:()=>zu}),zu="always";function Wu(e,t,n=zu){gI(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===n)&&t.valueAccessor.setDisabledState?.(e.disabled),function Nie(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&SL(e,t)})}(e,t),function kie(e,t){const n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function Pie(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&SL(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function xie(e,t){if(t.valueAccessor.setDisabledState){const n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function $f(e,t,n=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),zf(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function Hf(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function gI(e,t){const n=_L(e);null!==t.validator?e.setValidators(mL(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=vL(e);null!==t.asyncValidator?e.setAsyncValidators(mL(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();Hf(t._rawValidators,i),Hf(t._rawAsyncValidators,i)}function zf(e,t){let n=!1;if(null!==e){if(null!==t.validator){const i=_L(e);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==t.validator);o.length!==i.length&&(n=!0,e.setValidators(o))}}if(null!==t.asyncValidator){const i=vL(e);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==t.asyncValidator);o.length!==i.length&&(n=!0,e.setAsyncValidators(o))}}}const r=()=>{};return Hf(t._rawValidators,r),Hf(t._rawAsyncValidators,r),n}function SL(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function AL(e,t){gI(e,t)}function ML(e,t){e._syncPendingControls(),t.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}const Uie={provide:Wt,useExisting:Ie(()=>Wf)},Gu=(()=>Promise.resolve())();let Wf=(()=>{class e extends Wt{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new ae,this.form=new Hu({},aI(n),cI(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Gu.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),Wu(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Gu.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Gu.then(()=>{const r=this._findContainer(n.path),i=new Hu({});AL(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Gu.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Gu.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,ML(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static{this.\u0275fac=function(r){return new(r||e)(w(Rt,10),w(Pi,10),w(Po,8))}}static{this.\u0275dir=H({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&U("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ne([Uie]),me]})}}return e})();function RL(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function xL(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const qu=class extends jf{constructor(t=null,n,r){super(fI(n),pI(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Uf(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=xL(t)?t.value:t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){RL(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){RL(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){xL(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let Gf=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=H({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return e})(),LL=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Kt({type:e})}static{this.\u0275inj=Nt({})}}return e})();const yI=new N("NgModelWithFormControlWarning"),Kie={provide:Wt,useExisting:Ie(()=>Ku)};let Ku=(()=>{class e extends Wt{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ae,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(zf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return Wu(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){$f(n.control||null,n,!1),function Vie(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,ML(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&($f(r||null,n),(e=>e instanceof qu)(i)&&(Wu(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);AL(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function Oie(e,t){return zf(e,t)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){gI(this.form,this),this._oldForm&&zf(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(r){return new(r||e)(w(Rt,10),w(Pi,10),w(Po,8))}}static{this.\u0275dir=H({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&U("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ne([Kie]),me,yn]})}}return e})();const Zie={provide:Oi,useExisting:Ie(()=>qf)};let qf=(()=>{class e extends Oi{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new ae,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function vI(e,t){if(!t)return null;let n,r,i;return Array.isArray(t),t.forEach(o=>{o.constructor===ju?n=o:function Lie(e){return Object.getPrototypeOf(e.constructor)===No}(o)?r=o:i=o}),i||r||n||null}(0,o)}ngOnChanges(n){this._added||this._setUpControl(),function _I(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function Bf(e,t){return[...t.path,e]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||e)(w(Wt,13),w(Rt,10),w(Pi,10),w(yr,10),w(yI,8))}}static{this.\u0275dir=H({type:e,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ne([Zie]),me,yn]})}}return e})(),XL=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Kt({type:e})}static{this.\u0275inj=Nt({imports:[LL]})}}return e})();class e2 extends jf{constructor(t,n,r){super(fI(n),pI(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,n={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(t,n,r={}){this.controls.splice(t,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,n={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(t,n,r={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,n={}){DL(this,0,t),t.forEach((r,i)=>{IL(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(t.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t=[],n={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((n,r)=>{t(n,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(n=>n.enabled&&t(n))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function t2(e){return!!e&&(void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn)}let Kf=(()=>{class e{constructor(){this.useNonNullable=!1}get nonNullable(){const n=new e;return n.useNonNullable=!0,n}group(n,r=null){const i=this._reduceControls(n);let o={};return t2(r)?o=r:null!==r&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Hu(i,o)}record(n,r=null){const i=this._reduceControls(n);return new TL(i,r)}control(n,r,i){let o={};return this.useNonNullable?(t2(r)?o=r:(o.validators=r,o.asyncValidators=i),new qu(n,{...o,nonNullable:!0})):new qu(n,r,i)}array(n,r,i){const o=n.map(s=>this._createControl(s));return new e2(o,r,i)}_reduceControls(n){const r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){return n instanceof qu||n instanceof jf?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),hoe=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:Po,useValue:n.callSetDisabledState??zu}]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Kt({type:e})}static{this.\u0275inj=Nt({imports:[XL]})}}return e})(),foe=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:yI,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Po,useValue:n.callSetDisabledState??zu}]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Kt({type:e})}static{this.\u0275inj=Nt({imports:[XL]})}}return e})();function poe(e,t){1&e&&(m(0,"div",1)(1,"div",2)(2,"span",3),C(3,"Loading..."),g()()())}let n2=(()=>{class e{constructor(){this.isVisible=!1}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=be({type:e,selectors:[["app-button-spinner"]],inputs:{isVisible:"isVisible"},decls:1,vars:1,consts:[["class","h-100 d-flex flex-column justify-content-center",4,"ngIf"],[1,"h-100","d-flex","flex-column","justify-content-center"],["role","status",1,"spinner-border","spinner-border-sm","ms-1"],[1,"visually-hidden"]],template:function(r,i){1&r&&L(0,poe,4,0,"div",0),2&r&&R("ngIf",i.isVisible)},dependencies:[tn]})}}return e})();function goe(e,t){1&e&&(m(0,"div",25)(1,"div",26),A(2,"div",3),g()())}let moe=(()=>{class e{constructor(n,r,i){this.auth=n,this.db=r,this.fb=i,this.loginSpinnerIsVisible=!1,this.toastText="Utente non registrato",this.loginForm=this.fb.group({email:[""],pw:[""],rememberMe:[!1]})}isUserRegistered(){return this.auth.registeredUser}login(){if(this.loginForm.valid){const{email:n,rememberMe:r}=this.loginForm.value;r?localStorage.setItem("rememberedEmail",n):localStorage.removeItem("rememberedEmail"),this.loginSpinnerIsVisible=!0,this.auth.login(this.loginForm.controls.email.value,this.loginForm.controls.pw.value).then(()=>{}).catch(i=>{console.error(i)})}}static{this.\u0275fac=function(r){return new(r||e)(w(zn),w(Wn),w(Kf))}}static{this.\u0275cmp=be({type:e,selectors:[["app-alfa-login"]],inputs:{loginForm:"loginForm"},decls:46,vars:3,consts:[["class","container",4,"ngIf"],[1,"container",2,"max-width","700px"],[1,"row",2,"height","100vh"],[1,"col-12"],[3,"formGroup","ngSubmit"],[1,"w-100","d-flex","justify-content-center","py-4"],[1,"login-logo"],[1,"form-group"],[1,"form-label"],["type","email","formControlName","email","placeholder","Email o username",1,"form-control"],["type","password","formControlName","pw","placeholder","Password",1,"form-control",3,"keyup.enter"],[1,"w-100","d-flex","justify-content-between","mt-3"],[1,"form-check","align-self-center"],["type","checkbox","value","","formControlName","rememberMe","id","checkDefault",1,"form-check-input"],["for","checkDefault",1,"form-check-label"],[1,"btn","pe-0","text-info"],[1,"d-grid","gap-2","mt-2"],["type","button",1,"btn","btn-primary","d-flex","justify-content-center",3,"click"],[3,"isVisible"],["loginSpinner",""],[1,"my-2"],[1,"text-center"],["routerLink","/register","type","button",1,"btn","btn-outline-primary"],["type","button",1,"btn","btn-dark"],["type","button",1,"btn","btn-primary"],[1,"container"],[1,"row"]],template:function(r,i){1&r&&(L(0,goe,3,0,"div",0),m(1,"div",1)(2,"div",2)(3,"div",3)(4,"form",4),U("ngSubmit",function(){return i.login()}),m(5,"div",5),A(6,"div",6),g(),m(7,"div",7),A(8,"label",8)(9,"input",9),g(),m(10,"div",7),A(11,"label",8),m(12,"input",10),U("keyup.enter",function(){return i.login()}),g()(),m(13,"div",7)(14,"div",11)(15,"div",12),A(16,"input",13),m(17,"label",14),C(18," Ricordami "),g()(),m(19,"button",15),C(20,"Password dimenticata?"),g()()(),m(21,"div",16)(22,"button",17),U("click",function(){return i.login()}),m(23,"div"),C(24," Login "),g(),A(25,"app-button-spinner",18,19),g()()()(),A(27,"hr",20),m(28,"div",3)(29,"div",21)(30,"small"),C(31,"Non sei ancora registrato?"),g()(),m(32,"div",16)(33,"button",22),C(34,"Sign Up"),g()()(),A(35,"hr",20),m(36,"div",21)(37,"small",21),C(38,"oppure"),g()(),m(39,"div",3)(40,"div",16)(41,"button",23),C(42,"Enter with Google"),g()(),m(43,"div",16)(44,"button",24),C(45,"Enter with Facebook"),g()()()()()),2&r&&(R("ngIf",i.isUserRegistered()),I(4),R("formGroup",i.loginForm),I(21),R("isVisible",i.loginSpinnerIsVisible))},dependencies:[tn,gi,Gf,ju,sI,lI,Ff,Ku,qf,n2]})}}return e})(),DI=(()=>{class e{constructor(){this.showToastSource=new sn,this.showToast$=this.showToastSource.asObservable(),this.currentMessage={type:"info",text:"",icon:"cart"}}triggerToast(n,r,i){this.currentMessage={type:n,text:r,icon:i},this.showToastSource.next()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Yu=(()=>{class e{constructor(n,r,i){this.toastService=n,this.databaseService=r,this.authService=i,this.currentCheckout=void 0}ngOnInit(){}modifyQuantity(n){if(this.authService.getCurrentUser()&&this.authService.getCurrentUser().uid){let r=this.authService.getCurrentUser().uid;this.databaseService.readData("users/"+r+"/cart")?.then(i=>{this.currentCheckout=i,console.log("modify quantity",n.id,this.currentCheckout?.products),this.databaseService.readData("products")?.then(o=>{if(this.currentCheckout&&this.currentCheckout.products&&this.currentCheckout.products.filter(s=>s.id==n.id).length>0){let s=this.currentCheckout.products.findIndex(a=>a.id==n.id);this.currentCheckout.products[s]=n}if(this.authService.getCurrentUser()&&this.authService.getCurrentUser().uid){let s=this.authService.getCurrentUser().uid;this.databaseService.writeData("users/"+s+"/cart",this.currentCheckout)}})})}}removeFromCart(n){if(this.toastService.triggerToast("success","Prodotto rimosso dal carrello.","cart-check-fill fs-4"),this.authService.getCurrentUser()&&this.authService.getCurrentUser().uid){let r=this.authService.getCurrentUser().uid;this.databaseService.readData("users/"+r+"/cart")?.then(i=>{this.currentCheckout=i,console.log("add to cart",n,this.currentCheckout?.products),this.databaseService.readData("products")?.then(o=>{if(this.currentCheckout&&this.currentCheckout.products&&this.currentCheckout.products.filter(s=>s.id==n).length>0){let s=this.currentCheckout.products.findIndex(a=>a.id==n);this.currentCheckout.products.splice(s,1)}if(this.authService.getCurrentUser()&&this.authService.getCurrentUser().uid){let s=this.authService.getCurrentUser().uid;this.databaseService.writeData("users/"+s+"/cart",this.currentCheckout)}})})}}getCurrentPrice(n){return n.discount?(100*n.price-n.price*n.discount)/100:n.price}addToCart(n){if(this.toastService.triggerToast("success","Prodotto aggiunto al carrello.","cart-check-fill fs-4"),this.authService.getCurrentUser()&&this.authService.getCurrentUser().uid){let r=this.authService.getCurrentUser().uid;this.databaseService.readData("users/"+r+"/cart")?.then(i=>{this.currentCheckout=i,console.log("add to cart",n,this.currentCheckout?.products),this.databaseService.readData("products")?.then(o=>{if(this.currentCheckout&&!this.currentCheckout?.products&&(this.currentCheckout.products=[]),this.currentCheckout&&this.currentCheckout.products&&this.currentCheckout.products.filter(s=>s.id==n).length>0){let s=this.currentCheckout.products.findIndex(a=>a.id==n);this.currentCheckout.products[s].quantity++}else{let s=this.getCurrentPrice(o.filter(a=>a.id==n)[0]);this.currentCheckout?.products.push({...o.filter(a=>a.id==n)[0],quantity:1,price:s})}if(this.authService.getCurrentUser()&&this.authService.getCurrentUser().uid){let s=this.authService.getCurrentUser().uid;this.databaseService.writeData("users/"+s+"/cart",this.currentCheckout)}})})}}static{this.\u0275fac=function(r){return new(r||e)(O(DI),O(Wn),O(zn))}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function _oe(e,t){1&e&&(m(0,"div"),A(1,"i",3),g())}function voe(e,t){1&e&&(m(0,"div")(1,"div",4),A(2,"i",5)(3,"i",6),g()()),2&e&&(W(2),I(2),Nr("bi-star"))}function yoe(e,t){1&e&&(m(0,"div"),A(1,"i",7),g())}function Coe(e,t){if(1&e&&(m(0,"div"),L(1,_oe,2,0,"div",2),L(2,voe,4,2,"div",2),L(3,yoe,2,0,"div",2),g()),2&e){const n=t.$implicit,r=W();I(1),R("ngIf",n<=r.item.score&&!(n+.5<=r.item.score)&&!(n+1<=r.item.score)),I(1),R("ngIf",n+.5<=r.item.score&&!(n+1<=r.item.score)),I(1),R("ngIf",n+1<=r.item.score)}}const boe=function(){return[0,1,2,3,4]};let TI=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=be({type:e,selectors:[["app-score"]],inputs:{item:"item"},decls:2,vars:2,consts:[[1,"d-flex","justify-content-end"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"bi","bi-star","text-warning","ms-1"],[1,"position-relative"],[1,"bi","text-warning","ms-1"],[1,"bi","position-absolute","text-warning","ms-1","bi-star-fill","bi-half-star"],[1,"bi","bi-star-fill","text-warning","ms-1"]],template:function(r,i){1&r&&(m(0,"div",0),L(1,Coe,4,3,"div",1),g()),2&r&&(I(1),R("ngForOf",function AM(e,t,n){const r=Ot()+e,i=D();return i[r]===K?tr(i,r,n?t.call(n):t()):function sc(e,t){return e[t]}(i,r)}(1,boe)))},dependencies:[Fs,tn],styles:[".bi-half-star[_ngcontent-%COMP%]{transform:translate(-20px);width:40%;overflow:hidden}"]})}}return e})();function woe(e,t){if(1&e&&(m(0,"div",18)(1,"button",19)(2,"h5",20),C(3),g()()()),2&e){const n=W().$implicit;I(3),yt("-",n.discount,"%")}}function Eoe(e,t){if(1&e&&(m(0,"h4",21),C(1),Ye(2,"currency"),g()),2&e){const n=W().$implicit;I(1),fe(Qe(2,1,n.price,"EUR"))}}function Ioe(e,t){if(1&e&&(m(0,"h4",22),C(1),Ye(2,"currency"),g()),2&e){const n=W().$implicit;I(1),fe(Qe(2,1,(100*n.price-n.price*n.discount)/100,"EUR"))}}function Doe(e,t){1&e&&(m(0,"div",18)(1,"small",23),C(2,"In promozione"),g()())}function Toe(e,t){if(1&e){const n=xr();m(0,"div",2)(1,"div",3),L(2,woe,4,1,"div",4),m(3,"div",5)(4,"button",6),U("click",function(i){const s=We(n).$implicit;return Ge(W().productDetail(i,s.id))}),A(5,"i",7),g()(),m(6,"div",8),A(7,"div",9),g(),m(8,"h5"),C(9),g(),A(10,"app-score",10),m(11,"div",11)(12,"div",12),L(13,Eoe,3,4,"h4",13),L(14,Ioe,3,4,"h4",14),L(15,Doe,3,0,"div",4),g(),m(16,"button",15),U("click",function(){const o=We(n).$implicit;return Ge(W().addToCart(o.id))}),m(17,"div",16)(18,"div"),A(19,"i",17),g(),m(20,"div"),C(21,"Add to cart"),g()()()()()()}if(2&e){const n=t.$implicit;I(2),R("ngIf",n.discount),I(5),Nr(n.cssInfo),I(2),fe(n.name),I(1),R("item",n),I(3),R("ngIf",!n.discount),I(1),R("ngIf",n.discount),I(1),R("ngIf",n.discount)}}let Soe=(()=>{class e{constructor(n,r){this.databaseService=n,this.router=r,this.addToCartEmitter=new ae,this.products=[]}selectProduct(n){this.databaseService.currentProduct=this.products.filter(r=>r.id==n)[0]}productDetail(n,r){r&&(this.selectProduct(r),this.router.navigate(["/product-detail/"+r]))}addToCart(n){this.addToCartEmitter.emit(n)}static{this.\u0275fac=function(r){return new(r||e)(w(Wn),w(ot))}}static{this.\u0275cmp=be({type:e,selectors:[["app-product-card-list"]],inputs:{products:"products"},outputs:{addToCartEmitter:"addToCartEmitter"},decls:2,vars:1,consts:[[1,"d-flex","flex-wrap","justify-content-around"],["class","card product-card shadow ",4,"ngFor","ngForOf"],[1,"card","product-card","shadow"],[1,"card-body"],["class","position-absolute",4,"ngIf"],[1,"w-100","position-absolute","d-flex","justify-content-end",2,"transform","translateX(-16px)","padding-left","9px","padding-right","9px"],[1,"btn","btn-outline-light","text-dark","border","rounded-pill",2,"width","38px","padding-left","0","padding-right","0",3,"click"],[1,"bi","bi-info"],[1,"w-100","d-flex","justify-content-center"],[1,"wine"],[3,"item"],[1,"d-flex","w-100","justify-content-between"],[1,"align-self-center"],["class","m-0 ",4,"ngIf"],["class","m-0 text-danger",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"d-flex"],[1,"bi","bi-cart4","me-1"],[1,"position-absolute"],[1,"btn","btn-danger","text-light","border","rounded-circle",2,"width","58px","transform","rotate(334deg) translate(-17px, -27px) scale(1.3)","padding-left","0","padding-right","0"],[1,"mb-1"],[1,"m-0"],[1,"m-0","text-danger"],[1,"text-danger"]],template:function(r,i){1&r&&(m(0,"div",0),L(1,Toe,22,8,"div",1),g()),2&r&&(I(1),R("ngForOf",i.products))},dependencies:[Fs,tn,TI,Xi],styles:[".product-card[_ngcontent-%COMP%]{width:270px;height:365px;margin-bottom:40px;transition:.3s}.product-card[_ngcontent-%COMP%]:hover{background-color:#eee;transition:.3s;cursor:pointer}.wine[_ngcontent-%COMP%]{width:160px;height:230px;background-position:center;background-size:contain;background-repeat:no-repeat}.tascaioso[_ngcontent-%COMP%]{background-image:url(/expense/angular16-ecommerce/Tascaioso_alpha.65fd4edec89093aa.png)}.arpensato[_ngcontent-%COMP%]{background-image:url(/expense/angular16-ecommerce/Arpensato_alpha.637d46856d257d84.png);transform:scale(1.05)}.orior[_ngcontent-%COMP%]{background-image:url(/expense/angular16-ecommerce/Orior_alpha.bd8d7a26a5cc323f.png)}"]})}}return e})(),Yf=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=be({type:e,selectors:[["app-spinner"]],decls:4,vars:0,consts:[[1,"w-100","d-flex","flex-column","justify-content-center",2,"min-height","400px","align-items","center"],["role","status",1,"spinner-border",2,"width","5rem","height","5rem","font-weight","500","border-width","15px"],[1,"visually-hidden"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"span",2),C(3,"Loading..."),g()()())}})}}return e})();function Aoe(e,t){if(1&e&&(m(0,"span",11),C(1),g()),2&e){const n=W(2);I(1),yt(" ",n.currentCartProducts().length," ")}}function Moe(e,t){if(1&e){const n=xr();m(0,"div",2)(1,"form",3),A(2,"input",4),m(3,"button",5)(4,"div",6),L(5,Aoe,2,1,"span",7),g(),m(6,"div"),A(7,"i",8),g(),m(8,"div",9),C(9,"Cart"),g()()(),m(10,"app-product-card-list",10),U("addToCartEmitter",function(i){return We(n),Ge(W().addToCart(i))}),g()()}if(2&e){const n=W();I(5),R("ngIf",n.currentCartProducts()&&n.currentCartProducts().length>0),I(5),R("products",n.products)}}function Roe(e,t){1&e&&A(0,"app-spinner")}let r2=(()=>{class e{constructor(n,r,i){this.dbService=n,this.authService=r,this.cartService=i,this.products=[],this.checkouts=[]}ngOnInit(){this.listenForUpdates()}listenForUpdates(){this.dbService.listenToData("products",n=>{if(n&&(this.products=Object.values(n),this.dbService.products=this.products,this.authService.getCurrentUser()&&this.authService.getCurrentUser().uid)){let r=this.authService.getCurrentUser().uid;this.dbService.listenToData("users/"+r+"/cart",i=>{i&&(this.cartService.currentCheckout=i)})}})}addToCart(n){this.cartService.addToCart(n)}removeFromCart(n){const r=this.cartService.currentCheckout;if(!r||!r.products)return void console.warn("Carrello o lista prodotti non disponibile");const i=r.products.find(o=>o.id===n);i?i.quantity>1?i.quantity-=1:console.info("Quantit\xe0 gi\xe0 a 1, non viene rimosso"):console.warn("Prodotto non presente nel carrello")}currentCartProducts(){return this.cartService.currentCheckout?this.cartService.currentCheckout.products:[]}static{this.\u0275fac=function(r){return new(r||e)(w(Wn),w(zn),w(Yu))}}static{this.\u0275cmp=be({type:e,selectors:[["app-alfa-products"]],decls:3,vars:2,consts:[["class","container",4,"ngIf","ngIfElse"],["spinner",""],[1,"container"],["role","search",1,"d-flex","mb-5"],["type","search","placeholder","Search",1,"form-control","me-2"],["routerLink","/checkout","type","submit",1,"btn","btn-primary","d-flex"],[1,"position-relative",2,"transform","translateX(60px)"],["class","position-absolute top-0 right-0 translate-middle badge rounded-pill bg-danger",4,"ngIf"],[1,"bi","bi-cart"],[1,"ms-1"],[3,"products","addToCartEmitter"],[1,"position-absolute","top-0","right-0","translate-middle","badge","rounded-pill","bg-danger"]],template:function(r,i){if(1&r&&(L(0,Moe,11,2,"div",0),L(1,Roe,1,0,"ng-template",null,1,Qi)),2&r){const o=Ss(2);R("ngIf",i.products&&i.products.length>0)("ngIfElse",o)}},dependencies:[tn,gi,Gf,Ff,Wf,Soe,Yf]})}}return e})(),xoe=(()=>{class e{constructor(n,r,i){this.auth=n,this.db=r,this.fb=i,this.loginForm=this.fb.group({email:[""],pw:[""],rememberMe:[!1]})}ngOnInit(){}static{this.\u0275fac=function(r){return new(r||e)(w(zn),w(Wn),w(Kf))}}static{this.\u0275cmp=be({type:e,selectors:[["app-alfa-home"]],decls:1,vars:0,template:function(r,i){1&r&&A(0,"app-alfa-products")},dependencies:[r2],styles:["app-alfa-home{background-image:url(/expense/angular16-ecommerce/vigna5.522563a7538ce1ec.svg);background-size:cover;background-repeat:no-repeat}.parallax-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:auto;will-change:transform;background-color:#fff}"]})}}return e})();var i2=function(e){return e.delivered="Consegnato",e.shipped="Spedito",e}(i2||{});function Noe(e,t){if(1&e&&(m(0,"div",2)(1,"div",3)(2,"div",4)(3,"div")(4,"h4"),C(5),g(),m(6,"h6"),C(7),Ye(8,"date"),g(),A(9,"div",5),m(10,"h6"),C(11),Ye(12,"date"),g()(),m(13,"div")(14,"div",6)(15,"h6"),C(16,"Totale ordine: "),g(),m(17,"h5")(18,"b"),C(19),Ye(20,"currency"),g()()(),m(21,"div",6)(22,"h6"),C(23,"Stato: "),g(),m(24,"div",7)(25,"h6"),C(26),g(),A(27,"img",8),g()()()()()()),2&e){const n=t.$implicit;I(5),yt("Ordine: ",n.number,""),I(2),yt("Data: ",Qe(8,6,n.date,"dd MMMM yyyy")," "),I(4),yt("Consegna stimata: ",Qe(12,9,n.expectedDeliveryDate,"dd MMMM yyyy")," "),I(8),fe(Qe(20,12,n.subtotal,"EUR")),I(7),fe(n.status),I(1),R("src","delivered"==n.status?"../../../assets/icons/done.svg":"shipped"==n.status?"../../../assets/icons/truck.svg":"",Cg)}}let Poe=(()=>{class e{constructor(){this.orders=[]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=be({type:e,selectors:[["app-order-list"]],inputs:{orders:"orders"},decls:2,vars:1,consts:[[1,"d-flex","flex-wrap","justify-content-around"],["class","card order-card shadow","routerLink","/order-detail/1",4,"ngFor","ngForOf"],["routerLink","/order-detail/1",1,"card","order-card","shadow"],[1,"card-body"],[1,"h-100","d-flex","flex-column","justify-content-between"],[1,"mb-2"],[1,"w-100","d-flex","justify-content-between"],[1,"d-flex",2,"align-items","center"],["src","","alt","",1,"ms-2",2,"transform","translateY(2px)",3,"src"]],template:function(r,i){1&r&&(m(0,"div",0),L(1,Noe,28,15,"div",1),g()),2&r&&(I(1),R("ngForOf",i.orders))},dependencies:[Fs,gi,Xi,__],styles:[".order-card[_ngcontent-%COMP%]{width:400px;height:250px;margin-bottom:40px;transition:.3s}.order-card[_ngcontent-%COMP%]:hover{background-color:#eee;transition:.3s;cursor:pointer}h6[_ngcontent-%COMP%], h5[_ngcontent-%COMP%]{margin:0;align-items:center;align-self:center}@media screen and (max-width: 762px){.order-card[_ngcontent-%COMP%]{width:100%;height:250px;margin-bottom:40px;transition:.3s}}.text-green[_ngcontent-%COMP%]{color:#5bd801}.wine[_ngcontent-%COMP%]{width:160px;height:230px;background-position:center;background-size:contain;background-repeat:no-repeat}.tascaioso[_ngcontent-%COMP%]{background-image:url(/expense/angular16-ecommerce/Tascaioso_alpha.65fd4edec89093aa.png)}.arpensato[_ngcontent-%COMP%]{background-image:url(/expense/angular16-ecommerce/Arpensato_alpha.637d46856d257d84.png);transform:scale(1.05)}.orior[_ngcontent-%COMP%]{background-image:url(/expense/angular16-ecommerce/Orior_alpha.bd8d7a26a5cc323f.png)}"]})}}return e})();function koe(e,t){if(1&e&&(m(0,"div",2)(1,"h2",3),C(2,"I miei ordini"),g(),A(3,"app-order-list",4),g()),2&e){const n=W();I(3),R("orders",n.orders)}}function Ooe(e,t){1&e&&A(0,"app-spinner")}let Foe=(()=>{class e{constructor(n,r){this.dbService=n,this.authService=r,this.orders=[],this.orderStatus=i2}ngOnInit(){this.listenForUpdates()}listenForUpdates(){if(this.authService.getCurrentUser()&&this.authService.getCurrentUser().uid){let n=this.authService.getCurrentUser().uid;this.dbService.listenToData("users/"+n+"/orders",r=>{r&&(this.orders=Object.values(r),console.log(this.orders))})}}static{this.\u0275fac=function(r){return new(r||e)(w(Wn),w(zn))}}static{this.\u0275cmp=be({type:e,selectors:[["app-alfa-orders"]],decls:3,vars:2,consts:[["class","container",4,"ngIf","ngIfElse"],["spinner",""],[1,"container"],[1,"mb-4"],[3,"orders"]],template:function(r,i){if(1&r&&(L(0,koe,4,1,"div",0),L(1,Ooe,1,0,"ng-template",null,1,Qi)),2&r){const o=Ss(2);R("ngIf",i.orders&&i.orders.length>0)("ngIfElse",o)}},dependencies:[tn,Poe,Yf]})}}return e})();function Loe(e,t){if(1&e&&(m(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",8)(5,"h4"),C(6,"Marco"),g(),A(7,"app-score",9),g(),m(8,"div",10),C(9),Ye(10,"number"),g()(),m(11,"div",11),C(12),g()()()()),2&e){const n=t.$implicit;I(7),R("item",n),I(2),yt(" ",Qe(10,3,n.score,"1.1"),"/5 "),I(3),yt("",n.text," ")}}function Voe(e,t){if(1&e&&(m(0,"div",2),L(1,Loe,13,6,"div",3),g()),2&e){const n=W();I(1),R("ngForOf",n.product.comments)}}function Uoe(e,t){1&e&&(m(0,"h4",12),C(1," Non ci sono ancora recensioni su questo prodotto "),g())}let joe=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=be({type:e,selectors:[["app-comment-list"]],inputs:{product:"product"},decls:3,vars:2,consts:[["class","d-flex",4,"ngIf","ngIfElse"],["nocomments",""],[1,"d-flex"],["class","card score-card shadow me-4",4,"ngFor","ngForOf"],[1,"card","score-card","shadow","me-4"],[1,"card-body"],[1,"h-100","w-100","d-flex","flex-column"],[1,"w-100"],[1,"w-100","d-flex","justify-content-between"],[3,"item"],[1,"d-flex","justify-content-end"],[1,"text-content"],[1,"p-3"]],template:function(r,i){if(1&r&&(L(0,Voe,2,1,"div",0),L(1,Uoe,2,0,"ng-template",null,1,Qi)),2&r){const o=Ss(2);R("ngIf",i.product.comments)("ngIfElse",o)}},dependencies:[Fs,tn,TI,v_],styles:[".score-card[_ngcontent-%COMP%]{min-width:350px;width:350px;height:200px;margin-bottom:40px;transition:.3s}.score-card[_ngcontent-%COMP%]:hover{background-color:#eee;transition:.3s;cursor:pointer}.score-card[_ngcontent-%COMP%]   .text-content[_ngcontent-%COMP%]{max-height:110px;overflow-y:auto}"]})}}return e})();function Boe(e,t){if(1&e&&(m(0,"h2"),C(1),Ye(2,"currency"),g()),2&e){const n=W(2);I(1),fe(Qe(2,1,n.product.price,"EUR"))}}function $oe(e,t){if(1&e&&(m(0,"h2",29),C(1),Ye(2,"currency"),g()),2&e){const n=W(2);I(1),fe(Qe(2,1,(100*n.product.price-n.product.price*n.product.discount)/100,"EUR"))}}function Hoe(e,t){1&e&&(m(0,"div",11)(1,"div",30)(2,"small",29),C(3,"In promozione"),g()()())}function zoe(e,t){if(1&e&&(m(0,"h2"),C(1),Ye(2,"currency"),g()),2&e){const n=W(2);I(1),fe(Qe(2,1,n.product.price,"EUR"))}}function Woe(e,t){if(1&e&&(m(0,"h2",29),C(1),Ye(2,"currency"),g()),2&e){const n=W(2);I(1),fe(Qe(2,1,(100*n.product.price-n.product.price*n.product.discount)/100,"EUR"))}}function Goe(e,t){if(1&e){const n=xr();m(0,"div",1)(1,"div",2)(2,"button",3),U("click",function(){return We(n),Ge(W().deselectProduct())}),A(3,"i",4),g(),m(4,"h2",5),C(5,"Dettaglio prodotto"),g(),A(6,"div"),g(),m(7,"div",6)(8,"div",7),A(9,"div",8),g(),m(10,"div",9),A(11,"div",10),g(),m(12,"div",11)(13,"div",12)(14,"h4"),C(15,"Prezzo:"),g(),L(16,Boe,3,4,"h2",13),L(17,$oe,3,4,"h2",14),g(),L(18,Hoe,4,0,"div",15),m(19,"div",12)(20,"h4"),C(21,"Valutazione:"),g(),A(22,"app-score",16),g(),m(23,"div",17),C(24),Ye(25,"number"),g(),m(26,"div",18)(27,"button",19),U("click",function(){return We(n),Ge(W().addToCart())}),m(28,"div",20)(29,"div"),A(30,"i",21),g(),m(31,"div"),C(32,"Add to cart"),g()()()(),m(33,"div",22)(34,"button",23),U("click",function(){return We(n),Ge(W().deselectProduct())}),C(35," Torna ai prodotti "),g()()(),m(36,"div",24)(37,"h2",25),C(38,"Recensioni"),g(),m(39,"div",26),A(40,"app-comment-list",27),g()(),m(41,"div",11)(42,"div",28)(43,"h4"),C(44,"Prezzo:"),g(),L(45,zoe,3,4,"h2",13),L(46,Woe,3,4,"h2",14),g(),m(47,"div",12)(48,"h4"),C(49,"Valutazione:"),g(),A(50,"app-score",16),g(),m(51,"div",17),C(52),Ye(53,"number"),g(),m(54,"div",18)(55,"button",19),U("click",function(){return We(n),Ge(W().addToCart())}),m(56,"div",20)(57,"div"),A(58,"i",21),g(),m(59,"div"),C(60,"Add to cart"),g()()()(),m(61,"div",22)(62,"button",23),U("click",function(){return We(n),Ge(W().deselectProduct())}),C(63," Torna ai prodotti "),g()()()()()}if(2&e){const n=W();I(9),Nr(n.product.cssInfo),I(2),R("innerHTML",n.product.technicalData,yg),I(5),R("ngIf",!n.product.discount),I(1),R("ngIf",n.product.discount),I(1),R("ngIf",n.product.discount),I(4),R("item",n.product),I(2),yt(" ",Qe(25,13,n.product.score,"1.1"),"/5 "),I(16),R("product",n.product),I(5),R("ngIf",!n.product.discount),I(1),R("ngIf",n.product.discount),I(4),R("item",n.product),I(2),yt(" ",Qe(53,16,n.product.score,"1.1"),"/5 ")}}let qoe=(()=>{class e{constructor(n,r){this.databaseService=n,this.cartService=r,this.product={price:0,score:0,technicalData:"",cssInfo:""},this.product=n.currentProduct}ngOnInit(){console.log(this.product)}deselectProduct(){this.databaseService.currentProduct=null}addToCart(){this.cartService.addToCart(this.databaseService.currentProduct.id)}static{this.\u0275fac=function(r){return new(r||e)(w(Wn),w(Yu))}}static{this.\u0275cmp=be({type:e,selectors:[["app-alfa-product-detail"]],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"mb-4","d-flex","w-100","justify-content-between"],["routerLink","/products",1,"btn","btn-light","border","rounded-pill",2,"width","45px",3,"click"],[1,"bi","bi-chevron-left"],[1,""],[1,"row"],[1,"col-12","col-md-4"],[1,"wine","detail-product"],[1,"col-12","col-md-8"],[1,"mt-4",3,"innerHTML"],[1,"col-12"],[1,"d-flex","justify-content-between"],[4,"ngIf"],["class","text-danger",4,"ngIf"],["class","col-12",4,"ngIf"],[3,"item"],[1,"d-flex","justify-content-end"],[1,"d-flex","justify-content-end",2,"height","40px"],[1,"btn","btn-primary",3,"click"],[1,"d-flex"],[1,"bi","bi-cart4","me-1"],[1,"d-grid","gap-2","mt-2"],["routerLink","/products","type","button",1,"btn","mt-4","btn-outline-primary","border-primary","d-flex","justify-content-center",3,"click"],[1,"col-12","mt-4"],[1,"mb-4"],[2,"height","260px","width","100%","overflow-x","auto","overflow-y","hidden"],[3,"product"],[1,"d-flex","justify-content-between","mt-4"],[1,"text-danger"],[1,"w-100","d-flex","justify-content-end",2,"margin-top","-10px"]],template:function(r,i){1&r&&L(0,Goe,64,19,"div",0),2&r&&R("ngIf",i.product)},dependencies:[tn,gi,joe,TI,v_,Xi],styles:[".wine[_ngcontent-%COMP%]{width:160px;height:230px;background-position:center;background-size:contain;background-repeat:no-repeat}.tascaioso[_ngcontent-%COMP%]{background-image:url(/expense/angular16-ecommerce/Tascaioso_alpha.65fd4edec89093aa.png)}.arpensato[_ngcontent-%COMP%]{background-image:url(/expense/angular16-ecommerce/Arpensato_alpha.637d46856d257d84.png);transform:scale(1.05)}.orior[_ngcontent-%COMP%]{background-image:url(/expense/angular16-ecommerce/Orior_alpha.bd8d7a26a5cc323f.png)}.detail-product[_ngcontent-%COMP%]{transform:scale(2.5);width:100%;transform-origin:top}.technical-data-light-title[_ngcontent-%COMP%]{font-weight:300!important}@media screen and (max-width: 762px){.detail-product[_ngcontent-%COMP%]{transform:scale(1);width:100%;min-height:500px;margin-bottom:40px}}"]})}}return e})(),SI=(()=>{class e{constructor(){this.openModalSubject=new sn,this.openModal$=this.openModalSubject.asObservable(),this.payloadSource=new xt(null),this.payload$=this.payloadSource.asObservable()}triggerModal(){this.openModalSubject.next()}publishPayload(n){this.payloadSource.next(n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Koe=(()=>{class e{constructor(){this.quantityEmitter=new ae,this.deleteItemEmitter=new ae,this.label="default",this.qty=0}ngOnInit(){this.item&&this.item.quantity&&(this.qty=this.item.quantity)}incQuantity(){this.qty++,this.quantityEmitter.emit(this.qty)}decQuantity(){this.qty>1&&(this.qty--,this.quantityEmitter.emit(this.qty)),this.qty>0&&this.deleteItemEmitter.emit()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=be({type:e,selectors:[["app-quantity"]],inputs:{label:"label",item:"item",qty:"qty"},outputs:{quantityEmitter:"quantityEmitter",deleteItemEmitter:"deleteItemEmitter"},decls:6,vars:4,consts:[[1,"qty-wrapper","input-group-vertical","ms-2"],["type","button",1,"px-0","inc-btn","btn","btn-primary",3,"id","click"],[1,"bi","bi-plus"],["readonly","","type","text","placeholder","",1,"qty-input","form-control","text-center","px-1",3,"value","id"],["type","button",1,"px-0","dec-btn","btn","btn-primary",3,"id","click"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"button",1),U("click",function(){return i.incQuantity()}),A(2,"i",2),g(),A(3,"input",3),m(4,"button",4),U("click",function(){return i.decQuantity()}),C(5," - "),g()()),2&r&&(I(1),R("id",i.label+"-B"),I(2),R("value",i.qty)("id",i.label+"-input"),I(1),R("id",i.label+"-A"))},styles:[".inc-btn[_ngcontent-%COMP%]{width:44px;height:50px;padding:0;border-bottom-right-radius:0;border-bottom-left-radius:0}.qty-input[_ngcontent-%COMP%]{width:44px;height:50px;border-radius:0}.qty-wrapper[_ngcontent-%COMP%]{width:50px}.dec-btn[_ngcontent-%COMP%]{width:44px;height:50px;padding:0;border-top-right-radius:0;border-top-left-radius:0}@media screen and (max-width: 762px){.inc-btn[_ngcontent-%COMP%]{width:40px;height:35px;padding:0;border-bottom-right-radius:0;border-bottom-left-radius:0}.qty-wrapper[_ngcontent-%COMP%]{width:40px}.qty-input[_ngcontent-%COMP%]{width:40px;border-radius:0}.dec-btn[_ngcontent-%COMP%]{width:40px;height:35px;padding:0;border-top-right-radius:0;border-top-left-radius:0}}"]})}}return e})();function Yoe(e,t){if(1&e){const n=xr();m(0,"div",2)(1,"div",3),U("click",function(){const o=We(n).$implicit;return Ge(W().selectProduct(o))}),m(2,"div",4),A(3,"div",5),g()(),m(4,"div",6),U("click",function(){const o=We(n).$implicit;return Ge(W().selectProduct(o))}),m(5,"div",4),A(6,"div",5),g()(),m(7,"div",7)(8,"div",8)(9,"div",9),U("click",function(){const o=We(n).$implicit;return Ge(W().selectProduct(o))}),m(10,"div",10)(11,"div",11)(12,"div",12)(13,"p",13)(14,"b"),C(15),g()(),m(16,"h4",14)(17,"b"),C(18),g()(),m(19,"h4",15)(20,"b"),C(21),Ye(22,"currency"),g()()(),m(23,"small",16),C(24),g(),m(25,"p",17),C(26),g(),m(27,"p",13)(28,"b"),C(29),Ye(30,"currency"),g()(),m(31,"h4",18)(32,"b"),C(33),Ye(34,"currency"),g()()()()(),m(35,"div",19)(36,"app-quantity",20),U("quantityEmitter",function(i){const s=We(n).$implicit;return Ge(W().updateQuantity(i,s))})("deleteItemEmitter",function(){const o=We(n).$implicit;return Ge(W().openConfirmModal("removeFromCart",o.id))}),g()(),m(37,"button",21),U("click",function(){const o=We(n).$implicit;return Ge(W().openConfirmModal("removeFromCart",o.id))}),A(38,"i",22),g()()()()}if(2&e){const n=t.$implicit;I(3),Nr(n.cssInfo),I(3),Nr(n.cssInfo),I(9),fe(n.fullName),I(3),fe(n.fullName),I(3),fe(Qe(22,13,n.price,"EUR")),I(3),fe(n.shortDescription),I(2),fe(n.shortDescription),I(3),fe(Qe(30,16,n.price,"EUR")),I(4),fe(Qe(34,19,n.price,"EUR")),I(3),R("label","product-standard-list-button-addon-1")("item",n)}}let o2=(()=>{class e{constructor(n,r){this.modalService=n,this.cartService=r,this.products=[],this.productType=""}openConfirmModal(n,r){this.modalService.publishPayload({method:n,productId:r}),this.modalService.triggerModal()}selectProduct(n){console.log("select",n)}updateQuantity(n,r){n>0?(r.quantity=n,this.cartService.modifyQuantity(r)):this.openConfirmModal("removeFromCart",r.id)}static{this.\u0275fac=function(r){return new(r||e)(w(SI),w(Yu))}}static{this.\u0275cmp=be({type:e,selectors:[["app-product-standard-list"]],inputs:{products:"products",productType:"productType"},decls:2,vars:1,consts:[[1,"d-flex","flex-column","checkout-card"],["class","d-flex mb-3 ",4,"ngFor","ngForOf"],[1,"d-flex","mb-3"],[1,"d-md-none","card","checkout-card-image","shadow",3,"click"],[1,"card-body"],[1,"wine"],[1,"d-none","d-md-block","card","checkout-card-image","shadow-lg",3,"click"],[1,"checkout-card-content","checkout-card-content","mb-2"],[1,"d-flex","justify-content-between","h-100"],[1,"d-flex","flex-column","justify-content-center","w-100","h-100","ms-1","mx-md-3",3,"click"],[1,"d-flex"],[1,"mx-1","w-100"],[1,"w-100","d-flex","justify-content-between"],[1,"m-0","d-md-none"],[1,"m-0","d-none","d-md-block"],[1,"m-0","d-none","d-lg-block"],[1,"d-md-none"],[1,"my-2","d-none","d-md-block"],[1,"m-0","d-none","d-md-block","d-lg-none"],[1,"h-100","d-flex","flex-column","justify-content-center"],[3,"label","item","quantityEmitter","deleteItemEmitter"],[1,"delete-btn","btn","btn-outline-danger","ms-2","ms-md-3",3,"click"],[1,"bi","bi-trash-fill"]],template:function(r,i){1&r&&(m(0,"div",0),L(1,Yoe,39,22,"div",1),g()),2&r&&(I(1),R("ngForOf",i.products))},dependencies:[Fs,Koe,Xi],styles:[".btn-outline-green[_ngcontent-%COMP%]{border:2px solid #5bd801;border-radius:20px;width:100%}.text-green[_ngcontent-%COMP%]{color:#5bd801}.xl-icon[_ngcontent-%COMP%]{font-size:65px}h6[_ngcontent-%COMP%], h5[_ngcontent-%COMP%]{margin:0;align-items:center;align-self:center}.green-icon[_ngcontent-%COMP%]{color:#5bd801}.transparent[_ngcontent-%COMP%]{opacity:0}.checkout-card-image[_ngcontent-%COMP%]{min-width:150px;width:150px;height:150px;border-radius:15px}.checkout-card-content[_ngcontent-%COMP%]{width:100%;height:150px}.fw2[_ngcontent-%COMP%]{font-weight:200}.fw4[_ngcontent-%COMP%]{font-weight:400}.wine[_ngcontent-%COMP%]{width:117px;height:119px;background-position:center;background-size:contain;background-repeat:no-repeat}.tascaioso[_ngcontent-%COMP%]{background-image:url(/expense/angular16-ecommerce/Tascaioso_alpha.65fd4edec89093aa.png)}.arpensato[_ngcontent-%COMP%]{background-image:url(/expense/angular16-ecommerce/Arpensato_alpha.637d46856d257d84.png);transform:scale(1.05)}.orior[_ngcontent-%COMP%]{background-image:url(/expense/angular16-ecommerce/Orior_alpha.bd8d7a26a5cc323f.png)}@media screen and (max-width: 767px){.delete-btn[_ngcontent-%COMP%]{width:50px;height:120px;margin:0;padding:0;transform:translateY(15px)}}@media screen and (max-width: 600px){.checkout-card-image[_ngcontent-%COMP%]{min-width:110px;width:110px;height:110px;border-radius:10px}.delete-btn[_ngcontent-%COMP%]{width:50px;height:120px;margin:0;padding:0;transform:translateY(-5px)}.wine[_ngcontent-%COMP%]{width:78px;height:78px;background-position:center;background-size:contain;background-repeat:no-repeat}.checkout-card-content[_ngcontent-%COMP%]{width:100%;height:110px;cursor:pointer}}"]})}}return e})();function Qoe(e,t){if(1&e&&(m(0,"div",2)(1,"button",3)(2,"div",4),A(3,"i",5),m(4,"div",6)(5,"h2"),C(6,"Congratulazioni!"),g(),m(7,"h4"),C(8,"Acquisto completato!"),g()(),A(9,"i",7),g()(),m(10,"h2",8),C(11,"Dettaglio ordine"),g(),A(12,"hr"),m(13,"h1",8),C(14),g(),m(15,"h6"),C(16),Ye(17,"date"),g(),m(18,"h4",8),C(19),Ye(20,"date"),g(),A(21,"hr",9),m(22,"div",10),A(23,"app-product-standard-list",11),g(),m(24,"div",4)(25,"h4",8),C(26,"Totale pezzi:"),g(),m(27,"h4",12),C(28),g()(),m(29,"div",4)(30,"h4",13),C(31,"Totale ordine:"),g(),m(32,"h2"),C(33),Ye(34,"currency"),g()(),A(35,"hr"),m(36,"div",14)(37,"div",4)(38,"h4"),C(39,"Modalit\xe0 di pagamento:"),g()(),m(40,"h4",15),C(41),g()(),A(42,"hr"),m(43,"div",14)(44,"div",4)(45,"h4"),C(46,"Indirizzo di consegna:"),g()(),m(47,"h4",15),C(48),g(),m(49,"h4",15),C(50),g(),m(51,"h4",15),C(52),g()(),A(53,"hr"),m(54,"div",14)(55,"div",4)(56,"h4"),C(57,"Stato ordine:"),g(),m(58,"div",16)(59,"h4",17),C(60),g(),A(61,"img",18),g()(),m(62,"div",19)(63,"button",20)(64,"b"),C(65,"Traccia spedizione"),g(),A(66,"img",21),g()()()()),2&e){const n=W();I(14),yt("N\xb0 Ordine: ",n.currentCheckout.orderNumber,""),I(2),yt("Data: ",Qe(17,13,n.currentCheckout.date,"dd MMMM yyyy")," "),I(3),yt("Consegna stimata: ",Qe(20,16,n.currentCheckout.estimatedDeliveryDate,"dd MMMM yyyy")," "),I(4),R("products",n.currentCheckout.products)("productType","order"),I(5),fe(n.getTotalPieces()),I(5),fe(Qe(34,19,n.getTotalPrice(),"EUR")),I(8),fe(n.getPaymentModeSecret()),I(7),fe(n.getAddress().via),I(2),_d("",n.getAddress().cap," ",n.getAddress().citta,""),I(2),fe(n.getAddress().prov),I(8),fe(n.currentCheckout.status)}}function Zoe(e,t){1&e&&A(0,"app-spinner")}let Joe=(()=>{class e{constructor(n,r){this.dbService=n,this.authService=r,this.checkouts=[],this.currentCheckout=void 0}ngOnInit(){this.listenForUpdates()}getPaymentModeSecret(){return this.currentCheckout?this.currentCheckout.paymentMode.slice(0,9)+"....":""}getTotalPieces(){let n=0;if(this.currentCheckout&&this.currentCheckout?.products)for(let r of this.currentCheckout?.products)n+=r.quantity;return n}getTotalPrice(){let n=0;if(this.currentCheckout&&this.currentCheckout?.products)for(let r of this.currentCheckout?.products)n+=r.price;return n}getAddress(){let n={via:"",citta:"",cap:"",prov:""};return this.currentCheckout&&(n.via=this.currentCheckout.deliveryAddress.split(",")[0],n.citta=this.currentCheckout.deliveryAddress.split(",")[1],n.cap=this.currentCheckout.deliveryAddress.split(",")[2],n.prov=this.currentCheckout.deliveryAddress.split(",")[3]),n}listenForUpdates(){if(this.authService.getCurrentUser()&&this.authService.getCurrentUser().uid){let n=this.authService.getCurrentUser().uid;this.dbService.listenToData("users/"+n+"/cart",r=>{r&&(this.currentCheckout=r)})}}static{this.\u0275fac=function(r){return new(r||e)(w(Wn),w(zn))}}static{this.\u0275cmp=be({type:e,selectors:[["app-alfa-order-detail"]],decls:3,vars:2,consts:[["class","container",4,"ngIf","ngIfElse"],["spinner",""],[1,"container"],[1,"btn","btn-outline-green","mb-3"],[1,"w-100","d-flex","justify-content-between"],[1,"bi","bi-check","xl-icon","green-icon","transparent"],[1,"h-100","w-100","d-flex","flex-column","text-green","align-self-center"],[1,"bi","bi-check","xl-icon","green-icon"],[1,"mb-4"],[1,"mb-5"],[1,"checkout-card-wrapper","mb-5"],[3,"products","productType"],[1,"fw2"],[2,"margin-top","8px"],[1,"d-flex","flex-column"],[1,"fw2","ms-4"],[1,"d-flex"],[1,""],["src","../../../assets/icons/truck.svg","alt","",1,"ms-2",2,"transform","translateY(2px)","margin-bottom","8px"],[1,"d-flex","justify-content-end","mt-4"],[1,"btn","btn-warning"],["src","../../../assets/icons/truck_black.svg","alt","",1,"ms-2",2,"transform","translateY(2px) scale(.9)","margin-bottom","8px"]],template:function(r,i){if(1&r&&(L(0,Qoe,67,22,"div",0),L(1,Zoe,1,0,"ng-template",null,1,Qi)),2&r){const o=Ss(2);R("ngIf",i.currentCheckout)("ngIfElse",o)}},dependencies:[tn,o2,Yf,Xi,__],styles:[".btn-outline-green[_ngcontent-%COMP%]{border:2px solid #5bd801;border-radius:20px;width:100%}.l-icon[_ngcontent-%COMP%]{font-size:25px}.xl-icon[_ngcontent-%COMP%]{font-size:65px}.green-icon[_ngcontent-%COMP%]{color:#5bd801}.transparent[_ngcontent-%COMP%]{opacity:0}.text-green[_ngcontent-%COMP%]{color:#5bd801}"]})}}return e})();function Xoe(e,t){if(1&e){const n=xr();m(0,"app-product-standard-list",20),U("quantityEmitter",function(i){return We(n),Ge(W(2).updateQuantity(i))})("confirmModalEmitter",function(){return We(n),Ge(W(2).openConfirmModal())}),g()}2&e&&R("products",W(2).getProducts())}function ese(e,t){1&e&&(m(0,"h4"),C(1,"Non ci sono ancora prodotti nel tuo carrello"),g())}function tse(e,t){if(1&e&&(m(0,"div",3)(1,"div",4),A(2,"i",5),m(3,"h2",6),C(4,"Carrello"),g()(),A(5,"hr",7),m(6,"div",8),L(7,Xoe,1,1,"app-product-standard-list",9),L(8,ese,2,0,"h4",10),g(),m(9,"div",11)(10,"h4",12),C(11,"Totale pezzi:"),g(),m(12,"h4",13),C(13),g()(),m(14,"div",11)(15,"h4",14),C(16,"Totale ordine:"),g(),m(17,"h2"),C(18),Ye(19,"currency"),g()(),A(20,"hr"),m(21,"div",15)(22,"button",16)(23,"b"),C(24," Checkout "),g(),A(25,"i",17),g()(),m(26,"div",18)(27,"div",11)(28,"h4"),C(29,"Modalit\xe0 di pagamento:"),g()(),m(30,"h4",19),C(31),g()(),A(32,"hr"),m(33,"div",18)(34,"div",11)(35,"h4"),C(36,"Indirizzo di consegna:"),g()(),m(37,"h4",19),C(38),g(),m(39,"h4",19),C(40),g(),m(41,"h4",19),C(42),g()()()),2&e){const n=W();I(7),R("ngIf",n.getCurrentCheckout()&&n.getProducts()),I(1),R("ngIf",!n.getCurrentCheckout()||!n.getProducts()),I(5),fe(n.getTotalPieces()),I(5),fe(Qe(19,9,n.getTotalPrice(),"EUR")),I(13),fe(n.getPaymentModeSecret()),I(7),fe(n.getAddress().via),I(2),_d("",n.getAddress().cap," ",n.getAddress().citta,""),I(2),fe(n.getAddress().prov)}}function nse(e,t){1&e&&A(0,"app-spinner")}function rse(e,t){1&e&&(m(0,"h4",21),C(1," Non ci sono ancora prodotti nel tuo carrello "),g())}let ise=(()=>{class e{constructor(n,r,i){this.dbService=n,this.authService=r,this.cartService=i,this.confirmModalEmitter=new ae,this.checkouts=[]}ngOnInit(){this.listenForUpdates()}openConfirmModal(){this.confirmModalEmitter.emit()}getPaymentModeSecret(){return this.cartService.currentCheckout&&this.cartService.currentCheckout.paymentMode?this.cartService.currentCheckout.paymentMode.slice(0,9)+"....":""}getCurrentCheckout(){return this.cartService.currentCheckout&&this.cartService.currentCheckout.products}getProducts(){return this.cartService.currentCheckout?.products?this.cartService.currentCheckout?.products:[]}getTotalPieces(){let n=0;if(this.cartService.currentCheckout&&this.cartService.currentCheckout?.products)for(let r of this.cartService.currentCheckout?.products)n+=r.quantity;return n}getTotalPrice(){let n=0;if(this.cartService.currentCheckout&&this.cartService.currentCheckout?.products)for(let r of this.cartService.currentCheckout?.products)n+=r.price*r.quantity;return n}getAddress(){let n={via:"",citta:"",cap:"",prov:""};return this.cartService.currentCheckout&&this.cartService.currentCheckout.deliveryAddress&&(n.via=this.cartService.currentCheckout.deliveryAddress.split(",")[0],n.citta=this.cartService.currentCheckout.deliveryAddress.split(",")[1],n.cap=this.cartService.currentCheckout.deliveryAddress.split(",")[2],n.prov=this.cartService.currentCheckout.deliveryAddress.split(",")[3]),n}listenForUpdates(){if(this.authService.getCurrentUser()&&this.authService.getCurrentUser().uid){let n=this.authService.getCurrentUser().uid;this.dbService.listenToData("users/"+n+"/cart",r=>{r&&(this.cartService.currentCheckout=r)})}}updateQuantity(n){console.log(this.cartService.currentCheckout)}static{this.\u0275fac=function(r){return new(r||e)(w(Wn),w(zn),w(Yu))}}static{this.\u0275cmp=be({type:e,selectors:[["app-alfa-checkout"]],outputs:{confirmModalEmitter:"confirmModalEmitter"},decls:5,vars:2,consts:[["class","container",4,"ngIf","ngIfElse"],["spinner",""],["nocheckout",""],[1,"container"],[1,"d-flex"],[1,"bi","bi-cart-fill","l-icon"],[1,"mb-4","ms-2"],[1,"mb-5"],[1,"checkout-card-wrapper","mb-5"],[3,"products","quantityEmitter","confirmModalEmitter",4,"ngIf"],[4,"ngIf"],[1,"w-100","d-flex","justify-content-between"],[1,"mb-4"],[1,"fw2"],[2,"margin-top","8px"],[1,"d-grid","gap-2","my-4"],["type","button",1,"btn","btn-primary","d-flex","justify-content-center"],[1,"bi","bi-credit-card","ms-2"],[1,"d-flex","flex-column"],[1,"fw2","ms-4"],[3,"products","quantityEmitter","confirmModalEmitter"],[1,"p-3"]],template:function(r,i){if(1&r&&(L(0,tse,43,12,"div",0),L(1,nse,1,0,"ng-template",null,1,Qi),L(3,rse,2,0,"ng-template",null,2,Qi)),2&r){const o=Ss(4);R("ngIf",i.getCurrentCheckout())("ngIfElse",o)}},dependencies:[tn,o2,Yf,Xi],styles:[".btn-outline-green[_ngcontent-%COMP%]{border:2px solid #5bd801;border-radius:20px;width:100%}.l-icon[_ngcontent-%COMP%]{font-size:25px}.xl-icon[_ngcontent-%COMP%]{font-size:65px}.green-icon[_ngcontent-%COMP%]{color:#5bd801}.transparent[_ngcontent-%COMP%]{opacity:0}.checkout-card-image[_ngcontent-%COMP%]{min-width:150px;width:150px;height:150px;border-radius:15px}.checkout-card-content[_ngcontent-%COMP%]{width:100%;height:150px}.fw2[_ngcontent-%COMP%]{font-weight:200}.fw4[_ngcontent-%COMP%]{font-weight:400}"]})}}return e})(),s2=(()=>{class e{constructor(n,r){this.auth=n,this.router=r}canActivate(n,r){const i=n.data.roles;return this.auth.userRole$.pipe(eo(1),Ce(o=>(console.log("Guard: ruolo utente:",o,"ruoli richiesti:",i),!(!o||!i.includes(o))||this.router.createUrlTree(["/unauthorized"]))))}static{this.\u0275fac=function(r){return new(r||e)(O(zn),O(ot))}}static{this.\u0275prov=F({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),ose=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=be({type:e,selectors:[["app-unauthorized"]],decls:5,vars:0,consts:[[1,"container",2,"margin-top","100px","min-height","70vh"],[1,"row"],[1,"col-12","p-5"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),C(4,"UNAUTHORIZED"),g()()()())}})}}return e})(),sse=(()=>{class e{constructor(n,r){this.router=n,this.authService=r}ngOnInit(){this.authService.registeredUser=!0,this.authService.logout()}static{this.\u0275fac=function(r){return new(r||e)(w(ot),w(zn))}}static{this.\u0275cmp=be({type:e,selectors:[["app-alfa-not-registered-user"]],decls:4,vars:0,template:function(r,i){1&r&&(m(0,"h2"),C(1,"Utente non registrato"),g(),m(2,"h4"),C(3,"Ritorno alla pagina di login..."),g())}})}}return e})();class ba{static matchFields(t,n){return r=>{const o=r.controls[t],s=r.controls[n];return o&&s?o.value!==s.value?(s.setErrors({notMatch:!0}),{notMatch:!0}):(s.hasError("notMatch")&&(delete s.errors?.notMatch,0===Object.keys(s.errors||{}).length&&s.setErrors(null)),null):null}}static strongPassword(t){const n=t.value;if(!n)return null;const r=/[A-Z]/.test(n),i=/[a-z]/.test(n),o=/[0-9]/.test(n),s=/[!@#$%^&*(),.?":{}|<>]/.test(n),a=n.length>=8;return r&&i&&o&&s&&a?null:{strongPassword:{hasUpperCase:r,hasLowerCase:i,hasNumeric:o,hasSpecial:s,hasMinLength:a}}}static validName(t){const n=t.value,r=n.length>=2;return n?/^[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\xff\s]+$/.test(n)&&r?null:{invalidName:!0}:null}}function a2(e){return e?e.trim().replace(/\s+/g," ").split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join(" "):""}function ase(e,t){1&e&&(m(0,"div"),C(1,"Il nome \xe8 obbligatorio."),g())}function cse(e,t){1&e&&(m(0,"div"),C(1,"Formato nome non valido."),g())}function use(e,t){if(1&e&&(m(0,"div",19),L(1,ase,2,0,"div",20),L(2,cse,2,0,"div",20),g()),2&e){const n=W();let r,i;I(1),R("ngIf",null==(r=n.registerForm.get("firstName"))||null==r.errors?null:r.errors.required),I(1),R("ngIf",null==(i=n.registerForm.get("firstName"))||null==i.errors?null:i.errors.invalidName)}}function lse(e,t){1&e&&(m(0,"div"),C(1,"Il cognome \xe8 obbligatorio."),g())}function dse(e,t){1&e&&(m(0,"div"),C(1,"Formato cognome non valido."),g())}function hse(e,t){if(1&e&&(m(0,"div",19),L(1,lse,2,0,"div",20),L(2,dse,2,0,"div",20),g()),2&e){const n=W();let r,i;I(1),R("ngIf",null==(r=n.registerForm.get("lastName"))||null==r.errors?null:r.errors.required),I(1),R("ngIf",null==(i=n.registerForm.get("lastName"))||null==i.errors?null:i.errors.invalidName)}}function fse(e,t){1&e&&(m(0,"div"),C(1,"L'email \xe8 obbligatoria."),g())}function pse(e,t){1&e&&(m(0,"div"),C(1,"Formato email non valido."),g())}function gse(e,t){if(1&e&&(m(0,"div",19),L(1,fse,2,0,"div",20),L(2,pse,2,0,"div",20),g()),2&e){const n=W();let r,i;I(1),R("ngIf",null==(r=n.registerForm.get("email"))||null==r.errors?null:r.errors.required),I(1),R("ngIf",null==(i=n.registerForm.get("email"))||null==i.errors?null:i.errors.email)}}function mse(e,t){1&e&&(m(0,"div"),C(1,"L'email \xe8 obbligatoria."),g())}function _se(e,t){1&e&&(m(0,"div"),C(1,"Formato email non valido."),g())}function vse(e,t){1&e&&(m(0,"div"),C(1,"Le email non corrispondono."),g())}function yse(e,t){if(1&e&&(m(0,"div",19),L(1,mse,2,0,"div",20),L(2,_se,2,0,"div",20),L(3,vse,2,0,"div",20),g()),2&e){const n=W();let r,i,o;I(1),R("ngIf",null==(r=n.registerForm.get("confirmedEmail"))||null==r.errors?null:r.errors.required),I(1),R("ngIf",null==(i=n.registerForm.get("confirmedEmail"))||null==i.errors?null:i.errors.email),I(1),R("ngIf",null==(o=n.registerForm.get("confirmedEmail"))||null==o.errors?null:o.errors.notMatch)}}function Cse(e,t){1&e&&(m(0,"div"),C(1,"La password \xe8 obbligatoria."),g())}function bse(e,t){1&e&&(m(0,"div"),C(1,"La password deve essere lunga almeno otto caratteri, e contenere almeno una lettera maiuscola, una minuscola, un numero e un carattere speciale."),g())}function wse(e,t){if(1&e&&(m(0,"div",19),L(1,Cse,2,0,"div",20),L(2,bse,2,0,"div",20),g()),2&e){const n=W();let r,i;I(1),R("ngIf",null==(r=n.registerForm.get("pw"))||null==r.errors?null:r.errors.required),I(1),R("ngIf",null==(i=n.registerForm.get("pw"))||null==i.errors?null:i.errors.strongPassword)}}function Ese(e,t){1&e&&(m(0,"div"),C(1,"La conferma password \xe8 obbligatoria."),g())}function Ise(e,t){1&e&&(m(0,"div"),C(1,"Le password non corrispondono."),g())}function Dse(e,t){if(1&e&&(m(0,"div",19),L(1,Ese,2,0,"div",20),L(2,Ise,2,0,"div",20),g()),2&e){const n=W();let r,i;I(1),R("ngIf",null==(r=n.registerForm.get("confirmedPw"))||null==r.errors?null:r.errors.required),I(1),R("ngIf",null==(i=n.registerForm.get("confirmedPw"))||null==i.errors?null:i.errors.notMatch)}}const Tse=[{path:"unauthorized",component:ose},{path:"not-registered",component:sse},{path:"register",component:(()=>{class e{constructor(n,r,i){this.auth=n,this.db=r,this.fb=i,this.registerSpinnerIsVisible=!1,this.registerForm=this.fb.group({firstName:["",[ki.required,ba.validName]],lastName:["",[ki.required,ba.validName]],email:["",[ki.required,ki.email]],confirmedEmail:["",[ki.required,ki.email]],pw:["",[ki.required,ba.strongPassword]],confirmedPw:["",[ki.required]],rememberMe:[!1]},{validators:[ba.matchFields("email","confirmedEmail"),ba.matchFields("pw","confirmedPw")]})}register(){this.registerForm.valid&&(this.registerSpinnerIsVisible=!0,this.auth.register(this.registerForm.controls.email.value,this.registerForm.controls.pw.value))}getStrongPasswordValue(n){return ba.strongPassword(n)}onChange(n){switch(n){case"firstName":this.registerForm.patchValue({firstName:a2(this.registerForm.controls[n].value)});break;case"lastName":this.registerForm.patchValue({lastName:a2(this.registerForm.controls[n].value)});break;default:console.log("unknown")}}changed(n){}static{this.\u0275fac=function(r){return new(r||e)(w(zn),w(Wn),w(Kf))}}static{this.\u0275cmp=be({type:e,selectors:[["app-alfa-register"]],inputs:{registerForm:"registerForm"},decls:44,vars:12,consts:[[1,"container",2,"max-width","700px"],[1,"row",2,"height","100vh"],[1,"col-12"],[3,"formGroup"],[1,"w-100","d-flex","justify-content-center","py-4"],[1,"login-logo"],[1,"form-group"],[1,"form-label"],["autocomplete","given-name","name","given-name","formControlName","firstName","placeholder","Nome utente",1,"form-control",3,"change"],["class","text-danger small",4,"ngIf"],["autocomplete","family-name","name","family-name","formControlName","lastName","placeholder","Cognome utente",1,"form-control",3,"change"],["autocomplete","email","name","email","type","email","formControlName","email","placeholder","Email utente",1,"form-control"],["autocomplete","email","name","email","type","email","formControlName","confirmedEmail","placeholder","Conferma email",1,"form-control"],["type","password","formControlName","pw","placeholder","Password",1,"form-control"],["type","password","formControlName","confirmedPw","placeholder","Conferma password",1,"form-control",3,"keyup.enter"],[1,"d-grid","gap-2","mt-2"],["type","button",1,"my-4","btn","btn-primary","d-flex","justify-content-center",3,"click"],[3,"isVisible"],["registerSpinner",""],[1,"text-danger","small"],[4,"ngIf"]],template:function(r,i){if(1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3)(4,"div",4),A(5,"div",5),g(),m(6,"h2"),C(7,"Modulo registrazione"),g(),m(8,"div",6)(9,"label",7),C(10,"First name:"),g(),m(11,"input",8),U("change",function(){return i.onChange("firstName")}),g(),L(12,use,3,2,"div",9),g(),m(13,"div",6)(14,"label",7),C(15,"Last name:"),g(),m(16,"input",10),U("change",function(){return i.onChange("lastName")}),g(),L(17,hse,3,2,"div",9),g(),m(18,"div",6)(19,"label",7),C(20,"Email:"),g(),A(21,"input",11),L(22,gse,3,2,"div",9),g(),m(23,"div",6)(24,"label",7),C(25,"Confirm email:"),g(),A(26,"input",12),L(27,yse,4,3,"div",9),g(),m(28,"div",6)(29,"label",7),C(30,"Password:"),g(),A(31,"input",13),L(32,wse,3,2,"div",9),g(),m(33,"div",6)(34,"label",7),C(35,"Confirm password:"),g(),m(36,"input",14),U("keyup.enter",function(){return i.register()}),g(),L(37,Dse,3,2,"div",9),g(),m(38,"div",15)(39,"button",16),U("click",function(){return i.register()}),m(40,"div"),C(41," Registrati "),g(),A(42,"app-button-spinner",17,18),g()()()()()()),2&r){let o,s,a,c,u,l,d,h;I(3),R("formGroup",i.registerForm),I(9),R("ngIf",(null==(o=i.registerForm.get("firstName"))?null:o.touched)&&(null==(o=i.registerForm.get("firstName"))?null:o.invalid)),I(5),R("ngIf",(null==(s=i.registerForm.get("lastName"))?null:s.touched)&&(null==(s=i.registerForm.get("lastName"))?null:s.invalid)),I(5),R("ngIf",(null==(a=i.registerForm.get("email"))?null:a.touched)&&(null==(a=i.registerForm.get("email"))?null:a.invalid)),I(5),R("ngIf",(null==(c=i.registerForm.get("confirmedEmail"))?null:c.touched)&&(null==(c=i.registerForm.get("confirmedEmail"))?null:c.invalid)),I(4),Nr(0!=(null==(u=i.registerForm.get("pw"))?null:u.value.length)&&(null==(u=i.registerForm.get("pw"))?null:u.value.length)<5?"bg-alert-danger":(null==(u=i.registerForm.get("pw"))?null:u.value.length)>4&&(null==(u=i.registerForm.get("pw"))?null:u.value.length)<8||(null==(u=i.registerForm.get("pw"))?null:u.value.length)>7&&i.getStrongPasswordValue(i.registerForm.get("pw"))?"bg-alert-warning":(null==(u=i.registerForm.get("pw"))?null:u.value.length)>7&&!i.getStrongPasswordValue(i.registerForm.get("pw"))?"bg-alert-info":""),I(1),R("ngIf",(null==(l=i.registerForm.get("pw"))?null:l.touched)&&(null==(l=i.registerForm.get("pw"))?null:l.invalid)),I(4),Nr(0!=(null==(d=i.registerForm.get("confirmedPw"))?null:d.value.length)&&(null==(d=i.registerForm.get("confirmedPw"))?null:d.value.length)<5?"bg-alert-danger":(null==(d=i.registerForm.get("confirmedPw"))?null:d.value.length)>4&&(null==(d=i.registerForm.get("confirmedPw"))?null:d.value.length)<8||(null==(d=i.registerForm.get("confirmedPw"))?null:d.value.length)>7&&i.getStrongPasswordValue(i.registerForm.get("confirmedPw"))?"bg-alert-warning":(null==(d=i.registerForm.get("confirmedPw"))?null:d.value.length)>7&&!i.getStrongPasswordValue(i.registerForm.get("confirmedPw"))?"bg-alert-info":""),I(1),R("ngIf",(null==(h=i.registerForm.get("confirmedPw"))?null:h.touched)&&(null==(h=i.registerForm.get("confirmedPw"))?null:h.invalid)),I(5),R("isVisible",i.registerSpinnerIsVisible)}},dependencies:[tn,Gf,ju,lI,Ff,Ku,qf,n2],styles:[".form-group[_ngcontent-%COMP%]{min-height:70px;display:flex;flex-direction:column;justify-content:start}.form-label[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:0;opacity:0}.bg-alert-danger[_ngcontent-%COMP%]:focus{background-color:var(--bs-danger-border-subtle)}.bg-alert-info[_ngcontent-%COMP%]:focus{background-color:var(--bs-info-border-subtle)}.bg-alert-warning[_ngcontent-%COMP%]:focus{background-color:var(--bs-warning-border-subtle)}"]})}}return e})()},{path:"login",component:moe},{path:"home",component:xoe},{path:"products",component:r2},{path:"orders",component:Foe},{path:"product-detail/:id",component:qoe,canActivate:[s2],data:{roles:["admin","user"]}},{path:"order-detail/:id",component:Joe,canActivate:[s2],data:{roles:["admin","user"]}},{path:"checkout",component:ise},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",redirectTo:"/home"}];let Sse=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Kt({type:e})}static{this.\u0275inj=Nt({imports:[Wx.forRoot(Tse),Wx]})}}return e})(),Ase=(()=>{class e{constructor(n,r,i){this.auth=n,this.db=r,this.fb=i,this.menuVisible=!1,this.overlayOpen=!1,this.toggleOverlayEmitter=new ae,this.contactsEmitter=new ae}contacts(){this.contactsEmitter.emit()}action(n){"openMenu"===n||console.log("unknown",n)}logout(){this.auth.logout()}toggleMenu(){this.menuVisible=!this.menuVisible,this.toggleOverlayEmitter.emit({name:"menuVisible",visibility:!0})}static{this.\u0275fac=function(r){return new(r||e)(w(zn),w(Wn),w(Kf))}}static{this.\u0275cmp=be({type:e,selectors:[["app-alfa-navbar"]],inputs:{menuVisible:"menuVisible",overlayOpen:"overlayOpen"},outputs:{toggleOverlayEmitter:"toggleOverlayEmitter",contactsEmitter:"contactsEmitter"},decls:25,vars:0,consts:[["id","navbar",1,"w-100","py-1","fixed-top","bg-white","shadow"],[1,"container-fluid","h-100","m-0",2,"width","100vw"],[1,"row","mx-2","h-100"],[1,"col-12","d-flex","justify-content-between"],["href","../home/homepage.html",1,"navbar-brand","px-3","py-1"],[1,"navbar_logo"],[1,"d-none","d-md-flex","align-items-center","nav","text-bold"],[1,"nav-item"],["routerLink","/products",1,"nav-link"],["routerLink","/checkout",1,"nav-link"],["routerLink","/orders",1,"nav-link"],[1,"nav-link",3,"click"],[1,"d-flex","d-md-none","flex-column","justify-content-center"],[1,"hamburger_icon","btn","d-flex","flex-column","justify-content-center",3,"click"],[1,"hamburger"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),A(5,"div",5),g(),m(6,"ul",6)(7,"li",7)(8,"a",8),C(9,"PRODOTTI"),g()(),m(10,"li",7)(11,"a",9),C(12,"CARRELLO"),g()(),m(13,"li",7)(14,"a",10),C(15,"I MIEI ORDINI"),g()(),m(16,"li",7)(17,"a",11),U("click",function(){return i.contacts()}),C(18,"CONTATTI"),g()(),m(19,"li",7)(20,"a",11),U("click",function(){return i.logout()}),C(21,"LOGOUT"),g()()(),m(22,"div",12)(23,"a",13),U("click",function(){return i.toggleMenu()}),A(24,"div",14),g()()()()()())},dependencies:[gi],styles:["#navbar[_ngcontent-%COMP%]{transition:.3s;box-shadow:none;font-size:12px!important}#navbar[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{background-color:#fff!important}[_nghost-%COMP%]     .nav-link{color:#444;font-size:12px!important;transition:.3s;padding:8px}.nav-link[_ngcontent-%COMP%]:hover{color:#0a58ca;cursor:pointer;transition:.3s}.hamburger_icon[_ngcontent-%COMP%]{background-image:url(/expense/angular16-ecommerce/hamburger.2f5a217b7a5c454d.svg);background-size:contain;background-repeat:no-repeat;height:30px;width:30px}.navbar_logo[_ngcontent-%COMP%]{height:55px;width:112px}"]})}}return e})();const Mse=["navbar"];let Rse=(()=>{class e{constructor(n){this.router=n,this.toggleMenuEmitter=new ae,this.logoutEmitter=new ae}showMenu(){this.toggleMenuEmitter.emit({name:"mobileMenu",visibility:!0})}hideMenu(){this.toggleMenuEmitter.emit({name:"mobileMenu",visibility:!1})}redirectToPath(n){this.hideMenu(),this.router.navigate([n])}logout(){this.logoutEmitter.emit()}static{this.\u0275fac=function(r){return new(r||e)(w(ot))}}static{this.\u0275cmp=be({type:e,selectors:[["app-mobile-menu"]],viewQuery:function(r,i){if(1&r&&WM(Mse,5),2&r){let o;Pm(o=function km(){return function Rz(e,t){return e[Yn].queries[t].queryList}(D(),nT())}())&&(i.navbar=o.first)}},outputs:{toggleMenuEmitter:"toggleMenuEmitter",logoutEmitter:"logoutEmitter"},decls:36,vars:0,consts:[["id","mobileMenu",2,"height","100vh","width","100%","overflow","hidden"],[1,"position-absolute","p-3","d-flex","justify-content-end","w-100"],[1,"btn","d-flex","justify-content-end","animate__animated","animate__fadeInUp",3,"click"],[1,"close_white"],[1,"h-100","p-5"],[2,"height","20%","width","100%"],[1,"d-flex","h-100","flex-column","justify-content-between"],[1,"mt-3","w-100","h-100","d-flex","justify-content-center","animate__animated","animate__fadeInUp",3,"click"],[1,"person_circle_white"],[1,"text-light","d-flex","flex-column","justify-content-center",2,"height","10%"],[1,"d-flex","justify-content-center","animate__animated","animate__fadeInUp",2,"font-size","20px"],[1,"",2,"height","70%"],[1,"d-flex","flex-column","justify-content-center","h-100"],["id","menuList",1,"accordion","bg-transparent","animate__animated","animate__fast","nav","d-flex","flex-column","text-center","animate__fadeInUp",2,"font-size","xx-large"],[1,"home","nav-item",3,"click"],[1,"nav-link"],[1,"btn-link-dark"],[1,"storia","nav-item",3,"click"],[1,"btn-link-primary"],[1,"nav-link","d-flex","justify-content-center"],[1,"d-flex"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"a",2),U("click",function(){return i.hideMenu()}),A(3,"div",3),g()(),m(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),U("click",function(){return i.hideMenu()}),A(8,"div",8),g()()(),m(9,"div",9)(10,"div",10),C(11,"Ciao Marco!"),g()(),m(12,"div",11)(13,"div",12)(14,"ul",13)(15,"li",14),U("click",function(){return i.redirectToPath("/products")}),m(16,"a",15)(17,"h2",16),C(18,"PRODOTTI"),g()()(),m(19,"li",17),U("click",function(){return i.redirectToPath("/checkout")}),m(20,"a",15)(21,"h2",18),C(22,"CARRELLO"),g()()(),m(23,"li",17),U("click",function(){return i.redirectToPath("/orders")}),m(24,"a",15)(25,"h2",18),C(26,"I MIEI ORDINI"),g()()(),m(27,"li",17),U("click",function(){return i.hideMenu()}),m(28,"a",15)(29,"h2",18),C(30,"CONTATTI"),g()()(),m(31,"li",17),U("click",function(){return i.logout()}),m(32,"a",19)(33,"div",20)(34,"h2",18),C(35,"LOGOUT"),g()()()()()()()()())},styles:["#mobileMenu[_ngcontent-%COMP%]{z-index:1000;background-color:#c27248;width:100%;height:100vh}.nav-link[_ngcontent-%COMP%]{color:#eee;font-size:18px!important}.nav-link[_ngcontent-%COMP%]:hover{color:#fff;cursor:pointer}div[_ngcontent-%COMP%]:has(.user-icon-mobile-menu){height:100px}.user-icon-mobile-menu[_ngcontent-%COMP%]{height:100px;width:auto;background-image:url(/expense/angular16-ecommerce/person-circle-white.c16eb14271d35224.svg);background-repeat:no-repeat;background-size:cover}*[_ngcontent-%COMP%]{overflow-y:hidden}.close_white[_ngcontent-%COMP%]{background-image:url(/expense/angular16-ecommerce/close_white.7ca11c3dfbff8ac7.svg);background-repeat:no-repeat;background-size:cover;width:40px;height:40px}.person_circle_white[_ngcontent-%COMP%]{background-image:url(/expense/angular16-ecommerce/person-circle-white.c16eb14271d35224.svg);background-repeat:no-repeat;background-size:contain;width:150px}"]})}}return e})();function xse(e,t){1&e&&(m(0,"div",2),C(1," LOADING\n"),g())}function Nse(e,t){if(1&e){const n=xr();m(0,"div",3)(1,"app-mobile-menu",4),U("toggleMenuEmitter",function(i){return We(n),Ge(W().toggleMenu(i))}),g()()}}let Pse=(()=>{class e{constructor(){this.loadingVisible=!1,this.menuVisible=!1,this.toggleOverlayEmitter=new ae,this.toggleMenuEmitter=new ae}showOverlay(){this.toggleOverlayEmitter.emit(!0)}hideOverlay(){this.toggleOverlayEmitter.emit(!1)}toggleMenu(n){"mobileMenu"===n.name&&this.toggleMenuEmitter.emit(n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=be({type:e,selectors:[["app-main-overlay"]],inputs:{loadingVisible:"loadingVisible",menuVisible:"menuVisible"},outputs:{toggleOverlayEmitter:"toggleOverlayEmitter",toggleMenuEmitter:"toggleMenuEmitter"},decls:2,vars:2,consts:[["style","z-index: 3000; height: 100vh; width: 100%; overflow: hidden; background-color: rgba(0,0,0, .6);",4,"ngIf"],["style","z-index: 2000; height: 100vh; width: 100%; overflow: hidden; position: absolute!important;",4,"ngIf"],[2,"z-index","3000","height","100vh","width","100%","overflow","hidden","background-color","rgba(0,0,0, .6)"],[2,"z-index","2000","height","100vh","width","100%","overflow","hidden","position","absolute!important"],[3,"toggleMenuEmitter"]],template:function(r,i){1&r&&(L(0,xse,2,0,"div",0),L(1,Nse,2,0,"div",1)),2&r&&(R("ngIf",i.loadingVisible),I(1),R("ngIf",i.menuVisible))},dependencies:[tn,Rse]})}}return e})(),kse=(()=>{class e{constructor(n){this.toastService=n,this.toastText="",this.toastType="error"}ngOnInit(){}getType(){return this.toastService.currentMessage.type}getIcon(){return this.toastService.currentMessage.icon}getMessage(){return this.toastService.currentMessage.text}static{this.\u0275fac=function(r){return new(r||e)(w(DI))}}static{this.\u0275cmp=be({type:e,selectors:[["app-alfa-toast"]],decls:8,vars:4,consts:[[1,"toast-container","position-fixed","top-0","end-0","p-3",2,"transform","translateY(90px)"],["id","liveToast","role","alert","aria-live","assertive","aria-atomic","true",1,"toast",3,"ngClass"],[1,"toast-body"],[1,"w-100","d-flex","justify-content-between"],[1,"d-flex"],[1,"align-self-center","ms-2",3,"innerHTML"],["type","button","data-bs-dismiss","toast",1,"align-self-center","btn-close","btn-close-white"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),A(5,"i")(6,"h6",5),g(),A(7,"button",6),g()()()()),2&r&&(I(1),R("ngClass",i.getType()),I(4),Nr("bi bi-"+i.getIcon()),I(1),R("innerHTML",i.getMessage(),yg))},dependencies:[uR],styles:[".alfa-toast[_ngcontent-%COMP%]{margin-top:15px;position:absolute;width:400px;height:100px;border-radius:15px;z-index:3000;right:0;border:5px solid #ff5900;color:#d24f09;font-size:19px}@media screen and (max-width: 762px){.alfa-toast[_ngcontent-%COMP%]{width:100%}}.toast.success[_ngcontent-%COMP%]{background-color:#198754}.toast.success[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%], .toast.success[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff!important;margin:0}.toast.error[_ngcontent-%COMP%]{background-color:#dc3545}.toast.error[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%], .toast.error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff!important;margin:0}.toast.warning[_ngcontent-%COMP%]{background-color:#ffc107;color:#212529}.toast.info[_ngcontent-%COMP%]{background-color:#0dcaf0}.toast-body[_ngcontent-%COMP%]{padding:20px}"]})}}return e})(),Ose=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=be({type:e,selectors:[["app-alfa-social-footer"]],decls:14,vars:0,consts:[[1,"w-100","bg-dark2"],[1,"container"],[1,"row"],[1,"col-12"],[1,"card","py-4","border-0","bg-transparent","text-light","text-center","d-flex","flex-column","justify-content-center"],[1,"d-flex","justify-content-center","text-white"],[1,"btn","btn-light","rounded","rounded-pill","m-2",2,"min-width","38px"],["target","_blank","href","https://www.instagram.com/alfaprivativo_naturalwines/"],[1,"bi","bi-instagram"],["target","_blank","href","https://wa.me/+393493177129/?text=Buongiorno%20sono%20interessato%20ai%20vostri%20prodotti"],[1,"bi","bi-whatsapp"],[1,"small"]],template:function(r,i){1&r&&(m(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"button",6)(7,"a",7),A(8,"span",8),g()(),m(9,"button",6)(10,"a",9),A(11,"span",10),g()()(),m(12,"small",11),C(13," \xa9 2024 AlfaPrivativo "),g()()()()()())},styles:[".bg-dark2[_ngcontent-%COMP%]{background-color:#1c1c1c}"]})}}return e})(),Fse=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=be({type:e,selectors:[["app-alfa-footer"]],decls:22,vars:0,consts:[[1,"w-100","bg-dark"],[1,"container"],[1,"row"],["id","footer",1,"col-12"],[1,"card","py-4","border-0","bg-transparent","text-light","text-center"],[1,"d-flex","justify-content-center"],[1,"footer_logo","mb-3"],[1,"card-title","text-grey"],[1,"card-body"]],template:function(r,i){1&r&&(m(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),A(6,"div",6),g(),m(7,"div",7),C(8," Alfaprivativo Societ\xe0 Agricola Semplice "),g(),m(9,"div",8),C(10," - Indirizzo: Fraz. Morano Osteria 125/A "),A(11,"br"),C(12,"- Localit\xe0: Gualdo Tadino (PG) - Cap: 06023 "),A(13,"br"),C(14,"\n- PI: 03881990547 "),A(15,"br"),C(16,"- Tel. Simone: +39 3387802485 "),A(17,"br"),C(18,"- Alex: +39 3493177129 "),A(19,"br"),C(20,"- Email: alfaprivativowines@libero.it "),g()()()()()(),A(21,"app-alfa-social-footer"))},dependencies:[Ose],styles:[".footer_logo[_ngcontent-%COMP%]{height:55px;width:112px}"]})}}return e})(),Lse=(()=>{class e{constructor(n,r){this.modalService=n,this.cartService=r,this.modalData={modalText:"",modalTitle:"",modalConfirmLabel:""}}ngOnInit(){this.modalService.payload$.subscribe(n=>{n&&this.handlePayload(n)})}handlePayload(n){"removeFromCart"===(console.log(n),n.method)?(this.modalData.modalTitle="Rimuovi articolo dal carrello",this.modalData.modalText="Stai per rimuovere un articolo dal carrello. Procedere?",this.modalData.modalConfirmLabel="Rimuovi",this.modalData.productId=n.productId,this.modalData.method=n.method):console.log("unknown",n.method)}confirmOperation(){let n=this.modalData;n.productId&&("removeFromCart"===n.method?this.cartService.removeFromCart(n.productId):console.log("unknown",n.method))}static{this.\u0275fac=function(r){return new(r||e)(w(SI),w(Yu))}}static{this.\u0275cmp=be({type:e,selectors:[["app-confirm-popup"]],decls:14,vars:3,consts:[["id","confirmModal","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","confirmModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),C(5),g(),A(6,"button",5),g(),m(7,"div",6),C(8),g(),m(9,"div",7)(10,"button",8),C(11,"Annulla"),g(),m(12,"button",9),U("click",function(){return i.confirmOperation()}),C(13),g()()()()()),2&r&&(I(5),yt(" ",i.modalData.modalTitle,""),I(3),yt(" ",i.modalData.modalText," "),I(5),fe(i.modalData.modalConfirmLabel))}})}}return e})();function Vse(e,t){if(1&e){const n=xr();m(0,"div",5)(1,"app-main-overlay",6),U("toggleMenuEmitter",function(i){return We(n),Ge(W().openOverlay(i))}),g()()}if(2&e){const n=W();I(1),R("loadingVisible",n.loadingVisible)("menuVisible",n.menuVisible)}}function Use(e,t){if(1&e){const n=xr();m(0,"app-alfa-navbar",7),U("contactsEmitter",function(){return We(n),Ge(W().contacts())})("toggleOverlayEmitter",function(i){return We(n),Ge(W().openOverlay(i))}),g()}if(2&e){const n=W();R("menuVisible",n.menuVisible)("overlayOpen",n.overlayOpen)}}let jse=(()=>{class e{constructor(n,r,i){this.router=n,this.modalService=r,this.toastService=i,this.overlayOpen=!1,this.menuVisible=!1,this.loadingVisible=!1,this.isLoginPage=!1,this.isRegisterPage=!1,this.modalData={text:"test text"},this.toastVisible=!1,this.toastType="info",this.toastText="",this.router.events.pipe(Lr(o=>o instanceof Vr)).subscribe(o=>{this.isLoginPage="/login"===o.url,this.isRegisterPage="/register"===o.url})}ngAfterViewInit(){const n=document.getElementById("confirmModal");this.confirmModal=new bootstrap.Modal(n),this.modalService.openModal$.subscribe(()=>{this.confirmModal.show()}),this.toastEl=document.getElementById("liveToast"),this.toast=new bootstrap.Toast(this.toastEl,{delay:4e3}),this.toastService.showToast$.subscribe(()=>{setTimeout(()=>this.toast.show(),0)})}contacts(){}openConfirmModal(){this.confirmModal.show()}showToast(){}openOverlay(n){"menuVisible"===n.name&&(this.menuVisible=n.visibility),this.overlayOpen=!this.overlayOpen}static{this.\u0275fac=function(r){return new(r||e)(w(ot),w(SI),w(DI))}}static{this.\u0275cmp=be({type:e,selectors:[["app-root"]],decls:8,vars:2,consts:[["style","top: 0; position: fixed; height: vh100; z-index: 5000; width: 100%; ",4,"ngIf"],[3,"menuVisible","overlayOpen","contactsEmitter","toggleOverlayEmitter",4,"ngIf"],[1,"container",2,"margin-top","150px","margin-bottom","50px","padding","0!important"],[1,"container","main-container",2,"padding","0!important"],["id","footer"],[2,"top","0","position","fixed","height","vh100","z-index","5000","width","100%"],[3,"loadingVisible","menuVisible","toggleMenuEmitter"],[3,"menuVisible","overlayOpen","contactsEmitter","toggleOverlayEmitter"]],template:function(r,i){1&r&&(L(0,Vse,2,2,"div",0),L(1,Use,1,2,"app-alfa-navbar",1),A(2,"app-alfa-toast"),m(3,"div",2)(4,"div",3),A(5,"router-outlet"),g()(),A(6,"app-confirm-popup")(7,"app-alfa-footer",4)),2&r&&(R("ngIf",!i.isLoginPage&&i.overlayOpen&&!i.isRegisterPage),I(1),R("ngIf",!i.isLoginPage&&!i.isRegisterPage))},dependencies:[tn,K_,Ase,Pse,kse,Fse,Lse]})}}return e})();const Bse_firebase={apiKey:"AIzaSyAyPpwYB1X-e5VnUkUgJ2orPcDr9ybDHEU",authDomain:"draggable-9f92b.firebaseapp.com",databaseURL:"https://draggable-9f92b.firebaseio.com",projectId:"draggable-9f92b",storageBucket:"draggable-9f92b.appspot.com",messagingSenderId:"1010593277055",appId:"1:1010593277055:web:1b729dc7368b8f6f"},dt=void 0;!function ZG(e,t,n){(function U3(e,t,n){"string"!=typeof t&&(n=t,t=e[Se.LocaleId]),t=t.toLowerCase().replace(/_/g,"-"),Ms[t]=e,n&&(Ms[t][Se.ExtraData]=n)})(e,t,n)}(["it",[["m.","p."],["AM","PM"],dt],dt,[["D","L","M","M","G","V","S"],["dom","lun","mar","mer","gio","ven","sab"],["domenica","luned\xec","marted\xec","mercoled\xec","gioved\xec","venerd\xec","sabato"],["dom","lun","mar","mer","gio","ven","sab"]],dt,[["G","F","M","A","M","G","L","A","S","O","N","D"],["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"]],dt,[["aC","dC"],["a.C.","d.C."],["avanti Cristo","dopo Cristo"]],1,[6,0],["dd/MM/yy","d MMM y","d MMMM y","EEEE d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",dt,"{1} {0}",dt],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{BRL:[dt,"R$"],BYN:[dt,"Br"],EGP:[dt,"\xa3E"],HKD:[dt,"$"],INR:[dt,"\u20b9"],JPY:[dt,"\xa5"],KRW:[dt,"\u20a9"],MXN:[dt,"$"],NOK:[dt,"NKr"],THB:["\u0e3f"],TWD:[dt,"NT$"],USD:[dt,"$"],VND:[dt,"\u20ab"]},"ltr",function $se(e){const n=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length,i=parseInt(e.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return 1===n&&0===r?1:0===i&&0!==n&&n%1e6==0&&0===r||!(i>=0&&i<=5)?4:5}]);let Hse=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Kt({type:e,bootstrap:[jse]})}static{this.\u0275inj=Nt({providers:[{provide:or,useValue:"it-IT"}],imports:[b5,Sse,hoe,foe,zX(()=>WX(Bse_firebase)),Uee(()=>Bee()),gie(()=>_ie())]})}}return e})();y5().bootstrapModule(Hse).catch(e=>console.error(e))}},ye=>{ye(ye.s=821)}]);