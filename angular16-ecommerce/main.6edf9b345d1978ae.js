"use strict";(self.webpackChunkangular16Ecommerce=self.webpackChunkangular16Ecommerce||[]).push([[792],{295:()=>{function Ee(e){return"function"==typeof e}function Na(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const au=Na(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Go(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class Qt{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Ee(r))try{r()}catch(o){t=o instanceof au?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{$I(o)}catch(s){t=t??[],s instanceof au?t=[...t,...s.errors]:t.push(s)}}if(t)throw new au(t)}}add(t){var n;if(t&&t!==this)if(this.closed)$I(t);else{if(t instanceof Qt){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Go(n,t)}remove(t){const{_finalizers:n}=this;n&&Go(n,t),t instanceof Qt&&t._removeParent(this)}}Qt.EMPTY=(()=>{const e=new Qt;return e.closed=!0,e})();const jI=Qt.EMPTY;function BI(e){return e instanceof Qt||e&&"closed"in e&&Ee(e.remove)&&Ee(e.add)&&Ee(e.unsubscribe)}function $I(e){Ee(e)?e():e.unsubscribe()}const $i={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},cu={setTimeout(e,t,...n){const{delegate:r}=cu;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=cu;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function HI(e){cu.setTimeout(()=>{const{onUnhandledError:t}=$i;if(!t)throw e;t(e)})}function lu(){}const B2=hp("C",void 0,void 0);function hp(e,t,n){return{kind:e,value:t,error:n}}let Hi=null;function uu(e){if($i.useDeprecatedSynchronousErrorHandling){const t=!Hi;if(t&&(Hi={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=Hi;if(Hi=null,n)throw r}}else e()}class fp extends Qt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,BI(t)&&t.add(this)):this.destination=K2}static create(t,n,r){return new Oa(t,n,r)}next(t){this.isStopped?gp(function H2(e){return hp("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?gp(function $2(e){return hp("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?gp(B2,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const W2=Function.prototype.bind;function pp(e,t){return W2.call(e,t)}class G2{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){du(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){du(r)}else du(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){du(n)}}}class Oa extends fp{constructor(t,n,r){let i;if(super(),Ee(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&$i.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&pp(t.next,o),error:t.error&&pp(t.error,o),complete:t.complete&&pp(t.complete,o)}):i=t}this.destination=new G2(i)}}function du(e){$i.useDeprecatedSynchronousErrorHandling?function z2(e){$i.useDeprecatedSynchronousErrorHandling&&Hi&&(Hi.errorThrown=!0,Hi.error=e)}(e):HI(e)}function gp(e,t){const{onStoppedNotification:n}=$i;n&&cu.setTimeout(()=>n(e,t))}const K2={closed:!0,next:lu,error:function q2(e){throw e},complete:lu},mp="function"==typeof Symbol&&Symbol.observable||"@@observable";function Tr(e){return e}function zI(e){return 0===e.length?Tr:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}let Le=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function X2(e){return e&&e instanceof fp||function Q2(e){return e&&Ee(e.next)&&Ee(e.error)&&Ee(e.complete)}(e)&&BI(e)}(n)?n:new Oa(n,r,i);return uu(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=WI(r))((i,o)=>{const s=new Oa({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[mp](){return this}pipe(...n){return zI(n)(this)}toPromise(n){return new(n=WI(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function WI(e){var t;return null!==(t=e??$i.Promise)&&void 0!==t?t:Promise}const Z2=Na(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let dn=(()=>{class e extends Le{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new GI(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Z2}next(n){uu(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){uu(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){uu(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?jI:(this.currentObservers=null,o.push(n),new Qt(()=>{this.currentObservers=null,Go(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new Le;return n.source=this,n}}return e.create=(t,n)=>new GI(t,n),e})();class GI extends dn{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:jI}}function qI(e){return Ee(e?.lift)}function Ke(e){return t=>{if(qI(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ve(e,t,n,r,i){return new J2(e,t,n,r,i)}class J2 extends fp{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Ie(e,t){return Ke((n,r)=>{let i=0;n.subscribe(Ve(r,o=>{r.next(e.call(t,o,i++))}))})}function hu(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function oi(e){return this instanceof oi?(this.v=e,this):new oi(e)}function XI(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function Cp(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,c){!function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}(a,c,(s=e[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const ZI=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function JI(e){return Ee(e?.then)}function eD(e){return Ee(e[mp])}function tD(e){return Symbol.asyncIterator&&Ee(e?.[Symbol.asyncIterator])}function nD(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const rD=function DV(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function iD(e){return Ee(e?.[rD])}function oD(e){return function QI(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),o=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function s(f){return function(g){return Promise.resolve(g).then(f,d)}}),i[Symbol.asyncIterator]=function(){return this},i;function a(f,g){r[f]&&(i[f]=function(v){return new Promise(function(E,I){o.push([f,v,E,I])>1||c(f,v)})},g&&(i[f]=g(i[f])))}function c(f,g){try{!function l(f){f.value instanceof oi?Promise.resolve(f.value.v).then(u,d):h(o[0][2],f)}(r[f](g))}catch(v){h(o[0][3],v)}}function u(f){c("next",f)}function d(f){c("throw",f)}function h(f,g){f(g),o.shift(),o.length&&c(o[0][0],o[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield oi(n.read());if(i)return yield oi(void 0);yield yield oi(r)}}finally{n.releaseLock()}})}function sD(e){return Ee(e?.getReader)}function Xt(e){if(e instanceof Le)return e;if(null!=e){if(eD(e))return function TV(e){return new Le(t=>{const n=e[mp]();if(Ee(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(ZI(e))return function SV(e){return new Le(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(JI(e))return function AV(e){return new Le(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,HI)})}(e);if(tD(e))return aD(e);if(iD(e))return function MV(e){return new Le(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(sD(e))return function xV(e){return aD(oD(e))}(e)}throw nD(e)}function aD(e){return new Le(t=>{(function RV(e,t){var n,r,i,o;return function KI(e,t,n,r){return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=XI(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function Sr(e,t,n,r=0,i=!1){const o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function vt(e,t,n=1/0){return Ee(t)?vt((r,i)=>Ie((o,s)=>t(r,o,i,s))(Xt(e(r,i))),n):("number"==typeof t&&(n=t),Ke((r,i)=>function PV(e,t,n,r,i,o,s,a){const c=[];let l=0,u=0,d=!1;const h=()=>{d&&!c.length&&!l&&t.complete()},f=v=>l<r?g(v):c.push(v),g=v=>{o&&t.next(v),l++;let E=!1;Xt(n(v,u++)).subscribe(Ve(t,I=>{i?.(I),o?f(I):t.next(I)},()=>{E=!0},void 0,()=>{if(E)try{for(l--;c.length&&l<r;){const I=c.shift();s?Sr(t,s,()=>g(I)):g(I)}h()}catch(I){t.error(I)}}))};return e.subscribe(Ve(t,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,e,n)))}function qo(e=1/0){return vt(Tr,e)}const Qn=new Le(e=>e.complete());function wp(e){return e[e.length-1]}function Ep(e){return Ee(wp(e))?e.pop():void 0}function Fa(e){return function NV(e){return e&&Ee(e.schedule)}(wp(e))?e.pop():void 0}function fu(e,t=0){return Ke((n,r)=>{n.subscribe(Ve(r,i=>Sr(r,e,()=>r.next(i),t),()=>Sr(r,e,()=>r.complete(),t),i=>Sr(r,e,()=>r.error(i),t)))})}function pu(e,t=0){return Ke((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function cD(e,t){if(!e)throw new Error("Iterable cannot be null");return new Le(n=>{Sr(n,t,()=>{const r=e[Symbol.asyncIterator]();Sr(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function lt(e,t){return t?function BV(e,t){if(null!=e){if(eD(e))return function FV(e,t){return Xt(e).pipe(pu(t),fu(t))}(e,t);if(ZI(e))return function VV(e,t){return new Le(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(JI(e))return function LV(e,t){return Xt(e).pipe(pu(t),fu(t))}(e,t);if(tD(e))return cD(e,t);if(iD(e))return function UV(e,t){return new Le(n=>{let r;return Sr(n,t,()=>{r=e[rD](),Sr(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>Ee(r?.return)&&r.return()})}(e,t);if(sD(e))return function jV(e,t){return cD(oD(e),t)}(e,t)}throw nD(e)}(e,t):Xt(e)}class $e extends dn{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function W(...e){return lt(e,Fa(e))}function lD(e={}){const{connector:t=(()=>new dn),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return o=>{let s,a,c,l=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=c=void 0,u=d=!1},g=()=>{const v=s;f(),v?.unsubscribe()};return Ke((v,E)=>{l++,!d&&!u&&h();const I=c=c??t();E.add(()=>{l--,0===l&&!d&&!u&&(a=Ip(g,i))}),I.subscribe(E),!s&&l>0&&(s=new Oa({next:b=>I.next(b),error:b=>{d=!0,h(),a=Ip(f,n,b),I.error(b)},complete:()=>{u=!0,h(),a=Ip(f,r),I.complete()}}),Xt(v).subscribe(s))})(o)}}function Ip(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new Oa({next:()=>{r.unsubscribe(),e()}});return Xt(t(...n)).subscribe(r)}function Xn(e,t){return Ke((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(Ve(r,c=>{i?.unsubscribe();let l=0;const u=o++;Xt(e(c,u)).subscribe(i=Ve(r,d=>r.next(t?t(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function uD(e,t=Tr){return e=e??HV,Ke((n,r)=>{let i,o=!0;n.subscribe(Ve(r,s=>{const a=t(s);(o||!e(i,a))&&(o=!1,i=a,r.next(s))}))})}function HV(e,t){return e===t}function ye(e){for(let t in e)if(e[t]===ye)return t;throw Error("Could not find renamed property on target object.")}function gu(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function ot(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ot).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Dp(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const zV=ye({__forward_ref__:ye});function Se(e){return e.__forward_ref__=Se,e.toString=function(){return ot(this())},e}function H(e){return Tp(e)?e():e}function Tp(e){return"function"==typeof e&&e.hasOwnProperty(zV)&&e.__forward_ref__===Se}function Sp(e){return e&&!!e.\u0275providers}const dD="https://g.co/ng/security#xss";class S extends Error{constructor(t,n){super(function mu(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function G(e){return"string"==typeof e?e:null==e?"":String(e)}function Ap(e,t){throw new S(-201,!1)}function En(e,t){null==e&&function B(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function V(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Ft(e){return{providers:e.providers||[],imports:e.imports||[]}}function _u(e){return hD(e,yu)||hD(e,fD)}function hD(e,t){return e.hasOwnProperty(t)?e[t]:null}function vu(e){return e&&(e.hasOwnProperty(Mp)||e.hasOwnProperty(ZV))?e[Mp]:null}const yu=ye({\u0275prov:ye}),Mp=ye({\u0275inj:ye}),fD=ye({ngInjectableDef:ye}),ZV=ye({ngInjectorDef:ye});var ne=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(ne||{});let xp;function Zt(e){const t=xp;return xp=e,t}function gD(e,t,n){const r=_u(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&ne.Optional?null:void 0!==t?t:void Ap(ot(e))}const Ae=globalThis;class P{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=V({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const La={},Op="__NG_DI_FLAG__",Cu="ngTempTokenPath",tU=/\n/gm,_D="__source";let Ko;function si(e){const t=Ko;return Ko=e,t}function iU(e,t=ne.Default){if(void 0===Ko)throw new S(-203,!1);return null===Ko?gD(e,void 0,t):Ko.get(e,t&ne.Optional?null:void 0,t)}function O(e,t=ne.Default){return(function pD(){return xp}()||iU)(H(e),t)}function L(e,t=ne.Default){return O(e,bu(t))}function bu(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Fp(e){const t=[];for(let n=0;n<e.length;n++){const r=H(e[n]);if(Array.isArray(r)){if(0===r.length)throw new S(900,!1);let i,o=ne.Default;for(let s=0;s<r.length;s++){const a=r[s],c=oU(a);"number"==typeof c?-1===c?i=a.token:o|=c:i=a}t.push(O(i,o))}else t.push(O(r))}return t}function Va(e,t){return e[Op]=t,e.prototype[Op]=t,e}function oU(e){return e[Op]}function Ar(e){return{toString:e}.toString()}var wu=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(wu||{}),Fn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Fn||{});const Zn={},le=[],Eu=ye({\u0275cmp:ye}),Lp=ye({\u0275dir:ye}),Vp=ye({\u0275pipe:ye}),yD=ye({\u0275mod:ye}),Mr=ye({\u0275fac:ye}),Ua=ye({__NG_ELEMENT_ID__:ye}),CD=ye({__NG_ENV_ID__:ye});function bD(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}function Up(e,t,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{const o=i,s=n[++r];ED(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function wD(e){return 3===e||4===e||6===e}function ED(e){return 64===e.charCodeAt(0)}function ja(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||ID(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function ID(e,t,n,r,i){let o=0,s=e.length;if(-1===t)s=-1;else for(;o<e.length;){const a=e[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<e.length;){const a=e[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}const DD="ng-template";function cU(e,t,n){let r=0,i=!0;for(;r<e.length;){let o=e[r++];if("string"==typeof o&&i){const s=e[r++];if(n&&"class"===o&&-1!==bD(s.toLowerCase(),t,0))return!0}else{if(1===o){for(;r<e.length&&"string"==typeof(o=e[r++]);)if(o.toLowerCase()===t)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function TD(e){return 4===e.type&&e.value!==DD}function lU(e,t,n){return t===(4!==e.type||n?e.value:DD)}function uU(e,t,n){let r=4;const i=e.attrs||[],o=function fU(e){for(let t=0;t<e.length;t++)if(wD(e[t]))return t;return e.length}(i);let s=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!lU(e,c,n)||""===c&&1===t.length){if(Ln(r))return!1;s=!0}}else{const l=8&r?c:t[++a];if(8&r&&null!==e.attrs){if(!cU(e.attrs,l,n)){if(Ln(r))return!1;s=!0}continue}const d=dU(8&r?"class":c,i,TD(e),n);if(-1===d){if(Ln(r))return!1;s=!0;continue}if(""!==l){let h;h=d>o?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==bD(f,l,0)||2&r&&l!==h){if(Ln(r))return!1;s=!0}}}}else{if(!s&&!Ln(r)&&!Ln(c))return!1;if(s&&Ln(c))continue;s=!1,r=c|1&r}}return Ln(r)||s}function Ln(e){return 0==(1&e)}function dU(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){const s=t[i];if(s===e)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++i];for(;"string"==typeof a;)a=t[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function pU(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function SD(e,t,n=!1){for(let r=0;r<t.length;r++)if(uU(e,t[r],n))return!0;return!1}function AD(e,t){return e?":not("+t.trim()+")":t}function mU(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&r){const a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Ln(s)&&(t+=AD(o,i),i=""),r=s,o=o||!Ln(r);n++}return""!==i&&(t+=AD(o,i)),t}function de(e){return Ar(()=>{const t=xD(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===wu.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Fn.Emulated,styles:e.styles||le,_:null,schemas:e.schemas||null,tView:null,id:""};RD(n);const r=e.dependencies;return n.directiveDefs=Iu(r,!1),n.pipeDefs=Iu(r,!0),n.id=function IU(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const i of n)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(n),n})}function CU(e){return oe(e)||yt(e)}function bU(e){return null!==e}function Jt(e){return Ar(()=>({type:e.type,bootstrap:e.bootstrap||le,declarations:e.declarations||le,imports:e.imports||le,exports:e.exports||le,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function MD(e,t){if(null==e)return Zn;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}function z(e){return Ar(()=>{const t=xD(e);return RD(t),t})}function en(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function oe(e){return e[Eu]||null}function yt(e){return e[Lp]||null}function Lt(e){return e[Vp]||null}function fn(e,t){const n=e[yD]||null;if(!n&&!0===t)throw new Error(`Type ${ot(e)} does not have '\u0275mod' property.`);return n}function xD(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Zn,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||le,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:MD(e.inputs,t),outputs:MD(e.outputs)}}function RD(e){e.features?.forEach(t=>t(e))}function Iu(e,t){if(!e)return null;const n=t?Lt:CU;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(bU)}const He=0,k=1,Y=2,Ne=3,Vn=4,Ba=5,At=6,Qo=7,Ye=8,ai=9,Xo=10,q=11,$a=12,PD=13,Zo=14,Qe=15,Ha=16,Jo=17,Jn=18,za=19,kD=20,ci=21,xr=22,Wa=23,Ga=24,re=25,jp=1,ND=2,er=7,es=9,Ct=11;function tn(e){return Array.isArray(e)&&"object"==typeof e[jp]}function Vt(e){return Array.isArray(e)&&!0===e[jp]}function Bp(e){return 0!=(4&e.flags)}function Wi(e){return e.componentOffset>-1}function Tu(e){return 1==(1&e.flags)}function Un(e){return!!e.template}function $p(e){return 0!=(512&e[Y])}function Gi(e,t){return e.hasOwnProperty(Mr)?e[Mr]:null}let bt=null,Su=!1;function In(e){const t=bt;return bt=e,t}const LD={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function UD(e){if(!Ka(e)||e.dirty){if(!e.producerMustRecompute(e)&&!$D(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function BD(e){e.dirty=!0,function jD(e){if(void 0===e.liveConsumerNode)return;const t=Su;Su=!0;try{for(const n of e.liveConsumerNode)n.dirty||BD(n)}finally{Su=t}}(e),e.consumerMarkedDirty?.(e)}function zp(e){return e&&(e.nextProducerIndex=0),In(e)}function Wp(e,t){if(In(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Ka(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Au(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function $D(e){ts(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(UD(n),r!==n.version))return!0}return!1}function HD(e){if(ts(e),Ka(e))for(let t=0;t<e.producerNode.length;t++)Au(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Au(e,t){if(function WD(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),ts(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)Au(e.producerNode[r],e.producerIndexOfThis[r]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];ts(i),i.producerIndexOfThis[r]=t}}function Ka(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function ts(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let GD=null;function YD(e){const t=In(null);try{return e()}finally{In(t)}}const QD=()=>{},LU=(()=>({...LD,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:QD}))();class VU{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Dn(){return XD}function XD(e){return e.type.prototype.ngOnChanges&&(e.setInput=jU),UU}function UU(){const e=JD(this),t=e?.current;if(t){const n=e.previous;if(n===Zn)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function jU(e,t,n,r){const i=this.declaredInputs[n],o=JD(e)||function BU(e,t){return e[ZD]=t}(e,{previous:Zn,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[i];s[i]=new VU(c&&c.currentValue,t,a===Zn),e[r]=t}Dn.ngInherit=!0;const ZD="__ngSimpleChanges__";function JD(e){return e[ZD]||null}const tr=function(e,t,n){};function Me(e){for(;Array.isArray(e);)e=e[He];return e}function Mu(e,t){return Me(t[e])}function nn(e,t){return Me(t[e.index])}function nT(e,t){return e.data[t]}function ns(e,t){return e[t]}function pn(e,t){const n=t[e];return tn(n)?n:n[He]}function ui(e,t){return null==t?null:e[t]}function rT(e){e[Jo]=0}function qU(e){1024&e[Y]||(e[Y]|=1024,oT(e,1))}function iT(e){1024&e[Y]&&(e[Y]&=-1025,oT(e,-1))}function oT(e,t){let n=e[Ne];if(null===n)return;n[Ba]+=t;let r=n;for(n=n[Ne];null!==n&&(1===t&&1===r[Ba]||-1===t&&0===r[Ba]);)n[Ba]+=t,r=n,n=n[Ne]}const $={lFrame:mT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function cT(){return $.bindingsEnabled}function D(){return $.lFrame.lView}function se(){return $.lFrame.tView}function he(e){return $.lFrame.contextLView=e,e[Ye]}function fe(e){return $.lFrame.contextLView=null,e}function wt(){let e=lT();for(;null!==e&&64===e.type;)e=e.parent;return e}function lT(){return $.lFrame.currentTNode}function nr(e,t){const n=$.lFrame;n.currentTNode=e,n.isParent=t}function Qp(){return $.lFrame.isParent}function Ut(){const e=$.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function is(){return $.lFrame.bindingIndex++}function Pr(e){const t=$.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function oj(e,t){const n=$.lFrame;n.bindingIndex=n.bindingRootIndex=e,Zp(t)}function Zp(e){$.lFrame.currentDirectiveIndex=e}function eg(e){$.lFrame.currentQueryIndex=e}function aj(e){const t=e[k];return 2===t.type?t.declTNode:1===t.type?e[At]:null}function pT(e,t,n){if(n&ne.SkipSelf){let i=t,o=e;for(;!(i=i.parent,null!==i||n&ne.Host||(i=aj(o),null===i||(o=o[Zo],10&i.type))););if(null===i)return!1;t=i,e=o}const r=$.lFrame=gT();return r.currentTNode=t,r.lView=e,!0}function tg(e){const t=gT(),n=e[k];$.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function gT(){const e=$.lFrame,t=null===e?null:e.child;return null===t?mT(e):t}function mT(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function _T(){const e=$.lFrame;return $.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const vT=_T;function ng(){const e=_T();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function jt(){return $.lFrame.selectedIndex}function qi(e){$.lFrame.selectedIndex=e}function Ue(){const e=$.lFrame;return nT(e.tView,e.selectedIndex)}let CT=!0;function xu(){return CT}function di(e){CT=e}function Ru(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),l&&((e.viewHooks??=[]).push(n,l),(e.viewCheckHooks??=[]).push(n,l)),null!=u&&(e.destroyHooks??=[]).push(n,u)}}function Pu(e,t,n){bT(e,t,3,n)}function ku(e,t,n,r){(3&e[Y])===n&&bT(e,t,n,r)}function rg(e,t){let n=e[Y];(3&n)===t&&(n&=8191,n+=1,e[Y]=n)}function bT(e,t,n,r){const o=r??-1,s=t.length-1;let a=0;for(let c=void 0!==r?65535&e[Jo]:0;c<s;c++)if("number"==typeof t[c+1]){if(a=t[c],null!=r&&a>=r)break}else t[c]<0&&(e[Jo]+=65536),(a<o||-1==o)&&(gj(e,n,t,c),e[Jo]=(4294901760&e[Jo])+c+2),c++}function wT(e,t){tr(4,e,t);const n=In(null);try{t.call(e)}finally{In(n),tr(5,e,t)}}function gj(e,t,n,r){const i=n[r]<0,o=n[r+1],a=e[i?-n[r]:n[r]];i?e[Y]>>13<e[Jo]>>16&&(3&e[Y])===t&&(e[Y]+=8192,wT(a,o)):wT(a,o)}const os=-1;class Qa{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function og(e){return e!==os}function Xa(e){return 32767&e}function Za(e,t){let n=function yj(e){return e>>16}(e),r=t;for(;n>0;)r=r[Zo],n--;return r}let sg=!0;function Nu(e){const t=sg;return sg=e,t}const ET=255,IT=5;let Cj=0;const rr={};function Ou(e,t){const n=DT(e,t);if(-1!==n)return n;const r=t[k];r.firstCreatePass&&(e.injectorIndex=t.length,ag(r.data,e),ag(t,null),ag(r.blueprint,null));const i=Fu(e,t),o=e.injectorIndex;if(og(i)){const s=Xa(i),a=Za(i,t),c=a[k].data;for(let l=0;l<8;l++)t[o+l]=a[s+l]|c[s+l]}return t[o+8]=i,o}function ag(e,t){e.push(0,0,0,0,0,0,0,0,t)}function DT(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Fu(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){if(r=PT(i),null===r)return os;if(n++,i=i[Zo],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return os}function cg(e,t,n){!function bj(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ua)&&(r=n[Ua]),null==r&&(r=n[Ua]=Cj++);const i=r&ET;t.data[e+(i>>IT)]|=1<<i}(e,t,n)}function TT(e,t,n){if(n&ne.Optional||void 0!==e)return e;Ap()}function ST(e,t,n,r){if(n&ne.Optional&&void 0===r&&(r=null),!(n&(ne.Self|ne.Host))){const i=e[ai],o=Zt(void 0);try{return i?i.get(t,r,n&ne.Optional):gD(t,r,n&ne.Optional)}finally{Zt(o)}}return TT(r,0,n)}function AT(e,t,n,r=ne.Default,i){if(null!==e){if(2048&t[Y]&&!(r&ne.Self)){const s=function Sj(e,t,n,r,i){let o=e,s=t;for(;null!==o&&null!==s&&2048&s[Y]&&!(512&s[Y]);){const a=MT(o,s,n,r|ne.Self,rr);if(a!==rr)return a;let c=o.parent;if(!c){const l=s[kD];if(l){const u=l.get(n,rr,r);if(u!==rr)return u}c=PT(s),s=s[Zo]}o=c}return i}(e,t,n,r,rr);if(s!==rr)return s}const o=MT(e,t,n,r,rr);if(o!==rr)return o}return ST(t,n,r,i)}function MT(e,t,n,r,i){const o=function Ij(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Ua)?e[Ua]:void 0;return"number"==typeof t?t>=0?t&ET:Tj:t}(n);if("function"==typeof o){if(!pT(t,e,r))return r&ne.Host?TT(i,0,r):ST(t,n,r,i);try{let s;if(s=o(r),null!=s||r&ne.Optional)return s;Ap()}finally{vT()}}else if("number"==typeof o){let s=null,a=DT(e,t),c=os,l=r&ne.Host?t[Qe][At]:null;for((-1===a||r&ne.SkipSelf)&&(c=-1===a?Fu(e,t):t[a+8],c!==os&&RT(r,!1)?(s=t[k],a=Xa(c),t=Za(c,t)):a=-1);-1!==a;){const u=t[k];if(xT(o,a,u.data)){const d=Ej(a,t,n,s,r,l);if(d!==rr)return d}c=t[a+8],c!==os&&RT(r,t[k].data[a+8]===l)&&xT(o,a,t)?(s=u,a=Xa(c),t=Za(c,t)):a=-1}}return i}function Ej(e,t,n,r,i,o){const s=t[k],a=s.data[e+8],u=function Lu(e,t,n,r,i){const o=e.providerIndexes,s=t.data,a=1048575&o,c=e.directiveStart,u=o>>20,h=i?a+u:e.directiveEnd;for(let f=r?a:a+u;f<h;f++){const g=s[f];if(f<c&&n===g||f>=c&&g.type===n)return f}if(i){const f=s[c];if(f&&Un(f)&&f.type===n)return c}return null}(a,s,n,null==r?Wi(a)&&sg:r!=s&&0!=(3&a.type),i&ne.Host&&o===a);return null!==u?Ki(t,s,u,a):rr}function Ki(e,t,n,r){let i=e[n];const o=t.data;if(function mj(e){return e instanceof Qa}(i)){const s=i;s.resolving&&function WV(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new S(-200,`Circular dependency in DI detected for ${e}${n}`)}(function me(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():G(e)}(o[n]));const a=Nu(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?Zt(s.injectImpl):null;pT(e,r,ne.Default);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function pj(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){const s=XD(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}(n,o[n],t)}finally{null!==l&&Zt(l),Nu(a),s.resolving=!1,vT()}}return i}function xT(e,t,n){return!!(n[t+(e>>IT)]&1<<e)}function RT(e,t){return!(e&ne.Self||e&ne.Host&&t)}class Bt{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return AT(this._tNode,this._lView,t,bu(r),n)}}function Tj(){return new Bt(wt(),D())}function Et(e){return Ar(()=>{const t=e.prototype.constructor,n=t[Mr]||lg(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const o=i[Mr]||lg(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function lg(e){return Tp(e)?()=>{const t=lg(H(e));return t&&t()}:Gi(e)}function PT(e){const t=e[k],n=t.type;return 2===n?t.declTNode:1===n?e[At]:null}const as="__parameters__";function ls(e,t,n){return Ar(()=>{const r=function ug(e){return function(...n){if(e){const r=e(...n);for(const i in r)this[i]=r[i]}}}(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(c,l,u){const d=c.hasOwnProperty(as)?c[as]:Object.defineProperty(c,as,{value:[]})[as];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function ds(e,t){e.forEach(n=>Array.isArray(n)?ds(n,t):t(n))}function NT(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Uu(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function gn(e,t,n){let r=hs(e,t);return r>=0?e[1|r]=n:(r=~r,function Nj(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function dg(e,t){const n=hs(e,t);if(n>=0)return e[1|n]}function hs(e,t){return function OT(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}(e,t,1)}const $t=Va(ls("Optional"),8),Bu=Va(ls("SkipSelf"),4);function Gu(e){return 128==(128&e.flags)}var hi=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(hi||{});const mg=new Map;let iB=0;const vg="__ngContext__";function Mt(e,t){tn(t)?(e[vg]=t[za],function sB(e){mg.set(e[za],e)}(t)):e[vg]=t}let yg;function Cg(e,t){return yg(e,t)}function ic(e){const t=e[Ne];return Vt(t)?t[Ne]:t}function t0(e){return r0(e[$a])}function n0(e){return r0(e[Vn])}function r0(e){for(;null!==e&&!Vt(e);)e=e[Vn];return e}function gs(e,t,n,r,i){if(null!=r){let o,s=!1;Vt(r)?o=r:tn(r)&&(s=!0,r=r[He]);const a=Me(r);0===e&&null!==n?null==i?c0(t,n,a):Yi(t,n,a,i||null,!0):1===e&&null!==n?Yi(t,n,a,i||null,!0):2===e?function Ju(e,t,n){const r=Xu(e,t);r&&function DB(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,a,s):3===e&&t.destroyNode(a),null!=o&&function AB(e,t,n,r,i){const o=n[er];o!==Me(n)&&gs(t,e,r,o,i);for(let a=Ct;a<n.length;a++){const c=n[a];sc(c[k],c,e,t,r,o)}}(t,e,o,n,i)}}function Yu(e,t,n){return e.createElement(t,n)}function s0(e,t){const n=e[es],r=n.indexOf(t);iT(t),n.splice(r,1)}function Qu(e,t){if(e.length<=Ct)return;const n=Ct+t,r=e[n];if(r){const i=r[Ha];null!==i&&i!==e&&s0(i,r),t>0&&(e[n-1][Vn]=r[Vn]);const o=Uu(e,Ct+t);!function _B(e,t){sc(e,t,t[q],2,null,null),t[He]=null,t[At]=null}(r[k],r);const s=o[Jn];null!==s&&s.detachView(o[k]),r[Ne]=null,r[Vn]=null,r[Y]&=-129}return r}function wg(e,t){if(!(256&t[Y])){const n=t[q];t[Wa]&&HD(t[Wa]),t[Ga]&&HD(t[Ga]),n.destroyNode&&sc(e,t,n,3,null,null),function CB(e){let t=e[$a];if(!t)return Eg(e[k],e);for(;t;){let n=null;if(tn(t))n=t[$a];else{const r=t[Ct];r&&(n=r)}if(!n){for(;t&&!t[Vn]&&t!==e;)tn(t)&&Eg(t[k],t),t=t[Ne];null===t&&(t=e),tn(t)&&Eg(t[k],t),n=t&&t[Vn]}t=n}}(t)}}function Eg(e,t){if(!(256&t[Y])){t[Y]&=-129,t[Y]|=256,function IB(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof Qa)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],c=o[s+1];tr(4,a,c);try{c.call(a)}finally{tr(5,a,c)}}else{tr(4,i,o);try{o.call(i)}finally{tr(5,i,o)}}}}}(e,t),function EB(e,t){const n=e.cleanup,r=t[Qo];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(t[Qo]=null);const i=t[ci];if(null!==i){t[ci]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(e,t),1===t[k].type&&t[q].destroy();const n=t[Ha];if(null!==n&&Vt(t[Ne])){n!==t[Ne]&&s0(n,t);const r=t[Jn];null!==r&&r.detachView(e)}!function aB(e){mg.delete(e[za])}(t)}}function Ig(e,t,n){return function a0(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[He];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=e.data[r.directiveStart+i];if(o===Fn.None||o===Fn.Emulated)return null}return nn(r,n)}}(e,t.parent,n)}function Yi(e,t,n,r,i){e.insertBefore(t,n,r,i)}function c0(e,t,n){e.appendChild(t,n)}function l0(e,t,n,r,i){null!==r?Yi(e,t,n,r,i):c0(e,t,n)}function Xu(e,t){return e.parentNode(t)}let Dg,ed,Mg,td,h0=function d0(e,t,n){return 40&e.type?nn(e,n):null};function Zu(e,t,n,r){const i=Ig(e,r,t),o=t[q],a=function u0(e,t,n){return h0(e,t,n)}(r.parent||t[At],r,t);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)l0(o,i,n[c],a,!1);else l0(o,i,n,a,!1);void 0!==Dg&&Dg(o,r,t,n,i)}function oc(e,t){if(null!==t){const n=t.type;if(3&n)return nn(t,e);if(4&n)return Tg(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return oc(e,r);{const i=e[t.index];return Vt(i)?Tg(-1,i):Me(i)}}if(32&n)return Cg(t,e)()||Me(e[t.index]);{const r=p0(e,t);return null!==r?Array.isArray(r)?r[0]:oc(ic(e[Qe]),r):oc(e,t.next)}}return null}function p0(e,t){return null!==t?e[Qe][At].projection[t.projection]:null}function Tg(e,t){const n=Ct+e+1;if(n<t.length){const r=t[n],i=r[k].firstChild;if(null!==i)return oc(r,i)}return t[er]}function Sg(e,t,n,r,i,o,s){for(;null!=n;){const a=r[n.index],c=n.type;if(s&&0===t&&(a&&Mt(Me(a),r),n.flags|=2),32!=(32&n.flags))if(8&c)Sg(e,t,n.child,r,i,o,!1),gs(t,e,i,a,o);else if(32&c){const l=Cg(n,r);let u;for(;u=l();)gs(t,e,i,u,o);gs(t,e,i,a,o)}else 16&c?m0(e,t,r,n,i,o):gs(t,e,i,a,o);n=s?n.projectionNext:n.next}}function sc(e,t,n,r,i,o){Sg(n,r,e.firstChild,t,i,o,!1)}function m0(e,t,n,r,i,o){const s=n[Qe],c=s[At].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)gs(t,e,i,c[l],o);else{let l=c;const u=s[Ne];Gu(r)&&(l.flags|=128),Sg(e,t,l,u,i,o,!0)}}function _0(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function v0(e,t,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&Up(e,t,r),null!==i&&_0(e,t,i),null!==o&&function xB(e,t,n){e.setAttribute(t,"style",n)}(e,t,o)}function ms(e){return function Ag(){if(void 0===ed&&(ed=null,Ae.trustedTypes))try{ed=Ae.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return ed}()?.createHTML(e)||e}function _s(){if(void 0!==Mg)return Mg;if(typeof document<"u")return document;throw new S(210,!1)}function xg(){if(void 0===td&&(td=null,Ae.trustedTypes))try{td=Ae.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return td}function y0(e){return xg()?.createHTML(e)||e}function b0(e){return xg()?.createScriptURL(e)||e}class w0{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${dD})`}}function fi(e){return e instanceof w0?e.changingThisBreaksApplicationSecurity:e}function ac(e,t){const n=function jB(e){return e instanceof w0&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${dD})`)}return n===t}class BB{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(ms(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.removeChild(n.firstChild),n)}catch{return null}}}class $B{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const n=this.inertDocument.createElement("template");return n.innerHTML=ms(t),n}}const zB=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Rg(e){return(e=String(e)).match(zB)?e:"unsafe:"+e}function kr(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function cc(...e){const t={};for(const n of e)for(const r in n)n.hasOwnProperty(r)&&(t[r]=!0);return t}const I0=kr("area,br,col,hr,img,wbr"),D0=kr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),T0=kr("rp,rt"),Pg=cc(I0,cc(D0,kr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),cc(T0,kr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),cc(T0,D0)),kg=kr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),S0=cc(kg,kr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),kr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),WB=kr("script,style,template");class GB{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let n=t.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(t){const n=t.nodeName.toLowerCase();if(!Pg.hasOwnProperty(n))return this.sanitizedSomething=!0,!WB.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=t.attributes;for(let i=0;i<r.length;i++){const o=r.item(i),s=o.name,a=s.toLowerCase();if(!S0.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;kg[a]&&(c=Rg(c)),this.buf.push(" ",s,'="',A0(c),'"')}return this.buf.push(">"),!0}endElement(t){const n=t.nodeName.toLowerCase();Pg.hasOwnProperty(n)&&!I0.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(A0(t))}checkClobberedElement(t,n){if(n&&(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return n}}const qB=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,KB=/([^\#-~ |!])/g;function A0(e){return e.replace(/&/g,"&amp;").replace(qB,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(KB,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let nd;function Ng(e){return"content"in e&&function QB(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var vs=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(vs||{});function rd(e){const t=lc();return t?y0(t.sanitize(vs.HTML,e)||""):ac(e,"HTML")?y0(fi(e)):function YB(e,t){let n=null;try{nd=nd||function E0(e){const t=new $B(e);return function HB(){try{return!!(new window.DOMParser).parseFromString(ms(""),"text/html")}catch{return!1}}()?new BB(t):t}(e);let r=t?String(t):"";n=nd.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=nd.getInertBodyElement(r)}while(r!==o);return ms((new GB).sanitizeChildren(Ng(n)||n))}finally{if(n){const r=Ng(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}(_s(),G(e))}function M0(e){const t=lc();return t?t.sanitize(vs.URL,e)||"":ac(e,"URL")?fi(e):Rg(G(e))}function x0(e){const t=lc();if(t)return b0(t.sanitize(vs.RESOURCE_URL,e)||"");if(ac(e,"ResourceURL"))return b0(fi(e));throw new S(904,!1)}function lc(){const e=D();return e&&e[Xo].sanitizer}const uc=new P("ENVIRONMENT_INITIALIZER"),P0=new P("INJECTOR",-1),k0=new P("INJECTOR_DEF_TYPES");class Og{get(t,n=La){if(n===La){const r=new Error(`NullInjectorError: No provider for ${ot(t)}!`);throw r.name="NullInjectorError",r}return n}}function n$(...e){return{\u0275providers:O0(0,e),\u0275fromNgModule:!0}}function O0(e,...t){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return ds(t,s=>{const a=s;id(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&F0(i,o),n}function F0(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:i}=e[n];Fg(i,o=>{t(o,r)})}}function id(e,t,n,r){if(!(e=H(e)))return!1;let i=null,o=vu(e);const s=!o&&oe(e);if(o||s){if(s&&!s.standalone)return!1;i=e}else{const c=e.ngModule;if(o=vu(c),!o)return!1;i=c}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of c)id(l,t,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let l;r.add(i);try{ds(o.imports,u=>{id(u,t,n,r)&&(l||=[],l.push(u))})}finally{}void 0!==l&&F0(l,t)}if(!a){const l=Gi(i)||(()=>new i);t({provide:i,useFactory:l,deps:le},i),t({provide:k0,useValue:i,multi:!0},i),t({provide:uc,useValue:()=>O(i),multi:!0},i)}const c=o.providers;if(null!=c&&!a){const l=e;Fg(c,u=>{t(u,l)})}}}return i!==e&&void 0!==e.providers}function Fg(e,t){for(let n of e)Sp(n)&&(n=n.\u0275providers),Array.isArray(n)?Fg(n,t):t(n)}const r$=ye({provide:String,useValue:ye});function Lg(e){return null!==e&&"object"==typeof e&&r$ in e}function Qi(e){return"function"==typeof e}const Vg=new P("Set Injector scope."),od={},o$={};let Ug;function sd(){return void 0===Ug&&(Ug=new Og),Ug}class Sn{}class ys extends Sn{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Bg(t,s=>this.processProvider(s)),this.records.set(P0,Cs(void 0,this)),i.has("environment")&&this.records.set(Sn,Cs(void 0,this));const o=this.records.get(Vg);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(k0.multi,le,ne.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=si(this),r=Zt(void 0);try{return t()}finally{si(n),Zt(r)}}get(t,n=La,r=ne.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(CD))return t[CD](this);r=bu(r);const o=si(this),s=Zt(void 0);try{if(!(r&ne.SkipSelf)){let c=this.records.get(t);if(void 0===c){const l=function u$(e){return"function"==typeof e||"object"==typeof e&&e instanceof P}(t)&&_u(t);c=l&&this.injectableDefInScope(l)?Cs(jg(t),od):null,this.records.set(t,c)}if(null!=c)return this.hydrate(t,c)}return(r&ne.Self?sd():this.parent).get(t,n=r&ne.Optional&&n===La?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Cu]=a[Cu]||[]).unshift(ot(t)),o)throw a;return function sU(e,t,n,r){const i=e[Cu];throw t[_D]&&i.unshift(t[_D]),e.message=function aU(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=ot(t);if(Array.isArray(t))i=t.map(ot).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):ot(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(tU,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[Cu]=null,e}(a,t,"R3InjectorError",this.source)}throw a}finally{Zt(s),si(o)}}resolveInjectorInitializers(){const t=si(this),n=Zt(void 0);try{const i=this.get(uc.multi,le,ne.Self);for(const o of i)o()}finally{si(t),Zt(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(ot(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new S(205,!1)}processProvider(t){let n=Qi(t=H(t))?t:H(t&&t.provide);const r=function a$(e){return Lg(e)?Cs(void 0,e.useValue):Cs(U0(e),od)}(t);if(Qi(t)||!0!==t.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Cs(void 0,od,!0),i.factory=()=>Fp(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===od&&(n.value=o$,n.value=n.factory()),"object"==typeof n.value&&n.value&&function l$(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=H(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function jg(e){const t=_u(e),n=null!==t?t.factory:Gi(e);if(null!==n)return n;if(e instanceof P)throw new S(204,!1);if(e instanceof Function)return function s$(e){const t=e.length;if(t>0)throw function tc(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new S(204,!1);const n=function XV(e){return e&&(e[yu]||e[fD])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new S(204,!1)}function U0(e,t,n){let r;if(Qi(e)){const i=H(e);return Gi(i)||jg(i)}if(Lg(e))r=()=>H(e.useValue);else if(function V0(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Fp(e.deps||[]));else if(function L0(e){return!(!e||!e.useExisting)}(e))r=()=>O(H(e.useExisting));else{const i=H(e&&(e.useClass||e.provide));if(!function c$(e){return!!e.deps}(e))return Gi(i)||jg(i);r=()=>new i(...Fp(e.deps))}return r}function Cs(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Bg(e,t){for(const n of e)Array.isArray(n)?Bg(n,t):n&&Sp(n)?Bg(n.\u0275providers,t):t(n)}const ad=new P("AppId",{providedIn:"root",factory:()=>d$}),d$="ng",j0=new P("Platform Initializer"),pi=new P("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),B0=new P("CSP nonce",{providedIn:"root",factory:()=>_s().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let $0=(e,t,n)=>null;function Yg(e,t,n=!1){return $0(e,t,n)}class b${}class W0{}class E${resolveComponentFactory(t){throw function w$(e){const t=Error(`No component factory found for ${ot(e)}.`);return t.ngComponent=e,t}(t)}}let fd=(()=>{class e{static{this.NULL=new E$}}return e})();function I$(){return Es(wt(),D())}function Es(e,t){return new mn(nn(e,t))}let mn=(()=>{class e{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=I$}}return e})();class q0{}let Nr=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function T$(){const e=D(),n=pn(wt().index,e);return(tn(n)?n:e)[q]}()}}return e})(),S$=(()=>{class e{static{this.\u0275prov=V({token:e,providedIn:"root",factory:()=>null})}}return e})();class Is{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const K0=new Is("16.2.12"),Zg={};function Z0(e,t=null,n=null,r){const i=J0(e,t,n,r);return i.resolveInjectorInitializers(),i}function J0(e,t=null,n=null,r,i=new Set){const o=[n||le,n$(e)];return r=r||("object"==typeof e?void 0:ot(e)),new ys(o,t||sd(),r||null,i)}let xt=(()=>{class e{static{this.THROW_IF_NOT_FOUND=La}static{this.NULL=new Og}static create(n,r){if(Array.isArray(n))return Z0({name:""},r,n,"");{const i=n.name??"";return Z0({name:i},n.parent,n.providers,i)}}static{this.\u0275prov=V({token:e,providedIn:"any",factory:()=>O(P0)})}static{this.__NG_ELEMENT_ID__=-1}}return e})();function em(e){return e.ngOriginalError}class Or{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&em(t);for(;n&&em(n);)n=em(n);return n||null}}function tm(e){return t=>{setTimeout(e,void 0,t)}}const ae=class O$ extends dn{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&"object"==typeof t){const c=t;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=tm(o),i&&(i=tm(i)),s&&(s=tm(s)));const a=super.subscribe({next:i,error:o,complete:s});return t instanceof Qt&&t.add(a),a}};function tS(...e){}class _e{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ae(!1),this.onMicrotaskEmpty=new ae(!1),this.onStable=new ae(!1),this.onError=new ae(!1),typeof Zone>"u")throw new S(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function F$(){const e="function"==typeof Ae.requestAnimationFrame;let t=Ae[e?"requestAnimationFrame":"setTimeout"],n=Ae[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function U$(e){const t=()=>{!function V$(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Ae,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,rm(e),e.isCheckStableRunning=!0,nm(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),rm(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(function B$(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,o,s,a);try{return nS(e),n.invokeTask(i,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&t(),rS(e)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return nS(e),n.invoke(i,o,s,a,c)}finally{e.shouldCoalesceRunChangeDetection&&t(),rS(e)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,rm(e),nm(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_e.isInAngularZone())throw new S(909,!1)}static assertNotInAngularZone(){if(_e.isInAngularZone())throw new S(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,L$,tS,tS);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const L$={};function nm(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function rm(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function nS(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function rS(e){e._nesting--,nm(e)}class j${constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ae,this.onMicrotaskEmpty=new ae,this.onStable=new ae,this.onError=new ae}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}const iS=new P("",{providedIn:"root",factory:oS});function oS(){const e=L(_e);let t=!0;return function $V(...e){const t=Fa(e),n=function OV(e,t){return"number"==typeof wp(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?Xt(r[0]):qo(n)(lt(r,t)):Qn}(new Le(i=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{i.next(t),i.complete()})}),new Le(i=>{let o;e.runOutsideAngular(()=>{o=e.onStable.subscribe(()=>{_e.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,i.next(!0))})})});const s=e.onUnstable.subscribe(()=>{_e.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(lD()))}function Fr(e){return e instanceof Function?e():e}let im=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=V({token:e,providedIn:"root",factory:()=>new e})}}return e})();function fc(e){for(;e;){e[Y]|=64;const t=ic(e);if($p(e)&&!t)return e;e=t}return null}const uS=new P("",{providedIn:"root",factory:()=>!1});let md=null;function pS(e,t){return e[t]??_S()}function gS(e,t){const n=_S();n.producerNode?.length&&(e[t]=md,n.lView=e,md=mS())}const X$={...LD,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{fc(e.lView)},lView:null};function mS(){return Object.create(X$)}function _S(){return md??=mS(),md}const K={};function w(e){vS(se(),D(),jt()+e,!1)}function vS(e,t,n,r){if(!r)if(3==(3&t[Y])){const o=e.preOrderCheckHooks;null!==o&&Pu(t,o,n)}else{const o=e.preOrderHooks;null!==o&&ku(t,o,0,n)}qi(n)}function C(e,t=ne.Default){const n=D();return null===n?O(e,t):AT(wt(),n,H(e),t)}function _d(e,t,n,r,i,o,s,a,c,l,u){const d=t.blueprint.slice();return d[He]=i,d[Y]=140|r,(null!==l||e&&2048&e[Y])&&(d[Y]|=2048),rT(d),d[Ne]=d[Zo]=e,d[Ye]=n,d[Xo]=s||e&&e[Xo],d[q]=a||e&&e[q],d[ai]=c||e&&e[ai]||null,d[At]=o,d[za]=function oB(){return iB++}(),d[xr]=u,d[kD]=l,d[Qe]=2==t.type?e[Qe]:d,d}function Ss(e,t,n,r,i){let o=e.data[t];if(null===o)o=function om(e,t,n,r,i){const o=lT(),s=Qp(),c=e.data[t]=function oH(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return function rs(){return null!==$.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(e,t,n,r,i),function ij(){return $.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function Ya(){const e=$.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return nr(o,!0),o}function pc(e,t,n,r){if(0===n)return-1;const i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function CS(e,t,n,r,i){const o=pS(t,Wa),s=jt(),a=2&r;try{qi(-1),a&&t.length>re&&vS(e,t,re,!1),tr(a?2:0,i);const l=a?o:null,u=zp(l);try{null!==l&&(l.dirty=!1),n(r,i)}finally{Wp(l,u)}}finally{a&&null===t[Wa]&&gS(t,Wa),qi(s),tr(a?3:1,i)}}function sm(e,t,n){if(Bp(t)){const r=In(null);try{const o=t.directiveEnd;for(let s=t.directiveStart;s<o;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{In(r)}}}function am(e,t,n){cT()&&(function hH(e,t,n,r){const i=n.directiveStart,o=n.directiveEnd;Wi(n)&&function yH(e,t,n){const r=nn(t,e),i=bS(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=vd(e,_d(e,i,null,s,r,t,null,e[Xo].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=a}(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||Ou(n,t),Mt(r,t);const s=n.initialInputs;for(let a=i;a<o;a++){const c=e.data[a],l=Ki(t,e,a,n);Mt(l,t),null!==s&&CH(0,a-i,l,c,0,s),Un(c)&&(pn(n.index,t)[Ye]=Ki(t,e,a,n))}}(e,t,n,nn(n,t)),64==(64&n.flags)&&TS(e,t,n))}function cm(e,t,n=nn){const r=t.localNames;if(null!==r){let i=t.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(t,e):e[s];e[i++]=a}}}function bS(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=lm(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function lm(e,t,n,r,i,o,s,a,c,l,u){const d=re+r,h=d+i,f=function J$(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:K);return n}(d,h),g="function"==typeof l?l():l;return f[k]={type:e,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:u}}let wS=e=>null;function ES(e,t,n,r){for(let i in e)if(e.hasOwnProperty(i)){n=null===n?{}:n;const o=e[i];null===r?IS(n,t,i,o):r.hasOwnProperty(i)&&IS(n,t,r[i],o)}return n}function IS(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function um(e,t,n,r){if(cT()){const i=null===r?null:{"":-1},o=function pH(e,t){const n=e.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(SD(t,s.selectors,!1))if(r||(r=[]),Un(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),dm(e,t,a.length)}else r.unshift(s),dm(e,t,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(e,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&DS(e,t,n,s,i,a),i&&function gH(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const o=n[t[i+1]];if(null==o)throw new S(-301,!1);r.push(t[i],o)}}}(n,r,i)}n.mergedAttrs=ja(n.mergedAttrs,n.attrs)}function DS(e,t,n,r,i,o){for(let l=0;l<r.length;l++)cg(Ou(n,t),e,r[l].type);!function _H(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let l=0;l<r.length;l++){const u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=pc(e,t,r.length,null);for(let l=0;l<r.length;l++){const u=r[l];n.mergedAttrs=ja(n.mergedAttrs,u.hostAttrs),vH(e,n,t,c,u),mH(c,u,i),null!==u.contentQueries&&(n.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=64);const d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function sH(e,t,n){const i=t.directiveEnd,o=e.data,s=t.attrs,a=[];let c=null,l=null;for(let u=t.directiveStart;u<i;u++){const d=o[u],h=n?n.get(d):null,g=h?h.outputs:null;c=ES(d.inputs,u,c,h?h.inputs:null),l=ES(d.outputs,u,l,g);const v=null===c||null===s||TD(t)?null:bH(c,u,s);a.push(v)}null!==c&&(c.hasOwnProperty("class")&&(t.flags|=8),c.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=c,t.outputs=l}(e,n,o)}function TS(e,t,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function sj(){return $.lFrame.currentDirectiveIndex}();try{qi(o);for(let a=r;a<i;a++){const c=e.data[a],l=t[a];Zp(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&fH(c,l)}}finally{qi(-1),Zp(s)}}function fH(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function dm(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function mH(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Un(t)&&(n[""]=e)}}function vH(e,t,n,r,i){e.data[r]=i;const o=i.factory||(i.factory=Gi(i.type)),s=new Qa(o,Un(i),C);e.blueprint[r]=s,n[r]=s,function uH(e,t,n,r,i){const o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~t.index;(function dH(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(e,t,r,pc(e,n,i.hostVars,K),i)}function ir(e,t,n,r,i,o){const s=nn(e,t);!function hm(e,t,n,r,i,o,s){if(null==o)e.removeAttribute(t,i,n);else{const a=null==s?G(o):s(o,r||"",i);e.setAttribute(t,i,a,n)}}(t[q],s,o,e.value,n,r,i)}function CH(e,t,n,r,i,o){const s=o[t];if(null!==s)for(let a=0;a<s.length;)SS(r,n,s[a++],s[a++],s[a++])}function SS(e,t,n,r,i){const o=In(null);try{const s=e.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(t,i)),null!==e.setInput?e.setInput(t,i,n,r):t[r]=i}finally{In(o)}}function bH(e,t,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(e.hasOwnProperty(o)){null===r&&(r=[]);const s=e[o];for(let a=0;a<s.length;a+=2)if(s[a]===t){r.push(o,s[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function AS(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null,null]}function MS(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r+1];if(-1!==o){const s=e.data[o];eg(n[r]),s.contentQueries(2,t[o],o)}}}function vd(e,t){return e[$a]?e[PD][Vn]=t:e[$a]=t,e[PD]=t,t}function fm(e,t,n){eg(0);const r=In(null);try{t(e,n)}finally{In(r)}}function kS(e,t){const n=e[ai],r=n?n.get(Or,null):null;r&&r.handleError(t)}function pm(e,t,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++];SS(e.data[s],t[s],r,a,i)}}function Lr(e,t,n){const r=Mu(t,e);!function o0(e,t,n){e.setValue(t,n)}(e[q],r,n)}function wH(e,t){const n=pn(t,e),r=n[k];!function EH(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const i=n[He];null!==i&&null===n[xr]&&(n[xr]=Yg(i,n[ai])),gm(r,n,n[Ye])}function gm(e,t,n){tg(t);try{const r=e.viewQuery;null!==r&&fm(1,r,n);const i=e.template;null!==i&&CS(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&MS(e,t),e.staticViewQueries&&fm(2,e.viewQuery,n);const o=e.components;null!==o&&function IH(e,t){for(let n=0;n<t.length;n++)wH(e,t[n])}(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[Y]&=-5,ng()}}let NS=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const o=typeof Zone>"u"?null:Zone.current,s=function FU(e,t,n){const r=Object.create(LU);n&&(r.consumerAllowSignalWrites=!0),r.fn=e,r.schedule=t;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>BD(r),run:()=>{if(r.dirty=!1,r.hasRun&&!$D(r))return;r.hasRun=!0;const s=zp(r);try{r.cleanupFn(),r.cleanupFn=QD,r.fn(i)}finally{Wp(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(n,l=>{this.all.has(l)&&this.queue.set(l,o)},i);let a;this.all.add(s),s.notify();const c=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=V({token:e,providedIn:"root",factory:()=>new e})}}return e})();function yd(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?i=Dp(i,a):2==o&&(r=Dp(r,a+": "+t[++s]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function gc(e,t,n,r,i=!1){for(;null!==n;){const o=t[n.index];null!==o&&r.push(Me(o)),Vt(o)&&OS(o,r);const s=n.type;if(8&s)gc(e,t,n.child,r);else if(32&s){const a=Cg(n,t);let c;for(;c=a();)r.push(c)}else if(16&s){const a=p0(t,n);if(Array.isArray(a))r.push(...a);else{const c=ic(t[Qe]);gc(c[k],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function OS(e,t){for(let n=Ct;n<e.length;n++){const r=e[n],i=r[k].firstChild;null!==i&&gc(r[k],r,i,t)}e[er]!==e[He]&&t.push(e[er])}function Cd(e,t,n,r=!0){const i=t[Xo],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{FS(e,t,e.template,n)}catch(c){throw r&&kS(t,c),c}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function FS(e,t,n,r){const i=t[Y];if(256!=(256&i)){t[Xo].effectManager?.flush(),tg(t);try{rT(t),function dT(e){return $.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&CS(e,t,n,2,r);const s=3==(3&i);if(s){const l=e.preOrderCheckHooks;null!==l&&Pu(t,l,null)}else{const l=e.preOrderHooks;null!==l&&ku(t,l,0,null),rg(t,0)}if(function SH(e){for(let t=t0(e);null!==t;t=n0(t)){if(!t[ND])continue;const n=t[es];for(let r=0;r<n.length;r++){qU(n[r])}}}(t),LS(t,2),null!==e.contentQueries&&MS(e,t),s){const l=e.contentCheckHooks;null!==l&&Pu(t,l)}else{const l=e.contentHooks;null!==l&&ku(t,l,1),rg(t,1)}!function Z$(e,t){const n=e.hostBindingOpCodes;if(null===n)return;const r=pS(t,Ga);try{for(let i=0;i<n.length;i++){const o=n[i];if(o<0)qi(~o);else{const s=o,a=n[++i],c=n[++i];oj(a,s),r.dirty=!1;const l=zp(r);try{c(2,t[s])}finally{Wp(r,l)}}}}finally{null===t[Ga]&&gS(t,Ga),qi(-1)}}(e,t);const a=e.components;null!==a&&US(t,a,0);const c=e.viewQuery;if(null!==c&&fm(2,c,r),s){const l=e.viewCheckHooks;null!==l&&Pu(t,l)}else{const l=e.viewHooks;null!==l&&ku(t,l,2),rg(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Y]&=-73,iT(t)}finally{ng()}}}function LS(e,t){for(let n=t0(e);null!==n;n=n0(n))for(let r=Ct;r<n.length;r++)VS(n[r],t)}function AH(e,t,n){VS(pn(t,e),n)}function VS(e,t){if(!function WU(e){return 128==(128&e[Y])}(e))return;const n=e[k],r=e[Y];if(80&r&&0===t||1024&r||2===t)FS(n,e,n.template,e[Ye]);else if(e[Ba]>0){LS(e,1);const i=n.components;null!==i&&US(e,i,1)}}function US(e,t,n){for(let r=0;r<t.length;r++)AH(e,t[r],n)}class mc{get rootNodes(){const t=this._lView,n=t[k];return gc(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ye]}set context(t){this._lView[Ye]=t}get destroyed(){return 256==(256&this._lView[Y])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Ne];if(Vt(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(Qu(t,r),Uu(n,r))}this._attachedToViewContainer=!1}wg(this._lView[k],this._lView)}onDestroy(t){!function sT(e,t){if(256==(256&e[Y]))throw new S(911,!1);null===e[ci]&&(e[ci]=[]),e[ci].push(t)}(this._lView,t)}markForCheck(){fc(this._cdRefInjectingView||this._lView)}detach(){this._lView[Y]&=-129}reattach(){this._lView[Y]|=128}detectChanges(){Cd(this._lView[k],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new S(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function yB(e,t){sc(e,t,t[q],2,null,null)}(this._lView[k],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new S(902,!1);this._appRef=t}}class MH extends mc{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Cd(t[k],t,t[Ye],!1)}checkNoChanges(){}get context(){return null}}class jS extends fd{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=oe(t);return new _c(n,this.ngModule)}}function BS(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class RH{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=bu(r);const i=this.injector.get(t,Zg,r);return i!==Zg||n===Zg?i:this.parentInjector.get(t,n,r)}}class _c extends W0{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=BS(t.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return BS(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function _U(e){return e.map(mU).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){let o=(i=i||this.ngModule)instanceof Sn?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new RH(t,o):t,a=s.get(q0,null);if(null===a)throw new S(407,!1);const d={rendererFactory:a,sanitizer:s.get(S$,null),effectManager:s.get(NS,null),afterRenderEventManager:s.get(im,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",g=r?function eH(e,t,n,r){const o=r.get(uS,!1)||n===Fn.ShadowDom,s=e.selectRootElement(t,o);return function tH(e){wS(e)}(s),s}(h,r,this.componentDef.encapsulation,s):Yu(h,f,function xH(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(f)),I=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let b=null;null!==g&&(b=Yg(g,s,!0));const F=lm(0,null,null,1,0,null,null,null,null,null,null),j=_d(null,F,null,I,null,null,d,h,s,null,b);let Z,Je;tg(j);try{const wn=this.componentDef;let ii,Wo=null;wn.findHostDirectiveDefs?(ii=[],Wo=new Map,wn.findHostDirectiveDefs(wn,ii,Wo),ii.push(wn)):ii=[wn];const UI=function kH(e,t){const n=e[k],r=re;return e[r]=t,Ss(n,r,2,"#host",null)}(j,g),Ice=function NH(e,t,n,r,i,o,s){const a=i[k];!function OH(e,t,n,r){for(const i of e)t.mergedAttrs=ja(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(yd(t,t.mergedAttrs,!0),null!==n&&v0(r,n,t))}(r,e,t,s);let c=null;null!==t&&(c=Yg(t,i[ai]));const l=o.rendererFactory.createRenderer(t,n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const d=_d(i,bS(n),null,u,i[e.index],e,o,l,null,null,c);return a.firstCreatePass&&dm(a,e,r.length-1),vd(i,d),i[e.index]=d}(UI,g,wn,ii,j,d,h);Je=nT(F,re),g&&function LH(e,t,n,r){if(r)Up(e,n,["ng-version",K0.full]);else{const{attrs:i,classes:o}=function vU(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!Ln(i))break;i=o}r++}return{attrs:t,classes:n}}(t.selectors[0]);i&&Up(e,n,i),o&&o.length>0&&_0(e,n,o.join(" "))}}(h,wn,g,r),void 0!==n&&function VH(e,t,n){const r=e.projection=[];for(let i=0;i<t.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(Je,this.ngContentSelectors,n),Z=function FH(e,t,n,r,i,o){const s=wt(),a=i[k],c=nn(s,i);DS(a,i,s,n,null,r);for(let u=0;u<n.length;u++)Mt(Ki(i,a,s.directiveStart+u,s),i);TS(a,i,s),c&&Mt(c,i);const l=Ki(i,a,s.directiveStart+s.componentOffset,s);if(e[Ye]=i[Ye]=l,null!==o)for(const u of o)u(l,t);return sm(a,s,e),l}(Ice,wn,ii,Wo,j,[UH]),gm(F,j,null)}finally{ng()}return new PH(this.componentType,Z,Es(Je,j),j,Je)}}class PH extends b${constructor(t,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new MH(i),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const o=this._rootLView;pm(o[k],o,i,t,n),this.previousInputValues.set(t,n),fc(pn(this._tNode.index,o))}}get injector(){return new Bt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function UH(){const e=wt();Ru(D()[k],e)}function Ce(e){let t=function $S(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let i;if(Un(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new S(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);const s=e;s.inputs=bd(e.inputs),s.inputTransforms=bd(e.inputTransforms),s.declaredInputs=bd(e.declaredInputs),s.outputs=bd(e.outputs);const a=i.hostBindings;a&&HH(e,a);const c=i.viewQuery,l=i.contentQueries;if(c&&BH(e,c),l&&$H(e,l),gu(e.inputs,i.inputs),gu(e.declaredInputs,i.declaredInputs),gu(e.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),gu(s.inputTransforms,i.inputTransforms)),Un(i)&&i.data.animation){const u=e.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(e),a===Ce&&(n=!1)}}t=Object.getPrototypeOf(t)}!function jH(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=ja(i.hostAttrs,n=ja(n,i.hostAttrs))}}(r)}function bd(e){return e===Zn?{}:e===le?[]:e}function BH(e,t){const n=e.viewQuery;e.viewQuery=n?(r,i)=>{t(r,i),n(r,i)}:t}function $H(e,t){const n=e.contentQueries;e.contentQueries=n?(r,i,o)=>{t(r,i,o),n(r,i,o)}:t}function HH(e,t){const n=e.hostBindings;e.hostBindings=n?(r,i)=>{t(r,i),n(r,i)}:t}function GS(e){const t=e.inputConfig,n={};for(const r in t)if(t.hasOwnProperty(r)){const i=t[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}e.inputTransforms=n}function wd(e){return!!mm(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function mm(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function or(e,t,n){return e[t]=n}function Rt(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Xi(e,t,n,r){const i=Rt(e,t,n);return Rt(e,t+1,r)||i}function sr(e,t,n,r){const i=D();return Rt(i,is(),t)&&(se(),ir(Ue(),i,e,t,n,r)),sr}function xs(e,t,n,r,i,o){const a=Xi(e,function Rr(){return $.lFrame.bindingIndex}(),n,i);return Pr(2),a?t+G(n)+r+G(i)+o:K}function x(e,t,n,r,i,o,s,a){const c=D(),l=se(),u=e+re,d=l.firstCreatePass?function p3(e,t,n,r,i,o,s,a,c){const l=t.consts,u=Ss(t,e,4,s||null,ui(l,a));um(t,n,u,ui(l,c)),Ru(t,u);const d=u.tView=lm(2,u,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l,null);return null!==t.queries&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}(u,l,c,t,n,r,i,o,s):l.data[u];nr(d,!1);const h=oA(l,c,d,e);xu()&&Zu(l,c,h,d),Mt(h,c),vd(c,c[u]=AS(h,c,h,d)),Tu(d)&&am(l,c,d),null!=s&&cm(c,d,a)}let oA=function sA(e,t,n,r){return di(!0),t[q].createComment("")};function ar(e){return ns(function rj(){return $.lFrame.contextLView}(),re+e)}function T(e,t,n){const r=D();return Rt(r,is(),t)&&function _n(e,t,n,r,i,o,s,a){const c=nn(t,n);let u,l=t.inputs;!a&&null!=l&&(u=l[r])?(pm(e,n,u,r,i),Wi(t)&&function cH(e,t){const n=pn(t,e);16&n[Y]||(n[Y]|=64)}(n,t.index)):3&t.type&&(r=function aH(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=s?s(i,t.value||"",r):i,o.setProperty(c,r,i))}(se(),Ue(),r,e,t,r[q],n,!1),T}function wm(e,t,n,r,i){const s=i?"class":"style";pm(e,n,t.inputs[s],s,r)}function m(e,t,n,r){const i=D(),o=se(),s=re+e,a=i[q],c=o.firstCreatePass?function v3(e,t,n,r,i,o){const s=t.consts,c=Ss(t,e,2,r,ui(s,i));return um(t,n,c,ui(s,o)),null!==c.attrs&&yd(c,c.attrs,!1),null!==c.mergedAttrs&&yd(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(s,o,i,t,n,r):o.data[s],l=aA(o,i,c,a,t,e);i[s]=l;const u=Tu(c);return nr(c,!0),v0(a,l,c),32!=(32&c.flags)&&xu()&&Zu(o,i,l,c),0===function YU(){return $.lFrame.elementDepthCount}()&&Mt(l,i),function QU(){$.lFrame.elementDepthCount++}(),u&&(am(o,i,c),sm(o,c,i)),null!==r&&cm(i,c),m}function p(){let e=wt();Qp()?function Xp(){$.lFrame.isParent=!1}():(e=e.parent,nr(e,!1));const t=e;(function ZU(e){return $.skipHydrationRootTNode===e})(t)&&function nj(){$.skipHydrationRootTNode=null}(),function XU(){$.lFrame.elementDepthCount--}();const n=se();return n.firstCreatePass&&(Ru(n,e),Bp(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function _j(e){return 0!=(8&e.flags)}(t)&&wm(n,t,D(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function vj(e){return 0!=(16&e.flags)}(t)&&wm(n,t,D(),t.stylesWithoutHost,!1),p}function A(e,t,n,r){return m(e,t,n,r),p(),A}let aA=(e,t,n,r,i,o)=>(di(!0),Yu(r,i,function yT(){return $.lFrame.currentNamespace}()));function ut(){return D()}function wc(e){return!!e&&"function"==typeof e.then}function uA(e){return!!e&&"function"==typeof e.subscribe}function U(e,t,n,r){const i=D(),o=se(),s=wt();return function hA(e,t,n,r,i,o,s){const a=Tu(r),l=e.firstCreatePass&&function RS(e){return e.cleanup||(e.cleanup=[])}(e),u=t[Ye],d=function xS(e){return e[Qo]||(e[Qo]=[])}(t);let h=!0;if(3&r.type||s){const v=nn(r,t),E=s?s(v):v,I=d.length,b=s?j=>s(Me(j[r.index])):r.index;let F=null;if(!s&&a&&(F=function I3(e,t,n,r){const i=e.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=t[Qo],c=i[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(e,t,i,r.index)),null!==F)(F.__ngLastListenerFn__||F).__ngNextListenerFn__=o,F.__ngLastListenerFn__=o,h=!1;else{o=pA(r,t,u,o,!1);const j=n.listen(E,i,o);d.push(o,j),l&&l.push(i,b,I,I+1)}}else o=pA(r,t,u,o,!1);const f=r.outputs;let g;if(h&&null!==f&&(g=f[i])){const v=g.length;if(v)for(let E=0;E<v;E+=2){const Z=t[g[E]][g[E+1]].subscribe(o),Je=d.length;d.push(o,Z),l&&l.push(i,r.index,Je,-(Je+1))}}}(o,i,i[q],s,e,t,r),U}function fA(e,t,n,r){try{return tr(6,t,n),!1!==n(r)}catch(i){return kS(e,i),!1}finally{tr(7,t,n)}}function pA(e,t,n,r,i){return function o(s){if(s===Function)return r;fc(e.componentOffset>-1?pn(e.index,t):t);let c=fA(t,n,r,s),l=o.__ngNextListenerFn__;for(;l;)c=fA(t,n,l,s)&&c,l=l.__ngNextListenerFn__;return i&&!1===c&&s.preventDefault(),c}}function N(e=1){return function cj(e){return($.lFrame.contextLView=function lj(e,t){for(;e>0;)t=t[Zo],e--;return t}(e,$.lFrame.contextLView))[Ye]}(e)}function Sd(e,t){return e<<17|t<<2}function gi(e){return e>>17&32767}function Tm(e){return 2|e}function Zi(e){return(131068&e)>>2}function Sm(e,t){return-131069&e|t<<2}function Am(e){return 1|e}function IA(e,t,n,r,i){const o=e[n+1],s=null===t;let a=r?gi(o):Zi(o),c=!1;for(;0!==a&&(!1===c||s);){const u=e[a+1];k3(e[a],t)&&(c=!0,e[a+1]=r?Am(u):Tm(u)),a=r?gi(u):Zi(u)}c&&(e[n+1]=r?Tm(o):Am(o))}function k3(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&hs(e,t)>=0}const at={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function DA(e){return e.substring(at.key,at.keyEnd)}function TA(e,t){const n=at.textEnd;return n===t?-1:(t=at.keyEnd=function L3(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,at.key=t,n),Ls(e,t,n))}function Ls(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function Ad(e,t){return function jn(e,t,n,r){const i=D(),o=se(),s=Pr(2);o.firstUpdatePass&&kA(o,e,s,r),t!==K&&Rt(i,s,t)&&OA(o,o.data[jt()],i,i[q],e,i[s+1]=function K3(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=ot(fi(e)))),e}(t,n),r,s)}(e,t,null,!0),Ad}function vn(e){!function Bn(e,t,n,r){const i=se(),o=Pr(2);i.firstUpdatePass&&kA(i,null,o,r);const s=D();if(n!==K&&Rt(s,o,n)){const a=i.data[jt()];if(LA(a,r)&&!PA(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(n=Dp(c,n||"")),wm(i,a,s,n,r)}else!function q3(e,t,n,r,i,o,s,a){i===K&&(i=le);let c=0,l=0,u=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;null!==u||null!==d;){const h=c<i.length?i[c+1]:void 0,f=l<o.length?o[l+1]:void 0;let v,g=null;u===d?(c+=2,l+=2,h!==f&&(g=d,v=f)):null===d||null!==u&&u<d?(c+=2,g=u):(l+=2,g=d,v=f),null!==g&&OA(e,t,n,r,g,v,s,a),u=c<i.length?i[c]:null,d=l<o.length?o[l]:null}}(i,a,s,s[q],s[o+1],s[o+1]=function W3(e,t,n){if(null==n||""===n)return le;const r=[],i=fi(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)e(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&e(r,o,i[o]);else"string"==typeof i&&t(r,i);return r}(e,t,n),r,o)}}(G3,lr,e,!0)}function lr(e,t){for(let n=function O3(e){return function AA(e){at.key=0,at.keyEnd=0,at.value=0,at.valueEnd=0,at.textEnd=e.length}(e),TA(e,Ls(e,0,at.textEnd))}(t);n>=0;n=TA(t,n))gn(e,DA(t),!0)}function PA(e,t){return t>=e.expandoStartIndex}function kA(e,t,n,r){const i=e.data;if(null===i[n+1]){const o=i[jt()],s=PA(e,n);LA(o,r)&&null===t&&!s&&(t=!1),t=function B3(e,t,n,r){const i=function Jp(e){const t=$.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=Ec(n=Mm(null,e,t,n,r),t.attrs,r),o=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==i)if(n=Mm(i,e,t,n,r),null===o){let c=function $3(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Zi(r))return e[gi(r)]}(e,t,r);void 0!==c&&Array.isArray(c)&&(c=Mm(null,e,t,c[1],r),c=Ec(c,t.attrs,r),function H3(e,t,n,r){e[gi(n?t.classBindings:t.styleBindings)]=r}(e,t,r,c))}else o=function z3(e,t,n){let r;const i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++)r=Ec(r,e[o].hostAttrs,n);return Ec(r,t.attrs,n)}(e,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),n}(i,o,t,r),function R3(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=gi(s),c=Zi(s);e[r]=n;let u,l=!1;if(Array.isArray(n)?(u=n[1],(null===u||hs(n,u)>0)&&(l=!0)):u=n,i)if(0!==c){const h=gi(e[a+1]);e[r+1]=Sd(h,a),0!==h&&(e[h+1]=Sm(e[h+1],r)),e[a+1]=function M3(e,t){return 131071&e|t<<17}(e[a+1],r)}else e[r+1]=Sd(a,0),0!==a&&(e[a+1]=Sm(e[a+1],r)),a=r;else e[r+1]=Sd(c,0),0===a?a=r:e[c+1]=Sm(e[c+1],r),c=r;l&&(e[r+1]=Tm(e[r+1])),IA(e,u,r,!0),IA(e,u,r,!1),function P3(e,t,n,r,i){const o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&hs(o,t)>=0&&(n[r+1]=Am(n[r+1]))}(t,u,e,r,o),s=Sd(a,c),o?t.classBindings=s:t.styleBindings=s}(i,o,t,n,s,r)}}function Mm(e,t,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=t[a],r=Ec(r,o.hostAttrs,i),o!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function Ec(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?i=s:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),gn(e,s,!!n||t[++o]))}return void 0===e?null:e}function G3(e,t,n){const r=String(t);""!==r&&!r.includes(" ")&&gn(e,r,n)}function OA(e,t,n,r,i,o,s,a){if(!(3&t.type))return;const c=e.data,l=c[a+1],u=function x3(e){return 1==(1&e)}(l)?FA(c,t,n,i,Zi(l),s):void 0;Md(u)||(Md(o)||function A3(e){return 2==(2&e)}(l)&&(o=FA(c,null,n,i,a,s)),function MB(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:hi.DashCase;null==i?e.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=hi.Important),e.setStyle(n,r,i,o))}}(r,s,Mu(jt(),n),i,o))}function FA(e,t,n,r,i,o){const s=null===t;let a;for(;i>0;){const c=e[i],l=Array.isArray(c),u=l?c[1]:c,d=null===u;let h=n[i+1];h===K&&(h=d?le:void 0);let f=d?dg(h,r):u===r?h:void 0;if(l&&!Md(f)&&(f=dg(c,r)),Md(f)&&(a=f,s))return a;const g=e[i+1];i=s?gi(g):Zi(g)}if(null!==t){let c=o?t.residualClasses:t.residualStyles;null!=c&&(a=dg(c,r))}return a}function Md(e){return void 0!==e}function LA(e,t){return 0!=(e.flags&(t?8:16))}function y(e,t=""){const n=D(),r=se(),i=e+re,o=r.firstCreatePass?Ss(r,i,1,t,null):r.data[i],s=VA(r,n,o,t,e);n[i]=s,xu()&&Zu(r,n,s,o),nr(o,!1)}let VA=(e,t,n,r,i)=>(di(!0),function Ku(e,t){return e.createText(t)}(t[q],r));function ce(e){return et("",e,""),ce}function et(e,t,n){const r=D(),i=function Ms(e,t,n,r){return Rt(e,is(),n)?t+G(n)+r:K}(r,e,t,n);return i!==K&&Lr(r,jt(),i),et}function xd(e,t,n,r,i){const o=D(),s=xs(o,e,t,n,r,i);return s!==K&&Lr(o,jt(),s),xd}const Ji=void 0;var m4=["en",[["a","p"],["AM","PM"],Ji],[["AM","PM"],Ji,Ji],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ji,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ji,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ji,"{1} 'at' {0}",Ji],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function g4(e){const n=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let Vs={};function Ht(e){const t=function v4(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=iM(t);if(n)return n;const r=t.split("-")[0];if(n=iM(r),n)return n;if("en"===r)return m4;throw new S(701,!1)}function iM(e){return e in Vs||(Vs[e]=Ae.ng&&Ae.ng.common&&Ae.ng.common.locales&&Ae.ng.common.locales[e]),Vs[e]}var xe=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(xe||{});const Us="en-US";let oM=Us;function Pm(e,t,n,r,i){if(e=H(e),Array.isArray(e))for(let o=0;o<e.length;o++)Pm(e[o],t,n,r,i);else{const o=se(),s=D(),a=wt();let c=Qi(e)?e:H(e.provide);const l=U0(e),u=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(Qi(e)||!e.multi){const f=new Qa(l,i,C),g=Nm(c,t,i?u:u+h,d);-1===g?(cg(Ou(a,s),o,c),km(o,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[g]=f,s[g]=f)}else{const f=Nm(c,t,u+h,d),g=Nm(c,t,u,u+h),E=g>=0&&n[g];if(i&&!E||!i&&!(f>=0&&n[f])){cg(Ou(a,s),o,c);const I=function mz(e,t,n,r,i){const o=new Qa(e,n,C);return o.multi=[],o.index=t,o.componentProviders=0,xM(o,i,r&&!n),o}(i?gz:pz,n.length,i,r,l);!i&&E&&(n[g].providerFactory=I),km(o,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(I),s.push(I)}else km(o,e,f>-1?f:g,xM(n[i?g:f],l,!i&&r));!i&&r&&E&&n[g].componentProviders++}}}function km(e,t,n,r){const i=Qi(t),o=function i$(e){return!!e.useClass}(t);if(i||o){const c=(o?H(t.useClass):t).prototype.ngOnDestroy;if(c){const l=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const u=l.indexOf(n);-1===u?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function xM(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Nm(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function pz(e,t,n,r){return Om(this.multi,[])}function gz(e,t,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Ki(n,n[k],this.providerFactory.index,r);o=a.slice(0,s),Om(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Om(i,o);return o}function Om(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Oe(e,t=[]){return n=>{n.providersResolver=(r,i)=>function fz(e,t,n){const r=se();if(r.firstCreatePass){const i=Un(e);Pm(n,r.data,r.blueprint,i,!0),Pm(t,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,t)}}class eo{}class RM{}class Fm extends eo{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new jS(this);const i=fn(t);this._bootstrapComponents=Fr(i.bootstrap),this._r3Injector=J0(t,n,[{provide:eo,useValue:this},{provide:fd,useValue:this.componentFactoryResolver},...r],ot(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Lm extends RM{constructor(t){super(),this.moduleType=t}create(t){return new Fm(this.moduleType,t,[])}}class PM extends eo{constructor(t){super(),this.componentFactoryResolver=new jS(this),this.instance=null;const n=new ys([...t.providers,{provide:eo,useValue:this},{provide:fd,useValue:this.componentFactoryResolver}],t.parent||sd(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Vm(e,t,n=null){return new PM({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let yz=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=O0(0,n.type),i=r.length>0?Vm([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=V({token:e,providedIn:"environment",factory:()=>new e(O(Sn))})}}return e})();function kM(e){e.getStandaloneInjector=t=>t.get(yz).getOrCreateStandaloneInjector(e)}function Mc(e,t){const n=e[t];return n===K?void 0:n}function Xe(e,t){const n=se();let r;const i=e+re;n.firstCreatePass?(r=function Lz(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}}(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=Gi(r.type)),a=Zt(C);try{const c=Nu(!1),l=o();return Nu(c),function _3(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,D(),i,l),l}finally{Zt(a)}}function GM(e,t,n){const r=e+re,i=D(),o=ns(i,r);return xc(i,r)?function BM(e,t,n,r,i,o){const s=t+n;return Rt(e,s,i)?or(e,s+1,o?r.call(o,i):r(i)):Mc(e,s+1)}(i,Ut(),t,o.transform,n,o):o.transform(n)}function tt(e,t,n,r){const i=e+re,o=D(),s=ns(o,i);return xc(o,i)?function $M(e,t,n,r,i,o,s){const a=t+n;return Xi(e,a,i,o)?or(e,a+2,s?r.call(s,i,o):r(i,o)):Mc(e,a+2)}(o,Ut(),t,s.transform,n,r,s):s.transform(n,r)}function xc(e,t){return e[k].data[t].pure}function Hz(e,t,n,r=!0){const i=t[k];if(function bB(e,t,n,r){const i=Ct+r,o=n.length;r>0&&(n[i-1][Vn]=t),r<o-Ct?(t[Vn]=n[i],NT(n,Ct+r,t)):(n.push(t),t[Vn]=null),t[Ne]=n;const s=t[Ha];null!==s&&n!==s&&function wB(e,t){const n=e[es];t[Qe]!==t[Ne][Ne][Qe]&&(e[ND]=!0),null===n?e[es]=[t]:n.push(t)}(s,t);const a=t[Jn];null!==a&&a.insertView(e),t[Y]|=128}(i,t,e,n),r){const o=Tg(n,e),s=t[q],a=Xu(s,e[er]);null!==a&&function vB(e,t,n,r,i,o){r[He]=i,r[At]=t,sc(e,r,n,1,i,o)}(i,e[At],s,t,a,o)}}let Vr=(()=>{class e{static{this.__NG_ELEMENT_ID__=Gz}}return e})();const zz=Vr,Wz=class extends zz{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){const i=function $z(e,t,n,r){const i=t.tView,a=_d(e,i,n,4096&e[Y]?4096:16,null,t,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Ha]=e[t.index];const l=e[Jn];return null!==l&&(a[Jn]=l.createEmbeddedView(i)),gm(i,a,n),a}(this._declarationLView,this._declarationTContainer,t,{injector:n,hydrationInfo:r});return new mc(i)}};function Gz(){return Od(wt(),D())}function Od(e,t){return 4&e.type?new Wz(t,e,Es(e,t)):null}let $n=(()=>{class e{static{this.__NG_ELEMENT_ID__=Zz}}return e})();function Zz(){return function JM(e,t){let n;const r=t[e.index];return Vt(r)?n=r:(n=AS(r,t,null,e),t[e.index]=n,vd(t,n)),e1(n,t,e,r),new XM(n,e,t)}(wt(),D())}const Jz=$n,XM=class extends Jz{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Es(this._hostTNode,this._hostLView)}get injector(){return new Bt(this._hostTNode,this._hostLView)}get parentInjector(){const t=Fu(this._hostTNode,this._hostLView);if(og(t)){const n=Za(t,this._hostLView),r=Xa(t);return new Bt(n[k].data[r+8],n)}return new Bt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=ZM(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-Ct}createEmbeddedView(t,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=t.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,false),a}createComponent(t,n,r,i,o){const s=t&&!function ec(e){return"function"==typeof e}(t);let a;if(s)a=n;else{const v=n||{};a=v.index,r=v.injector,i=v.projectableNodes,o=v.environmentInjector||v.ngModuleRef}const c=s?t:new _c(oe(t)),l=r||this.parentInjector;if(!o&&null==c.ngModule){const E=(s?l:this.parentInjector).get(Sn,null);E&&(o=E)}oe(c.componentType??{});const f=c.create(l,i,null,o);return this.insertImpl(f.hostView,a,false),f}insert(t,n){return this.insertImpl(t,n,!1)}insertImpl(t,n,r){const i=t._lView;if(function GU(e){return Vt(e[Ne])}(i)){const c=this.indexOf(t);if(-1!==c)this.detach(c);else{const l=i[Ne],u=new XM(l,l[At],l[Ne]);u.detach(u.indexOf(t))}}const s=this._adjustIndex(n),a=this._lContainer;return Hz(a,i,s,!r),t.attachToViewContainerRef(),NT(Bm(a),s,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=ZM(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=Qu(this._lContainer,n);r&&(Uu(Bm(this._lContainer),n),wg(r[k],r))}detach(t){const n=this._adjustIndex(t,-1),r=Qu(this._lContainer,n);return r&&null!=Uu(Bm(this._lContainer),n)?new mc(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function ZM(e){return e[8]}function Bm(e){return e[8]||(e[8]=[])}let e1=function t1(e,t,n,r){if(e[er])return;let i;i=8&n.type?Me(r):function eW(e,t){const n=e[q],r=n.createComment(""),i=nn(t,e);return Yi(n,Xu(n,i),r,function TB(e,t){return e.nextSibling(t)}(n,i),!1),r}(t,n),e[er]=i};function Mn(e,t){return Od(e,t)}const Zm=new P("Application Initializer");let Jm=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=L(Zm,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=i();if(wc(o))n.push(o);else if(uA(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),S1=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();const ur=new P("LocaleId",{providedIn:"root",factory:()=>L(ur,ne.Optional|ne.SkipSelf)||function xW(){return typeof $localize<"u"&&$localize.locale||Us}()}),RW=new P("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let A1=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new $e(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();class kW{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let M1=(()=>{class e{compileModuleSync(n){return new Lm(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=Fr(fn(n).declarations).reduce((s,a)=>{const c=oe(a);return c&&s.push(new _c(c)),s},[]);return new kW(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const k1=new P(""),Ud=new P("");let i_,n_=(()=>{class e{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,i_||(function tG(e){i_=e}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_e.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static{this.\u0275fac=function(r){return new(r||e)(O(_e),O(r_),O(Ud))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})(),r_=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return i_?.findTestabilityInTree(this,n,r)??null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})(),mi=null;const N1=new P("AllowMultipleToken"),o_=new P("PlatformDestroyListeners"),s_=new P("appBootstrapListener");class F1{constructor(t,n){this.name=t,this.token=n}}function V1(e,t,n=[]){const r=`Platform: ${t}`,i=new P(r);return(o=[])=>{let s=a_();if(!s||s.injector.get(N1,!1)){const a=[...n,...o,{provide:i,useValue:!0}];e?e(a):function iG(e){if(mi&&!mi.get(N1,!1))throw new S(400,!1);(function O1(){!function RU(e){GD=e}(()=>{throw new S(600,!1)})})(),mi=e;const t=e.get(j1);(function L1(e){e.get(j0,null)?.forEach(n=>n())})(e)}(function U1(e=[],t){return xt.create({name:t,providers:[{provide:Vg,useValue:"platform"},{provide:o_,useValue:new Set([()=>mi=null])},...e]})}(a,r))}return function sG(e){const t=a_();if(!t)throw new S(401,!1);return t}()}}function a_(){return mi?.get(j1)??null}let j1=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function aG(e="zone.js",t){return"noop"===e?new j$:"zone.js"===e?new _e(t):e}(r?.ngZone,function B1(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function vz(e,t,n){return new Fm(e,t,n)}(n.moduleType,this.injector,function G1(e){return[{provide:_e,useFactory:e},{provide:uc,multi:!0,useFactory:()=>{const t=L(lG,{optional:!0});return()=>t.initialize()}},{provide:W1,useFactory:cG},{provide:iS,useFactory:oS}]}(()=>i)),s=o.injector.get(Or,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:c=>{s.handleError(c)}});o.onDestroy(()=>{jd(this._modules,o),a.unsubscribe()})}),function $1(e,t,n){try{const r=n();return wc(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(Jm);return a.runInitializers(),a.donePromise.then(()=>(function sM(e){En(e,"Expected localeId to be defined"),"string"==typeof e&&(oM=e.toLowerCase().replace(/_/g,"-"))}(o.injector.get(ur,Us)||Us),this._moduleDoBootstrap(o),o))})})}bootstrapModule(n,r=[]){const i=H1({},r);return function nG(e,t,n){const r=new Lm(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get($s);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new S(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new S(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(o_,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||e)(O(xt))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function H1(e,t){return Array.isArray(t)?t.reduce(H1,e):{...e,...t}}let $s=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=L(W1),this.zoneIsStable=L(iS),this.componentTypes=[],this.components=[],this.isStable=L(A1).hasPendingTasks.pipe(Xn(n=>n?W(!1):this.zoneIsStable),uD(),lD()),this._injector=L(Sn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof W0;if(!this._injector.get(Jm).done)throw!i&&function Yo(e){const t=oe(e)||yt(e)||Lt(e);return null!==t&&t.standalone}(n),new S(405,!1);let s;s=i?n:this._injector.get(fd).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function rG(e){return e.isBoundToModule}(s)?void 0:this._injector.get(eo),l=s.create(xt.NULL,[],r||s.selector,a),u=l.location.nativeElement,d=l.injector.get(k1,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),jd(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new S(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;jd(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(s_,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>jd(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new S(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function jd(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const W1=new P("",{providedIn:"root",factory:()=>L(Or).handleError.bind(void 0)});function cG(){const e=L(_e),t=L(Or);return n=>e.runOutsideAngular(()=>t.handleError(n))}let lG=(()=>{class e{constructor(){this.zone=L(_e),this.applicationRef=L($s)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();let Bd=(()=>{class e{static{this.__NG_ELEMENT_ID__=dG}}return e})();function dG(e){return function hG(e,t,n){if(Wi(e)&&!n){const r=pn(e.index,t);return new mc(r,r)}return 47&e.type?new mc(t[Qe],t):null}(wt(),D(),16==(16&e))}class X1{constructor(){}supports(t){return wd(t)}create(t){return new _G(t)}}const mG=(e,t)=>t;class _G{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||mG}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<J1(r,i,o)?n:r,a=J1(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const l=a-i,u=c-i;if(l!=u){for(let h=0;h<l;h++){const f=h<o.length?o[h]:o[h]=0,g=f+h;u<=g&&g<l&&(o[h]=f+1)}o[s.previousIndex]=u-l}}a!==c&&t(s,a,c)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!wd(t))throw new S(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function QH(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,i)):t=this._addAfter(new vG(n,r),o,i),t}_verifyReinsertion(t,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,o=t._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const i=null===n?this._itHead:n._next;return t._next=i,t._prev=n,null===i?this._itTail=t:i._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new Z1),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Z1),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class vG{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class yG{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class Z1{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new yG,this.map.set(n,r)),r.add(t)}get(t,n){const i=this.map.get(t);return i?i.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function J1(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class ex{constructor(){}supports(t){return t instanceof Map||mm(t)}create(){return new CG}}class CG{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||mm(t)))throw new S(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const i=this._records.get(t);this._maybeAddToChanges(i,n);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new bG(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class bG{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function tx(){return new zd([new X1])}let zd=(()=>{class e{static{this.\u0275prov=V({token:e,providedIn:"root",factory:tx})}constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||tx()),deps:[[e,new Bu,new $t]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new S(901,!1)}}return e})();function nx(){return new kc([new ex])}let kc=(()=>{class e{static{this.\u0275prov=V({token:e,providedIn:"root",factory:nx})}constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||nx()),deps:[[e,new Bu,new $t]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new S(901,!1)}}return e})();const IG=V1(null,"core",[]);let DG=(()=>{class e{constructor(n){}static{this.\u0275fac=function(r){return new(r||e)(O($s))}}static{this.\u0275mod=Jt({type:e})}static{this.\u0275inj=Ft({})}}return e})();function Hs(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}let f_=null;function _i(){return f_}class UG{}const xn=new P("DocumentToken");let p_=(()=>{class e{historyGo(n){throw new Error("Not implemented")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:function(){return L(BG)},providedIn:"platform"})}}return e})();const jG=new P("Location Initialized");let BG=(()=>{class e extends p_{constructor(){super(),this._doc=L(xn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return _i().getBaseHref(this._doc)}onPopState(n){const r=_i().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=_i().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:function(){return new e},providedIn:"platform"})}}return e})();function g_(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function dx(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function Ur(e){return e&&"?"!==e[0]?"?"+e:e}let no=(()=>{class e{historyGo(n){throw new Error("Not implemented")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:function(){return L(fx)},providedIn:"root"})}}return e})();const hx=new P("appBaseHref");let fx=(()=>{class e extends no{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??L(xn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return g_(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Ur(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+Ur(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+Ur(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||e)(O(p_),O(hx,8))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),$G=(()=>{class e extends no{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=g_(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Ur(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Ur(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||e)(O(p_),O(hx,8))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})(),m_=(()=>{class e{constructor(n){this._subject=new ae,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function WG(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(dx(px(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Ur(r))}normalize(n){return e.stripTrailingSlash(function zG(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,px(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ur(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ur(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=Ur}static{this.joinWithSlash=g_}static{this.stripTrailingSlash=dx}static{this.\u0275fac=function(r){return new(r||e)(O(no))}}static{this.\u0275prov=V({token:e,factory:function(){return function HG(){return new m_(O(no))}()},providedIn:"root"})}}return e})();function px(e){return e.replace(/\/index.html$/,"")}const gx={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Gd=function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e}(Gd||{}),Wt=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(Wt||{}),De=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(De||{}),yn=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(yn||{}),Ze=function(e){return e[e.Decimal=0]="Decimal",e[e.Group=1]="Group",e[e.List=2]="List",e[e.PercentSign=3]="PercentSign",e[e.PlusSign=4]="PlusSign",e[e.MinusSign=5]="MinusSign",e[e.Exponential=6]="Exponential",e[e.SuperscriptingExponent=7]="SuperscriptingExponent",e[e.PerMille=8]="PerMille",e[e.Infinity=9]="Infinity",e[e.NaN=10]="NaN",e[e.TimeSeparator=11]="TimeSeparator",e[e.CurrencyDecimal=12]="CurrencyDecimal",e[e.CurrencyGroup=13]="CurrencyGroup",e}(Ze||{});function qd(e,t){return Pn(Ht(e)[xe.DateFormat],t)}function Kd(e,t){return Pn(Ht(e)[xe.TimeFormat],t)}function Yd(e,t){return Pn(Ht(e)[xe.DateTimeFormat],t)}function Rn(e,t){const n=Ht(e),r=n[xe.NumberSymbols][t];if(typeof r>"u"){if(t===Ze.CurrencyDecimal)return n[xe.NumberSymbols][Ze.Decimal];if(t===Ze.CurrencyGroup)return n[xe.NumberSymbols][Ze.Group]}return r}function __(e,t){return Ht(e)[xe.NumberFormats][t]}function mx(e){if(!e[xe.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[xe.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Pn(e,t){for(let n=t;n>-1;n--)if(typeof e[n]<"u")return e[n];throw new Error("Locale data API: locale data undefined")}function v_(e){const[t,n]=e.split(":");return{hours:+t,minutes:+n}}const oq=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Nc={},sq=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var jr=function(e){return e[e.Short=0]="Short",e[e.ShortGMT=1]="ShortGMT",e[e.Long=2]="Long",e[e.Extended=3]="Extended",e}(jr||{}),pe=function(e){return e[e.FullYear=0]="FullYear",e[e.Month=1]="Month",e[e.Date=2]="Date",e[e.Hours=3]="Hours",e[e.Minutes=4]="Minutes",e[e.Seconds=5]="Seconds",e[e.FractionalSeconds=6]="FractionalSeconds",e[e.Day=7]="Day",e}(pe||{}),ge=function(e){return e[e.DayPeriods=0]="DayPeriods",e[e.Days=1]="Days",e[e.Months=2]="Months",e[e.Eras=3]="Eras",e}(ge||{});function aq(e,t,n,r){let i=function mq(e){if(yx(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){const[i,o=1,s=1]=e.split("-").map(a=>+a);return Qd(i,o-1,s)}const n=parseFloat(e);if(!isNaN(e-n))return new Date(n);let r;if(r=e.match(oq))return function _q(e){const t=new Date(0);let n=0,r=0;const i=e[8]?t.setUTCFullYear:t.setFullYear,o=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));const s=Number(e[4]||0)-n,a=Number(e[5]||0)-r,c=Number(e[6]||0),l=Math.floor(1e3*parseFloat("0."+(e[7]||0)));return o.call(t,s,a,c,l),t}(r)}const t=new Date(e);if(!yx(t))throw new Error(`Unable to convert "${e}" into a date`);return t}(e);t=Br(n,t)||t;let a,s=[];for(;t;){if(a=sq.exec(t),!a){s.push(t);break}{s=s.concat(a.slice(1));const u=s.pop();if(!u)break;t=u}}let c=i.getTimezoneOffset();r&&(c=vx(r,c),i=function gq(e,t,n){const r=n?-1:1,i=e.getTimezoneOffset();return function pq(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,r*(vx(t,i)-i))}(i,r,!0));let l="";return s.forEach(u=>{const d=function fq(e){if(C_[e])return C_[e];let t;switch(e){case"G":case"GG":case"GGG":t=Re(ge.Eras,De.Abbreviated);break;case"GGGG":t=Re(ge.Eras,De.Wide);break;case"GGGGG":t=Re(ge.Eras,De.Narrow);break;case"y":t=nt(pe.FullYear,1,0,!1,!0);break;case"yy":t=nt(pe.FullYear,2,0,!0,!0);break;case"yyy":t=nt(pe.FullYear,3,0,!1,!0);break;case"yyyy":t=nt(pe.FullYear,4,0,!1,!0);break;case"Y":t=eh(1);break;case"YY":t=eh(2,!0);break;case"YYY":t=eh(3);break;case"YYYY":t=eh(4);break;case"M":case"L":t=nt(pe.Month,1,1);break;case"MM":case"LL":t=nt(pe.Month,2,1);break;case"MMM":t=Re(ge.Months,De.Abbreviated);break;case"MMMM":t=Re(ge.Months,De.Wide);break;case"MMMMM":t=Re(ge.Months,De.Narrow);break;case"LLL":t=Re(ge.Months,De.Abbreviated,Wt.Standalone);break;case"LLLL":t=Re(ge.Months,De.Wide,Wt.Standalone);break;case"LLLLL":t=Re(ge.Months,De.Narrow,Wt.Standalone);break;case"w":t=y_(1);break;case"ww":t=y_(2);break;case"W":t=y_(1,!0);break;case"d":t=nt(pe.Date,1);break;case"dd":t=nt(pe.Date,2);break;case"c":case"cc":t=nt(pe.Day,1);break;case"ccc":t=Re(ge.Days,De.Abbreviated,Wt.Standalone);break;case"cccc":t=Re(ge.Days,De.Wide,Wt.Standalone);break;case"ccccc":t=Re(ge.Days,De.Narrow,Wt.Standalone);break;case"cccccc":t=Re(ge.Days,De.Short,Wt.Standalone);break;case"E":case"EE":case"EEE":t=Re(ge.Days,De.Abbreviated);break;case"EEEE":t=Re(ge.Days,De.Wide);break;case"EEEEE":t=Re(ge.Days,De.Narrow);break;case"EEEEEE":t=Re(ge.Days,De.Short);break;case"a":case"aa":case"aaa":t=Re(ge.DayPeriods,De.Abbreviated);break;case"aaaa":t=Re(ge.DayPeriods,De.Wide);break;case"aaaaa":t=Re(ge.DayPeriods,De.Narrow);break;case"b":case"bb":case"bbb":t=Re(ge.DayPeriods,De.Abbreviated,Wt.Standalone,!0);break;case"bbbb":t=Re(ge.DayPeriods,De.Wide,Wt.Standalone,!0);break;case"bbbbb":t=Re(ge.DayPeriods,De.Narrow,Wt.Standalone,!0);break;case"B":case"BB":case"BBB":t=Re(ge.DayPeriods,De.Abbreviated,Wt.Format,!0);break;case"BBBB":t=Re(ge.DayPeriods,De.Wide,Wt.Format,!0);break;case"BBBBB":t=Re(ge.DayPeriods,De.Narrow,Wt.Format,!0);break;case"h":t=nt(pe.Hours,1,-12);break;case"hh":t=nt(pe.Hours,2,-12);break;case"H":t=nt(pe.Hours,1);break;case"HH":t=nt(pe.Hours,2);break;case"m":t=nt(pe.Minutes,1);break;case"mm":t=nt(pe.Minutes,2);break;case"s":t=nt(pe.Seconds,1);break;case"ss":t=nt(pe.Seconds,2);break;case"S":t=nt(pe.FractionalSeconds,1);break;case"SS":t=nt(pe.FractionalSeconds,2);break;case"SSS":t=nt(pe.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Zd(jr.Short);break;case"ZZZZZ":t=Zd(jr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Zd(jr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Zd(jr.Long);break;default:return null}return C_[e]=t,t}(u);l+=d?d(i,n,c):"''"===u?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Qd(e,t,n){const r=new Date(0);return r.setFullYear(e,t,n),r.setHours(0,0,0),r}function Br(e,t){const n=function qG(e){return Ht(e)[xe.LocaleId]}(e);if(Nc[n]=Nc[n]||{},Nc[n][t])return Nc[n][t];let r="";switch(t){case"shortDate":r=qd(e,yn.Short);break;case"mediumDate":r=qd(e,yn.Medium);break;case"longDate":r=qd(e,yn.Long);break;case"fullDate":r=qd(e,yn.Full);break;case"shortTime":r=Kd(e,yn.Short);break;case"mediumTime":r=Kd(e,yn.Medium);break;case"longTime":r=Kd(e,yn.Long);break;case"fullTime":r=Kd(e,yn.Full);break;case"short":const i=Br(e,"shortTime"),o=Br(e,"shortDate");r=Xd(Yd(e,yn.Short),[i,o]);break;case"medium":const s=Br(e,"mediumTime"),a=Br(e,"mediumDate");r=Xd(Yd(e,yn.Medium),[s,a]);break;case"long":const c=Br(e,"longTime"),l=Br(e,"longDate");r=Xd(Yd(e,yn.Long),[c,l]);break;case"full":const u=Br(e,"fullTime"),d=Br(e,"fullDate");r=Xd(Yd(e,yn.Full),[u,d])}return r&&(Nc[n][t]=r),r}function Xd(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(n,r){return null!=t&&r in t?t[r]:n})),e}function Hn(e,t,n="-",r,i){let o="";(e<0||i&&e<=0)&&(i?e=1-e:(e=-e,o=n));let s=String(e);for(;s.length<t;)s="0"+s;return r&&(s=s.slice(s.length-t)),o+s}function nt(e,t,n=0,r=!1,i=!1){return function(o,s){let a=function lq(e,t){switch(e){case pe.FullYear:return t.getFullYear();case pe.Month:return t.getMonth();case pe.Date:return t.getDate();case pe.Hours:return t.getHours();case pe.Minutes:return t.getMinutes();case pe.Seconds:return t.getSeconds();case pe.FractionalSeconds:return t.getMilliseconds();case pe.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,o);if((n>0||a>-n)&&(a+=n),e===pe.Hours)0===a&&-12===n&&(a=12);else if(e===pe.FractionalSeconds)return function cq(e,t){return Hn(e,3).substring(0,t)}(a,t);const c=Rn(s,Ze.MinusSign);return Hn(a,t,c,r,i)}}function Re(e,t,n=Wt.Format,r=!1){return function(i,o){return function uq(e,t,n,r,i,o){switch(n){case ge.Months:return function QG(e,t,n){const r=Ht(e),o=Pn([r[xe.MonthsFormat],r[xe.MonthsStandalone]],t);return Pn(o,n)}(t,i,r)[e.getMonth()];case ge.Days:return function YG(e,t,n){const r=Ht(e),o=Pn([r[xe.DaysFormat],r[xe.DaysStandalone]],t);return Pn(o,n)}(t,i,r)[e.getDay()];case ge.DayPeriods:const s=e.getHours(),a=e.getMinutes();if(o){const l=function eq(e){const t=Ht(e);return mx(t),(t[xe.ExtraData][2]||[]).map(r=>"string"==typeof r?v_(r):[v_(r[0]),v_(r[1])])}(t),u=function tq(e,t,n){const r=Ht(e);mx(r);const o=Pn([r[xe.ExtraData][0],r[xe.ExtraData][1]],t)||[];return Pn(o,n)||[]}(t,i,r),d=l.findIndex(h=>{if(Array.isArray(h)){const[f,g]=h,v=s>=f.hours&&a>=f.minutes,E=s<g.hours||s===g.hours&&a<g.minutes;if(f.hours<g.hours){if(v&&E)return!0}else if(v||E)return!0}else if(h.hours===s&&h.minutes===a)return!0;return!1});if(-1!==d)return u[d]}return function KG(e,t,n){const r=Ht(e),o=Pn([r[xe.DayPeriodsFormat],r[xe.DayPeriodsStandalone]],t);return Pn(o,n)}(t,i,r)[s<12?0:1];case ge.Eras:return function XG(e,t){return Pn(Ht(e)[xe.Eras],t)}(t,r)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(i,o,e,t,n,r)}}function Zd(e){return function(t,n,r){const i=-1*r,o=Rn(n,Ze.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case jr.Short:return(i>=0?"+":"")+Hn(s,2,o)+Hn(Math.abs(i%60),2,o);case jr.ShortGMT:return"GMT"+(i>=0?"+":"")+Hn(s,1,o);case jr.Long:return"GMT"+(i>=0?"+":"")+Hn(s,2,o)+":"+Hn(Math.abs(i%60),2,o);case jr.Extended:return 0===r?"Z":(i>=0?"+":"")+Hn(s,2,o)+":"+Hn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${e}"`)}}}const dq=0,Jd=4;function _x(e){return Qd(e.getFullYear(),e.getMonth(),e.getDate()+(Jd-e.getDay()))}function y_(e,t=!1){return function(n,r){let i;if(t){const o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{const o=_x(n),s=function hq(e){const t=Qd(e,dq,1).getDay();return Qd(e,0,1+(t<=Jd?Jd:Jd+7)-t)}(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Hn(i,e,Rn(r,Ze.MinusSign))}}function eh(e,t=!1){return function(n,r){return Hn(_x(n).getFullYear(),e,Rn(r,Ze.MinusSign),t)}}const C_={};function vx(e,t){e=e.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function yx(e){return e instanceof Date&&!isNaN(e.valueOf())}const vq=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Cx=22,th=".",Oc="0",yq=";",Cq=",",b_="#";function w_(e,t,n,r,i,o,s=!1){let a="",c=!1;if(isFinite(e)){let l=function Tq(e){let r,i,o,s,a,t=Math.abs(e)+"",n=0;for((i=t.indexOf(th))>-1&&(t=t.replace(th,"")),(o=t.search(/e/i))>0?(i<0&&(i=o),i+=+t.slice(o+1),t=t.substring(0,o)):i<0&&(i=t.length),o=0;t.charAt(o)===Oc;o++);if(o===(a=t.length))r=[0],i=1;else{for(a--;t.charAt(a)===Oc;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(t.charAt(o))}return i>Cx&&(r=r.splice(0,Cx-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}(e);s&&(l=function Dq(e){if(0===e.digits[0])return e;const t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===t?e.digits.push(0,0):1===t&&e.digits.push(0),e.integerLen+=2),e}(l));let u=t.minInt,d=t.minFrac,h=t.maxFrac;if(o){const b=o.match(vq);if(null===b)throw new Error(`${o} is not a valid digit info`);const F=b[1],j=b[3],Z=b[5];null!=F&&(u=I_(F)),null!=j&&(d=I_(j)),null!=Z?h=I_(Z):null!=j&&d>h&&(h=d)}!function Sq(e,t,n){if(t>n)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${n}).`);let r=e.digits,i=r.length-e.integerLen;const o=Math.min(Math.max(t,i),n);let s=o+e.integerLen,a=r[s];if(s>0){r.splice(Math.max(e.integerLen,s));for(let d=s;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),e.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let d=1;d<s;d++)r[d]=0}if(a>=5)if(s-1<0){for(let d=0;d>s;d--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let c=0!==o;const l=t+e.integerLen,u=r.reduceRight(function(d,h,f,g){return g[f]=(h+=d)<10?h:h-10,c&&(0===g[f]&&f>=l?g.pop():c=!1),h>=10?1:0},0);u&&(r.unshift(u),e.integerLen++)}(l,d,h);let f=l.digits,g=l.integerLen;const v=l.exponent;let E=[];for(c=f.every(b=>!b);g<u;g++)f.unshift(0);for(;g<0;g++)f.unshift(0);g>0?E=f.splice(g,f.length):(E=f,f=[0]);const I=[];for(f.length>=t.lgSize&&I.unshift(f.splice(-t.lgSize,f.length).join(""));f.length>t.gSize;)I.unshift(f.splice(-t.gSize,f.length).join(""));f.length&&I.unshift(f.join("")),a=I.join(Rn(n,r)),E.length&&(a+=Rn(n,i)+E.join("")),v&&(a+=Rn(n,Ze.Exponential)+"+"+v)}else a=Rn(n,Ze.Infinity);return a=e<0&&!c?t.negPre+a+t.negSuf:t.posPre+a+t.posSuf,a}function E_(e,t="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(yq),i=r[0],o=r[1],s=-1!==i.indexOf(th)?i.split(th):[i.substring(0,i.lastIndexOf(Oc)+1),i.substring(i.lastIndexOf(Oc)+1)],a=s[0],c=s[1]||"";n.posPre=a.substring(0,a.indexOf(b_));for(let u=0;u<c.length;u++){const d=c.charAt(u);d===Oc?n.minFrac=n.maxFrac=u+1:d===b_?n.maxFrac=u+1:n.posSuf+=d}const l=a.split(Cq);if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){const u=i.length-n.posPre.length-n.posSuf.length,d=o.indexOf(b_);n.negPre=o.substring(0,d).replace(/'/g,""),n.negSuf=o.slice(d+u).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}function I_(e){const t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}const T_=/\s+/,Ex=[];let Ix=(()=>{class e{constructor(n,r,i,o){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this.initialClasses=Ex,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(T_):Ex}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(T_):n}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const r of n)this._updateState(r,!0);else if(null!=n)for(const r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){const i=this.stateMap.get(n);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){(n=n.trim()).length>0&&n.split(T_).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||e)(C(zd),C(kc),C(mn),C(Nr))}}static{this.\u0275dir=z({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return e})();class Pq{constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ro=(()=>{class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Pq(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),Tx(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{Tx(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(C($n),C(Vr),C(zd))}}static{this.\u0275dir=z({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return e})();function Tx(e,t){e.context.$implicit=t.item}let dt=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new kq,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Sx("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Sx("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(C($n),C(Vr))}}static{this.\u0275dir=z({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return e})();class kq{constructor(){this.$implicit=null,this.ngIf=null}}function Sx(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${ot(t)}'.`)}function zn(e,t){return new S(2100,!1)}class Fq{createSubscription(t,n){return YD(()=>t.subscribe({next:n,error:r=>{throw r}}))}dispose(t){YD(()=>t.unsubscribe())}}class Lq{createSubscription(t,n){return t.then(n,r=>{throw r})}dispose(t){}}const Vq=new Lq,Uq=new Fq;let Mx=(()=>{class e{constructor(n){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){return this._obj?n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue:(n&&this._subscribe(n),this._latestValue)}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(wc(n))return Vq;if(uA(n))return Uq;throw zn()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this._ref.markForCheck())}static{this.\u0275fac=function(r){return new(r||e)(C(Bd,16))}}static{this.\u0275pipe=en({name:"async",type:e,pure:!1,standalone:!0})}}return e})();const Wq=new P("DATE_PIPE_DEFAULT_TIMEZONE"),Gq=new P("DATE_PIPE_DEFAULT_OPTIONS");let M_=(()=>{class e{constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(null==n||""===n||n!=n)return null;try{return aq(n,r??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(s){throw zn()}}static{this.\u0275fac=function(r){return new(r||e)(C(ur,16),C(Wq,24),C(Gq,24))}}static{this.\u0275pipe=en({name:"date",type:e,pure:!0,standalone:!0})}}return e})(),x_=(()=>{class e{constructor(n){this._locale=n}transform(n,r,i){if(!R_(n))return null;i=i||this._locale;try{return function Iq(e,t,n){return w_(e,E_(__(t,Gd.Decimal),Rn(t,Ze.MinusSign)),t,Ze.Group,Ze.Decimal,n)}(P_(n),i,r)}catch(o){throw zn()}}static{this.\u0275fac=function(r){return new(r||e)(C(ur,16))}}static{this.\u0275pipe=en({name:"number",type:e,pure:!0,standalone:!0})}}return e})(),io=(()=>{class e{constructor(n,r="USD"){this._locale=n,this._defaultCurrencyCode=r}transform(n,r=this._defaultCurrencyCode,i="symbol",o,s){if(!R_(n))return null;s=s||this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;"code"!==i&&(a="symbol"===i||"symbol-narrow"===i?function nq(e,t,n="en"){const r=function ZG(e){return Ht(e)[xe.Currencies]}(n)[e]||gx[e]||[],i=r[1];return"narrow"===t&&"string"==typeof i?i:r[0]||e}(a,"symbol"===i?"wide":"narrow",s):i);try{return function wq(e,t,n,r,i){const s=E_(__(t,Gd.Currency),Rn(t,Ze.MinusSign));return s.minFrac=function iq(e){let t;const n=gx[e];return n&&(t=n[2]),"number"==typeof t?t:2}(r),s.maxFrac=s.minFrac,w_(e,s,t,Ze.CurrencyGroup,Ze.CurrencyDecimal,i).replace("\xa4",n).replace("\xa4","").trim()}(P_(n),s,a,r,o)}catch(c){throw zn()}}static{this.\u0275fac=function(r){return new(r||e)(C(ur,16),C(RW,16))}}static{this.\u0275pipe=en({name:"currency",type:e,pure:!0,standalone:!0})}}return e})();function R_(e){return!(null==e||""===e||e!=e)}function P_(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error(`${e} is not a number`);return e}let e5=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Jt({type:e})}static{this.\u0275inj=Ft({})}}return e})();function Px(e){return"server"===e}let i5=(()=>{class e{static{this.\u0275prov=V({token:e,providedIn:"root",factory:()=>new o5(O(xn),window)})}}return e})();class o5{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function s5(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class x5 extends UG{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class O_ extends x5{static makeCurrent(){!function VG(e){f_||(f_=e)}(new O_)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function R5(){return Lc=Lc||document.querySelector("base"),Lc?Lc.getAttribute("href"):null}();return null==n?null:function P5(e){ih=ih||document.createElement("a"),ih.setAttribute("href",e);const t=ih.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){Lc=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function xq(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let ih,Lc=null,N5=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})();const F_=new P("EventManagerPlugins");let Lx=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new S(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||e)(O(F_),O(_e))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})();class Vx{constructor(t){this._doc=t}}const L_="ng-app-id";let Ux=(()=>{class e{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Px(o),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${L_}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(L_),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(L_,this.appId),s}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||e)(O(xn),O(ad),O(B0,8),O(pi))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})();const V_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},U_=/%COMP%/g,V5=new P("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Bx(e,t){return t.map(n=>n.replace(U_,e))}let $x=(()=>{class e{constructor(n,r,i,o,s,a,c,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Px(a),this.defaultRenderer=new j_(n,s,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Fn.ShadowDom&&(r={...r,encapsulation:Fn.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof zx?i.applyToHost(n):i instanceof B_&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case Fn.Emulated:o=new zx(c,l,r,this.appId,u,s,a,d);break;case Fn.ShadowDom:return new $5(c,l,n,r,s,a,this.nonce,d);default:o=new B_(c,l,r,u,s,a,d)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||e)(O(Lx),O(Ux),O(ad),O(V5),O(xn),O(pi),O(_e),O(B0))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})();class j_{constructor(t,n,r,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(V_[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(Hx(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(Hx(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new S(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const o=V_[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=V_[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(hi.DashCase|hi.Important)?t.style.setProperty(n,r,i&hi.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&hi.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){if("string"==typeof t&&!(t=_i().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))&&n.preventDefault()}}}function Hx(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class $5 extends j_{constructor(t,n,r,i,o,s,a,c){super(t,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Bx(i.id,i.styles);for(const u of l){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class B_ extends j_{constructor(t,n,r,i,o,s,a,c){super(t,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?Bx(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class zx extends B_{constructor(t,n,r,i,o,s,a,c){const l=i+"-"+r.id;super(t,n,r,o,s,a,c,l),this.contentAttr=function U5(e){return"_ngcontent-%COMP%".replace(U_,e)}(l),this.hostAttr=function j5(e){return"_nghost-%COMP%".replace(U_,e)}(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}let H5=(()=>{class e extends Vx{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||e)(O(xn))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})();const Wx=["alt","control","meta","shift"],z5={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},W5={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let G5=(()=>{class e extends Vx{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i){const o=e.parseEventName(r),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>_i().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=e._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Wx.forEach(l=>{const u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,0!=r.length||0===o.length)return null;const c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=z5[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Wx.forEach(s=>{s!==i&&(0,W5[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}static{this.\u0275fac=function(r){return new(r||e)(O(xn))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})();const Q5=V1(IG,"browser",[{provide:pi,useValue:"browser"},{provide:j0,useValue:function q5(){O_.makeCurrent()},multi:!0},{provide:xn,useFactory:function Y5(){return function NB(e){Mg=e}(document),document},deps:[]}]),X5=new P(""),Kx=[{provide:Ud,useClass:class k5{addToWindow(t){Ae.getAngularTestability=(r,i=!0)=>{const o=t.findTestabilityInTree(r,i);if(null==o)throw new S(5103,!1);return o},Ae.getAllAngularTestabilities=()=>t.getAllTestabilities(),Ae.getAllAngularRootElements=()=>t.getAllRootElements(),Ae.frameworkStabilizers||(Ae.frameworkStabilizers=[]),Ae.frameworkStabilizers.push(r=>{const i=Ae.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(c){s=s||c,o--,0==o&&r(s)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?_i().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:k1,useClass:n_,deps:[_e,r_,Ud]},{provide:n_,useClass:n_,deps:[_e,r_,Ud]}],Yx=[{provide:Vg,useValue:"root"},{provide:Or,useFactory:function K5(){return new Or},deps:[]},{provide:F_,useClass:H5,multi:!0,deps:[xn,_e,pi]},{provide:F_,useClass:G5,multi:!0,deps:[xn]},$x,Ux,Lx,{provide:q0,useExisting:$x},{provide:class a5{},useClass:N5,deps:[]},[]];let Z5=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:ad,useValue:n.appId}]}}static{this.\u0275fac=function(r){return new(r||e)(O(X5,12))}}static{this.\u0275mod=Jt({type:e})}static{this.\u0275inj=Ft({providers:[...Yx,...Kx],imports:[e5,DG]})}}return e})(),Qx=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||e)(O(xn))}}static{this.\u0275prov=V({token:e,factory:function(r){let i=null;return i=r?new r:function e6(){return new Qx(O(xn))}(),i},providedIn:"root"})}}return e})();typeof window<"u"&&window;const{isArray:s6}=Array,{getPrototypeOf:a6,prototype:c6,keys:l6}=Object;function eR(e){if(1===e.length){const t=e[0];if(s6(t))return{args:t,keys:null};if(function u6(e){return e&&"object"==typeof e&&a6(e)===c6}(t)){const n=l6(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}const{isArray:d6}=Array;function tR(e){return Ie(t=>function h6(e,t){return d6(t)?e(...t):e(t)}(e,t))}function nR(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function H_(...e){const t=Fa(e),n=Ep(e),{args:r,keys:i}=eR(e);if(0===r.length)return lt([],t);const o=new Le(function f6(e,t,n=Tr){return r=>{rR(t,()=>{const{length:i}=e,o=new Array(i);let s=i,a=i;for(let c=0;c<i;c++)rR(t,()=>{const l=lt(e[c],t);let u=!1;l.subscribe(Ve(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,t,i?s=>nR(i,s):Tr));return n?o.pipe(tR(n)):o}function rR(e,t,n){e?Sr(n,e,t):t()}const oh=Na(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function z_(...e){return function p6(){return qo(1)}()(lt(e,Fa(e)))}function iR(e){return new Le(t=>{Xt(e()).subscribe(t)})}function Vc(e,t){const n=Ee(e)?e:()=>e,r=i=>i.error(n());return new Le(t?i=>t.schedule(r,0,i):r)}function W_(){return Ke((e,t)=>{let n=null;e._refCount++;const r=Ve(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class oR extends Le{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,qI(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Qt;const n=this.getSubject();t.add(this.source.subscribe(Ve(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Qt.EMPTY)}return t}refCount(){return W_()(this)}}function oo(e){return e<=0?()=>Qn:Ke((t,n)=>{let r=0;t.subscribe(Ve(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function $r(e,t){return Ke((n,r)=>{let i=0;n.subscribe(Ve(r,o=>e.call(t,o,i++)&&r.next(o)))})}function sh(e){return Ke((t,n)=>{let r=!1;t.subscribe(Ve(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function sR(e=m6){return Ke((t,n)=>{let r=!1;t.subscribe(Ve(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function m6(){return new oh}function so(e,t){const n=arguments.length>=2;return r=>r.pipe(e?$r((i,o)=>e(i,o,r)):Tr,oo(1),n?sh(t):sR(()=>new oh))}function Uc(e,t){return Ee(t)?vt(e,t,1):vt(e,1)}function It(e,t,n){const r=Ee(e)||t||n?{next:e,error:t,complete:n}:e;return r?Ke((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Ve(o,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),o.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),o.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),o.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):Tr}function ao(e){return Ke((t,n)=>{let o,r=null,i=!1;r=t.subscribe(Ve(n,void 0,void 0,s=>{o=Xt(e(s,ao(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function G_(e){return e<=0?()=>Qn:Ke((t,n)=>{let r=[];t.subscribe(Ve(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function q_(e){return Ke((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}const X="primary",jc=Symbol("RouteTitle");class w6{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Ws(e){return new w6(e)}function E6(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=e[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function dr(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!aR(e[i],t[i]))return!1;return!0}function aR(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}return e===t}function cR(e){return e.length>0?e[e.length-1]:null}function yi(e){return function o6(e){return!!e&&(e instanceof Le||Ee(e.lift)&&Ee(e.subscribe))}(e)?e:wc(e)?lt(Promise.resolve(e)):W(e)}const D6={exact:function dR(e,t,n){if(!co(e.segments,t.segments)||!ah(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!dR(e.children[r],t.children[r],n))return!1;return!0},subset:hR},lR={exact:function T6(e,t){return dr(e,t)},subset:function S6(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>aR(e[n],t[n]))},ignored:()=>!0};function uR(e,t,n){return D6[n.paths](e.root,t.root,n.matrixParams)&&lR[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function hR(e,t,n){return fR(e,t,t.segments,n)}function fR(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!(!co(i,n)||t.hasChildren()||!ah(i,n,r))}if(e.segments.length===n.length){if(!co(e.segments,n)||!ah(e.segments,n,r))return!1;for(const i in t.children)if(!e.children[i]||!hR(e.children[i],t.children[i],r))return!1;return!0}{const i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!!(co(e.segments,i)&&ah(e.segments,i,r)&&e.children[X])&&fR(e.children[X],t,o,r)}}function ah(e,t,n){return t.every((r,i)=>lR[n](e[i].parameters,r.parameters))}class Gs{constructor(t=new be([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ws(this.queryParams)),this._queryParamMap}toString(){return x6.serialize(this)}}class be{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ch(this)}}class Bc{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Ws(this.parameters)),this._parameterMap}toString(){return mR(this)}}function co(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let $c=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:function(){return new K_},providedIn:"root"})}}return e})();class K_{parse(t){const n=new B6(t);return new Gs(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${Hc(t.root,!0)}`,r=function k6(e){const t=Object.keys(e).map(n=>{const r=e[n];return Array.isArray(r)?r.map(i=>`${lh(n)}=${lh(i)}`).join("&"):`${lh(n)}=${lh(r)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function R6(e){return encodeURI(e)}(t.fragment)}`:""}`}}const x6=new K_;function ch(e){return e.segments.map(t=>mR(t)).join("/")}function Hc(e,t){if(!e.hasChildren())return ch(e);if(t){const n=e.children[X]?Hc(e.children[X],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==X&&r.push(`${i}:${Hc(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function M6(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===X&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==X&&(n=n.concat(t(i,r)))}),n}(e,(r,i)=>i===X?[Hc(e.children[X],!1)]:[`${i}:${Hc(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[X]?`${ch(e)}/${n[0]}`:`${ch(e)}/(${n.join("//")})`}}function pR(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function lh(e){return pR(e).replace(/%3B/gi,";")}function Y_(e){return pR(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function uh(e){return decodeURIComponent(e)}function gR(e){return uh(e.replace(/\+/g,"%20"))}function mR(e){return`${Y_(e.path)}${function P6(e){return Object.keys(e).map(t=>`;${Y_(t)}=${Y_(e[t])}`).join("")}(e.parameters)}`}const N6=/^[^\/()?;#]+/;function Q_(e){const t=e.match(N6);return t?t[0]:""}const O6=/^[^\/()?;=#]+/,L6=/^[^=?&#]+/,U6=/^[^&#]+/;class B6{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new be([],{}):new be([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[X]=new be(t,n)),r}parseSegment(){const t=Q_(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new S(4009,!1);return this.capture(t),new Bc(uh(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=function F6(e){const t=e.match(O6);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Q_(this.remaining);i&&(r=i,this.capture(r))}t[uh(n)]=uh(r)}parseQueryParam(t){const n=function V6(e){const t=e.match(L6);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function j6(e){const t=e.match(U6);return t?t[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=gR(n),o=gR(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Q_(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new S(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=X);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[X]:new be([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new S(4011,!1)}}function _R(e){return e.segments.length>0?new be([],{[X]:e}):e}function vR(e){const t={};for(const r of Object.keys(e.children)){const o=vR(e.children[r]);if(r===X&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}return function $6(e){if(1===e.numberOfChildren&&e.children[X]){const t=e.children[X];return new be(e.segments.concat(t.segments),t.children)}return e}(new be(e.segments,t))}function lo(e){return e instanceof Gs}function yR(e){let t;const i=_R(function n(o){const s={};for(const c of o.children){const l=n(c);s[c.outlet]=l}const a=new be(o.url,s);return o===e&&(t=a),a}(e.root));return t??i}function CR(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(0===t.length)return X_(i,i,i,n,r);const o=function z6(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new wR(!0,0,e);let t=0,n=!1;const r=e.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?t++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new wR(n,t,r)}(t);if(o.toRoot())return X_(i,i,new be([],{}),n,r);const s=function W6(e,t,n){if(e.isAbsolute)return new hh(t,!0,0);if(!n)return new hh(t,!1,NaN);if(null===n.parent)return new hh(n,!0,0);const r=dh(e.commands[0])?0:1;return function G6(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new S(4005,!1);i=r.segments.length}return new hh(r,!1,i-o)}(n,n.segments.length-1+r,e.numberOfDoubleDots)}(o,i,e),a=s.processChildren?Wc(s.segmentGroup,s.index,o.commands):ER(s.segmentGroup,s.index,o.commands);return X_(i,s.segmentGroup,a,n,r)}function dh(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function zc(e){return"object"==typeof e&&null!=e&&e.outlets}function X_(e,t,n,r,i){let s,o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),s=e===t?n:bR(e,t,n);const a=_R(vR(s));return new Gs(a,o,i)}function bR(e,t,n){const r={};return Object.entries(e.children).forEach(([i,o])=>{r[i]=o===t?n:bR(o,t,n)}),new be(e.segments,r)}class wR{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&dh(r[0]))throw new S(4003,!1);const i=r.find(zc);if(i&&i!==cR(r))throw new S(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class hh{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function ER(e,t,n){if(e||(e=new be([],{})),0===e.segments.length&&e.hasChildren())return Wc(e,t,n);const r=function K6(e,t,n){let r=0,i=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;const s=e.segments[i],a=n[r];if(zc(a))break;const c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!DR(c,l,s))return o;r+=2}else{if(!DR(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const o=new be(e.segments.slice(0,r.pathIndex),{});return o.children[X]=new be(e.segments.slice(r.pathIndex),e.children),Wc(o,0,i)}return r.match&&0===i.length?new be(e.segments,{}):r.match&&!e.hasChildren()?Z_(e,t,n):r.match?Wc(e,0,i):Z_(e,t,n)}function Wc(e,t,n){if(0===n.length)return new be(e.segments,{});{const r=function q6(e){return zc(e[0])?e[0].outlets:{[X]:e}}(n),i={};if(Object.keys(r).some(o=>o!==X)&&e.children[X]&&1===e.numberOfChildren&&0===e.children[X].segments.length){const o=Wc(e.children[X],t,n);return new be(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=ER(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new be(e.segments,i)}}function Z_(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const o=n[i];if(zc(o)){const c=Y6(o.outlets);return new be(r,c)}if(0===i&&dh(n[0])){r.push(new Bc(e.segments[t].path,IR(n[0]))),i++;continue}const s=zc(o)?o.outlets[X]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&dh(a)?(r.push(new Bc(s,IR(a))),i+=2):(r.push(new Bc(s,{})),i++)}return new be(r,{})}function Y6(e){const t={};return Object.entries(e).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(t[n]=Z_(new be([],{}),0,r))}),t}function IR(e){const t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function DR(e,t,n){return e==n.path&&dr(t,n.parameters)}const Gc="imperative";class hr{constructor(t,n){this.id=t,this.url=n}}class fh extends hr{constructor(t,n,r="imperative",i=null){super(t,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Hr extends hr{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class qc extends hr{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class qs extends hr{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=16}}class ph extends hr{constructor(t,n,r,i){super(t,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class TR extends hr{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Q6 extends hr{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class X6 extends hr{constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Z6 extends hr{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class J6 extends hr{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class e8{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class t8{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class n8{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class r8{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class i8{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class o8{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class SR{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class J_{}class ev{constructor(t){this.url=t}}class s8{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Kc,this.attachRef=null}}let Kc=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new s8,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();class AR{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=tv(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=tv(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=nv(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return nv(t,this._root).map(n=>n.value)}}function tv(e,t){if(e===t.value)return t;for(const n of t.children){const r=tv(e,n);if(r)return r}return null}function nv(e,t){if(e===t.value)return[t];for(const n of t.children){const r=nv(e,n);if(r.length)return r.unshift(t),r}return[]}class zr{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function Ks(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class MR extends AR{constructor(t,n){super(t),this.snapshot=n,rv(this,t)}toString(){return this.snapshot.toString()}}function xR(e,t){const n=function a8(e,t){const s=new gh([],{},{},"",{},X,t,null,{});return new PR("",new zr(s,[]))}(0,t),r=new $e([new Bc("",{})]),i=new $e({}),o=new $e({}),s=new $e({}),a=new $e(""),c=new uo(r,i,s,a,o,X,t,n.root);return c.snapshot=n.root,new MR(new zr(c,[]),n)}class uo{constructor(t,n,r,i,o,s,a,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Ie(l=>l[jc]))??W(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ie(t=>Ws(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ie(t=>Ws(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function RR(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function c8(e){return e.reduce((t,n)=>({params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class gh{get title(){return this.data?.[jc]}constructor(t,n,r,i,o,s,a,c,l){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ws(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ws(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class PR extends AR{constructor(t,n){super(n),this.url=t,rv(this,n)}toString(){return kR(this._root)}}function rv(e,t){t.value._routerState=e,t.children.forEach(n=>rv(e,n))}function kR(e){const t=e.children.length>0?` { ${e.children.map(kR).join(", ")} } `:"";return`${e.value}${t}`}function iv(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,dr(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),dr(t.params,n.params)||e.paramsSubject.next(n.params),function I6(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!dr(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.urlSubject.next(n.url),dr(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function ov(e,t){const n=dr(e.params,t.params)&&function A6(e,t){return co(e,t)&&e.every((n,r)=>dr(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||ov(e.parent,t.parent))}let sv=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=X,this.activateEvents=new ae,this.deactivateEvents=new ae,this.attachEvents=new ae,this.detachEvents=new ae,this.parentContexts=L(Kc),this.location=L($n),this.changeDetector=L(Bd),this.environmentInjector=L(Sn),this.inputBinder=L(mh,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new S(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new S(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new S(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new S(4013,!1);this._activatedRoute=n;const i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new l8(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=z({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Dn]})}}return e})();class l8{constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===uo?this.route:t===Kc?this.childContexts:this.parent.get(t,n)}}const mh=new P("");let NR=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=H_([r.queryParams,r.params,r.data]).pipe(Xn(([o,s,a],c)=>(a={...o,...s,...a},0===c?W(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const s=function LG(e){const t=oe(e);if(!t)return null;const n=new _c(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})();function Yc(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function d8(e,t,n){return t.children.map(r=>{for(const i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Yc(e,r,i);return Yc(e,r)})}(e,t,n);return new zr(r,i)}{if(e.shouldAttach(t.value)){const o=e.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Yc(e,a)),s}}const r=function h8(e){return new uo(new $e(e.url),new $e(e.params),new $e(e.queryParams),new $e(e.fragment),new $e(e.data),e.outlet,e.component,e)}(t.value),i=t.children.map(o=>Yc(e,o));return new zr(r,i)}}const av="ngNavigationCancelingError";function OR(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=lo(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=FR(!1,0,t);return i.url=n,i.navigationBehaviorOptions=r,i}function FR(e,t,n){const r=new Error("NavigationCancelingError: "+(e||""));return r[av]=!0,r.cancellationCode=t,n&&(r.url=n),r}function LR(e){return e&&e[av]}let VR=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=de({type:e,selectors:[["ng-component"]],standalone:!0,features:[kM],decls:1,vars:0,template:function(r,i){1&r&&A(0,"router-outlet")},dependencies:[sv],encapsulation:2})}}return e})();function cv(e){const t=e.children&&e.children.map(cv),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==X&&(n.component=VR),n}function Wn(e){return e.outlet||X}function Qc(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class C8{constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),iv(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const i=Ks(n);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){const i=t.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Ks(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Ks(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){const i=Ks(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new o8(o.value.snapshot))}),t.children.length&&this.forwardEvent(new r8(t.value.snapshot))}activateRoutes(t,n,r){const i=t.value,o=n?n.value:null;if(iv(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),iv(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=Qc(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,r)}}class UR{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class _h{constructor(t,n){this.component=t,this.route=n}}function b8(e,t,n){const r=e._root;return Xc(r,t?t._root:null,n,[r.value])}function Ys(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function QV(e){return null!==_u(e)}(e)?t.get(e):e:r}function Xc(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Ks(t);return e.children.forEach(s=>{(function E8(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function I8(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!co(e.url,t.url);case"pathParamsOrQueryParamsChange":return!co(e.url,t.url)||!dr(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ov(e,t)||!dr(e.queryParams,t.queryParams);default:return!ov(e,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new UR(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Xc(e,t,o.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new _h(a.outlet.component,s))}else s&&Zc(t,a,i),i.canActivateChecks.push(new UR(r)),Xc(e,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Zc(a,n.getContext(s),i)),i}function Zc(e,t,n){const r=Ks(e),i=e.value;Object.entries(r).forEach(([o,s])=>{Zc(s,i.component?t?t.children.getContext(o):null:t,n)}),n.canDeactivateChecks.push(new _h(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function Jc(e){return"function"==typeof e}function jR(e){return e instanceof oh||"EmptyError"===e?.name}const vh=Symbol("INITIAL_VALUE");function Qs(){return Xn(e=>H_(e.map(t=>t.pipe(oo(1),function g6(...e){const t=Fa(e);return Ke((n,r)=>{(t?z_(e,n,t):z_(e,n)).subscribe(r)})}(vh)))).pipe(Ie(t=>{for(const n of t)if(!0!==n){if(n===vh)return vh;if(!1===n||n instanceof Gs)return n}return!0}),$r(t=>t!==vh),oo(1)))}function BR(e){return function Y2(...e){return zI(e)}(It(t=>{if(lo(t))throw OR(0,t)}),Ie(t=>!0===t))}class yh{constructor(t){this.segmentGroup=t||null}}class $R{constructor(t){this.urlTree=t}}function Xs(e){return Vc(new yh(e))}function HR(e){return Vc(new $R(e))}class z8{constructor(t,n){this.urlSerializer=t,this.urlTree=n}noMatchError(t){return new S(4002,!1)}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return W(r);if(i.numberOfChildren>1||!i.children[X])return Vc(new S(4e3,!1));i=i.children[X]}}applyRedirectCommands(t,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r)}applyRedirectCreateUrlTree(t,n,r,i){const o=this.createSegmentGroup(t,n.root,r,i);return new Gs(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return Object.entries(t).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){const o=this.createSegments(t,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,r,i)}),new be(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){const i=r[n.path.substring(1)];if(!i)throw new S(4001,!1);return i}findOrReturn(t,n){let r=0;for(const i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}}const lv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function W8(e,t,n,r,i){const o=uv(e,t,n);return o.matched?(r=function p8(e,t){return e.providers&&!e._injector&&(e._injector=Vm(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,r),function B8(e,t,n,r){const i=t.canMatch;return i&&0!==i.length?W(i.map(s=>{const a=Ys(s,e);return yi(function x8(e){return e&&Jc(e.canMatch)}(a)?a.canMatch(t,n):e.runInContext(()=>a(t,n)))})).pipe(Qs(),BR()):W(!0)}(r,t,n).pipe(Ie(s=>!0===s?o:{...lv}))):W(o)}function uv(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...lv}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(t.matcher||E6)(n,e,t);if(!i)return{...lv};const o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function zR(e,t,n,r){return n.length>0&&function K8(e,t,n){return n.some(r=>Ch(e,t,r)&&Wn(r)!==X)}(e,n,r)?{segmentGroup:new be(t,q8(r,new be(n,e.children))),slicedSegments:[]}:0===n.length&&function Y8(e,t,n){return n.some(r=>Ch(e,t,r))}(e,n,r)?{segmentGroup:new be(e.segments,G8(e,0,n,r,e.children)),slicedSegments:n}:{segmentGroup:new be(e.segments,e.children),slicedSegments:n}}function G8(e,t,n,r,i){const o={};for(const s of r)if(Ch(e,n,s)&&!i[Wn(s)]){const a=new be([],{});o[Wn(s)]=a}return{...i,...o}}function q8(e,t){const n={};n[X]=t;for(const r of e)if(""===r.path&&Wn(r)!==X){const i=new be([],{});n[Wn(r)]=i}return n}function Ch(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}class J8{constructor(t,n,r,i,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new z8(this.urlSerializer,this.urlTree)}noMatchError(t){return new S(4002,!1)}recognize(){const t=zR(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,X).pipe(ao(n=>{if(n instanceof $R)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof yh?this.noMatchError(n):n}),Ie(n=>{const r=new gh([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},X,this.rootComponentType,null,{}),i=new zr(r,n),o=new PR("",i),s=function H6(e,t,n=null,r=null){return CR(yR(e),t,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,X).pipe(ao(r=>{throw r instanceof yh?this.noMatchError(r):r}))}inheritParamsAndData(t){const n=t.value,r=RR(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,i,!0)}processChildren(t,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return lt(i).pipe(Uc(o=>{const s=r.children[o],a=function v8(e,t){const n=e.filter(r=>Wn(r)===t);return n.push(...e.filter(r=>Wn(r)!==t)),n}(n,o);return this.processSegmentGroup(t,a,s,o)}),function v6(e,t){return Ke(function _6(e,t,n,r,i){return(o,s)=>{let a=n,c=t,l=0;o.subscribe(Ve(s,u=>{const d=l++;c=a?e(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}(e,t,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),sh(null),function y6(e,t){const n=arguments.length>=2;return r=>r.pipe(e?$r((i,o)=>e(i,o,r)):Tr,G_(1),n?sh(t):sR(()=>new oh))}(),vt(o=>{if(null===o)return Xs(r);const s=WR(o);return function e7(e){e.sort((t,n)=>t.value.outlet===X?-1:n.value.outlet===X?1:t.value.outlet.localeCompare(n.value.outlet))}(s),W(s)}))}processSegment(t,n,r,i,o,s){return lt(n).pipe(Uc(a=>this.processSegmentAgainstRoute(a._injector??t,n,a,r,i,o,s).pipe(ao(c=>{if(c instanceof yh)return W(null);throw c}))),so(a=>!!a),ao(a=>{if(jR(a))return function X8(e,t,n){return 0===t.length&&!e.children[n]}(r,i,o)?W([]):Xs(r);throw a}))}processSegmentAgainstRoute(t,n,r,i,o,s,a){return function Q8(e,t,n,r){return!!(Wn(e)===r||r!==X&&Ch(t,n,e))&&("**"===e.path||uv(t,e,n).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s):Xs(i):Xs(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?HR(o):this.applyRedirects.lineralizeSegments(r,o).pipe(vt(s=>{const a=new be(s,{});return this.processSegment(t,n,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s){const{matched:a,consumedSegments:c,remainingSegments:l,positionalParamSegments:u}=uv(n,i,o);if(!a)return Xs(n);const d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return i.redirectTo.startsWith("/")?HR(d):this.applyRedirects.lineralizeSegments(i,d).pipe(vt(h=>this.processSegment(t,r,n,h.concat(l),s,!1)))}matchSegmentAgainstRoute(t,n,r,i,o,s){let a;if("**"===r.path){const c=i.length>0?cR(i).parameters:{};a=W({snapshot:new gh(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,GR(r),Wn(r),r.component??r._loadedComponent??null,r,qR(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=W8(n,r,i,t).pipe(Ie(({matched:c,consumedSegments:l,remainingSegments:u,parameters:d})=>c?{snapshot:new gh(l,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,GR(r),Wn(r),r.component??r._loadedComponent??null,r,qR(r)),consumedSegments:l,remainingSegments:u}:null));return a.pipe(Xn(c=>null===c?Xs(n):this.getChildConfig(t=r._injector??t,r,i).pipe(Xn(({routes:l})=>{const u=r._loadedInjector??t,{snapshot:d,consumedSegments:h,remainingSegments:f}=c,{segmentGroup:g,slicedSegments:v}=zR(n,h,f,l);if(0===v.length&&g.hasChildren())return this.processChildren(u,l,g).pipe(Ie(I=>null===I?null:[new zr(d,I)]));if(0===l.length&&0===v.length)return W([new zr(d,[])]);const E=Wn(r)===o;return this.processSegment(u,l,g,v,E?X:o,!0).pipe(Ie(I=>[new zr(d,I)]))}))))}getChildConfig(t,n,r){return n.children?W({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?W({routes:n._loadedRoutes,injector:n._loadedInjector}):function j8(e,t,n,r){const i=t.canLoad;return void 0===i||0===i.length?W(!0):W(i.map(s=>{const a=Ys(s,e);return yi(function T8(e){return e&&Jc(e.canLoad)}(a)?a.canLoad(t,n):e.runInContext(()=>a(t,n)))})).pipe(Qs(),BR())}(t,n,r).pipe(vt(i=>i?this.configLoader.loadChildren(t,n).pipe(It(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function H8(e){return Vc(FR(!1,3))}())):W({routes:[],injector:t})}}function t7(e){const t=e.value.routeConfig;return t&&""===t.path}function WR(e){const t=[],n=new Set;for(const r of e){if(!t7(r)){t.push(r);continue}const i=t.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):t.push(r)}for(const r of n){const i=WR(r.children);t.push(new zr(r.value,i))}return t.filter(r=>!n.has(r))}function GR(e){return e.data||{}}function qR(e){return e.resolve||{}}function KR(e){return"string"==typeof e.title||null===e.title}function dv(e){return Xn(t=>{const n=e(t);return n?lt(n).pipe(Ie(()=>t)):W(t)})}const Zs=new P("ROUTES");let hv=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=L(M1)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return W(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=yi(n.loadComponent()).pipe(Ie(YR),It(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),q_(()=>{this.componentLoaders.delete(n)})),i=new oR(r,()=>new dn).pipe(W_());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return W({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function c7(e,t,n,r){return yi(e.loadChildren()).pipe(Ie(YR),vt(i=>i instanceof RM||Array.isArray(i)?W(i):lt(t.compileModuleAsync(i))),Ie(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(n).injector,s=o.get(Zs,[],{optional:!0,self:!0}).flat()),{routes:s.map(cv),injector:o}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(q_(()=>{this.childrenLoaders.delete(r)})),s=new oR(o,()=>new dn).pipe(W_());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function YR(e){return function l7(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let bh=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new dn,this.transitionAbortSubject=new dn,this.configLoader=L(hv),this.environmentInjector=L(Sn),this.urlSerializer=L($c),this.rootContexts=L(Kc),this.inputBindingEnabled=null!==L(mh,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>W(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new t8(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new e8(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new $e({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Gc,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe($r(o=>0!==o.id),Ie(o=>({...o,extractedUrl:n.urlHandlingStrategy.extract(o.rawUrl)})),Xn(o=>{this.currentTransition=o;let s=!1,a=!1;return W(o).pipe(It(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Xn(c=>{const l=c.currentBrowserUrl.toString(),u=!n.navigated||c.extractedUrl.toString()!==l||l!==c.currentUrlTree.toString();if(!u&&"reload"!==(c.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const h="";return this.events.next(new qs(c.id,this.urlSerializer.serialize(c.rawUrl),h,0)),c.resolve(null),Qn}if(n.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return W(c).pipe(Xn(h=>{const f=this.transitions?.getValue();return this.events.next(new fh(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?Qn:Promise.resolve(h)}),function n7(e,t,n,r,i,o){return vt(s=>function Z8(e,t,n,r,i,o,s="emptyOnly"){return new J8(e,t,n,r,i,s,o).recognize()}(e,t,n,r,s.extractedUrl,i,o).pipe(Ie(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),It(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new TR(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(u&&n.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:h,extractedUrl:f,source:g,restoredState:v,extras:E}=c,I=new fh(h,this.urlSerializer.serialize(f),g,v);this.events.next(I);const b=xR(0,this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:b,urlAfterRedirects:f,extras:{...E,skipLocationChange:!1,replaceUrl:!1}},W(o)}{const h="";return this.events.next(new qs(c.id,this.urlSerializer.serialize(c.extractedUrl),h,1)),c.resolve(null),Qn}}),It(c=>{const l=new Q6(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),Ie(c=>(this.currentTransition=o={...c,guards:b8(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function P8(e,t){return vt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?W({...n,guardsResult:!0}):function k8(e,t,n,r){return lt(e).pipe(vt(i=>function U8(e,t,n,r,i){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?W(o.map(a=>{const c=Qc(t)??i,l=Ys(a,c);return yi(function M8(e){return e&&Jc(e.canDeactivate)}(l)?l.canDeactivate(e,t,n,r):c.runInContext(()=>l(e,t,n,r))).pipe(so())})).pipe(Qs()):W(!0)}(i.component,i.route,n,t,r)),so(i=>!0!==i,!0))}(s,r,i,e).pipe(vt(a=>a&&function D8(e){return"boolean"==typeof e}(a)?function N8(e,t,n,r){return lt(t).pipe(Uc(i=>z_(function F8(e,t){return null!==e&&t&&t(new n8(e)),W(!0)}(i.route.parent,r),function O8(e,t){return null!==e&&t&&t(new i8(e)),W(!0)}(i.route,r),function V8(e,t,n){const r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function w8(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(s)).filter(s=>null!==s).map(s=>iR(()=>W(s.guards.map(c=>{const l=Qc(s.node)??n,u=Ys(c,l);return yi(function A8(e){return e&&Jc(e.canActivateChild)}(u)?u.canActivateChild(r,e):l.runInContext(()=>u(r,e))).pipe(so())})).pipe(Qs())));return W(o).pipe(Qs())}(e,i.path,n),function L8(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return W(!0);const i=r.map(o=>iR(()=>{const s=Qc(t)??n,a=Ys(o,s);return yi(function S8(e){return e&&Jc(e.canActivate)}(a)?a.canActivate(t,e):s.runInContext(()=>a(t,e))).pipe(so())}));return W(i).pipe(Qs())}(e,i.route,n))),so(i=>!0!==i,!0))}(r,o,e,t):W(a)),Ie(a=>({...n,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),It(c=>{if(o.guardsResult=c.guardsResult,lo(c.guardsResult))throw OR(0,c.guardsResult);const l=new X6(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),$r(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),dv(c=>{if(c.guards.canActivateChecks.length)return W(c).pipe(It(l=>{const u=new Z6(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Xn(l=>{let u=!1;return W(l).pipe(function r7(e,t){return vt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return W(n);let o=0;return lt(i).pipe(Uc(s=>function i7(e,t,n,r){const i=e.routeConfig,o=e._resolve;return void 0!==i?.title&&!KR(i)&&(o[jc]=i.title),function o7(e,t,n,r){const i=function s7(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===i.length)return W({});const o={};return lt(i).pipe(vt(s=>function a7(e,t,n,r){const i=Qc(t)??r,o=Ys(e,i);return yi(o.resolve?o.resolve(t,n):i.runInContext(()=>o(t,n)))}(e[s],t,n,r).pipe(so(),It(a=>{o[s]=a}))),G_(1),function C6(e){return Ie(()=>e)}(o),ao(s=>jR(s)?Qn:Vc(s)))}(o,e,t,r).pipe(Ie(s=>(e._resolvedData=s,e.data=RR(e,n).resolve,i&&KR(i)&&(e.data[jc]=i.title),null)))}(s.route,r,e,t)),It(()=>o++),G_(1),vt(s=>o===i.length?W(n):Qn))})}(n.paramsInheritanceStrategy,this.environmentInjector),It({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",2)}}))}),It(l=>{const u=new J6(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),dv(c=>{const l=u=>{const d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(It(h=>{u.component=h}),Ie(()=>{})));for(const h of u.children)d.push(...l(h));return d};return H_(l(c.targetSnapshot.root)).pipe(sh(),oo(1))}),dv(()=>this.afterPreactivation()),Ie(c=>{const l=function u8(e,t,n){const r=Yc(e,t._root,n?n._root:void 0);return new MR(r,t)}(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:l},o}),It(()=>{this.events.next(new J_)}),((e,t,n,r)=>Ie(i=>(new C8(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)))(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),oo(1),It({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Hr(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),n.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),function b6(e){return Ke((t,n)=>{Xt(e).subscribe(Ve(n,()=>n.complete(),lu)),!n.closed&&t.subscribe(n)})}(this.transitionAbortSubject.pipe(It(c=>{throw c}))),q_(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),ao(c=>{if(a=!0,LR(c))this.events.next(new qc(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function f8(e){return LR(e)&&lo(e.url)}(c)?this.events.next(new ev(c.url)):o.resolve(!1);else{this.events.next(new ph(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(c))}catch(l){o.reject(l)}}return Qn}))}))}cancelNavigationTransition(n,r,i){const o=new qc(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function QR(e){return e!==Gc}let XR=(()=>{class e{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===X);return r}getResolvedTitleForRoute(n){return n.data[jc]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:function(){return L(u7)},providedIn:"root"})}}return e})(),u7=(()=>{class e extends XR{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||e)(O(Qx))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),d7=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:function(){return L(f7)},providedIn:"root"})}}return e})();class h7{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let f7=(()=>{class e extends h7{static{this.\u0275fac=function(){let n;return function(i){return(n||(n=Et(e)))(i||e)}}()}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const wh=new P("",{providedIn:"root",factory:()=>({})});let p7=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:function(){return L(g7)},providedIn:"root"})}}return e})(),g7=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var el=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(el||{});function ZR(e,t){e.events.pipe($r(n=>n instanceof Hr||n instanceof qc||n instanceof ph||n instanceof qs),Ie(n=>n instanceof Hr||n instanceof qs?el.COMPLETE:n instanceof qc&&(0===n.code||1===n.code)?el.REDIRECTING:el.FAILED),$r(n=>n!==el.REDIRECTING),oo(1)).subscribe(()=>{t()})}function m7(e){throw e}function _7(e,t,n){return t.parse("/")}const v7={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},y7={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let rt=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=L(S1),this.isNgZoneEnabled=!1,this._events=new dn,this.options=L(wh,{optional:!0})||{},this.pendingTasks=L(A1),this.errorHandler=this.options.errorHandler||m7,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||_7,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=L(p7),this.routeReuseStrategy=L(d7),this.titleStrategy=L(XR),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=L(Zs,{optional:!0})?.flat()??[],this.navigationTransitions=L(bh),this.urlSerializer=L($c),this.location=L(m_),this.componentInputBindingEnabled=!!L(mh,{optional:!0}),this.eventsSubscription=new Qt,this.isNgZoneEnabled=L(_e)instanceof _e&&_e.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Gs,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=xR(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(JR(r)&&this._events.next(r));if(r instanceof fh)QR(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof qs)this.rawUrlTree=i.rawUrl;else if(r instanceof TR){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(o,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof J_)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof qc)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof ev){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),s={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||QR(i.source)};this.scheduleNavigation(o,Gc,null,s,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof ph&&this.restoreHistory(i,!0),r instanceof Hr&&(this.navigated=!0),JR(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Gc,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(cv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s;let d,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...o};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}null!==u&&(u=this.removeEmptyProps(u));try{d=yR(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return CR(d,n,u,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=lo(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Gc,null,r)}navigate(n,r={skipLocationChange:!1}){return function C7(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new S(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...v7}:!1===r?{...y7}:r,lo(n))return uR(this.currentUrlTree,n,i);const o=this.parseUrl(n);return uR(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const o=n[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,h)=>{a=d,c=h});const u=this.pendingTasks.add();return ZR(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function JR(e){return!(e instanceof J_||e instanceof ev)}let fr=(()=>{class e{constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new dn,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof Hr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function R0(e,t,n){return function t$(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?x0:M0}(t,n)(e)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||e)(C(rt),C(uo),function Vu(e){return function wj(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if(wD(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===t)return n[i+1];i+=2}}}return null}(wt(),e)}("tabindex"),C(Nr),C(mn),C(no))}}static{this.\u0275dir=z({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&U("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&sr("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Hs],skipLocationChange:["skipLocationChange","skipLocationChange",Hs],replaceUrl:["replaceUrl","replaceUrl",Hs],routerLink:"routerLink"},standalone:!0,features:[GS,Dn]})}}return e})();class eP{}let E7=(()=>{class e{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe($r(n=>n instanceof Hr),Uc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=Vm(o.providers,n,`Route: ${o.path}`));const s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return lt(i).pipe(qo())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):W(null);const o=i.pipe(vt(s=>null===s?W(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));return r.loadComponent&&!r._loadedComponent?lt([o,this.loader.loadComponent(r)]).pipe(qo()):o})}static{this.\u0275fac=function(r){return new(r||e)(O(rt),O(M1),O(Sn),O(eP),O(hv))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const fv=new P("");let tP=(()=>{class e{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof fh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Hr?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof qs&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof SR&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new SR(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){!function yS(){throw new Error("invalid")}()}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})();function Wr(e,t){return{\u0275kind:e,\u0275providers:t}}function rP(){const e=L(xt);return t=>{const n=e.get($s);if(t!==n.components[0])return;const r=e.get(rt),i=e.get(iP);1===e.get(pv)&&r.initialNavigation(),e.get(oP,null,ne.Optional)?.setUpPreloading(),e.get(fv,null,ne.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const iP=new P("",{factory:()=>new dn}),pv=new P("",{providedIn:"root",factory:()=>1}),oP=new P("");function S7(e){return Wr(0,[{provide:oP,useExisting:E7},{provide:eP,useExisting:e}])}const sP=new P("ROUTER_FORROOT_GUARD"),M7=[m_,{provide:$c,useClass:K_},rt,Kc,{provide:uo,useFactory:function nP(e){return e.routerState.root},deps:[rt]},hv,[]];function x7(){return new F1("Router",rt)}let aP=(()=>{class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[M7,[],{provide:Zs,multi:!0,useValue:n},{provide:sP,useFactory:N7,deps:[[rt,new $t,new Bu]]},{provide:wh,useValue:r||{}},r?.useHash?{provide:no,useClass:$G}:{provide:no,useClass:fx},{provide:fv,useFactory:()=>{const e=L(i5),t=L(_e),n=L(wh),r=L(bh),i=L($c);return n.scrollOffset&&e.setOffset(n.scrollOffset),new tP(i,r,e,t,n)}},r?.preloadingStrategy?S7(r.preloadingStrategy).\u0275providers:[],{provide:F1,multi:!0,useFactory:x7},r?.initialNavigation?O7(r):[],r?.bindToComponentInputs?Wr(8,[NR,{provide:mh,useExisting:NR}]).\u0275providers:[],[{provide:cP,useFactory:rP},{provide:s_,multi:!0,useExisting:cP}]]}}static forChild(n){return{ngModule:e,providers:[{provide:Zs,multi:!0,useValue:n}]}}static{this.\u0275fac=function(r){return new(r||e)(O(sP,8))}}static{this.\u0275mod=Jt({type:e})}static{this.\u0275inj=Ft({})}}return e})();function N7(e){return"guarded"}function O7(e){return["disabled"===e.initialNavigation?Wr(3,[{provide:Zm,multi:!0,useFactory:()=>{const t=L(rt);return()=>{t.setUpLocationChangeListener()}}},{provide:pv,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?Wr(2,[{provide:pv,useValue:0},{provide:Zm,multi:!0,deps:[xt],useFactory:t=>{const n=t.get(jG,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=t.get(rt),o=t.get(iP);ZR(i,()=>{r(!0)}),t.get(bh).afterPreactivation=()=>(r(!0),o.closed?W(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const cP=new P("");function lP(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(l){return void n(l)}a.done?t(c):Promise.resolve(c).then(r,i)}function _(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function s(c){lP(o,r,i,s,a,"next",c)}function a(c){lP(o,r,i,s,a,"throw",c)}s(void 0)})}}let uP=(()=>{class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||e)(C(Nr),C(mn))}}static{this.\u0275dir=z({type:e})}}return e})(),ho=(()=>{class e extends uP{static{this.\u0275fac=function(){let n;return function(i){return(n||(n=Et(e)))(i||e)}}()}static{this.\u0275dir=z({type:e,features:[Ce]})}}return e})();const pr=new P("NgValueAccessor"),V7={provide:pr,useExisting:Se(()=>gv),multi:!0};let gv=(()=>{class e extends ho{writeValue(n){this.setProperty("checked",n)}static{this.\u0275fac=function(){let n;return function(i){return(n||(n=Et(e)))(i||e)}}()}static{this.\u0275dir=z({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){1&r&&U("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[Oe([V7]),Ce]})}}return e})();const U7={provide:pr,useExisting:Se(()=>Ci),multi:!0},B7=new P("CompositionEventMode");let Ci=(()=>{class e extends uP{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function j7(){const e=_i()?_i().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||e)(C(Nr),C(mn),C(B7,8))}}static{this.\u0275dir=z({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&U("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Oe([U7]),Ce]})}}return e})();function bi(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}function dP(e){return null!=e&&"number"==typeof e.length}const Pt=new P("NgValidators"),wi=new P("NgAsyncValidators"),$7=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ie{static min(t){return function hP(e){return t=>{if(bi(t.value)||bi(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}(t)}static max(t){return function fP(e){return t=>{if(bi(t.value)||bi(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}(t)}static required(t){return function pP(e){return bi(e.value)?{required:!0}:null}(t)}static requiredTrue(t){return function gP(e){return!0===e.value?null:{required:!0}}(t)}static email(t){return function mP(e){return bi(e.value)||$7.test(e.value)?null:{email:!0}}(t)}static minLength(t){return function _P(e){return t=>bi(t.value)||!dP(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function vP(e){return t=>dP(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}(t)}static pattern(t){return function yP(e){if(!e)return Eh;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),r=>{if(bi(r.value))return null;const i=r.value;return t.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(t)}static nullValidator(t){return null}static compose(t){return DP(t)}static composeAsync(t){return TP(t)}}function Eh(e){return null}function CP(e){return null!=e}function bP(e){return wc(e)?lt(e):e}function wP(e){let t={};return e.forEach(n=>{t=null!=n?{...t,...n}:t}),0===Object.keys(t).length?null:t}function EP(e,t){return t.map(n=>n(e))}function IP(e){return e.map(t=>function H7(e){return!e.validate}(t)?t:n=>t.validate(n))}function DP(e){if(!e)return null;const t=e.filter(CP);return 0==t.length?null:function(n){return wP(EP(n,t))}}function mv(e){return null!=e?DP(IP(e)):null}function TP(e){if(!e)return null;const t=e.filter(CP);return 0==t.length?null:function(n){return function L7(...e){const t=Ep(e),{args:n,keys:r}=eR(e),i=new Le(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let c=s,l=s;for(let u=0;u<s;u++){let d=!1;Xt(n[u]).subscribe(Ve(o,h=>{d||(d=!0,l--),a[u]=h},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?nR(r,a):a),o.complete())}))}});return t?i.pipe(tR(t)):i}(EP(n,t).map(bP)).pipe(Ie(wP))}}function _v(e){return null!=e?TP(IP(e)):null}function SP(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function AP(e){return e._rawValidators}function MP(e){return e._rawAsyncValidators}function vv(e){return e?Array.isArray(e)?e:[e]:[]}function Ih(e,t){return Array.isArray(e)?e.includes(t):e===t}function xP(e,t){const n=vv(t);return vv(e).forEach(i=>{Ih(n,i)||n.push(i)}),n}function RP(e,t){return vv(t).filter(n=>!Ih(e,n))}class PP{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=mv(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=_v(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return!!this.control&&this.control.hasError(t,n)}getError(t,n){return this.control?this.control.getError(t,n):null}}class Gt extends PP{get formDirective(){return null}get path(){return null}}class Ei extends PP{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class kP{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Js=(()=>{class e extends kP{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||e)(C(Ei,2))}}static{this.\u0275dir=z({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Ad("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Ce]})}}return e})(),ea=(()=>{class e extends kP{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||e)(C(Gt,10))}}static{this.\u0275dir=z({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Ad("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Ce]})}}return e})();const tl="VALID",Th="INVALID",ta="PENDING",nl="DISABLED";function bv(e){return(Sh(e)?e.validators:e)||null}function wv(e,t){return(Sh(t)?t.asyncValidators:e)||null}function Sh(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function OP(e,t,n){const r=e.controls;if(!(t?Object.keys(r):r).length)throw new S(1e3,"");if(!r[n])throw new S(1001,"")}function FP(e,t,n){e._forEachChild((r,i)=>{if(void 0===n[i])throw new S(1002,"")})}class Ah{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===tl}get invalid(){return this.status===Th}get pending(){return this.status==ta}get disabled(){return this.status===nl}get enabled(){return this.status!==nl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(xP(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(xP(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(RP(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(RP(t,this._rawAsyncValidators))}hasValidator(t){return Ih(this._rawValidators,t)}hasAsyncValidator(t){return Ih(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=ta,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=nl,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=tl,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===tl||this.status===ta)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?nl:tl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=ta,this._hasOwnPendingAsyncValidator=!0;const n=bP(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(!1!==n.emitEvent)}get(t){let n=t;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new ae,this.statusChanges=new ae}_calculateStatus(){return this._allControlsDisabled()?nl:this.errors?Th:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ta)?ta:this._anyControlsHaveStatus(Th)?Th:tl}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Sh(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function q7(e){return Array.isArray(e)?mv(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function K7(e){return Array.isArray(e)?_v(e):e||null}(this._rawAsyncValidators)}}class rl extends Ah{constructor(t,n,r){super(bv(n),wv(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){FP(this,0,t),Object.keys(t).forEach(r=>{OP(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(Object.keys(t).forEach(r=>{const i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class LP extends rl{}const fo=new P("CallSetDisabledState",{providedIn:"root",factory:()=>il}),il="always";function Mh(e,t){return[...t.path,e]}function ol(e,t,n=il){Ev(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===n)&&t.valueAccessor.setDisabledState?.(e.disabled),function Q7(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&VP(e,t)})}(e,t),function Z7(e,t){const n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function X7(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&VP(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function Y7(e,t){if(t.valueAccessor.setDisabledState){const n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function xh(e,t,n=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),Ph(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function Rh(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function Ev(e,t){const n=AP(e);null!==t.validator?e.setValidators(SP(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=MP(e);null!==t.asyncValidator?e.setAsyncValidators(SP(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();Rh(t._rawValidators,i),Rh(t._rawAsyncValidators,i)}function Ph(e,t){let n=!1;if(null!==e){if(null!==t.validator){const i=AP(e);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==t.validator);o.length!==i.length&&(n=!0,e.setValidators(o))}}if(null!==t.asyncValidator){const i=MP(e);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==t.asyncValidator);o.length!==i.length&&(n=!0,e.setAsyncValidators(o))}}}const r=()=>{};return Rh(t._rawValidators,r),Rh(t._rawAsyncValidators,r),n}function VP(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function UP(e,t){Ev(e,t)}function Dv(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}function jP(e,t){e._syncPendingControls(),t.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Tv(e,t){if(!t)return null;let n,r,i;return Array.isArray(t),t.forEach(o=>{o.constructor===Ci?n=o:function t9(e){return Object.getPrototypeOf(e.constructor)===ho}(o)?r=o:i=o}),i||r||n||null}const r9={provide:Gt,useExisting:Se(()=>kh)},sl=(()=>Promise.resolve())();let kh=(()=>{class e extends Gt{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new ae,this.form=new rl({},mv(n),_v(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){sl.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),ol(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){sl.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){sl.then(()=>{const r=this._findContainer(n.path),i=new rl({});UP(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){sl.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){sl.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,jP(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static{this.\u0275fac=function(r){return new(r||e)(C(Pt,10),C(wi,10),C(fo,8))}}static{this.\u0275dir=z({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&U("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Oe([r9]),Ce]})}}return e})();function BP(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function $P(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const na=class extends Ah{constructor(t=null,n,r){super(bv(n),wv(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Sh(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=$P(t)?t.value:t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){BP(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){BP(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){$P(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let HP=(()=>{class e extends Gt{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Mh(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=function(){let n;return function(i){return(n||(n=Et(e)))(i||e)}}()}static{this.\u0275dir=z({type:e,features:[Ce]})}}return e})(),ra=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=z({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return e})(),KP=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Jt({type:e})}static{this.\u0275inj=Ft({})}}return e})();const Sv=new P("NgModelWithFormControlWarning"),d9={provide:Ei,useExisting:Se(()=>Av)};let Av=(()=>{class e extends Ei{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=s,this.update=new ae,this._ngModelWarningSent=!1,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=Tv(0,i)}ngOnChanges(n){if(this._isControlChanged(n)){const r=n.form.previousValue;r&&xh(r,this,!1),ol(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Dv(n,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&xh(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_isControlChanged(n){return n.hasOwnProperty("form")}static{this.\u0275fac=function(r){return new(r||e)(C(Pt,10),C(wi,10),C(pr,10),C(Sv,8),C(fo,8))}}static{this.\u0275dir=z({type:e,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[Oe([d9]),Ce,Dn]})}}return e})();const h9={provide:Gt,useExisting:Se(()=>po)};let po=(()=>{class e extends Gt{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ae,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ph(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return ol(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){xh(n.control||null,n,!1),function n9(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,jP(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(xh(r||null,n),(e=>e instanceof na)(i)&&(ol(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);UP(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function J7(e,t){return Ph(e,t)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ev(this.form,this),this._oldForm&&Ph(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(r){return new(r||e)(C(Pt,10),C(wi,10),C(fo,8))}}static{this.\u0275dir=z({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&U("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Oe([h9]),Ce,Dn]})}}return e})();const f9={provide:Gt,useExisting:Se(()=>Nh)};let Nh=(()=>{class e extends HP{constructor(n,r,i){super(),this.name=null,this._parent=n,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){XP(this._parent)}static{this.\u0275fac=function(r){return new(r||e)(C(Gt,13),C(Pt,10),C(wi,10))}}static{this.\u0275dir=z({type:e,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[Oe([f9]),Ce]})}}return e})();const p9={provide:Gt,useExisting:Se(()=>Mv)};let Mv=(()=>{class e extends Gt{constructor(n,r,i){super(),this.name=null,this._parent=n,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Mh(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){XP(this._parent)}static{this.\u0275fac=function(r){return new(r||e)(C(Gt,13),C(Pt,10),C(wi,10))}}static{this.\u0275dir=z({type:e,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[Oe([p9]),Ce]})}}return e})();function XP(e){return!(e instanceof Nh||e instanceof po||e instanceof Mv)}const g9={provide:Ei,useExisting:Se(()=>ia)};let ia=(()=>{class e extends Ei{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new ae,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Tv(0,o)}ngOnChanges(n){this._added||this._setUpControl(),Dv(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return Mh(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||e)(C(Gt,13),C(Pt,10),C(wi,10),C(pr,10),C(Sv,8))}}static{this.\u0275dir=z({type:e,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Oe([g9]),Ce,Dn]})}}return e})(),lk=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Jt({type:e})}static{this.\u0275inj=Ft({imports:[KP]})}}return e})();class uk extends Ah{constructor(t,n,r){super(bv(n),wv(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,n={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(t,n,r={}){this.controls.splice(t,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,n={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(t,n,r={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,n={}){FP(this,0,t),t.forEach((r,i)=>{OP(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(t.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t=[],n={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((n,r)=>{t(n,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(n=>n.enabled&&t(n))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function dk(e){return!!e&&(void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn)}let oa=(()=>{class e{constructor(){this.useNonNullable=!1}get nonNullable(){const n=new e;return n.useNonNullable=!0,n}group(n,r=null){const i=this._reduceControls(n);let o={};return dk(r)?o=r:null!==r&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new rl(i,o)}record(n,r=null){const i=this._reduceControls(n);return new LP(i,r)}control(n,r,i){let o={};return this.useNonNullable?(dk(r)?o=r:(o.validators=r,o.asyncValidators=i),new na(n,{...o,nonNullable:!0})):new na(n,r,i)}array(n,r,i){const o=n.map(s=>this._createControl(s));return new uk(o,r,i)}_reduceControls(n){const r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){return n instanceof na||n instanceof Ah?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),x9=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:fo,useValue:n.callSetDisabledState??il}]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Jt({type:e})}static{this.\u0275inj=Ft({imports:[lk]})}}return e})(),R9=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:Sv,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:fo,useValue:n.callSetDisabledState??il}]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Jt({type:e})}static{this.\u0275inj=Ft({imports:[lk]})}}return e})();const M=function(e,t){if(!e)throw sa(t)},sa=function(e){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+e)},hk=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Oh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const o=e[i],s=i+1<e.length,a=s?e[i+1]:0,c=i+2<e.length,l=c?e[i+2]:0;let h=(15&a)<<2|l>>6,f=63&l;c||(f=64,s||(h=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(hk(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const c=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(1023&c))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const l=i<e.length?n[e.charAt(i)]:64;++i;const d=i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==l||null==d)throw new k9;r.push(o<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==d&&r.push(l<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class k9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fk=function(e){const t=hk(e);return Oh.encodeByteArray(t,!0)},Fh=function(e){return fk(e).replace(/\./g,"")},Lh=function(e){try{return Oh.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function N9(e){return pk(void 0,e)}function pk(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!O9(n)||(e[n]=pk(e[n],t[n]));return e}function O9(e){return"__proto__"!==e}const Vh=()=>{try{return function F9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const e=process.env.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Lh(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},gk=e=>{var t,n;return null===(n=null===(t=Vh())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},mk=()=>{var e;return null===(e=Vh())||void 0===e?void 0:e.config},_k=e=>{var t;return null===(t=Vh())||void 0===t?void 0:t[`_${e}`]};class mo{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof t&&(this.promise.catch(()=>{}),1===t.length?t(n):t(n,r))}}}function ht(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Nv(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ht())}function Ov(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function vk(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function _o(){try{return"object"==typeof indexedDB}catch{return!1}}function al(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(n){t(n)}})}function Fv(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Gn extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Gn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gr.prototype.create)}}class gr{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],s=o?function W9(e,t){return e.replace(G9,(n,r)=>{const i=t[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new Gn(i,`${this.serviceName}: ${s} (${i}).`,r)}}const G9=/\{\$([^}]+)}/g;function cl(e){return JSON.parse(e)}function ct(e){return JSON.stringify(e)}const Uh=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=cl(Lh(o[0])||""),n=cl(Lh(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}};function mr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function aa(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function Lv(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function jh(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Bh(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const o=e[i],s=t[i];if(yk(o)&&yk(s)){if(!Bh(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function yk(e){return null!==e&&"object"==typeof e}function ca(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function ll(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(o)}}),t}function ul(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Y9{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const r=this.W_;if("string"==typeof t)for(let d=0;d<16;d++)r[d]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=4294967295&(h<<1|h>>>31)}let l,u,i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],c=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(l=a^o&(s^a),u=1518500249):(l=o^s^a,u=1859775393):d<60?(l=o&s|a&(o|s),u=2400959708):(l=o^s^a,u=3395469782);const h=(i<<5|i>>>27)+l+c+u+r[d]&4294967295;c=a,a=s,s=4294967295&(o<<30|o>>>2),o=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(t,n){if(null==t)return;void 0===n&&(n=t.length);const r=n-this.blockSize;let i=0;const o=this.buf_;let s=this.inbuf_;for(;i<n;){if(0===s)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if("string"==typeof t){for(;i<n;)if(o[s]=t.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=t[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){const t=[];let n=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&n,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)t[r]=this.chain_[i]>>o&255,++r;return t}}class X9{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(void 0===t&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function Z9(e,t){if("object"!=typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(t,["next","error","complete"])?t:{next:t,error:n,complete:r},void 0===i.next&&(i.next=Vv),void 0===i.error&&(i.error=Vv),void 0===i.complete&&(i.complete=Vv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(t){void 0===this.observers||void 0===this.observers[t]||(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Vv(){}function la(e,t){return`${e} failed: ${t} argument `}const $h=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},eK=1e3,tK=2,nK=144e5,rK=.5;function Uv(e,t=eK,n=tK){const r=t*Math.pow(n,e),i=Math.round(rK*r*(Math.random()-.5)*2);return Math.min(nK,r+i)}function Dt(e){return e&&e._delegate?e._delegate:e}class kt{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const vo="[DEFAULT]";class oK{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new mo;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t?.identifier),i=null!==(n=t?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function aK(e){return"EAGER"===e.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:vo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=vo){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){var t=this;return _(function*(){const n=Array.from(t.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(t=vo){return this.instances.has(t)}getOptions(t=vo){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&t(s,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(e=t,e===vo?void 0:e),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}var e;return r||null}normalizeInstanceIdentifier(t=vo){return this.component?this.component.multipleInstances?t:vo:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class cK{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new oK(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}const jv=[];var we=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}(we||{});const Ck={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},lK=we.INFO,uK={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},dK=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=uK[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class ua{constructor(t){this.name=t,this._logLevel=lK,this._logHandler=dK,this._userLogHandler=null,jv.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in we))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?Ck[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...t),this._logHandler(this,we.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...t),this._logHandler(this,we.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,we.INFO,...t),this._logHandler(this,we.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,we.WARN,...t),this._logHandler(this,we.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...t),this._logHandler(this,we.ERROR,...t)}}const hK=(e,t)=>t.some(n=>e instanceof n);let bk,wk;const Ek=new WeakMap,Bv=new WeakMap,Ik=new WeakMap,$v=new WeakMap,Hv=new WeakMap;let zv={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Bv.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ik.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ii(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function yK(e){return"function"==typeof e?function vK(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function pK(){return wk||(wk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(e)?function(...t){return e.apply(Wv(this),t),Ii(Ek.get(this))}:function(...t){return Ii(e.apply(Wv(this),t))}:function(t,...n){const r=e.call(Wv(this),t,...n);return Ik.set(r,t.sort?t.sort():[t]),Ii(r)}}(e):(e instanceof IDBTransaction&&function mK(e){if(Bv.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});Bv.set(e,t)}(e),hK(e,function fK(){return bk||(bk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(e,zv):e)}function Ii(e){if(e instanceof IDBRequest)return function gK(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(Ii(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&Ek.set(n,e)}).catch(()=>{}),Hv.set(t,e),t}(e);if($v.has(e))return $v.get(e);const t=yK(e);return t!==e&&($v.set(e,t),Hv.set(t,e)),t}const Wv=e=>Hv.get(e),bK=["get","getKey","getAll","getAllKeys","count"],wK=["put","add","delete","clear"],Gv=new Map;function Dk(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(Gv.get(t))return Gv.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=wK.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!bK.includes(n))return;const o=function(){var s=_(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return s.apply(this,arguments)}}();return Gv.set(t,o),o}!function _K(e){zv=e(zv)}(e=>({...e,get:(t,n,r)=>Dk(t,n)||e.get(t,n,r),has:(t,n)=>!!Dk(t,n)||e.has(t,n)}));class EK{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function IK(e){const t=e.getComponent();return"VERSION"===t?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const qv="@firebase/app",yo=new ua("@firebase/app"),Hh="[DEFAULT]",QK={[qv]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Co=new Map,zh=new Map;function XK(e,t){try{e.container.addComponent(t)}catch(n){yo.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function qt(e){const t=e.name;if(zh.has(t))return yo.debug(`There were multiple attempts to register component ${t}.`),!1;zh.set(t,e);for(const n of Co.values())XK(n,e);return!0}function da(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const qr=new gr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class JK{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new kt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw qr.create("app-deleted",{appName:this._name})}}const bo="9.23.0";function Sk(e,t={}){let n=e;"object"!=typeof t&&(t={name:t});const r=Object.assign({name:Hh,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!=typeof i||!i)throw qr.create("bad-app-name",{appName:String(i)});if(n||(n=mk()),!n)throw qr.create("no-options");const o=Co.get(i);if(o){if(Bh(n,o.options)&&Bh(r,o.config))return o;throw qr.create("duplicate-app",{appName:i})}const s=new cK(i);for(const c of zh.values())s.addComponent(c);const a=new JK(n,r,s);return Co.set(i,a),a}function Kv(e=Hh){const t=Co.get(e);if(!t&&e===Hh&&mk())return Sk();if(!t)throw qr.create("no-app",{appName:e});return t}function Ak(){return Array.from(Co.values())}function We(e,t,n){var r;let i=null!==(r=QK[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${t}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void yo.warn(a.join(" "))}qt(new kt(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const eY="firebase-heartbeat-database",tY=1,dl="firebase-heartbeat-store";let Qv=null;function Mk(){return Qv||(Qv=function CK(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=Ii(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Ii(s.result),c.oldVersion,c.newVersion,Ii(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}(eY,tY,{upgrade:(e,t)=>{0===t&&e.createObjectStore(dl)}}).catch(e=>{throw qr.create("idb-open",{originalErrorMessage:e.message})})),Qv}function Xv(){return(Xv=_(function*(e){try{return yield(yield Mk()).transaction(dl).objectStore(dl).get(Rk(e))}catch(t){if(t instanceof Gn)yo.warn(t.message);else{const n=qr.create("idb-get",{originalErrorMessage:t?.message});yo.warn(n.message)}}})).apply(this,arguments)}function xk(e,t){return Zv.apply(this,arguments)}function Zv(){return(Zv=_(function*(e,t){try{const r=(yield Mk()).transaction(dl,"readwrite");yield r.objectStore(dl).put(t,Rk(e)),yield r.done}catch(n){if(n instanceof Gn)yo.warn(n.message);else{const r=qr.create("idb-set",{originalErrorMessage:n?.message});yo.warn(r.message)}}})).apply(this,arguments)}function Rk(e){return`${e.name}!${e.options.appId}`}class oY{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new aY(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var t=this;return _(function*(){const r=t.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Pk();if(null===t._heartbeatsCache&&(t._heartbeatsCache=yield t._heartbeatsCachePromise),t._heartbeatsCache.lastSentHeartbeatDate!==i&&!t._heartbeatsCache.heartbeats.some(o=>o.date===i))return t._heartbeatsCache.heartbeats.push({date:i,agent:r}),t._heartbeatsCache.heartbeats=t._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=2592e6}),t._storage.overwrite(t._heartbeatsCache)})()}getHeartbeatsHeader(){var t=this;return _(function*(){if(null===t._heartbeatsCache&&(yield t._heartbeatsCachePromise),null===t._heartbeatsCache||0===t._heartbeatsCache.heartbeats.length)return"";const n=Pk(),{heartbeatsToSend:r,unsentEntries:i}=function sY(e,t=1024){const n=[];let r=e.slice();for(const i of e){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),kk(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),kk(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(t._heartbeatsCache.heartbeats),o=Fh(JSON.stringify({version:2,heartbeats:r}));return t._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(t._heartbeatsCache.heartbeats=i,yield t._storage.overwrite(t._heartbeatsCache)):(t._heartbeatsCache.heartbeats=[],t._storage.overwrite(t._heartbeatsCache)),o})()}}function Pk(){return(new Date).toISOString().substring(0,10)}class aY{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(function*(){return!!_o()&&al().then(()=>!0).catch(()=>!1)})()}read(){var t=this;return _(function*(){return(yield t._canUseIndexedDBPromise)&&(yield function nY(e){return Xv.apply(this,arguments)}(t.app))||{heartbeats:[]}})()}overwrite(t){var n=this;return _(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return xk(n.app,{lastSentHeartbeatDate:null!==(r=t.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}})()}add(t){var n=this;return _(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return xk(n.app,{lastSentHeartbeatDate:null!==(r=t.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}})()}}function kk(e){return Fh(JSON.stringify({version:2,heartbeats:e})).length}!function cY(e){qt(new kt("platform-logger",t=>new EK(t),"PRIVATE")),qt(new kt("heartbeat",t=>new oY(t),"PRIVATE")),We(qv,"0.9.13",e),We(qv,"0.9.13","esm2017"),We("fire-js","")}("");const lY=function Nk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ok=new gr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Wh=new ua("@firebase/auth");function Gh(e,...t){Wh.logLevel<=we.ERROR&&Wh.error(`Auth (${bo}): ${e}`,...t)}function an(e,...t){throw Jv(e,...t)}function _r(e,...t){return Jv(e,...t)}function Jv(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return Ok.create(e,...t)}function R(e,t,...n){if(!e)throw Jv(t,...n)}function vr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Gh(t),new Error(t)}function Di(e,t){e||vr(t)}function hl(){var e;return typeof self<"u"&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Lk(){var e;return typeof self<"u"&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class fl{constructor(t,n){this.shortDelay=t,this.longDelay=n,Di(n>t,"Short delay should be less than long delay!"),this.isMobile=Nv()||vk()}get(){return function dY(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function ey(){return"http:"===Lk()||"https:"===Lk()}()||Ov()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ty(e,t){Di(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Vk{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void vr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void vr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void vr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const fY={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},pY=new fl(3e4,6e4);function je(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Ge(e,t,n,r){return ny.apply(this,arguments)}function ny(){return(ny=_(function*(e,t,n,r,i={}){return Uk(e,i,_(function*(){let o={},s={};r&&("GET"===t?s=r:o={body:JSON.stringify(r)});const a=ca(Object.assign({key:e.config.apiKey},s)).slice(1),c=yield e._getAdditionalHeaders();return c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode),Vk.fetch()(jk(e,e.config.apiHost,n,a),Object.assign({method:t,headers:c,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function Uk(e,t,n){return ry.apply(this,arguments)}function ry(){return(ry=_(function*(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},fY),t);try{const i=new gY(e),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw pl(e,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw pl(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===c)throw pl(e,"email-already-in-use",s);if("USER_DISABLED"===c)throw pl(e,"user-disabled",s);const u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw function Fk(e,t,n){const r=Object.assign(Object.assign({},lY()),{[t]:n});return new gr("auth","Firebase",r).create(t,{appName:e.name})}(e,u,l);an(e,u)}}catch(i){if(i instanceof Gn)throw i;an(e,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function Kr(e,t,n,r){return iy.apply(this,arguments)}function iy(){return(iy=_(function*(e,t,n,r,i={}){const o=yield Ge(e,t,n,r,i);return"mfaPendingCredential"in o&&an(e,"multi-factor-auth-required",{_serverResponse:o}),o})).apply(this,arguments)}function jk(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?ty(e.config,i):`${e.config.apiScheme}://${i}`}class gY{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(_r(this.auth,"network-request-failed")),pY.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function pl(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=_r(e,t,r);return i.customData._tokenResponse=n,i}function oy(){return(oy=_(function*(e,t){return Ge(e,"POST","/v1/accounts:delete",t)})).apply(this,arguments)}function ay(){return(ay=_(function*(e,t){return Ge(e,"POST","/v1/accounts:lookup",t)})).apply(this,arguments)}function gl(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function cy(){return(cy=_(function*(e,t=!1){const n=Dt(e),r=yield n.getIdToken(t),i=qh(r);R(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:gl(ly(i.auth_time)),issuedAtTime:gl(ly(i.iat)),expirationTime:gl(ly(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function ly(e){return 1e3*Number(e)}function qh(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Gh("JWT malformed, contained fewer than 3 sections"),null;try{const i=Lh(n);return i?JSON.parse(i):(Gh("Failed to decode base64 JWT payload"),null)}catch(i){return Gh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Yr(e,t){return uy.apply(this,arguments)}function uy(){return(uy=_(function*(e,t,n=!1){if(n)return t;try{return yield t}catch(r){throw r instanceof Gn&&function bY({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(r)&&e.auth.currentUser===e&&(yield e.auth.signOut()),r}})).apply(this,arguments)}class wY{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(t);this.timerId=setTimeout(_(function*(){yield n.iteration()}),r)}iteration(){var t=this;return _(function*(){try{yield t.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&t.schedule(!0))}t.schedule()})()}}class Bk{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=gl(this.lastLoginAt),this.creationTime=gl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ml(e){return dy.apply(this,arguments)}function dy(){return dy=_(function*(e){var t;const n=e.auth,r=yield e.getIdToken(),i=yield Yr(e,function vY(e,t){return ay.apply(this,arguments)}(n,{idToken:r}));R(i?.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=null!==(t=o.providerUserInfo)&&void 0!==t&&t.length?function DY(e){return e.map(t=>{var{providerId:n}=t,r=hu(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(o.providerUserInfo):[],a=function IY(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}(e.providerData,s),u=!!e.isAnonymous&&!(e.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Bk(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(e,d)}),dy.apply(this,arguments)}function hy(){return(hy=_(function*(e){const t=Dt(e);yield ml(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})).apply(this,arguments)}function fy(){return(fy=_(function*(e,t){const n=yield Uk(e,{},_(function*(){const r=ca({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=e.config,s=jk(e,i,"/v1/token",`key=${o}`),a=yield e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Vk.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class _l{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){R(t.idToken,"internal-error"),R(typeof t.idToken<"u","internal-error"),R(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):function CY(e){const t=qh(e);return R(t,"internal-error"),R(typeof t.exp<"u","internal-error"),R(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}getToken(t,n=!1){var r=this;return _(function*(){return R(!r.accessToken||r.refreshToken,t,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(t,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(t,n){var r=this;return _(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function TY(e,t){return fy.apply(this,arguments)}(t,n);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new _l;return r&&(R("string"==typeof r,"internal-error",{appName:t}),s.refreshToken=r),i&&(R("string"==typeof i,"internal-error",{appName:t}),s.accessToken=i),o&&(R("number"==typeof o,"internal-error",{appName:t}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new _l,this.toJSON())}_performRefresh(){return vr("not implemented")}}function Ti(e,t){R("string"==typeof e||typeof e>"u","internal-error",{appName:t})}class wo{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,o=hu(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wY(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Bk(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(t){var n=this;return _(function*(){const r=yield Yr(n,n.stsTokenManager.getToken(n.auth,t));return R(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(t){return function yY(e){return cy.apply(this,arguments)}(this,t)}reload(){return function EY(e){return hy.apply(this,arguments)}(this)}_assign(t){this!==t&&(R(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new wo(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){R(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,n=!1){var r=this;return _(function*(){let i=!1;t.idToken&&t.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(t),i=!0),n&&(yield ml(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var t=this;return _(function*(){const n=yield t.getIdToken();return yield Yr(t,function mY(e,t){return oy.apply(this,arguments)}(t.auth,{idToken:n})),t.stsTokenManager.clearRefreshToken(),t.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,o,s,a,c,l,u;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,g=null!==(s=n.photoURL)&&void 0!==s?s:void 0,v=null!==(a=n.tenantId)&&void 0!==a?a:void 0,E=null!==(c=n._redirectEventId)&&void 0!==c?c:void 0,I=null!==(l=n.createdAt)&&void 0!==l?l:void 0,b=null!==(u=n.lastLoginAt)&&void 0!==u?u:void 0,{uid:F,emailVerified:j,isAnonymous:Z,providerData:Je,stsTokenManager:wn}=n;R(F&&wn,t,"internal-error");const ii=_l.fromJSON(this.name,wn);R("string"==typeof F,t,"internal-error"),Ti(d,t.name),Ti(h,t.name),R("boolean"==typeof j,t,"internal-error"),R("boolean"==typeof Z,t,"internal-error"),Ti(f,t.name),Ti(g,t.name),Ti(v,t.name),Ti(E,t.name),Ti(I,t.name),Ti(b,t.name);const Wo=new wo({uid:F,auth:t,email:h,emailVerified:j,displayName:d,isAnonymous:Z,photoURL:g,phoneNumber:f,tenantId:v,stsTokenManager:ii,createdAt:I,lastLoginAt:b});return Je&&Array.isArray(Je)&&(Wo.providerData=Je.map(UI=>Object.assign({},UI))),E&&(Wo._redirectEventId=E),Wo}static _fromIdTokenResponse(t,n,r=!1){return _(function*(){const i=new _l;i.updateFromServerResponse(n);const o=new wo({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return yield ml(o),o})()}}const $k=new Map;function Qr(e){Di(e instanceof Function,"Expected a class definition");let t=$k.get(e);return t?(Di(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,$k.set(e,t),t)}const Hk=(()=>{class e{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(function*(){return!0})()}_set(n,r){var i=this;return _(function*(){i.storage[n]=r})()}_get(n){var r=this;return _(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return _(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return e.type="NONE",e})();function Kh(e,t,n){return`firebase:${e}:${t}:${n}`}class fa{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Kh(this.userKey,i.apiKey,o),this.fullPersistenceKey=Kh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){var t=this;return _(function*(){const n=yield t.persistence._get(t.fullUserKey);return n?wo._fromJSON(t.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){var n=this;return _(function*(){if(n.persistence===t)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=t,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,n,r="authUser"){return _(function*(){if(!n.length)return new fa(Qr(Hk),t,r);const i=(yield Promise.all(n.map(function(){var l=_(function*(u){if(yield u._isAvailable())return u});return function(u){return l.apply(this,arguments)}}()))).filter(l=>l);let o=i[0]||Qr(Hk);const s=Kh(r,t.config.apiKey,t.name);let a=null;for(const l of n)try{const u=yield l._get(s);if(u){const d=wo._fromJSON(t,u);l!==o&&(a=d),o=l;break}}catch{}const c=i.filter(l=>l._shouldAllowMigration);return o._shouldAllowMigration&&c.length?(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(function(){var l=_(function*(u){if(u!==o)try{yield u._remove(s)}catch{}});return function(u){return l.apply(this,arguments)}}())),new fa(o,t,r)):new fa(o,t,r)})()}}function zk(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(qk(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Wk(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Yk(t))return"Blackberry";if(Qk(t))return"Webos";if(py(t))return"Safari";if((t.includes("chrome/")||Gk(t))&&!t.includes("edge/"))return"Chrome";if(Kk(t))return"Android";{const r=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function Wk(e=ht()){return/firefox\//i.test(e)}function py(e=ht()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Gk(e=ht()){return/crios\//i.test(e)}function qk(e=ht()){return/iemobile/i.test(e)}function Kk(e=ht()){return/android/i.test(e)}function Yk(e=ht()){return/blackberry/i.test(e)}function Qk(e=ht()){return/webos/i.test(e)}function Yh(e=ht()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Xk(e=ht()){return Yh(e)||Kk(e)||Qk(e)||Yk(e)||/windows phone/i.test(e)||qk(e)}function Zk(e,t=[]){let n;switch(e){case"Browser":n=zk(ht());break;case"Worker":n=`${zk(ht())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${bo}/${r}`}function Jk(e,t){return my.apply(this,arguments)}function my(){return(my=_(function*(e,t){return Ge(e,"GET","/v2/recaptchaConfig",je(e,t))})).apply(this,arguments)}function tN(e){return void 0!==e&&void 0!==e.enterprise}class nN{constructor(t){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}function _y(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const o=_r("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",function RY(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})}function rN(e){return`__${e}${Math.floor(1e6*Math.random())}`}class iN{constructor(t){this.type="recaptcha-enterprise",this.auth=ft(t)}verify(t="verify",n=!1){var r=this;return _(function*(){function o(){return o=_(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=_(function*(l,u){Jk(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new nN(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,l(h.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{u(d)})});return function(l,u){return c.apply(this,arguments)}}())}),o.apply(this,arguments)}function s(a,c,l){const u=window.grecaptcha;tN(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:t}).then(d=>{c(d)}).catch(()=>{c("NO_RECAPTCHA")})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function i(a){return o.apply(this,arguments)})(r.auth).then(l=>{if(!n&&tN(window.grecaptcha))s(l,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));_y("https://www.google.com/recaptcha/enterprise.js?render="+l).then(()=>{s(l,a,c)}).catch(u=>{c(u)})}}).catch(l=>{c(l)})})})()}}function Si(e,t,n){return vy.apply(this,arguments)}function vy(){return(vy=_(function*(e,t,n,r=!1){const i=new iN(e);let o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}const s=Object.assign({},t);return Object.assign(s,r?{captchaResp:o}:{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})).apply(this,arguments)}class OY{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=o=>new Promise((s,a)=>{try{s(t(o))}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(t){var n=this;return _(function*(){if(n.auth.currentUser===t)return;const r=[];try{for(const i of n.queue)yield i(t),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class FY{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oN(this),this.idTokenSubscription=new oN(this),this.beforeStateQueue=new OY(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ok,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){var r=this;return n&&(this._popupRedirectResolver=Qr(n)),this._initializationPromise=this.queue(_(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield fa.create(r,t),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var t=this;return _(function*(){if(t._deleted)return;const n=yield t.assertedPersistence.getCurrentUser();if(t.currentUser||n){if(t.currentUser&&n&&t.currentUser.uid===n.uid)return t._currentUser._assign(n),void(yield t.currentUser.getIdToken());yield t._updateCurrentUser(n,!0)}})()}initializeCurrentUser(t){var n=this;return _(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let o=i,s=!1;if(t&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,c=o?._redirectEventId,l=yield n.tryRedirectSignIn(t);(!a||a===c)&&l?.user&&(o=l.user,s=!0)}if(!o)return n.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield n.beforeStateQueue.runMiddleware(o)}catch(a){o=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return o?n.reloadAndSetCurrentUserOrClear(o):n.directlySetCurrentUser(null)}return R(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===o._redirectEventId?n.directlySetCurrentUser(o):n.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(t){var n=this;return _(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,t,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(t){var n=this;return _(function*(){try{yield ml(t)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(t)})()}useDeviceLanguage(){this.languageCode=function hY(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}_delete(){var t=this;return _(function*(){t._deleted=!0})()}updateCurrentUser(t){var n=this;return _(function*(){const r=t?Dt(t):null;return r&&R(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(t,n=!1){var r=this;return _(function*(){if(!r._deleted)return t&&R(r.tenantId===t.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(t)),r.queue(_(function*(){yield r.directlySetCurrentUser(t),r.notifyAuthListeners()}))})()}signOut(){var t=this;return _(function*(){return yield t.beforeStateQueue.runMiddleware(null),(t.redirectPersistenceManager||t._popupRedirectResolver)&&(yield t._setRedirectUser(null)),t._updateCurrentUser(null,!0)})()}setPersistence(t){var n=this;return this.queue(_(function*(){yield n.assertedPersistence.setPersistence(Qr(t))}))}initializeRecaptchaConfig(){var t=this;return _(function*(){const n=yield Jk(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new nN(n);null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.emailPasswordEnabled&&new iN(t).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new gr("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}_setRedirectUser(t,n){var r=this;return _(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===t?i.removeCurrentUser():i.setCurrentUser(t)})()}getOrInitRedirectPersistenceManager(t){var n=this;return _(function*(){if(!n.redirectPersistenceManager){const r=t&&Qr(t)||n._popupRedirectResolver;R(r,n,"argument-error"),n.redirectPersistenceManager=yield fa.create(n,[Qr(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(t){var n=this;return _(function*(){var r,i;return n._isInitialized&&(yield n.queue(_(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===t?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===t?n.redirectUser:null})()}_persistUserIfCurrent(t){var n=this;return _(function*(){if(t===n.currentUser)return n.queue(_(function*(){return n.directlySetCurrentUser(t)}))})()}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const o="function"==typeof n?n:n.next.bind(n),s=this._isInitialized?Promise.resolve():this._initializationPromise;return R(s,this,"internal-error"),s.then(()=>o(this.currentUser)),"function"==typeof n?t.addObserver(n,r,i):t.addObserver(n)}directlySetCurrentUser(t){var n=this;return _(function*(){n.currentUser&&n.currentUser!==t&&n._currentUser._stopProactiveRefresh(),t&&n.isProactiveRefreshEnabled&&t._startProactiveRefresh(),n.currentUser=t,t?yield n.assertedPersistence.setCurrentUser(t):yield n.assertedPersistence.removeCurrentUser()})()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return R(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Zk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var t=this;return _(function*(){var n;const r={"X-Client-Version":t.clientVersion};t.app.options.appId&&(r["X-Firebase-gmpid"]=t.app.options.appId);const i=yield null===(n=t.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield t._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var t=this;return _(function*(){var n;const r=yield null===(n=t.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function uY(e,...t){Wh.logLevel<=we.WARN&&Wh.warn(`Auth (${bo}): ${e}`,...t)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function ft(e){return Dt(e)}class oN{constructor(t){this.auth=t,this.observer=null,this.addObserver=function Q9(e,t){const n=new X9(e,t);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return R(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function sN(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function aN(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class vl{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return vr("not implemented")}_getIdTokenResponse(t){return vr("not implemented")}_linkToIdToken(t,n){return vr("not implemented")}_getReauthenticationResolver(t){return vr("not implemented")}}function lN(e,t){return Cy.apply(this,arguments)}function Cy(){return(Cy=_(function*(e,t){return Ge(e,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function wy(e,t){return Ey.apply(this,arguments)}function Ey(){return(Ey=_(function*(e,t){return Kr(e,"POST","/v1/accounts:signInWithPassword",je(e,t))})).apply(this,arguments)}function Ry(){return(Ry=_(function*(e,t){return Kr(e,"POST","/v1/accounts:signInWithEmailLink",je(e,t))})).apply(this,arguments)}function Py(){return(Py=_(function*(e,t){return Kr(e,"POST","/v1/accounts:signInWithEmailLink",je(e,t))})).apply(this,arguments)}class yl extends vl{constructor(t,n,r,i=null){super("password",r),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new yl(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new yl(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n="string"==typeof t?JSON.parse(t):t;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(t){var n=this;return _(function*(){var r;switch(n.signInMethod){case"password":const i={returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(r=t._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const o=yield Si(t,i,"signInWithPassword");return wy(t,o)}return wy(t,i).catch(function(){var o=_(function*(s){if("auth/missing-recaptcha-token"===s.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const a=yield Si(t,i,"signInWithPassword");return wy(t,a)}return Promise.reject(s)});return function(s){return o.apply(this,arguments)}}());case"emailLink":return function WY(e,t){return Ry.apply(this,arguments)}(t,{email:n._email,oobCode:n._password});default:an(t,"internal-error")}})()}_linkToIdToken(t,n){var r=this;return _(function*(){switch(r.signInMethod){case"password":return lN(t,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function GY(e,t){return Py.apply(this,arguments)}(t,{idToken:n,email:r._email,oobCode:r._password});default:an(t,"internal-error")}})()}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}function Xr(e,t){return ky.apply(this,arguments)}function ky(){return(ky=_(function*(e,t){return Kr(e,"POST","/v1/accounts:signInWithIdp",je(e,t))})).apply(this,arguments)}class wl{constructor(t){var n,r,i,o,s,a;const c=ll(ul(t)),l=null!==(n=c.apiKey)&&void 0!==n?n:null,u=null!==(r=c.oobCode)&&void 0!==r?r:null,d=function JY(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);R(l&&u&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=u,this.continueUrl=null!==(o=c.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=c.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(t){const n=function eQ(e){const t=ll(ul(e)).link,n=t?ll(ul(t)).deep_link_id:null,r=ll(ul(e)).deep_link_id;return(r?ll(ul(r)).link:null)||r||n||t||e}(t);try{return new wl(n)}catch{return null}}}let uN=(()=>{class e{constructor(){this.providerId=e.PROVIDER_ID}static credential(n,r){return yl._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=wl.parseLink(r);return R(i,"argument-error"),yl._fromEmailAndCode(n,i.code,i.tenantId)}}return e.PROVIDER_ID="password",e.EMAIL_PASSWORD_SIGN_IN_METHOD="password",e.EMAIL_LINK_SIGN_IN_METHOD="emailLink",e})();class Zr{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class tQ extends Zr{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}function Zh(e,t){return Uy.apply(this,arguments)}function Uy(){return(Uy=_(function*(e,t){return Kr(e,"POST","/v1/accounts:signUp",je(e,t))})).apply(this,arguments)}class kn{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static _fromIdTokenResponse(t,n,r,i=!1){return _(function*(){const o=yield wo._fromIdTokenResponse(t,r,i),s=dN(r);return new kn({user:o,providerId:s,_tokenResponse:r,operationType:n})})()}static _forOperation(t,n,r){return _(function*(){yield t._updateTokensIfNecessary(r,!0);const i=dN(r);return new kn({user:t,providerId:i,_tokenResponse:r,operationType:n})})()}}function dN(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Jh extends Gn{constructor(t,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Jh.prototype),this.customData={appName:t.name,tenantId:null!==(o=t.tenantId)&&void 0!==o?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new Jh(t,n,r,i)}}function hN(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?Jh._fromErrorAndOperation(e,o,t,r):o})}function Hy(){return(Hy=_(function*(e,t,n=!1){const r=yield Yr(e,t._linkToIdToken(e.auth,yield e.getIdToken()),n);return kn._forOperation(e,"link",r)})).apply(this,arguments)}function Wy(){return(Wy=_(function*(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const o=yield Yr(e,hN(r,i,t,e),n);R(o.idToken,r,"internal-error");const s=qh(o.idToken);R(s,r,"internal-error");const{sub:a}=s;return R(e.uid===a,r,"user-mismatch"),kn._forOperation(e,i,o)}catch(o){throw"auth/user-not-found"===o?.code&&an(r,"user-mismatch"),o}})).apply(this,arguments)}function gN(e,t){return Gy.apply(this,arguments)}function Gy(){return(Gy=_(function*(e,t,n=!1){const r="signIn",i=yield hN(e,r,t),o=yield kn._fromIdTokenResponse(e,r,i);return n||(yield e._updateCurrentUser(o.user)),o})).apply(this,arguments)}function Ky(){return(Ky=_(function*(e,t){return gN(ft(e),t)})).apply(this,arguments)}function cQ(e,t,n){return sC.apply(this,arguments)}function sC(){return sC=_(function*(e,t,n){var r;const i=ft(e),o={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let s;if(null!==(r=i._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const l=yield Si(i,o,"signUpPassword");s=Zh(i,l)}else s=Zh(i,o).catch(function(){var l=_(function*(u){if("auth/missing-recaptcha-token"===u.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const d=yield Si(i,o,"signUpPassword");return Zh(i,d)}return Promise.reject(u)});return function(u){return l.apply(this,arguments)}}());const a=yield s.catch(l=>Promise.reject(l)),c=yield kn._fromIdTokenResponse(i,"signIn",a);return yield i._updateCurrentUser(c.user),c}),sC.apply(this,arguments)}function lQ(e,t,n){return function qy(e,t){return Ky.apply(this,arguments)}(Dt(e),uN.credential(t,n))}function yQ(e,t,n,r){return Dt(e).onAuthStateChanged(t,n,r)}function CQ(e){return Dt(e).signOut()}const tf="__sak";class vN{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(tf,"1"),this.storage.removeItem(tf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const AQ=(()=>{class e extends vN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function DQ(){const e=ht();return py(e)||Yh(e)}()&&function MY(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Xk(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const o=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);!function AY(){return function H9(){const e=ht();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}()||s===n.newValue||n.newValue===n.oldValue?o():setTimeout(o,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,o=this;return _(function*(){yield i().call(o,n,r),o.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return _(function*(){const o=yield r().call(i,n);return i.localCache[n]=JSON.stringify(o),o})()}_remove(n){var r=()=>super._remove,i=this;return _(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return e.type="LOCAL",e})(),yN=(()=>{class e extends vN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return e.type="SESSION",e})();let xQ=(()=>{class e{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;const i=new e(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return _(function*(){const i=n,{eventId:o,eventType:s,data:a}=i.data,c=r.handlersMap[s];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:o,eventType:s});const l=Array.from(c).map(function(){var d=_(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),u=yield function MQ(e){return Promise.all(e.map(function(){var t=_(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return t.apply(this,arguments)}}()))}(l);i.ports[0].postMessage({status:"done",eventId:o,eventType:s,response:u})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return e.receivers=[],e})();function CC(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}class RQ{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}_send(t,n,r=50){var i=this;return _(function*(){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let s,a;return new Promise((c,l)=>{const u=CC("",20);o.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:o,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(f.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"))}}},i.handlers.add(a),o.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:t,eventId:u,data:n},[o.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function it(){return window}function bC(){return typeof it().WorkerGlobalScope<"u"&&"function"==typeof it().importScripts}function wC(){return(wC=_(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const CN="firebaseLocalStorageDb",nf="firebaseLocalStorage",bN="fbase_key";class Dl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function rf(e,t){return e.transaction([nf],t?"readwrite":"readonly").objectStore(nf)}function EC(){const e=indexedDB.open(CN,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(nf,{keyPath:bN})}catch(i){n(i)}}),e.addEventListener("success",_(function*(){const r=e.result;r.objectStoreNames.contains(nf)?t(r):(r.close(),yield function LQ(){const e=indexedDB.deleteDatabase(CN);return new Dl(e).toPromise()}(),t(yield EC()))}))})}function wN(e,t,n){return IC.apply(this,arguments)}function IC(){return(IC=_(function*(e,t,n){const r=rf(e,!0).put({[bN]:t,value:n});return new Dl(r).toPromise()})).apply(this,arguments)}function DC(){return(DC=_(function*(e,t){const n=rf(e,!1).get(t),r=yield new Dl(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function EN(e,t){const n=rf(e,!0).delete(t);return new Dl(n).toPromise()}const BQ=(()=>{class e{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return _(function*(){return n.db||(n.db=yield EC()),n.db})()}_withRetries(n){var r=this;return _(function*(){let i=0;for(;;)try{const o=yield r._openDb();return yield n(o)}catch(o){if(i++>3)throw o;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return _(function*(){return bC()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return _(function*(){n.receiver=xQ._getInstance(function OQ(){return bC()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=_(function*(i,o){return{keyProcessed:(yield n._poll()).includes(o.key)}});return function(i,o){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=_(function*(i,o){return["keyChanged"]});return function(i,o){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return _(function*(){var r,i;if(n.activeServiceWorker=yield function kQ(){return wC.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new RQ(n.activeServiceWorker);const o=yield n.sender._send("ping",{},800);o&&null!==(r=o[0])&&void 0!==r&&r.fulfilled&&null!==(i=o[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return _(function*(){if(r.sender&&r.activeServiceWorker&&function NQ(){var e;return(null===(e=navigator?.serviceWorker)||void 0===e?void 0:e.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return _(function*(){try{if(!indexedDB)return!1;const n=yield EC();return yield wN(n,tf,"1"),yield EN(n,tf),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return _(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return _(function*(){return i._withPendingWrite(_(function*(){return yield i._withRetries(o=>wN(o,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return _(function*(){const i=yield r._withRetries(o=>function VQ(e,t){return DC.apply(this,arguments)}(o,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return _(function*(){return r._withPendingWrite(_(function*(){return yield r._withRetries(i=>EN(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return _(function*(){const r=yield n._withRetries(s=>{const a=rf(s,!1).getAll();return new Dl(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],o=new Set;for(const{fbase_key:s,value:a}of r)o.add(s),JSON.stringify(n.localCache[s])!==JSON.stringify(a)&&(n.notifyListeners(s,a),i.push(s));for(const s of Object.keys(n.localCache))n.localCache[s]&&!o.has(s)&&(n.notifyListeners(s,null),i.push(s));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const o of Array.from(i))o(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(_(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return e.type="LOCAL",e})();rN("rcb"),new fl(3e4,6e4);class NC extends vl{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Xr(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Xr(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Xr(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function rX(e){return gN(e.auth,new NC(e),e.bypassAuthState)}function iX(e){const{auth:t,user:n}=e;return R(n,t,"internal-error"),function pN(e,t){return Wy.apply(this,arguments)}(n,new NC(e),e.bypassAuthState)}function oX(e){return OC.apply(this,arguments)}function OC(){return(OC=_(function*(e){const{auth:t,user:n}=e;return R(n,t,"internal-error"),function $y(e,t){return Hy.apply(this,arguments)}(n,new NC(e),e.bypassAuthState)})).apply(this,arguments)}class sX{constructor(t,n,r,i,o=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var t=this;return new Promise(function(){var n=_(function*(r,i){t.pendingPromise={resolve:r,reject:i};try{t.eventManager=yield t.resolver._initialize(t.auth),yield t.onExecution(),t.eventManager.registerConsumer(t)}catch(o){t.reject(o)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(t){var n=this;return _(function*(){const{urlResponse:r,sessionId:i,postBody:o,tenantId:s,error:a,type:c}=t;if(a)return void n.reject(a);const l={auth:n.auth,requestUri:r,sessionId:i,tenantId:s||void 0,postBody:o||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(c)(l))}catch(u){n.reject(u)}})()}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return rX;case"linkViaPopup":case"linkViaRedirect":return oX;case"reauthViaPopup":case"reauthViaRedirect":return iX;default:an(this.auth,"internal-error")}}resolve(t){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new fl(2e3,1e4);const aX="pendingRedirect",Tl=new Map;class cX extends sX{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var t=()=>super.execute,n=this;return _(function*(){let r=Tl.get(n.auth._key());if(!r){try{const o=(yield function lX(e,t){return jC.apply(this,arguments)}(n.resolver,n.auth))?yield t().call(n):null;r=()=>Promise.resolve(o)}catch(i){r=()=>Promise.reject(i)}Tl.set(n.auth._key(),r)}return n.bypassAuthState||Tl.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(t){var n=()=>super.onAuthEvent,r=this;return _(function*(){if("signInViaRedirect"===t.type)return n().call(r,t);if("unknown"!==t.type){if(t.eventId){const i=yield r.auth._redirectUserForId(t.eventId);if(i)return r.user=i,n().call(r,t);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return _(function*(){})()}cleanUp(){}}function jC(){return(jC=_(function*(e,t){const n=function TN(e){return Kh(aX,e.config.apiKey,e.name)}(t),r=function DN(e){return Qr(e._redirectPersistence)}(e);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function uX(e,t){Tl.set(e._key(),t)}function SN(e,t){return qC.apply(this,arguments)}function qC(){return(qC=_(function*(e,t,n=!1){const r=ft(e),i=function Io(e,t){return t?Qr(t):(R(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}(r,t),s=yield new cX(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,t)),s})).apply(this,arguments)}class gX{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!function mX(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xN(e);default:return!1}}(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!xN(t)){const i=(null===(r=t.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(_r(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=null===n.eventId||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(MN(t))}saveEventToCache(t){this.cachedEventUids.add(MN(t)),this.lastProcessedEventTime=Date.now()}}function MN(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function xN({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===t?.code}function YC(){return(YC=_(function*(e,t={}){return Ge(e,"GET","/v1/projects",t)})).apply(this,arguments)}const vX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yX=/^https?/;function QC(){return QC=_(function*(e){if(e.config.emulator)return;const{authorizedDomains:t}=yield function _X(e){return YC.apply(this,arguments)}(e);for(const n of t)try{if(bX(n))return}catch{}an(e,"unauthorized-domain")}),QC.apply(this,arguments)}function bX(e){const t=hl(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return""===s.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&s.hostname===r}if(!yX.test(n))return!1;if(vX.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const wX=new fl(3e4,6e4);function RN(){const e=it().___jsl;if(e?.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let af=null;const DX=new fl(5e3,15e3),TX="__/auth/iframe",SX="emulator/auth/iframe",AX={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},MX=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xX(e){const t=e.config;R(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?ty(t,SX):`https://${e.config.authDomain}/${TX}`,r={apiKey:t.apiKey,appName:e.name,v:bo},i=MX.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${ca(r).slice(1)}`}function XC(){return XC=_(function*(e){const t=yield function IX(e){return af=af||function EX(e){return new Promise((t,n)=>{var r,i,o;function s(){RN(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{RN(),n(_r(e,"network-request-failed"))},timeout:wX.get()})}if(null!==(i=null===(r=it().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)t(gapi.iframes.getContext());else{if(null===(o=it().gapi)||void 0===o||!o.load){const a=rN("iframefcb");return it()[a]=()=>{gapi.load?s():n(_r(e,"network-request-failed"))},_y(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>n(c))}s()}}).catch(t=>{throw af=null,t})}(e),af}(e),n=it().gapi;return R(n,e,"internal-error"),t.open({where:document.body,url:xX(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AX,dontclear:!0},r=>new Promise(function(){var i=_(function*(o,s){yield r.restyle({setHideOnLeave:!1});const a=_r(e,"network-request-failed"),c=it().setTimeout(()=>{s(a)},DX.get());function l(){it().clearTimeout(c),o(r)}r.ping(l).then(l,()=>{s(a)})});return function(o,s){return i.apply(this,arguments)}}()))}),XC.apply(this,arguments)}const PX={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class PN{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const UX="__/auth/handler",jX="emulator/auth/handler",BX=encodeURIComponent("fac");function kN(e,t,n,r,i,o){return ZC.apply(this,arguments)}function ZC(){return(ZC=_(function*(e,t,n,r,i,o){R(e.config.authDomain,e,"auth-domain-config-required"),R(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:bo,eventId:i};if(t instanceof Zr){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",Lv(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[u,d]of Object.entries(o||{}))s[u]=d}if(t instanceof tQ){const u=t.getScopes().filter(d=>""!==d);u.length>0&&(s.scopes=u.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const c=yield e._getAppCheckToken(),l=c?`#${BX}=${encodeURIComponent(c)}`:"";return`${function $X({config:e}){return e.emulator?ty(e,jX):`https://${e.authDomain}/${UX}`}(e)}?${ca(a).slice(1)}${l}`})).apply(this,arguments)}const JC="webStorageSupport",zX=class HX{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yN,this._completeRedirectFn=SN,this._overrideRedirectResult=uX}_openPopup(t,n,r,i){var o=this;return _(function*(){var s;Di(null===(s=o.eventManagers[t._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");const a=yield kN(t,n,r,hl(),i);return function LX(e,t,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},PX),{width:r.toString(),height:i.toString(),top:o,left:s}),l=ht().toLowerCase();n&&(a=Gk(l)?"_blank":n),Wk(l)&&(t=t||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce((h,[f,g])=>`${h}${f}=${g},`,"");if(function SY(e=ht()){var t;return Yh(e)&&!(null===(t=window.navigator)||void 0===t||!t.standalone)}(l)&&"_self"!==a)return function VX(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new PN(null);const d=window.open(t||"",a,u);R(d,e,"popup-blocked");try{d.focus()}catch{}return new PN(d)}(t,a,CC())})()}_openRedirect(t,n,r,i){var o=this;return _(function*(){return yield o._originValidation(t),function PQ(e){it().location.href=e}(yield kN(t,n,r,hl(),i)),new Promise(()=>{})})()}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Di(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(t){var n=this;return _(function*(){const r=yield function RX(e){return XC.apply(this,arguments)}(t),i=new gX(t);return r.register("authEvent",o=>(R(o?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[t._key()]={manager:i},n.iframes[t._key()]=r,i})()}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(JC,{type:JC},i=>{var o;const s=null===(o=i?.[0])||void 0===o?void 0:o[JC];void 0!==s&&n(!!s),an(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function CX(e){return QC.apply(this,arguments)}(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return Xk()||py()||Yh()}};var LN="@firebase/auth";class WX{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}getToken(t){var n=this;return _(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(t)}:null})()}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){R(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const YX=_k("authIdTokenMaxAge")||300;let UN=null;const QX=e=>function(){var t=_(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>YX)return;const o=r?.token;UN!==o&&(UN=o,yield fetch(e,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});return function(n){return t.apply(this,arguments)}}();function XX(e=Kv()){const t=da(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function LY(e,t){const n=da(e,"auth");if(n.isInitialized()){const i=n.getImmediate();if(Bh(n.getOptions(),t??{}))return i;an(i,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:zX,persistence:[BQ,AQ,yN]}),r=_k("authTokenSyncURL");if(r){const o=QX(r);(function vQ(e,t,n){Dt(e).beforeAuthStateChanged(t,n)})(n,o,()=>o(n.currentUser)),function _Q(e,t,n,r){Dt(e).onIdTokenChanged(t,n,r)}(n,s=>o(s))}const i=gk("auth");return i&&function UY(e,t,n){const r=ft(e);R(r._canInitEmulator,r,"emulator-config-failed"),R(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,o=sN(t),{host:s,port:a}=function jY(e){const t=sN(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:aN(r.substr(o.length+1))}}{const[o,s]=r.split(":");return{host:o,port:aN(s)}}}(t);r.config.emulator={url:`${o}//${s}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function BY(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(n,`http://${i}`),n}!function qX(e){qt(new kt("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;R(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Zk(e)},l=new FY(r,i,o,c);return function VY(e,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Qr);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),qt(new kt("auth-internal",t=>{const n=ft(t.getProvider("auth").getImmediate());return new WX(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),We(LN,"0.23.2",function GX(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(e)),We(LN,"0.23.2","esm2017")}("Browser"),We("firebase","9.23.0","app");const eZ=(e,t)=>t.some(n=>e instanceof n);let jN,BN;const $N=new WeakMap,tb=new WeakMap,HN=new WeakMap,nb=new WeakMap,rb=new WeakMap;let ib={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return tb.get(e);if("objectStoreNames"===t)return e.objectStoreNames||HN.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ai(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function aZ(e){return"function"==typeof e?function sZ(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function nZ(){return BN||(BN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(e)?function(...t){return e.apply(ob(this),t),Ai($N.get(this))}:function(...t){return Ai(e.apply(ob(this),t))}:function(t,...n){const r=e.call(ob(this),t,...n);return HN.set(r,t.sort?t.sort():[t]),Ai(r)}}(e):(e instanceof IDBTransaction&&function iZ(e){if(tb.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});tb.set(e,t)}(e),eZ(e,function tZ(){return jN||(jN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(e,ib):e)}function Ai(e){if(e instanceof IDBRequest)return function rZ(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(Ai(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&$N.set(n,e)}).catch(()=>{}),rb.set(t,e),t}(e);if(nb.has(e))return nb.get(e);const t=aZ(e);return t!==e&&(nb.set(e,t),rb.set(t,e)),t}const ob=e=>rb.get(e),lZ=["get","getKey","getAll","getAllKeys","count"],uZ=["put","add","delete","clear"],sb=new Map;function zN(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(sb.get(t))return sb.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=uZ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!lZ.includes(n))return;const o=function(){var s=_(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return s.apply(this,arguments)}}();return sb.set(t,o),o}!function oZ(e){ib=e(ib)}(e=>({...e,get:(t,n,r)=>zN(t,n)||e.get(t,n,r),has:(t,n)=>!!zN(t,n)||e.has(t,n)}));const WN="@firebase/installations",ab="0.6.4",GN=1e4,qN=`w:${ab}`,KN="FIS_v2",dZ="https://firebaseinstallations.googleapis.com/v1",hZ=36e5,Jr=new gr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function YN(e){return e instanceof Gn&&e.code.includes("request-failed")}function cb({projectId:e}){return`${dZ}/projects/${e}/installations`}function QN(e){return{token:e.token,requestStatus:2,expiresIn:mZ(e.expiresIn),creationTime:Date.now()}}function lb(e,t){return ub.apply(this,arguments)}function ub(){return(ub=_(function*(e,t){const r=(yield t.json()).error;return Jr.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function XN({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function db(e){return hb.apply(this,arguments)}function hb(){return(hb=_(function*(e){const t=yield e();return t.status>=500&&t.status<600?e():t})).apply(this,arguments)}function mZ(e){return Number(e.replace("s","000"))}function fb(){return(fb=_(function*({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=cb(e),i=XN(e),o=t.getImmediate({optional:!0});if(o){const l=yield o.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:KN,appId:e.appId,sdkVersion:qN})},c=yield db(()=>fetch(r,a));if(c.ok){const l=yield c.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:QN(l.authToken)}}throw yield lb("Create Installation",c)})).apply(this,arguments)}function JN(e){return new Promise(t=>{setTimeout(t,e)})}const CZ=/^[cdef][\w-]{21}$/,pb="";function bZ(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=function wZ(e){return function yZ(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}(e).substr(0,22)}(e);return CZ.test(n)?n:pb}catch{return pb}}function ma(e){return`${e.appName}!${e.appId}`}const _a=new Map;function eO(e,t){const n=ma(e);tO(n,t),function DZ(e,t){const n=function nO(){return!Do&&"BroadcastChannel"in self&&(Do=new BroadcastChannel("[Firebase] FID Change"),Do.onmessage=e=>{tO(e.data.key,e.data.fid)}),Do}();n&&n.postMessage({key:e,fid:t}),function rO(){0===_a.size&&Do&&(Do.close(),Do=null)}()}(n,t)}function tO(e,t){const n=_a.get(e);if(n)for(const r of n)r(t)}let Do=null;const TZ="firebase-installations-database",SZ=1,To="firebase-installations-store";let gb=null;function mb(){return gb||(gb=function cZ(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=Ai(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Ai(s.result),c.oldVersion,c.newVersion,Ai(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(TZ,SZ,{upgrade:(e,t)=>{0===t&&e.createObjectStore(To)}})),gb}function lf(e,t){return _b.apply(this,arguments)}function _b(){return(_b=_(function*(e,t){const n=ma(e),i=(yield mb()).transaction(To,"readwrite"),o=i.objectStore(To),s=yield o.get(n);return yield o.put(t,n),yield i.done,(!s||s.fid!==t.fid)&&eO(e,t.fid),t})).apply(this,arguments)}function vb(e){return yb.apply(this,arguments)}function yb(){return(yb=_(function*(e){const t=ma(e),r=(yield mb()).transaction(To,"readwrite");yield r.objectStore(To).delete(t),yield r.done})).apply(this,arguments)}function Sl(e,t){return Cb.apply(this,arguments)}function Cb(){return(Cb=_(function*(e,t){const n=ma(e),i=(yield mb()).transaction(To,"readwrite"),o=i.objectStore(To),s=yield o.get(n),a=t(s);return void 0===a?yield o.delete(n):yield o.put(a,n),yield i.done,a&&(!s||s.fid!==a.fid)&&eO(e,a.fid),a})).apply(this,arguments)}function bb(e){return wb.apply(this,arguments)}function wb(){return wb=_(function*(e){let t;const n=yield Sl(e.appConfig,r=>{const i=function AZ(e){return oO(e||{fid:bZ(),registrationStatus:0})}(r),o=function MZ(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(Jr.create("app-offline"))};const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function xZ(e,t){return Eb.apply(this,arguments)}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:RZ(e)}:{installationEntry:t}}(e,i);return t=o.registrationPromise,o.installationEntry});return n.fid===pb?{installationEntry:yield t}:{installationEntry:n,registrationPromise:t}}),wb.apply(this,arguments)}function Eb(){return Eb=_(function*(e,t){try{const n=yield function vZ(e,t){return fb.apply(this,arguments)}(e,t);return lf(e.appConfig,n)}catch(n){throw YN(n)&&409===n.customData.serverCode?yield vb(e.appConfig):yield lf(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}),Eb.apply(this,arguments)}function RZ(e){return Ib.apply(this,arguments)}function Ib(){return(Ib=_(function*(e){let t=yield iO(e.appConfig);for(;1===t.registrationStatus;)yield JN(100),t=yield iO(e.appConfig);if(0===t.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield bb(e);return r||n}return t})).apply(this,arguments)}function iO(e){return Sl(e,t=>{if(!t)throw Jr.create("installation-not-found");return oO(t)})}function oO(e){return function PZ(e){return 1===e.registrationStatus&&e.registrationTime+GN<Date.now()}(e)?{fid:e.fid,registrationStatus:0}:e}function Db(){return(Db=_(function*({appConfig:e,heartbeatServiceProvider:t},n){const r=function NZ(e,{fid:t}){return`${cb(e)}/${t}/authTokens:generate`}(e,n),i=function ZN(e,{refreshToken:t}){const n=XN(e);return n.append("Authorization",function _Z(e){return`${KN} ${e}`}(t)),n}(e,n),o=t.getImmediate({optional:!0});if(o){const l=yield o.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:qN,appId:e.appId}})},c=yield db(()=>fetch(r,a));if(c.ok)return QN(yield c.json());throw yield lb("Generate Auth Token",c)})).apply(this,arguments)}function Tb(e){return Sb.apply(this,arguments)}function Sb(){return Sb=_(function*(e,t=!1){let n;const r=yield Sl(e.appConfig,o=>{if(!aO(o))throw Jr.create("not-registered");const s=o.authToken;if(!t&&function LZ(e){return 2===e.requestStatus&&!function VZ(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+hZ}(e)}(s))return o;if(1===s.requestStatus)return n=function OZ(e,t){return Ab.apply(this,arguments)}(e,t),o;{if(!navigator.onLine)throw Jr.create("app-offline");const a=function UZ(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(o);return n=function FZ(e,t){return Mb.apply(this,arguments)}(e,a),a}});return n?yield n:r.authToken}),Sb.apply(this,arguments)}function Ab(){return(Ab=_(function*(e,t){let n=yield sO(e.appConfig);for(;1===n.authToken.requestStatus;)yield JN(100),n=yield sO(e.appConfig);const r=n.authToken;return 0===r.requestStatus?Tb(e,t):r})).apply(this,arguments)}function sO(e){return Sl(e,t=>{if(!aO(t))throw Jr.create("not-registered");return function jZ(e){return 1===e.requestStatus&&e.requestTime+GN<Date.now()}(t.authToken)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}function Mb(){return Mb=_(function*(e,t){try{const n=yield function kZ(e,t){return Db.apply(this,arguments)}(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return yield lf(e.appConfig,r),n}catch(n){if(!YN(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});yield lf(e.appConfig,r)}else yield vb(e.appConfig);throw n}}),Mb.apply(this,arguments)}function aO(e){return void 0!==e&&2===e.registrationStatus}function xb(){return(xb=_(function*(e){const t=e,{installationEntry:n,registrationPromise:r}=yield bb(t);return r?r.catch(console.error):Tb(t).catch(console.error),n.fid})).apply(this,arguments)}function Rb(){return Rb=_(function*(e,t=!1){const n=e;return yield function HZ(e){return Pb.apply(this,arguments)}(n),(yield Tb(n,t)).token}),Rb.apply(this,arguments)}function Pb(){return(Pb=_(function*(e){const{registrationPromise:t}=yield bb(e);t&&(yield t)})).apply(this,arguments)}function Ob(e){return Jr.create("missing-app-config-values",{valueName:e})}const cO="installations",KZ=e=>{const t=e.getProvider("app").getImmediate(),n=function GZ(e){if(!e||!e.options)throw Ob("App Configuration");if(!e.name)throw Ob("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Ob(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:da(t,"heartbeat"),_delete:()=>Promise.resolve()}},YZ=e=>{const n=da(e.getProvider("app").getImmediate(),cO).getImmediate();return{getId:()=>function BZ(e){return xb.apply(this,arguments)}(n),getToken:i=>function $Z(e){return Rb.apply(this,arguments)}(n,i)}};(function QZ(){qt(new kt(cO,KZ,"PUBLIC")),qt(new kt("installations-internal",YZ,"PRIVATE"))})(),We(WN,ab),We(WN,ab,"esm2017");const Fb="@firebase/remote-config",cn=new gr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class aJ{constructor(t,n,r,i){this.client=t,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(t,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=t;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${t}. Is cache hit: ${i}.`),i}fetch(t){var n=this;return _(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(t.cacheMaxAgeMillis,r))return i;t.eTag=i&&i.eTag;const o=yield n.client.fetch(t),s=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===o.status&&s.push(n.storage.setLastSuccessfulFetchResponse(o)),yield Promise.all(s),o})()}}function cJ(e=navigator){return e.languages&&e.languages[0]||e.language}class lJ{constructor(t,n,r,i,o,s){this.firebaseInstallations=t,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=o,this.appId=s}fetch(t){var n=this;return _(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),s=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},c={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:cJ()},l={method:"POST",headers:a,body:JSON.stringify(c)},u=fetch(s,l),d=new Promise((I,b)=>{t.signal.addEventListener(()=>{const F=new Error("The operation was aborted.");F.name="AbortError",b(F)})});let h;try{yield Promise.race([u,d]),h=yield u}catch(I){let b="fetch-client-network";throw"AbortError"===I?.name&&(b="fetch-timeout"),cn.create(b,{originalErrorMessage:I?.message})}let f=h.status;const g=h.headers.get("ETag")||void 0;let v,E;if(200===h.status){let I;try{I=yield h.json()}catch(b){throw cn.create("fetch-client-parse",{originalErrorMessage:b?.message})}v=I.entries,E=I.state}if("INSTANCE_STATE_UNSPECIFIED"===E?f=500:"NO_CHANGE"===E?f=304:("NO_TEMPLATE"===E||"EMPTY_CONFIG"===E)&&(v={}),304!==f&&200!==f)throw cn.create("fetch-status",{httpStatus:f});return{status:f,eTag:g,config:v}})()}}class hJ{constructor(t,n){this.client=t,this.storage=n}fetch(t){var n=this;return _(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(t,r)})()}attemptFetch(t,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return _(function*(){yield function uJ(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(o),r(cn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(t.signal,n);try{const o=yield i.client.fetch(t);return yield i.storage.deleteThrottleMetadata(),o}catch(o){if(!function dJ(e){if(!(e instanceof Gn&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(o))throw o;const s={throttleEndTimeMillis:Date.now()+Uv(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(s),i.attemptFetch(t,s)}})()}}class gJ{constructor(t,n,r,i,o){this.app=t,this._client=n,this._storageCache=r,this._storage=i,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function df(e,t){const n=e.target.error||void 0;return cn.create(t,{originalErrorMessage:n&&n?.message})}const So="app_namespace_store";class yJ{constructor(t,n,r,i=function vJ(){return new Promise((e,t)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{t(df(r,"storage-open"))},n.onsuccess=r=>{e(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(So,{keyPath:"compositeKey"})}}catch(n){t(cn.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=t,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(t){return this.set("last_fetch_status",t)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(t){return this.set("last_successful_fetch_timestamp_millis",t)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(t){return this.set("last_successful_fetch_response",t)}getActiveConfig(){return this.get("active_config")}setActiveConfig(t){return this.set("active_config",t)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(t){return this.set("active_config_etag",t)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(t){return this.set("throttle_metadata",t)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(t){var n=this;return _(function*(){const r=yield n.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([So],"readonly").objectStore(So),c=n.createCompositeKey(t);try{const l=a.get(c);l.onerror=u=>{o(df(u,"storage-get"))},l.onsuccess=u=>{const d=u.target.result;i(d?d.value:void 0)}}catch(l){o(cn.create("storage-get",{originalErrorMessage:l?.message}))}})})()}set(t,n){var r=this;return _(function*(){const i=yield r.openDbPromise;return new Promise((o,s)=>{const c=i.transaction([So],"readwrite").objectStore(So),l=r.createCompositeKey(t);try{const u=c.put({compositeKey:l,value:n});u.onerror=d=>{s(df(d,"storage-set"))},u.onsuccess=()=>{o()}}catch(u){s(cn.create("storage-set",{originalErrorMessage:u?.message}))}})})()}delete(t){var n=this;return _(function*(){const r=yield n.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([So],"readwrite").objectStore(So),c=n.createCompositeKey(t);try{const l=a.delete(c);l.onerror=u=>{o(df(u,"storage-delete"))},l.onsuccess=()=>{i()}}catch(l){o(cn.create("storage-delete",{originalErrorMessage:l?.message}))}})})()}createCompositeKey(t){return[this.appId,this.appName,this.namespace,t].join()}}class CJ{constructor(t){this.storage=t}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var t=this;return _(function*(){const n=t.storage.getLastFetchStatus(),r=t.storage.getLastSuccessfulFetchTimestampMillis(),i=t.storage.getActiveConfig(),o=yield n;o&&(t.lastFetchStatus=o);const s=yield r;s&&(t.lastSuccessfulFetchTimestampMillis=s);const a=yield i;a&&(t.activeConfig=a)})()}setLastFetchStatus(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)}setLastSuccessfulFetchTimestampMillis(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)}setActiveConfig(t){return this.activeConfig=t,this.storage.setActiveConfig(t)}}function wJ(){return Bb.apply(this,arguments)}function Bb(){return(Bb=_(function*(){if(!_o())return!1;try{return yield al()}catch{return!1}})).apply(this,arguments)}!function bJ(){qt(new kt("remote-config",function e(t,{instanceIdentifier:n}){const r=t.getProvider("app").getImmediate(),i=t.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw cn.create("registration-window");if(!_o())throw cn.create("indexed-db-unavailable");const{projectId:o,apiKey:s,appId:a}=r.options;if(!o)throw cn.create("registration-project-id");if(!s)throw cn.create("registration-api-key");if(!a)throw cn.create("registration-app-id");const c=new yJ(a,r.name,n=n||"firebase"),l=new CJ(c),u=new ua(Fb);u.logLevel=we.ERROR;const d=new lJ(i,bo,n,o,s,a),h=new hJ(d,c),f=new aJ(h,c,l,u),g=new gJ(r,f,l,c,u);return function iJ(e){const t=Dt(e);t._initializePromise||(t._initializePromise=t._storageCache.loadFromStorage().then(()=>{t._isInitializationComplete=!0}))}(g),g},"PUBLIC").setMultipleInstances(!0)),We(Fb,"0.4.4"),We(Fb,"0.4.4","esm2017")}();const EJ=(e,t)=>t.some(n=>e instanceof n);let hO,fO;const pO=new WeakMap,$b=new WeakMap,gO=new WeakMap,Hb=new WeakMap,zb=new WeakMap;let Wb={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return $b.get(e);if("objectStoreNames"===t)return e.objectStoreNames||gO.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ei(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function xJ(e){return"function"==typeof e?function MJ(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function DJ(){return fO||(fO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(e)?function(...t){return e.apply(Gb(this),t),ei(pO.get(this))}:function(...t){return ei(e.apply(Gb(this),t))}:function(t,...n){const r=e.call(Gb(this),t,...n);return gO.set(r,t.sort?t.sort():[t]),ei(r)}}(e):(e instanceof IDBTransaction&&function SJ(e){if($b.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});$b.set(e,t)}(e),EJ(e,function IJ(){return hO||(hO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(e,Wb):e)}function ei(e){if(e instanceof IDBRequest)return function TJ(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(ei(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&pO.set(n,e)}).catch(()=>{}),zb.set(t,e),t}(e);if(Hb.has(e))return Hb.get(e);const t=xJ(e);return t!==e&&(Hb.set(e,t),zb.set(t,e)),t}const Gb=e=>zb.get(e);function mO(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=ei(s);return r&&s.addEventListener("upgradeneeded",c=>{r(ei(s.result),c.oldVersion,c.newVersion,ei(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function qb(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",()=>t()),ei(n).then(()=>{})}const RJ=["get","getKey","getAll","getAllKeys","count"],PJ=["put","add","delete","clear"],Kb=new Map;function _O(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(Kb.get(t))return Kb.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=PJ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!RJ.includes(n))return;const o=function(){var s=_(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return s.apply(this,arguments)}}();return Kb.set(t,o),o}!function AJ(e){Wb=e(Wb)}(e=>({...e,get:(t,n,r)=>_O(t,n)||e.get(t,n,r),has:(t,n)=>!!_O(t,n)||e.has(t,n)}));const kJ="/firebase-messaging-sw.js",NJ="/firebase-cloud-messaging-push-scope",vO="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",OJ="https://fcmregistrations.googleapis.com/v1",yO="google.c.a.c_id",FJ="google.c.a.c_l",LJ="google.c.a.ts";var hf=function(e){return e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked",e}(hf||{});function ti(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function jJ(e){const n=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}const Yb="fcm_token_details_db",BJ=5,CO="fcm_token_object_Store";function Qb(){return Qb=_(function*(e){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(Yb))return null;let t=null;return(yield mO(Yb,BJ,{upgrade:(r=_(function*(i,o,s,a){var c;if(o<2||!i.objectStoreNames.contains(CO))return;const l=a.objectStore(CO),u=yield l.index("fcmSenderId").get(e);if(yield l.clear(),u)if(2===o){const d=u;if(!d.auth||!d.p256dh||!d.endpoint)return;t={token:d.fcmToken,createTime:null!==(c=d.createTime)&&void 0!==c?c:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:ti(d.vapidKey)}}}else if(3===o){const d=u;t={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ti(d.auth),p256dh:ti(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ti(d.vapidKey)}}}else if(4===o){const d=u;t={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ti(d.auth),p256dh:ti(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ti(d.vapidKey)}}}}),function(o,s,a,c){return r.apply(this,arguments)})})).close(),yield qb(Yb),yield qb("fcm_vapid_details_db"),yield qb("undefined"),function HJ(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}(t)?t:null;var r}),Qb.apply(this,arguments)}const zJ="firebase-messaging-database",WJ=1,Ao="firebase-messaging-store";let Xb=null;function Zb(){return Xb||(Xb=mO(zJ,WJ,{upgrade:(e,t)=>{0===t&&e.createObjectStore(Ao)}})),Xb}function bO(e){return Jb.apply(this,arguments)}function Jb(){return Jb=_(function*(e){const t=rw(e),r=yield(yield Zb()).transaction(Ao).objectStore(Ao).get(t);if(r)return r;{const i=yield function $J(e){return Qb.apply(this,arguments)}(e.appConfig.senderId);if(i)return yield ew(e,i),i}}),Jb.apply(this,arguments)}function ew(e,t){return tw.apply(this,arguments)}function tw(){return(tw=_(function*(e,t){const n=rw(e),i=(yield Zb()).transaction(Ao,"readwrite");return yield i.objectStore(Ao).put(t,n),yield i.done,t})).apply(this,arguments)}function nw(){return(nw=_(function*(e){const t=rw(e),r=(yield Zb()).transaction(Ao,"readwrite");yield r.objectStore(Ao).delete(t),yield r.done})).apply(this,arguments)}function rw({appConfig:e}){return e.appId}const Tt=new gr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function KJ(e,t){return iw.apply(this,arguments)}function iw(){return(iw=_(function*(e,t){const n=yield cw(e),r=EO(t),i={method:"POST",headers:n,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(aw(e.appConfig),i)).json()}catch(s){throw Tt.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(o.error)throw Tt.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw Tt.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function ow(){return(ow=_(function*(e,t){const n=yield cw(e),r=EO(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(`${aw(e.appConfig)}/${t.token}`,i)).json()}catch(s){throw Tt.create("token-update-failed",{errorInfo:s?.toString()})}if(o.error)throw Tt.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw Tt.create("token-update-no-token");return o.token})).apply(this,arguments)}function wO(e,t){return sw.apply(this,arguments)}function sw(){return(sw=_(function*(e,t){const r={method:"DELETE",headers:yield cw(e)};try{const o=yield(yield fetch(`${aw(e.appConfig)}/${t}`,r)).json();if(o.error)throw Tt.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(i){throw Tt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function aw({projectId:e}){return`${OJ}/projects/${e}/registrations`}function cw(e){return lw.apply(this,arguments)}function lw(){return(lw=_(function*({appConfig:e,installations:t}){const n=yield t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function EO({p256dh:e,auth:t,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:t,p256dh:e}};return r!==vO&&(i.web.applicationPubKey=r),i}const QJ=6048e5;function uw(){return uw=_(function*(e){const t=yield function JJ(e,t){return pw.apply(this,arguments)}(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:ti(t.getKey("auth")),p256dh:ti(t.getKey("p256dh"))},r=yield bO(e.firebaseDependencies);if(r){if(function eee(e,t){return t.vapidKey===e.vapidKey&&t.endpoint===e.endpoint&&t.auth===e.auth&&t.p256dh===e.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+QJ?function ZJ(e,t){return hw.apply(this,arguments)}(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield wO(e.firebaseDependencies,r.token)}catch(i){console.warn(i)}return DO(e.firebaseDependencies,n)}return DO(e.firebaseDependencies,n)}),uw.apply(this,arguments)}function dw(){return dw=_(function*(e){const t=yield bO(e.firebaseDependencies);t&&(yield wO(e.firebaseDependencies,t.token),yield function GJ(e){return nw.apply(this,arguments)}(e.firebaseDependencies));const n=yield e.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),dw.apply(this,arguments)}function hw(){return hw=_(function*(e,t){try{const n=yield function YJ(e,t){return ow.apply(this,arguments)}(e.firebaseDependencies,t),r=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return yield ew(e.firebaseDependencies,r),n}catch(n){throw yield function IO(e){return dw.apply(this,arguments)}(e),n}}),hw.apply(this,arguments)}function DO(e,t){return fw.apply(this,arguments)}function fw(){return(fw=_(function*(e,t){const r={token:yield KJ(e,t),createTime:Date.now(),subscriptionOptions:t};return yield ew(e,r),r.token})).apply(this,arguments)}function pw(){return(pw=_(function*(e,t){return(yield e.pushManager.getSubscription())||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:jJ(t)})})).apply(this,arguments)}function TO(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function tee(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const i=t.notification.image;i&&(e.notification.image=i);const o=t.notification.icon;o&&(e.notification.icon=o)}(t,e),function nee(e,t){t.data&&(e.data=t.data)}(t,e),function ree(e,t){var n,r,i,o,s;if(!(t.fcmOptions||null!==(n=t.notification)&&void 0!==n&&n.click_action))return;e.fcmOptions={};const a=null!==(i=null===(r=t.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(o=t.notification)||void 0===o?void 0:o.click_action;a&&(e.fcmOptions.link=a);const c=null===(s=t.fcmOptions)||void 0===s?void 0:s.analytics_label;c&&(e.fcmOptions.analyticsLabel=c)}(t,e),t}function SO(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}function gw(e){return Tt.create("missing-app-config-values",{valueName:e})}SO("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),SO("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class see{constructor(t,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function oee(e){if(!e||!e.options)throw gw("App Configuration Object");if(!e.name)throw gw("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const r of t)if(!n[r])throw gw(r);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(t);this.firebaseDependencies={app:t,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function mw(){return(mw=_(function*(e){try{e.swRegistration=yield navigator.serviceWorker.register(kJ,{scope:NJ}),e.swRegistration.update().catch(()=>{})}catch(t){throw Tt.create("failed-service-worker-registration",{browserErrorMessage:t?.message})}})).apply(this,arguments)}function _w(){return(_w=_(function*(e,t){if(!t&&!e.swRegistration&&(yield function AO(e){return mw.apply(this,arguments)}(e)),t||!e.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw Tt.create("invalid-sw-registration");e.swRegistration=t}})).apply(this,arguments)}function vw(){return(vw=_(function*(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=vO)})).apply(this,arguments)}function yw(){return yw=_(function*(e,t){if(!navigator)throw Tt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Tt.create("permission-blocked");return yield function cee(e,t){return vw.apply(this,arguments)}(e,t?.vapidKey),yield function aee(e,t){return _w.apply(this,arguments)}(e,t?.serviceWorkerRegistration),function XJ(e){return uw.apply(this,arguments)}(e)}),yw.apply(this,arguments)}function Cw(){return(Cw=_(function*(e,t,n){const r=function uee(e){switch(e){case hf.NOTIFICATION_CLICKED:return"notification_open";case hf.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t);(yield e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[yO],message_name:n[FJ],message_time:n[LJ],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function bw(){return bw=_(function*(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===hf.PUSH_RECEIVED&&("function"==typeof e.onMessageHandler?e.onMessageHandler(TO(n)):e.onMessageHandler.next(TO(n)));const r=n.data;(function iee(e){return"object"==typeof e&&!!e&&yO in e})(r)&&"1"===r["google.c.a.e"]&&(yield function lee(e,t,n){return Cw.apply(this,arguments)}(e,n.messageType,r))}),bw.apply(this,arguments)}const xO="@firebase/messaging",hee=e=>{const t=new see(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function dee(e,t){return bw.apply(this,arguments)}(t,n)),t},fee=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:r=>function MO(e,t){return yw.apply(this,arguments)}(t,r)}};function PO(){return ww.apply(this,arguments)}function ww(){return(ww=_(function*(){try{yield al()}catch{return!1}return typeof window<"u"&&_o()&&Fv()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function pee(){qt(new kt("messaging",hee,"PUBLIC")),qt(new kt("messaging-internal",fee,"PRIVATE")),We(xO,"0.12.4"),We(xO,"0.12.4","esm2017")}();const ff="analytics",_ee="firebase_id",vee="origin",yee=6e4,Cee="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Dw="https://www.googletagmanager.com/gtag/js",pt=new ua("@firebase/analytics"),Kt=new gr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function wee(e){if(!e.startsWith(Dw)){const t=Kt.create("invalid-gtag-resource",{gtagURL:e});return pt.warn(t.message),""}return e}function kO(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function Tw(){return(Tw=_(function*(e,t,n,r,i,o){const s=r[i];try{if(s)yield t[s];else{const c=(yield kO(n)).find(l=>l.measurementId===i);c&&(yield t[c.appId])}}catch(a){pt.error(a)}e("config",i,o)})).apply(this,arguments)}function Sw(){return(Sw=_(function*(e,t,n,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const a=yield kO(n);for(const c of s){const l=a.find(d=>d.measurementId===c),u=l&&t[l.appId];if(!u){o=[];break}o.push(u)}}0===o.length&&(o=Object.values(t)),yield Promise.all(o),e("event",r,i||{})}catch(o){pt.error(o)}})).apply(this,arguments)}const Ree=30,NO=new class kee{constructor(t={},n=1e3){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}};function Nee(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function Aw(){return(Aw=_(function*(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:Nee(r)},o=Cee.replace("{app-id}",n),s=yield fetch(o,i);if(200!==s.status&&304!==s.status){let a="";try{const c=yield s.json();null!==(t=c.error)&&void 0!==t&&t.message&&(a=c.error.message)}catch{}throw Kt.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})).apply(this,arguments)}function Mw(){return(Mw=_(function*(e,t=NO,n){const{appId:r,apiKey:i,measurementId:o}=e.options;if(!r)throw Kt.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Kt.create("no-api-key")}const s=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Uee;return setTimeout(_(function*(){a.abort()}),void 0!==n?n:yee),OO({appId:r,apiKey:i,measurementId:o},s,a,t)})).apply(this,arguments)}function OO(e,t,n){return xw.apply(this,arguments)}function xw(){return xw=_(function*(e,{throttleEndTimeMillis:t,backoffCount:n},r,i=NO){var o;const{appId:s,measurementId:a}=e;try{yield function Lee(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(o),r(Kt.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(r,t)}catch(c){if(a)return pt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:s,measurementId:a};throw c}try{const c=yield function Oee(e){return Aw.apply(this,arguments)}(e);return i.deleteThrottleMetadata(s),c}catch(c){const l=c;if(!function Vee(e){if(!(e instanceof Gn&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(l)){if(i.deleteThrottleMetadata(s),a)return pt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:s,measurementId:a};throw c}const u=503===Number(null===(o=l?.customData)||void 0===o?void 0:o.httpStatus)?Uv(n,i.intervalMillis,Ree):Uv(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(s,d),pt.debug(`Calling attemptFetch again in ${u} millis`),OO(e,d,r,i)}}),xw.apply(this,arguments)}class Uee{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}let Rw,Vw;function Pw(){return(Pw=_(function*(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const o=yield t;e("event",n,Object.assign(Object.assign({},r),{send_to:o}))}})).apply(this,arguments)}function Uw(){return(Uw=_(function*(){if(!_o())return pt.warn(Kt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield al()}catch(e){return pt.warn(Kt.create("indexeddb-unavailable",{errorInfo:e?.toString()}).message),!1}return!0})).apply(this,arguments)}function jw(){return jw=_(function*(e,t,n,r,i,o,s){var a;const c=function Fee(e){return Mw.apply(this,arguments)}(e);c.then(f=>{n[f.measurementId]=f.appId,e.options.measurementId&&f.measurementId!==e.options.measurementId&&pt.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>pt.error(f)),t.push(c);const l=function Gee(){return Uw.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[u,d]=yield Promise.all([c,l]);(function xee(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Dw)&&n.src.includes(e))return n;return null})(o)||function Iee(e,t){const n=function Eee(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:wee}),r=document.createElement("script"),i=`${Dw}?l=${e}&id=${t}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(o,u.measurementId),Vw&&(i("consent","default",Vw),function FO(e){Vw=e}(void 0)),i("js",new Date);const h=null!==(a=s?.config)&&void 0!==a?a:{};return h[vee]="firebase",h.update=!0,null!=d&&(h[_ee]=d),i("config",u.measurementId,h),Rw&&(i("set",Rw),function LO(e){Rw=e}(void 0)),u.measurementId}),jw.apply(this,arguments)}class Kee{constructor(t){this.app=t}_delete(){return delete yr[this.app.options.appId],Promise.resolve()}}let yr={},VO=[];const UO={};let BO,Cr,pf="dataLayer",Bw=!1;function Qee(e,t,n){!function Yee(){const e=[];if(Ov()&&e.push("This is a browser extension environment."),Fv()||e.push("Cookies are not available."),e.length>0){const t=e.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Kt.create("invalid-analytics-context",{errorInfo:t});pt.warn(n.message)}}();const r=e.options.appId;if(!r)throw Kt.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Kt.create("no-api-key");pt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=yr[r])throw Kt.create("already-exists",{id:r});if(!Bw){!function Dee(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(pf);const{wrappedGtag:o,gtagCore:s}=function Mee(e,t,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function Aee(e,t,n,r){function o(){return o=_(function*(s,...a){try{if("event"===s){const[c,l]=a;yield function See(e,t,n,r,i){return Sw.apply(this,arguments)}(e,t,n,c,l)}else if("config"===s){const[c,l]=a;yield function Tee(e,t,n,r,i,o){return Tw.apply(this,arguments)}(e,t,n,r,c,l)}else if("consent"===s){const[c]=a;e("consent","update",c)}else if("get"===s){const[c,l,u]=a;e("get",c,l,u)}else if("set"===s){const[c]=a;e("set",c)}else e(s,...a)}catch(c){pt.error(c)}}),o.apply(this,arguments)}return function i(s){return o.apply(this,arguments)}}(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}(yr,VO,UO,pf,"gtag");Cr=o,BO=s,Bw=!0}return yr[r]=function qee(e,t,n,r,i,o,s){return jw.apply(this,arguments)}(e,VO,UO,t,BO,pf,n),new Kee(e)}function Zee(){return $w.apply(this,arguments)}function $w(){return($w=_(function*(){if(Ov()||!Fv()||!_o())return!1;try{return yield al()}catch{return!1}})).apply(this,arguments)}const $O="@firebase/analytics";!function ete(){qt(new kt(ff,(t,{options:n})=>Qee(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),qt(new kt("analytics-internal",function e(t){try{const n=t.getProvider(ff).getImmediate();return{logEvent:(r,i,o)=>function Jee(e,t,n,r){e=Dt(e),function jee(e,t,n,r,i){return Pw.apply(this,arguments)}(Cr,yr[e.app.options.appId],t,n,r).catch(i=>pt.error(i))}(n,r,i,o)}}catch(n){throw Kt.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),We($O,"0.10.0"),We($O,"0.10.0","esm2017")}();class tte extends Qt{constructor(t,n){super()}schedule(t,n=0){return this}}const gf={setInterval(e,t,...n){const{delegate:r}=gf;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){const{delegate:t}=gf;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};class zO extends tte{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,r=0){return gf.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&gf.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let i,r=!1;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Go(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}}const WO={now:()=>(WO.delegate||Date).now(),delegate:void 0};class Al{constructor(t,n=Al.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}}Al.now=WO.now;class GO extends Al{constructor(t,n=Al.now){super(t,n),this.actions=[],this._active=!1}flush(t){const{actions:n}=this;if(this._active)return void n.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}}const ite=new class rte extends GO{}(class nte extends zO{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}schedule(t,n=0){return n>0?super.schedule(t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)}execute(t,n){return n>0||this.closed?super.execute(t,n):this._execute(t,n)}requestAsyncId(t,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(t,n,r):(t.flush(this),0)}}),qO=new GO(zO),mf=new Is("7.6.0"),zw="__angularfire_symbol__analyticsIsSupportedValue",Ww="__angularfire_symbol__analyticsIsSupported",Gw="__angularfire_symbol__remoteConfigIsSupportedValue",qw="__angularfire_symbol__remoteConfigIsSupported",Kw="__angularfire_symbol__messagingIsSupportedValue",Yw="__angularfire_symbol__messagingIsSupported";function Xw(e,t,n){if(t){if(1===t.length)return t[0];const o=t.filter(s=>s.app===n);if(1===o.length)return o[0]}return n.container.getProvider(e).getImmediate({optional:!0})}globalThis[Ww]||(globalThis[Ww]=Zee().then(e=>globalThis[zw]=e).catch(()=>globalThis[zw]=!1)),globalThis[Yw]||(globalThis[Yw]=PO().then(e=>globalThis[Kw]=e).catch(()=>globalThis[Kw]=!1)),globalThis[qw]||(globalThis[qw]=wJ().then(e=>globalThis[Gw]=e).catch(()=>globalThis[Gw]=!1));const Zw=(e,t)=>{const n=t?[t]:Ak(),r=[];return n.forEach(i=>{i.container.getProvider(e).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};function va(){}class KO{constructor(t,n=ite){this.zone=t,this.delegate=n}now(){return this.delegate.now()}schedule(t,n,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{t.apply(this,[s])})},n,r)}}class ote{constructor(t){this.zone=t,this.task=null}call(t,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",va,{},va,va)),n.pipe(It({next:r,complete:r,error:r})).subscribe(t).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Jw=(()=>{class e{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new KO(Zone.current)),this.insideAngular=n.run(()=>new KO(Zone.current,qO)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return e.\u0275fac=function(n){return new(n||e)(O(_e))},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Mo(){const e=globalThis.\u0275AngularFireScheduler;if(!e)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return e}function xo(e){return Mo().ngZone.run(()=>e())}function ate(e){return Mo(),function cte(e){return function(n){return(n=n.lift(new ote(e.ngZone))).pipe(pu(e.outsideAngular),fu(e.insideAngular))}}(Mo())(e)}const lte=(e,t)=>function(){const r=arguments;return t&&setTimeout(()=>{"scheduled"===t.state&&t.invoke()},10),xo(()=>e.apply(void 0,r))},Nn=(e,t)=>function(){let n;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(t&&(n||(n=xo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",va,{},va,va)))),r[o]=lte(r[o],n));const i=function ste(e){return Mo().ngZone.runOutsideAngular(()=>e())}(()=>e.apply(this,r));if(!t){if(i instanceof Le){const o=Mo();return i.pipe(pu(o.outsideAngular),fu(o.insideAngular))}return xo(()=>i)}return i instanceof Le?i.pipe(ate):i instanceof Promise?xo(()=>new Promise((o,s)=>i.then(a=>xo(()=>o(a)),a=>xo(()=>s(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:xo(()=>i)};class ya{constructor(t){return t}}class eE{constructor(){return Ak()}}const tE=new P("angularfire2._apps"),dte={provide:ya,useFactory:function ute(e){return e&&1===e.length?e[0]:new ya(Kv())},deps:[[new $t,tE]]},hte={provide:eE,deps:[[new $t,tE]]};function fte(e){return(t,n)=>{const r=t.runOutsideAngular(()=>e(n));return new ya(r)}}let pte=(()=>{class e{constructor(n){We("angularfire",mf.full,"core"),We("angularfire",mf.full,"app"),We("angular",K0.full,n.toString())}}return e.\u0275fac=function(n){return new(n||e)(O(pi))},e.\u0275mod=Jt({type:e}),e.\u0275inj=Ft({providers:[dte,hte]}),e})();function gte(e,...t){return{ngModule:pte,providers:[{provide:tE,useFactory:fte(e),multi:!0,deps:[_e,xt,Jw,...t]}]}}const mte=Nn(Sk,!0),nE=new Map,YO={activated:!1,tokenObservers:[]},_te={initialized:!1,enabled:!1};function qe(e){return nE.get(e)||Object.assign({},YO)}function _f(){return _te}const rE="https://content-firebaseappcheck.googleapis.com/v1",bte="exchangeDebugToken",QO={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Ete{constructor(t,n,r,i,o){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var n=this;return _(function*(){n.stop();try{n.pending=new mo,yield function Ite(e){return new Promise(t=>{setTimeout(t,e)})}(n.getNextRun(t)),n.pending.resolve(),yield n.pending.promise,n.pending=new mo,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const St=new gr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function iE(e){if(!qe(e).activated)throw St.create("use-before-activation",{appName:e.name})}function Cf(e,t){return sE.apply(this,arguments)}function sE(){return(sE=_(function*({url:e,body:t},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const o={method:"POST",body:JSON.stringify(t),headers:r};let s,a;try{s=yield fetch(e,o)}catch(d){throw St.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==s.status)throw St.create("fetch-status-error",{httpStatus:s.status});try{a=yield s.json()}catch(d){throw St.create("fetch-parse-error",{originalErrorMessage:d?.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw St.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=1e3*Number(c[1]),u=Date.now();return{token:a.token,expireTimeMillis:u+l,issuedAtTimeMillis:u}})).apply(this,arguments)}function XO(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${rE}/projects/${n}/apps/${r}:${bte}?key=${i}`,body:{debug_token:t}}}const Ate="firebase-app-check-database",Mte=1,Ml="firebase-app-check-store";let bf=null;function aE(){return(aE=_(function*(e,t){const r=(yield function JO(){return bf||(bf=new Promise((e,t)=>{try{const n=indexedDB.open(Ate,Mte);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{var i;t(St.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Ml,{keyPath:"compositeKey"})}}catch(n){t(St.create("storage-open",{originalErrorMessage:n?.message}))}}),bf)}()).transaction(Ml,"readwrite"),o=r.objectStore(Ml).put({compositeKey:e,value:t});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var l;a(St.create("storage-set",{originalErrorMessage:null===(l=c.target.error)||void 0===l?void 0:l.message}))}})})).apply(this,arguments)}const xl=new ua("@firebase/app-check");function uE(e,t){return _o()?function Rte(e,t){return function eF(e,t){return aE.apply(this,arguments)}(function nF(e){return`${e.options.appId}-${e.name}`}(e),t)}(e,t).catch(n=>{xl.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function hE(){return _f().enabled}function fE(){return pE.apply(this,arguments)}function pE(){return(pE=_(function*(){const e=_f();if(e.enabled&&e.token)return e.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Lte={error:"UNKNOWN_ERROR"};function Vte(e){return Oh.encodeString(JSON.stringify(e),!1)}function wf(e){return gE.apply(this,arguments)}function gE(){return(gE=_(function*(e,t=!1){const n=e.app;iE(n);const r=qe(n);let o,i=r.token;if(i&&!Ca(i)&&(r.token=void 0,i=void 0),!i){const c=yield r.cachedTokenPromise;c&&(Ca(c)?i=c:yield uE(n,void 0))}if(!t&&i&&Ca(i))return{token:i.token};let a,s=!1;if(hE()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Cf(XO(n,yield fE()),e.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);const c=yield r.exchangeTokenPromise;return yield uE(n,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield qe(n).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?xl.warn(c.message):xl.error(c),o=c}return i?o?a=Ca(i)?{token:i.token,internalError:o}:sF(o):(a={token:i.token},r.token=i,yield uE(n,i)):a=sF(o),s&&function oF(e,t){const n=qe(e).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=t.error?r.error(t.error):r.next(t)}catch{}}(n,a),a})).apply(this,arguments)}function rF(e){return mE.apply(this,arguments)}function mE(){return(mE=_(function*(e){const t=e.app;iE(t);const{provider:n}=qe(t);if(hE()){const r=yield fE(),{token:i}=yield Cf(XO(t,r),e.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}})).apply(this,arguments)}function vE(e,t){const n=qe(e),r=n.tokenObservers.filter(i=>i.next!==t);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function iF(e){const{app:t}=e,n=qe(t);let r=n.tokenRefresher;r||(r=function Ute(e){const{app:t}=e;return new Ete(_(function*(){let r;if(r=qe(t).token?yield wf(e,!0):yield wf(e),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=qe(t);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},QO.RETRIAL_MIN_WAIT,QO.RETRIAL_MAX_WAIT)}(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Ca(e){return e.expireTimeMillis-Date.now()>0}function sF(e){return{token:Vte(Lte),error:e}}class jte{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:t}=qe(this.app);for(const n of t)vE(this.app,n.next);return Promise.resolve()}}const pF="app-check-internal";!function ene(){qt(new kt("app-check",e=>function Bte(e,t){return new jte(e,t)}(e.getProvider("app").getImmediate(),e.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(pF).initialize()})),qt(new kt(pF,e=>function $te(e){return{getToken:t=>wf(e,t),getLimitedUseToken:()=>rF(e),addTokenListener:t=>function _E(e,t,n,r){const{app:i}=e,o=qe(i);if(o.tokenObservers=[...o.tokenObservers,{next:n,error:r,type:t}],o.token&&Ca(o.token)){const a=o.token;Promise.resolve().then(()=>{n({token:a.token}),iF(e)}).catch(()=>{})}o.cachedTokenPromise.then(()=>iF(e))}(e,"INTERNAL",t),removeTokenListener:t=>vE(e.app,t)}}(e.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),We("@firebase/app-check","0.8.0")}();class wE{constructor(){return Zw("app-check")}}typeof window<"u"&&window;class If{constructor(t){return t}}class _F{constructor(){return Zw("auth")}}const IE=new P("angularfire2.auth-instances");function sne(e){return(t,n)=>{const r=t.runOutsideAngular(()=>e(n));return new If(r)}}const ane={provide:_F,deps:[[new $t,IE]]},cne={provide:If,useFactory:function one(e,t){const n=Xw("auth",e,t);return n&&new If(n)},deps:[[new $t,IE],ya]};let lne=(()=>{class e{constructor(){We("angularfire",mf.full,"auth")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Jt({type:e}),e.\u0275inj=Ft({providers:[cne,ane]}),e})();function une(e,...t){return{ngModule:lne,providers:[{provide:IE,useFactory:sne(e),multi:!0,deps:[_e,xt,Jw,eE,[new $t,wE],...t]}]}}const dne=Nn(cQ,!0),hne=Nn(XX,!0),fne=Nn(yQ,!0),pne=Nn(lQ,!0),gne=Nn(CQ,!0),vF="@firebase/database";let DE="";class _ne{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){null==n?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),ct(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return null==n?null:cl(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class vne{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){null==n?delete this.cache_[t]:this.cache_[t]=n}get(t){return mr(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const CF=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new _ne(t)}}catch{}return new vne},Ro=CF("localStorage"),TE=CF("sessionStorage"),ba=new ua("@firebase/database"),bF=function(){let e=1;return function(){return e++}}(),wF=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,M(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new Y9;n.update(t);const r=n.digest();return Oh.encodeByteArray(r)},Rl=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=Rl.apply(null,r):t+="object"==typeof r?ct(r):r,t+=" "}return t};let Po=null,EF=!0;const gt=function(...e){if(!0===EF&&(EF=!1,null===Po&&!0===TE.get("logging_enabled")&&function(e,t){M(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(ba.logLevel=we.VERBOSE,Po=ba.log.bind(ba),t&&TE.set("logging_enabled",!0)):"function"==typeof e?Po=e:(Po=null,TE.remove("logging_enabled"))}(!0)),Po){const t=Rl.apply(null,e);Po(t)}},Pl=function(e){return function(...t){gt(e,...t)}},SE=function(...e){const t="FIREBASE INTERNAL ERROR: "+Rl(...e);ba.error(t)},br=function(...e){const t=`FIREBASE FATAL ERROR: ${Rl(...e)}`;throw ba.error(t),new Error(t)},Nt=function(...e){const t="FIREBASE WARNING: "+Rl(...e);ba.warn(t)},Df=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Mi="[MIN_NAME]",ni="[MAX_NAME]",ko=function(e,t){if(e===t)return 0;if(e===Mi||t===ni)return-1;if(t===Mi||e===ni)return 1;{const n=SF(e),r=SF(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},bne=function(e,t){return e===t?0:e<t?-1:1},kl=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+ct(t))},AE=function(e){if("object"!=typeof e||null===e)return ct(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=ct(t[r]),n+=":",n+=AE(e[t[r]]);return n+="}",n},DF=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)r.push(e.substring(i,i+t>n?n:i+t));return r};function mt(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const TF=function(e){M(!Df(e),"Invalid JSON number");const r=1023;let i,o,s,a,c;0===e?(o=0,s=0,i=1/e==-1/0?1:0):(i=e<0,(e=Math.abs(e))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),r),o=a+r,s=Math.round(e*Math.pow(2,52-a)-Math.pow(2,52))):(o=0,s=Math.round(e/Math.pow(2,-1074))));const l=[];for(c=52;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=11;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(i?1:0),l.reverse();const u=l.join("");let d="";for(c=0;c<64;c+=8){let h=parseInt(u.substr(c,8),2).toString(16);1===h.length&&(h="0"+h),d+=h}return d.toLowerCase()},Dne=new RegExp("^-?(0*)\\d{1,10}$"),SF=function(e){if(Dne.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},wa=function(e){try{e()}catch(t){setTimeout(()=>{throw Nt("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Nl=function(e,t){const n=setTimeout(e,t);return"number"==typeof n&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class Mne{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){Nt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class xne{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&"auth/token-not-initialized"===n.code?(gt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Nt(t)}}let Ol=(()=>{class e{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return e.OWNER="owner",e})();const PF=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,OF="websocket",FF="long_polling";class xE{constructor(t,n,r,i,o=!1,s="",a=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ro.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Ro.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function LF(e,t,n){let r;if(M("string"==typeof t,"typeof type must == string"),M("object"==typeof n,"typeof params must == object"),t===OF)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==FF)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function Rne(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return mt(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}class Pne{constructor(){this.counters_={}}incrementCounter(t,n=1){mr(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return N9(this.counters_)}}const RE={},PE={};function kE(e){const t=e.toString();return RE[t]||(RE[t]=new Pne),RE[t]}class Nne{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&wa(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class xi{constructor(t,n,r,i,o,s,a){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Pl(t),this.stats_=kE(n),this.urlFn=c=>(this.appCheckToken&&(c.ac=this.appCheckToken),LF(n,FF,c))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Nne(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if("complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new NE((...o)=>{const[s,a,c,l,u]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===s)this.id=a,this.password=c;else{if("close"!==s)throw new Error("Unrecognized command received: "+s);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&PF.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){xi.forceAllow_=!0}static forceDisallow(){xi.forceDisallow_=!0}static isAvailable(){return!(!xi.forceAllow_&&(xi.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=ct(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=fk(n),i=DF(r,1840);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=t,r.pw=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=ct(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class NE{constructor(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=bF(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=NE.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){gt("frame writing exception"),a.stack&&gt(a.stack),gt(a)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||gt("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const s=this.pendingSegs.shift();r=r+"&seg"+i+"="+s.seg+"&ts"+i+"="+s.ts+"&d"+i+"="+s.d,i++}return n+=r,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(i),r()})}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{gt("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let Sf=null;typeof MozWebSocket<"u"?Sf=MozWebSocket:typeof WebSocket<"u"&&(Sf=WebSocket);let Ea=(()=>{class e{constructor(n,r,i,o,s,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Pl(this.connId),this.stats_=kE(r),this.connURL=e.connectionURL_(r,a,c,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){const a={v:"5"};return typeof location<"u"&&location.hostname&&PF.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),o&&(a.ac=o),s&&(a.p=s),LF(n,OF,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ro.set("previous_websocket_failure",!0);try{let i;0,this.mySock=new Sf(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const o=i.message||i.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&null!==Sf&&!e.forceDisallow_}static previouslyFailed(){return Ro.isInMemoryStorage||!0===Ro.get("previous_websocket_failure")}markConnectionHealthy(){Ro.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=cl(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(M(null===this.frames,"We already have a frame buffer"),n.length<=6){const r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();const r=ct(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=DF(r,16384);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e})(),zF=(()=>{class e{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[xi,Ea]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const r=Ea&&Ea.isAvailable();let i=r&&!Ea.previouslyFailed();if(n.webSocketOnly&&(r||Nt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Ea];else{const o=this.transports_=[];for(const s of e.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return e.globalTransportInitialized_=!1,e})();class XF{constructor(t,n,r,i,o,s,a,c,l,u){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Pl("c:"+this.id+":"),this.transportManager_=new zF(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Nl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const n=t.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=kl("t",t),r=kl("d",t);if("c"===n)this.onSecondaryControl_(r);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=kl("t",t),r=kl("d",t);"c"===n?this.onControl_(r):"d"===n&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=kl("t",t);if("d"in t){const r=t.d;if("h"===n){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(r):"r"===n?this.onReset_(r):"e"===n?SE("Server Error: "+r):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):SE("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==r&&Nt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Nl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Nl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ro.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class ZF{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}class JF{constructor(t){this.allowedEvents_=t,this.listeners_={},M(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context))return void i.splice(o,1)}validateEventType_(t){M(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}class Af extends JF{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Nv()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Af}getInitialEvent(t){return M("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class ve{constructor(t,n){if(void 0===n){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(t+="/"+this.pieces_[n]);return t||"/"}}function ue(){return new ve("")}function J(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Ri(e){return e.pieces_.length-e.pieceNum_}function Te(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new ve(e.pieces_,t)}function FE(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Fl(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function nL(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new ve(t,0)}function Fe(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof ve)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ve(n,0)}function ee(e){return e.pieceNum_>=e.pieces_.length}function Yt(e,t){const n=J(e),r=J(t);if(null===n)return t;if(n===r)return Yt(Te(e),Te(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function LE(e,t){if(Ri(e)!==Ri(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function On(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Ri(e)>Ri(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class rre{constructor(t,n){this.errorPrefix_=n,this.parts_=Fl(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=$h(this.parts_[r]);rL(this)}}function rL(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+No(e))}function No(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class VE extends JF{constructor(){let t,n;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new VE}getInitialEvent(t){return M("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Ll=1e3;let xf,Oo=(()=>{class e extends ZF{constructor(n,r,i,o,s,a,c,l){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=e.nextPersistentConnectionId_++,this.log_=Pl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ll,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");VE.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&Af.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){const o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(ct(s)),M(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();const r=new mo,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{const c=a.d;"ok"===a.s?r.resolve(c):r.reject(c)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(n,r,i,o){this.initConnection_();const s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),M(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),M(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const c={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(n){const r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){const r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);const s={p:i};n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest("q",s,c=>{const l=c.d,u=c.s;e.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",c),"ok"!==u&&this.removeListen_(i,o),n.onComplete&&n.onComplete(u,l))})}static warnOnListenWarnings_(n,r){if(n&&"object"==typeof n&&mr(n,"w")){const i=aa(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();Nt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||function(e){const t=Uh(e).claims;return"object"==typeof t&&!0===t.admin}(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,r=function(e){const n=Uh(e).claims;return!!n&&"object"==typeof n&&n.hasOwnProperty("iat")}(n)?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{const s=o.s,a=o.d||"error";this.authToken_===n&&("ok"===s?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const r=n.s,i=n.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){const i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),M(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);const s={p:n};o&&(s.q=i,s.t=o),this.sendRequest("n",s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){const s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();const a={p:r,d:i};void 0!==s&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(n){const r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){const r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+ct(n));const r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),"d"===n?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===n?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===n?this.onListenRevoked_(r.p,r.q):"ac"===n?this.onAuthRevoked_(r.s,r.d):"apc"===n?this.onAppCheckRevoked_(r.s,r.d):"sd"===n?this.onSecurityDebugPacket_(r):SE("Unrecognized action received from server: "+ct(n)+"\nAre you using the latest client?")}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){M(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ll,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Ll,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ll),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return _(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const r=n.onDataMessage_.bind(n),i=n.onReady_.bind(n),o=n.onRealtimeDisconnect_.bind(n),s=n.id+":"+e.nextConnectionId_++,a=n.lastSessionId;let c=!1,l=null;const u=function(){l?l.close():(c=!0,o())};n.realtime_={close:u,sendRequest:function(f){M(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(f)}};const h=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[f,g]=yield Promise.all([n.authTokenProvider_.getToken(h),n.appCheckTokenProvider_.getToken(h)]);c?gt("getToken() completed but was canceled"):(gt("getToken() completed. Creating connection."),n.authToken_=f&&f.accessToken,n.appCheckToken_=g&&g.token,l=new XF(s,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,r,i,o,v=>{Nt(v+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},a))}catch(f){n.log_("Failed to get token: "+f),c||(n.repoInfo_.nodeAdmin&&Nt(f),u())}}})()}interrupt(n){gt("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){gt("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Lv(this.interruptReasons_)&&(this.reconnectDelay_=Ll,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const r=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;i=r?r.map(s=>AE(s)).join("$"):"default";const o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){const i=new ve(n).toString();let o;if(this.listens.has(i)){const s=this.listens.get(i);o=s.get(r),s.delete(r),0===s.size&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){gt("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){gt("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let r="js";n["sdk."+r+"."+DE.replace(/\./g,"-")]=1,Nv()?n["framework.cordova"]=1:vk()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=Af.getInstance().currentlyOnline();return Lv(this.interruptReasons_)&&n}}return e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e})();class te{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new te(t,n)}}class Mf{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new te(Mi,t),i=new te(Mi,n);return 0!==this.compare(r,i)}minPost(){return te.MIN}}class sL extends Mf{static get __EMPTY_NODE(){return xf}static set __EMPTY_NODE(t){xf=t}compare(t,n){return ko(t.name,n.name)}isDefinedOn(t){throw sa("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return te.MIN}maxPost(){return new te(ni,xf)}makePost(t,n){return M("string"==typeof t,"KeyIndex indexValue must always be a string."),new te(t,xf)}toString(){return".key"}}const wr=new sL;class Rf{constructor(t,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,i&&(s*=-1),s<0)t=this.isReverse_?t.left:t.right;else{if(0===s){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,t=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let jE,qn=(()=>{class e{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??e.RED,this.left=o??ln.EMPTY_NODE,this.right=s??ln.EMPTY_NODE}copy(n,r,i,o,s){return new e(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this;const s=i(n,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(n,r,i),null):0===s?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return ln.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(n,i.key)){if(i.right.isEmpty())return ln.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})();class ln{constructor(t,n=ln.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new ln(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,qn.BLACK,null,null))}remove(t){return new ln(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,qn.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),0===n)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),0===n){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}n<0?r=r.left:n>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Rf(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Rf(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Rf(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Rf(this.root_,null,this.comparator_,!0,t)}}function dre(e,t){return ko(e.name,t.name)}function UE(e,t){return ko(e,t)}ln.EMPTY_NODE=new class ure{copy(t,n,r,i,o){return this}insert(t,n,r){return new qn(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const aL=function(e){return"number"==typeof e?"number:"+TF(e):"string:"+e},cL=function(e){if(e.isLeafNode()){const t=e.val();M("string"==typeof t||"number"==typeof t||"object"==typeof t&&mr(t,".sv"),"Priority must be a string or number.")}else M(e===jE||e.isEmpty(),"priority of unexpected type.");M(e===jE||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let lL,uL,dL,Ia=(()=>{class e{constructor(n,r=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,M(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),cL(this.priorityNode_)}static set __childrenNodeConstructor(n){lL=n}static get __childrenNodeConstructor(){return lL}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new e(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return ee(n)?this:".priority"===J(n)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return".priority"===n?this.updatePriority(r):r.isEmpty()&&".priority"!==n?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){const i=J(n);return null===i?r:r.isEmpty()&&".priority"!==i?this:(M(".priority"!==i||1===Ri(n),".priority must be the last token in a path"),this.updateImmediateChild(i,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Te(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+aL(this.priorityNode_.val())+":");const r=typeof this.value_;n+=r+":",n+="number"===r?TF(this.value_):this.value_,this.lazyHash_=wF(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===e.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof e.__childrenNodeConstructor?-1:(M(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const r=typeof n.value_,i=typeof this.value_,o=e.VALUE_TYPE_ORDER.indexOf(r),s=e.VALUE_TYPE_ORDER.indexOf(i);return M(o>=0,"Unknown leaf type: "+r),M(s>=0,"Unknown leaf type: "+i),o===s?"object"===i?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){return n===this||!!n.isLeafNode()&&(this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_))}}return e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e})();const Pe=new class gre extends Mf{compare(t,n){const r=t.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return 0===o?ko(t.name,n.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return te.MIN}maxPost(){return new te(ni,new Ia("[PRIORITY-POST]",dL))}makePost(t,n){const r=uL(t);return new te(n,new Ia("[PRIORITY-POST]",r))}toString(){return".priority"}},mre=Math.log(2);class _re{constructor(t){this.count=parseInt(Math.log(t+1)/mre,10),this.current_=this.count-1;const i=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Pf=function(e,t,n,r){e.sort(t);const i=function(c,l){const u=l-c;let d,h;if(0===u)return null;if(1===u)return d=e[c],h=n?n(d):d,new qn(h,d.node,qn.BLACK,null,null);{const f=parseInt(u/2,10)+c,g=i(c,f),v=i(f+1,l);return d=e[f],h=n?n(d):d,new qn(h,d.node,qn.BLACK,g,v)}},a=function(c){let l=null,u=null,d=e.length;const h=function(g,v){const E=d-g,I=d;d-=g;const b=i(E+1,I),F=e[E],j=n?n(F):F;f(new qn(j,F.node,v,null,b))},f=function(g){l?(l.left=g,l=g):(u=g,l=g)};for(let g=0;g<c.count;++g){const v=c.nextBitIsOne(),E=Math.pow(2,c.count-(g+1));v?h(E,qn.BLACK):(h(E,qn.BLACK),h(E,qn.RED))}return u}(new _re(e.length));return new ln(r||t,a)};let BE;const Da={};class ri{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return M(Da&&Pe,"ChildrenNode.ts has not been loaded"),BE=BE||new ri({".priority":Da},{".priority":Pe}),BE}get(t){const n=aa(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof ln?n:null}hasIndex(t){return mr(this.indexSet_,t.toString())}addIndex(t,n){M(t!==wr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(te.Wrap);let a,s=o.getNext();for(;s;)i=i||t.isDefinedOn(s.node),r.push(s),s=o.getNext();a=i?Pf(r,t.getCompare()):Da;const c=t.toString(),l=Object.assign({},this.indexSet_);l[c]=t;const u=Object.assign({},this.indexes_);return u[c]=a,new ri(u,l)}addToIndexes(t,n){const r=jh(this.indexes_,(i,o)=>{const s=aa(this.indexSet_,o);if(M(s,"Missing index implementation for "+o),i===Da){if(s.isDefinedOn(t.node)){const a=[],c=n.getIterator(te.Wrap);let l=c.getNext();for(;l;)l.name!==t.name&&a.push(l),l=c.getNext();return a.push(t),Pf(a,s.getCompare())}return Da}{const a=n.get(t.name);let c=i;return a&&(c=c.remove(new te(t.name,a))),c.insert(t,t.node)}});return new ri(r,this.indexSet_)}removeFromIndexes(t,n){const r=jh(this.indexes_,i=>{if(i===Da)return i;{const o=n.get(t.name);return o?i.remove(new te(t.name,o)):i}});return new ri(r,this.indexSet_)}}let Vl,Q=(()=>{class e{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&cL(this.priorityNode_),this.children_.isEmpty()&&M(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Vl||(Vl=new e(new ln(UE),null,ri.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Vl}updatePriority(n){return this.children_.isEmpty()?this:new e(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const r=this.children_.get(n);return null===r?Vl:r}}getChild(n){const r=J(n);return null===r?this:this.getImmediateChild(r).getChild(Te(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,r){if(M(r,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(r);{const i=new te(n,r);let o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));const a=o.isEmpty()?Vl:this.priorityNode_;return new e(o,a,s)}}updateChild(n,r){const i=J(n);if(null===i)return r;{M(".priority"!==J(n)||1===Ri(n),".priority must be the last token in a path");const o=this.getImmediateChild(i).updateChild(Te(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const r={};let i=0,o=0,s=!0;if(this.forEachChild(Pe,(a,c)=>{r[a]=c.val(n),i++,s&&e.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){const a=[];for(const c in r)a[c]=r[c];return a}return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+aL(this.getPriority().val())+":"),this.forEachChild(Pe,(r,i)=>{const o=i.hash();""!==o&&(n+=":"+r+":"+o)}),this.lazyHash_=""===n?"":wF(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){const o=this.resolveIndex_(i);if(o){const s=o.getPredecessorKey(new te(n,r));return s?s.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(n){const r=this.getFirstChildName(n);return r?new te(r,this.children_.get(r)):null}getLastChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(n){const r=this.getLastChildName(n);return r?new te(r,this.children_.get(r)):null}forEachChild(n,r){const i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{const o=this.children_.getIteratorFrom(n.name,te.Wrap);let s=o.peek();for(;null!=s&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{const o=this.children_.getReverseIteratorFrom(n.name,te.Wrap);let s=o.peek();for(;null!=s&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Ul?-1:0}withIndex(n){if(n===wr||this.indexMap_.hasIndex(n))return this;{const r=this.indexMap_.addIndex(n,this.children_);return new e(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===wr||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const r=n;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(Pe),o=r.getIterator(Pe);let s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return null===s&&null===a}return!1}return!1}}resolveIndex_(n){return n===wr?null:this.indexMap_.get(n.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})();const Ul=new class vre extends Q{constructor(){super(new ln(UE),Q.EMPTY_NODE,ri.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Q.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(te,{MIN:{value:new te(Mi,Q.EMPTY_NODE)},MAX:{value:new te(ni,Ul)}}),sL.__EMPTY_NODE=Q.EMPTY_NODE,Ia.__childrenNodeConstructor=Q,function hre(e){jE=e}(Ul),function pre(e){dL=e}(Ul);const yre=!0;function Be(e,t=null){if(null===e)return Q.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),M(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new Ia(e,Be(t));if(e instanceof Array||!yre){let n=Q.EMPTY_NODE;return mt(e,(r,i)=>{if(mr(e,r)&&"."!==r.substring(0,1)){const o=Be(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Be(t))}{const n=[];let r=!1;if(mt(e,(s,a)=>{if("."!==s.substring(0,1)){const c=Be(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new te(s,c)))}}),0===n.length)return Q.EMPTY_NODE;const o=Pf(n,dre,s=>s.name,UE);if(r){const s=Pf(n,Pe.getCompare());return new Q(o,Be(t),new ri({".priority":s},{".priority":Pe}))}return new Q(o,Be(t),ri.Default)}}!function fre(e){uL=e}(Be);class $E extends Mf{constructor(t){super(),this.indexPath_=t,M(!ee(t)&&".priority"!==J(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),i=this.extractChild(n.node),o=r.compareTo(i);return 0===o?ko(t.name,n.name):o}makePost(t,n){const r=Be(t),i=Q.EMPTY_NODE.updateChild(this.indexPath_,r);return new te(n,i)}maxPost(){const t=Q.EMPTY_NODE.updateChild(this.indexPath_,Ul);return new te(ni,t)}toString(){return Fl(this.indexPath_,0).join("/")}}const HE=new class Cre extends Mf{compare(t,n){const r=t.node.compareTo(n.node);return 0===r?ko(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return te.MIN}maxPost(){return te.MAX}makePost(t,n){const r=Be(t);return new te(n,r)}toString(){return".value"}};function hL(e){return{type:"value",snapshotNode:e}}function Ta(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function jl(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Bl(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class zE{constructor(t){this.index_=t}updateChild(t,n,r,i,o,s){M(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=t.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(null!=s&&(r.isEmpty()?t.hasChild(n)?s.trackChildChange(jl(n,a)):M(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Ta(n,r)):s.trackChildChange(Bl(n,r,a))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return null!=r&&(t.isLeafNode()||t.forEachChild(Pe,(i,o)=>{n.hasChild(i)||r.trackChildChange(jl(i,o))}),n.isLeafNode()||n.forEachChild(Pe,(i,o)=>{if(t.hasChild(i)){const s=t.getImmediateChild(i);s.equals(o)||r.trackChildChange(Bl(i,o,s))}else r.trackChildChange(Ta(i,o))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?Q.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class $l{constructor(t){this.indexedFilter_=new zE(t.getIndex()),this.index_=t.getIndex(),this.startPost_=$l.getStartPost_(t),this.endPost_=$l.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,o,s){return this.matches(new te(n,r))||(r=Q.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,o,s)}updateFullNode(t,n,r){n.isLeafNode()&&(n=Q.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Q.EMPTY_NODE);const o=this;return n.forEachChild(Pe,(s,a)=>{o.matches(new te(s,a))||(i=i.updateImmediateChild(s,Q.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}return t.getIndex().maxPost()}}class wre{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new $l(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,o,s){return this.rangedFilter_.matches(new te(n,r))||(r=Q.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,o,s):this.fullLimitUpdateChild_(t,n,r,o,s)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Q.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<n.numChildren()&&n.isIndexed(this.index_)){let o;i=Q.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const a=o.getNext();if(this.withinDirectionalStart(a)){if(!this.withinDirectionalEnd(a))break;i=i.updateImmediateChild(a.name,a.node),s++}}}else{let o;i=n.withIndex(this.index_),i=i.updatePriority(Q.EMPTY_NODE),o=this.reverse_?i.getReverseIterator(this.index_):i.getIterator(this.index_);let s=0;for(;o.hasNext();){const a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,Q.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,o){let s;if(this.reverse_){const d=this.index_.getCompare();s=(h,f)=>d(f,h)}else s=this.index_.getCompare();const a=t;M(a.numChildren()===this.limit_,"");const c=new te(n,r),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(c);if(a.hasChild(n)){const d=a.getImmediateChild(n);let h=i.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=h&&(h.name===n||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const f=null==h?1:s(h,c);if(u&&!r.isEmpty()&&f>=0)return o?.trackChildChange(Bl(n,r,d)),a.updateImmediateChild(n,r);{o?.trackChildChange(jl(n,d));const v=a.updateImmediateChild(n,Q.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(o?.trackChildChange(Ta(h.name,h.node)),v.updateImmediateChild(h.name,h.node)):v}}return r.isEmpty()?t:u&&s(l,c)>=0?(null!=o&&(o.trackChildChange(jl(l.name,l.node)),o.trackChildChange(Ta(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(l.name,Q.EMPTY_NODE)):t}}class WE{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Pe}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return M(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return M(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Mi}hasEnd(){return this.endSet_}getIndexEndValue(){return M(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return M(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ni}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return M(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Pe}copy(){const t=new WE;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function fL(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Pe?n="$priority":e.index_===HE?n="$value":e.index_===wr?n="$key":(M(e.index_ instanceof $E,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=ct(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=ct(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+ct(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=ct(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+ct(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function pL(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Pe&&(t.i=e.index_.toString()),t}class Nf extends ZF{constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Pl("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return void 0!==n?"tag$"+n:(M(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,r,i){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const s=Nf.getListenId_(t,r),a={};this.listens_[s]=a;const c=fL(t._queryParams);this.restRequest_(o+".json",c,(l,u)=>{let d=u;if(404===l&&(d=null,l=null),null===l&&this.onDataUpdate_(o,d,!1,r),aa(this.listens_,s)===a){let h;h=l?401===l?"permission_denied":"rest_error:"+l:"ok",i(h,null)}})}unlisten(t,n){const r=Nf.getListenId_(t,n);delete this.listens_[r]}get(t){const n=fL(t._queryParams),r=t._path.toString(),i=new mo;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;404===o&&(a=null,o=null),null===o?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+ca(n);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=cl(a.responseText)}catch{Nt("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,c)}else 401!==a.status&&404!==a.status&&Nt("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}}class Are{constructor(){this.rootNode_=Q.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}function Of(){return{value:null,children:new Map}}function Sa(e,t,n){if(ee(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=J(t);e.children.has(r)||e.children.set(r,Of()),Sa(e.children.get(r),t=Te(t),n)}}function YE(e,t,n){null!==e.value?n(t,e.value):function Mre(e,t){e.children.forEach((n,r)=>{t(r,n)})}(e,(r,i)=>{YE(i,new ve(t.toString()+"/"+r),n)})}class xre{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&mt(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}}class kre{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new xre(t);const r=1e4+2e4*Math.random();Nl(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;mt(t,(i,o)=>{o>0&&mr(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),Nl(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Er=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}(Er||{});function ZE(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}class Ff{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=Er.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(ee(this.path)){if(null!=this.affectedTree.value)return M(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ve(t));return new Ff(ue(),n,this.revert)}}return M(J(this.path)===t,"operationForChild called for unrelated child."),new Ff(Te(this.path),this.affectedTree,this.revert)}}class Hl{constructor(t,n){this.source=t,this.path=n,this.type=Er.LISTEN_COMPLETE}operationForChild(t){return ee(this.path)?new Hl(this.source,ue()):new Hl(this.source,Te(this.path))}}class Fo{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=Er.OVERWRITE}operationForChild(t){return ee(this.path)?new Fo(this.source,ue(),this.snap.getImmediateChild(t)):new Fo(this.source,Te(this.path),this.snap)}}class Aa{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=Er.MERGE}operationForChild(t){if(ee(this.path)){const n=this.children.subtree(new ve(t));return n.isEmpty()?null:n.value?new Fo(this.source,ue(),n.value):new Aa(this.source,ue(),n)}return M(J(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Aa(this.source,Te(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Pi{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(ee(t))return this.isFullyInitialized()&&!this.filtered_;const n=J(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class Nre{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function zl(e,t,n,r,i,o){const s=r.filter(a=>a.type===n);s.sort((a,c)=>function Lre(e,t,n){if(null==t.childName||null==n.childName)throw sa("Should only compare child_ events.");const r=new te(t.childName,t.snapshotNode),i=new te(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,a,c)),s.forEach(a=>{const c=function Fre(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,a,o);i.forEach(l=>{l.respondsTo(a.type)&&t.push(l.createEvent(c,e.query_))})})}function Lf(e,t){return{eventCache:e,serverCache:t}}function Wl(e,t,n,r){return Lf(new Pi(t,n,r),e.serverCache)}function mL(e,t,n,r){return Lf(e.eventCache,new Pi(t,n,r))}function Vf(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Lo(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let JE;class ke{constructor(t,n=(()=>(JE||(JE=new ln(bne)),JE))()){this.value=t,this.children=n}static fromObject(t){let n=new ke(null);return mt(t,(r,i)=>{n=n.set(new ve(r),i)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(null!=this.value&&n(this.value))return{path:ue(),value:this.value};if(ee(t))return null;{const r=J(t),i=this.children.get(r);if(null!==i){const o=i.findRootMostMatchingPathAndValue(Te(t),n);return null!=o?{path:Fe(new ve(r),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(ee(t))return this;{const n=J(t),r=this.children.get(n);return null!==r?r.subtree(Te(t)):new ke(null)}}set(t,n){if(ee(t))return new ke(n,this.children);{const r=J(t),o=(this.children.get(r)||new ke(null)).set(Te(t),n),s=this.children.insert(r,o);return new ke(this.value,s)}}remove(t){if(ee(t))return this.children.isEmpty()?new ke(null):new ke(null,this.children);{const n=J(t),r=this.children.get(n);if(r){const i=r.remove(Te(t));let o;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new ke(null):new ke(this.value,o)}return this}}get(t){if(ee(t))return this.value;{const n=J(t),r=this.children.get(n);return r?r.get(Te(t)):null}}setTree(t,n){if(ee(t))return n;{const r=J(t),o=(this.children.get(r)||new ke(null)).setTree(Te(t),n);let s;return s=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new ke(this.value,s)}}fold(t){return this.fold_(ue(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Fe(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,ue(),n)}findOnPath_(t,n,r){const i=!!this.value&&r(n,this.value);if(i)return i;if(ee(t))return null;{const o=J(t),s=this.children.get(o);return s?s.findOnPath_(Te(t),Fe(n,o),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,ue(),n)}foreachOnPath_(t,n,r){if(ee(t))return this;{this.value&&r(n,this.value);const i=J(t),o=this.children.get(i);return o?o.foreachOnPath_(Te(t),Fe(n,i),r):new ke(null)}}foreach(t){this.foreach_(ue(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Fe(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}class Kn{constructor(t){this.writeTree_=t}static empty(){return new Kn(new ke(null))}}function Gl(e,t,n){if(ee(t))return new Kn(new ke(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let o=r.value;const s=Yt(i,t);return o=o.updateChild(s,n),new Kn(e.writeTree_.set(i,o))}{const i=new ke(n),o=e.writeTree_.setTree(t,i);return new Kn(o)}}}function eI(e,t,n){let r=e;return mt(n,(i,o)=>{r=Gl(r,Fe(t,i),o)}),r}function _L(e,t){if(ee(t))return Kn.empty();{const n=e.writeTree_.setTree(t,new ke(null));return new Kn(n)}}function tI(e,t){return null!=Vo(e,t)}function Vo(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Yt(n.path,t)):null}function vL(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Pe,(r,i)=>{t.push(new te(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&t.push(new te(r,i.value))}),t}function ki(e,t){if(ee(t))return e;{const n=Vo(e,t);return new Kn(null!=n?new ke(n):e.writeTree_.subtree(t))}}function nI(e){return e.writeTree_.isEmpty()}function Ma(e,t){return yL(ue(),e.writeTree_,t)}function yL(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,o)=>{".priority"===i?(M(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):n=yL(Fe(e,i),o,n)}),!n.getChild(e).isEmpty()&&null!==r&&(n=n.updateChild(Fe(e,".priority"),r)),n}}function Uf(e,t){return IL(t,e)}function Hre(e,t){if(e.snap)return On(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&On(Fe(e.path,n),t))return!0;return!1}function Wre(e){return e.visible}function CL(e,t,n){let r=Kn.empty();for(let i=0;i<e.length;++i){const o=e[i];if(t(o)){const s=o.path;let a;if(o.snap)On(n,s)?(a=Yt(n,s),r=Gl(r,a,o.snap)):On(s,n)&&(a=Yt(s,n),r=Gl(r,ue(),o.snap.getChild(a)));else{if(!o.children)throw sa("WriteRecord should have .snap or .children");if(On(n,s))a=Yt(n,s),r=eI(r,a,o.children);else if(On(s,n))if(a=Yt(s,n),ee(a))r=eI(r,ue(),o.children);else{const c=aa(o.children,J(a));if(c){const l=c.getChild(Te(a));r=Gl(r,ue(),l)}}}}}return r}function bL(e,t,n,r,i){if(r||i){const o=ki(e.visibleWrites,t);return!i&&nI(o)?n:i||null!=n||tI(o,ue())?Ma(CL(e.allWrites,function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(On(l.path,t)||On(t,l.path))},t),n||Q.EMPTY_NODE):null}{const o=Vo(e.visibleWrites,t);if(null!=o)return o;{const s=ki(e.visibleWrites,t);return nI(s)?n:null!=n||tI(s,ue())?Ma(s,n||Q.EMPTY_NODE):null}}}function jf(e,t,n,r){return bL(e.writeTree,e.treePath,t,n,r)}function rI(e,t){return function Gre(e,t,n){let r=Q.EMPTY_NODE;const i=Vo(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Pe,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){const o=ki(e.visibleWrites,t);return n.forEachChild(Pe,(s,a)=>{const c=Ma(ki(o,new ve(s)),a);r=r.updateImmediateChild(s,c)}),vL(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}return vL(ki(e.visibleWrites,t)).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}(e.writeTree,e.treePath,t)}function wL(e,t,n,r){return function qre(e,t,n,r,i){M(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=Fe(t,n);if(tI(e.visibleWrites,o))return null;{const s=ki(e.visibleWrites,o);return nI(s)?i.getChild(n):Ma(s,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function Bf(e,t){return function Yre(e,t){return Vo(e.visibleWrites,t)}(e.writeTree,Fe(e.treePath,t))}function iI(e,t,n){return function Kre(e,t,n,r){const i=Fe(t,n),o=Vo(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?Ma(ki(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function EL(e,t){return IL(Fe(e.treePath,t),e.writeTree)}function IL(e,t){return{treePath:e,writeTree:t}}class Jre{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;M("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),M(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if("child_added"===n&&"child_removed"===o)this.changeMap.set(r,Bl(r,t.snapshotNode,i.snapshotNode));else if("child_removed"===n&&"child_added"===o)this.changeMap.delete(r);else if("child_removed"===n&&"child_changed"===o)this.changeMap.set(r,jl(r,i.oldSnap));else if("child_changed"===n&&"child_added"===o)this.changeMap.set(r,Ta(r,t.snapshotNode));else{if("child_changed"!==n||"child_changed"!==o)throw sa("Illegal combination of changes: "+t+" occurred after "+i);this.changeMap.set(r,Bl(r,t.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}const DL=new class eie{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}};class oI{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=null!=this.optCompleteServerCache_?new Pi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return iI(this.writes_,t,r)}}getChildAfterChild(t,n,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Lo(this.viewCache_),o=function Zre(e,t,n,r,i,o){return function Qre(e,t,n,r,i,o,s){let a;const c=ki(e.visibleWrites,t),l=Vo(c,ue());if(null!=l)a=l;else{if(null==n)return[];a=Ma(c,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const u=[],d=s.getCompare(),h=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let f=h.getNext();for(;f&&u.length<i;)0!==d(f,r)&&u.push(f),f=h.getNext();return u}}(e.writeTree,e.treePath,t,n,r,i,o)}(this.writes_,i,n,1,r,t);return 0===o.length?null:o[0]}}function TL(e,t,n,r,i,o){const s=t.eventCache;if(null!=Bf(r,n))return t;{let a,c;if(ee(n))if(M(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const l=Lo(t),d=rI(r,l instanceof Q?l:Q.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),d,o)}else{const l=jf(r,Lo(t));a=e.filter.updateFullNode(t.eventCache.getNode(),l,o)}else{const l=J(n);if(".priority"===l){M(1===Ri(n),"Can't have a priority with additional path components");const u=s.getNode();c=t.serverCache.getNode();const d=wL(r,n,u,c);a=null!=d?e.filter.updatePriority(u,d):s.getNode()}else{const u=Te(n);let d;if(s.isCompleteForChild(l)){c=t.serverCache.getNode();const h=wL(r,n,s.getNode(),c);d=null!=h?s.getNode().getImmediateChild(l).updateChild(u,h):s.getNode().getImmediateChild(l)}else d=iI(r,l,t.serverCache);a=null!=d?e.filter.updateChild(s.getNode(),l,d,u,i,o):s.getNode()}}return Wl(t,a,s.isFullyInitialized()||ee(n),e.filter.filtersNodes())}}function $f(e,t,n,r,i,o,s,a){const c=t.serverCache;let l;const u=s?e.filter:e.filter.getIndexedFilter();if(ee(n))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){const f=c.getNode().updateChild(n,r);l=u.updateFullNode(c.getNode(),f,null)}else{const f=J(n);if(!c.isCompleteForPath(n)&&Ri(n)>1)return t;const g=Te(n),E=c.getNode().getImmediateChild(f).updateChild(g,r);l=".priority"===f?u.updatePriority(c.getNode(),E):u.updateChild(c.getNode(),f,E,g,DL,null)}const d=mL(t,l,c.isFullyInitialized()||ee(n),u.filtersNodes());return TL(e,d,n,i,new oI(i,d,o),a)}function sI(e,t,n,r,i,o,s){const a=t.eventCache;let c,l;const u=new oI(i,t,o);if(ee(n))l=e.filter.updateFullNode(t.eventCache.getNode(),r,s),c=Wl(t,l,!0,e.filter.filtersNodes());else{const d=J(n);if(".priority"===d)l=e.filter.updatePriority(t.eventCache.getNode(),r),c=Wl(t,l,a.isFullyInitialized(),a.isFiltered());else{const h=Te(n),f=a.getNode().getImmediateChild(d);let g;if(ee(h))g=r;else{const v=u.getCompleteChild(d);g=null!=v?".priority"===FE(h)&&v.getChild(nL(h)).isEmpty()?v:v.updateChild(h,r):Q.EMPTY_NODE}c=f.equals(g)?t:Wl(t,e.filter.updateChild(a.getNode(),d,g,h,u,s),a.isFullyInitialized(),e.filter.filtersNodes())}}return c}function SL(e,t){return e.eventCache.isCompleteForChild(t)}function AL(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function aI(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=ee(n)?r:new ke(null).setTree(n,r);const u=t.serverCache.getNode();return l.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const g=AL(0,t.serverCache.getNode().getImmediateChild(d),h);c=$f(e,c,new ve(d),g,i,o,s,a)}}),l.children.inorderTraversal((d,h)=>{const f=!t.serverCache.isCompleteForChild(d)&&null===h.value;if(!u.hasChild(d)&&!f){const v=AL(0,t.serverCache.getNode().getImmediateChild(d),h);c=$f(e,c,new ve(d),v,i,o,s,a)}}),c}class lie{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new zE(r.getIndex()),o=function Ere(e){return e.loadsAllData()?new zE(e.getIndex()):e.hasLimit()?new wre(e):new $l(e)}(r);this.processor_=function tie(e){return{filter:e}}(o);const s=n.serverCache,a=n.eventCache,c=i.updateFullNode(Q.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(Q.EMPTY_NODE,a.getNode(),null),u=new Pi(c,s.isFullyInitialized(),i.filtersNodes()),d=new Pi(l,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Lf(d,u),this.eventGenerator_=new Nre(this.query_)}get query(){return this.query_}}function hie(e,t){const n=Lo(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!ee(t)&&!n.getImmediateChild(J(t)).isEmpty())?n.getChild(t):null}function ML(e){return 0===e.eventRegistrations_.length}function xL(e,t,n){const r=[];if(n){M(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(n,i);s&&r.push(s)})}if(t){let i=[];for(let o=0;o<e.eventRegistrations_.length;++o){const s=e.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(o+1));break}}else i.push(s)}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function RL(e,t,n,r){t.type===Er.MERGE&&null!==t.source.queryId&&(M(Lo(e.viewCache_),"We should always have a full cache before handling merges"),M(Vf(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,o=function rie(e,t,n,r,i){const o=new Jre;let s,a;if(n.type===Er.OVERWRITE){const l=n;l.source.fromUser?s=sI(e,t,l.path,l.snap,r,i,o):(M(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!ee(l.path),s=$f(e,t,l.path,l.snap,r,i,a,o))}else if(n.type===Er.MERGE){const l=n;l.source.fromUser?s=function oie(e,t,n,r,i,o,s){let a=t;return r.foreach((c,l)=>{const u=Fe(n,c);SL(t,J(u))&&(a=sI(e,a,u,l,i,o,s))}),r.foreach((c,l)=>{const u=Fe(n,c);SL(t,J(u))||(a=sI(e,a,u,l,i,o,s))}),a}(e,t,l.path,l.children,r,i,o):(M(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),s=aI(e,t,l.path,l.children,r,i,a,o))}else if(n.type===Er.ACK_USER_WRITE){const l=n;s=l.revert?function cie(e,t,n,r,i,o){let s;if(null!=Bf(r,n))return t;{const a=new oI(r,t,i),c=t.eventCache.getNode();let l;if(ee(n)||".priority"===J(n)){let u;if(t.serverCache.isFullyInitialized())u=jf(r,Lo(t));else{const d=t.serverCache.getNode();M(d instanceof Q,"serverChildren would be complete if leaf node"),u=rI(r,d)}l=e.filter.updateFullNode(c,u,o)}else{const u=J(n);let d=iI(r,u,t.serverCache);null==d&&t.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),l=null!=d?e.filter.updateChild(c,u,d,Te(n),a,o):t.eventCache.getNode().hasChild(u)?e.filter.updateChild(c,u,Q.EMPTY_NODE,Te(n),a,o):c,l.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=jf(r,Lo(t)),s.isLeafNode()&&(l=e.filter.updateFullNode(l,s,o)))}return s=t.serverCache.isFullyInitialized()||null!=Bf(r,ue()),Wl(t,l,s,e.filter.filtersNodes())}}(e,t,l.path,r,i,o):function sie(e,t,n,r,i,o,s){if(null!=Bf(i,n))return t;const a=t.serverCache.isFiltered(),c=t.serverCache;if(null!=r.value){if(ee(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return $f(e,t,n,c.getNode().getChild(n),i,o,a,s);if(ee(n)){let l=new ke(null);return c.getNode().forEachChild(wr,(u,d)=>{l=l.set(new ve(u),d)}),aI(e,t,n,l,i,o,a,s)}return t}{let l=new ke(null);return r.foreach((u,d)=>{const h=Fe(n,u);c.isCompleteForPath(h)&&(l=l.set(u,c.getNode().getChild(h)))}),aI(e,t,n,l,i,o,a,s)}}(e,t,l.path,l.affectedTree,r,i,o)}else{if(n.type!==Er.LISTEN_COMPLETE)throw sa("Unknown operation type: "+n.type);s=function aie(e,t,n,r,i){const o=t.serverCache;return TL(e,mL(t,o.getNode(),o.isFullyInitialized()||ee(n),o.isFiltered()),n,r,DL,i)}(e,t,n.path,r,o)}const c=o.getChanges();return function iie(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Vf(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(hL(Vf(t)))}}(t,s,c),{viewCache:s,changes:c}}(e.processor_,i,t,n,r);return function nie(e,t){M(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),M(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}(e.processor_,o.viewCache),M(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,PL(e,o.changes,o.viewCache.eventCache.getNode(),null)}function PL(e,t,n,r){return function Ore(e,t,n,r){const i=[],o=[];return t.forEach(s=>{"child_changed"===s.type&&e.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(function bre(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}(s.childName,s.snapshotNode))}),zl(e,i,"child_removed",t,r,n),zl(e,i,"child_added",t,r,n),zl(e,i,"child_moved",o,r,n),zl(e,i,"child_changed",t,r,n),zl(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,r?[r]:e.eventRegistrations_)}let Hf,Wf;class kL{constructor(){this.views=new Map}}function cI(e,t,n,r){const i=t.source.queryId;if(null!==i){const o=e.views.get(i);return M(null!=o,"SyncTree gave us an op for an invalid query."),RL(o,t,n,r)}{let o=[];for(const s of e.views.values())o=o.concat(RL(s,t,n,r));return o}}function NL(e,t,n,r,i){const s=e.views.get(t._queryIdentifier);if(!s){let a=jf(n,i?r:null),c=!1;a?c=!0:r instanceof Q?(a=rI(n,r),c=!1):(a=Q.EMPTY_NODE,c=!1);const l=Lf(new Pi(a,c,!1),new Pi(r,i,!1));return new lie(t,l)}return s}function OL(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Ni(e,t){let n=null;for(const r of e.views.values())n=n||hie(r,t);return n}function FL(e,t){return t._queryParams.loadsAllData()?zf(e):e.views.get(t._queryIdentifier)}function LL(e,t){return null!=FL(e,t)}function Oi(e){return null!=zf(e)}function zf(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let wie=1;class VL{constructor(t){this.listenProvider_=t,this.syncPointTree_=new ke(null),this.pendingWriteTree_=function Xre(){return{visibleWrites:Kn.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function lI(e,t,n,r,i){return function Ure(e,t,n,r,i){M(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Gl(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?xa(e,new Fo({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Fi(e,t,n=!1){const r=function Bre(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(function $re(e,t){const n=e.allWrites.findIndex(a=>a.writeId===t);M(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){const a=e.allWrites[s];a.visible&&(s>=n&&Hre(a,r.path)?i=!1:On(r.path,a.path)&&(o=!0)),s--}return!!i&&(o?(function zre(e){e.visibleWrites=CL(e.allWrites,Wre,ue()),e.lastWriteId=e.allWrites.length>0?e.allWrites[e.allWrites.length-1].writeId:-1}(e),!0):(r.snap?e.visibleWrites=_L(e.visibleWrites,r.path):mt(r.children,c=>{e.visibleWrites=_L(e.visibleWrites,Fe(r.path,c))}),!0))}(e.pendingWriteTree_,t)){let o=new ke(null);return null!=r.snap?o=o.set(ue(),!0):mt(r.children,s=>{o=o.set(new ve(s),!0)}),xa(e,new Ff(r.path,o,n))}return[]}function ql(e,t,n){return xa(e,new Fo({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Gf(e,t,n,r,i=!1){const o=t._path,s=e.syncPointTree_.get(o);let a=[];if(s&&("default"===t._queryIdentifier||LL(s,t))){const c=function yie(e,t,n,r){const i=t._queryIdentifier,o=[];let s=[];const a=Oi(e);if("default"===i)for(const[c,l]of e.views.entries())s=s.concat(xL(l,n,r)),ML(l)&&(e.views.delete(c),l.query._queryParams.loadsAllData()||o.push(l.query));else{const c=e.views.get(i);c&&(s=s.concat(xL(c,n,r)),ML(c)&&(e.views.delete(i),c.query._queryParams.loadsAllData()||o.push(c.query)))}return a&&!Oi(e)&&o.push(new(function mie(){return M(Hf,"Reference.ts has not been loaded"),Hf}())(t._repo,t._path)),{removed:o,events:s}}(s,t,n,r);(function _ie(e){return 0===e.views.size})(s)&&(e.syncPointTree_=e.syncPointTree_.remove(o));const l=c.removed;if(a=c.events,!i){const u=-1!==l.findIndex(h=>h._queryParams.loadsAllData()),d=e.syncPointTree_.findOnPath(o,(h,f)=>Oi(f));if(u&&!d){const h=e.syncPointTree_.subtree(o);if(!h.isEmpty()){const f=function Mie(e){return e.fold((t,n,r)=>{if(n&&Oi(n))return[zf(n)];{let i=[];return n&&(i=OL(n)),mt(r,(o,s)=>{i=i.concat(s)}),i}})}(h);for(let g=0;g<f.length;++g){const v=f[g],E=v.query,I=$L(e,v);e.listenProvider_.startListening(Yl(E),Kl(e,E),I.hashFn,I.onComplete)}}}!d&&l.length>0&&!r&&(u?e.listenProvider_.stopListening(Yl(t),null):l.forEach(h=>{const f=e.queryToTagMap.get(Kf(h));e.listenProvider_.stopListening(Yl(h),f)}))}!function xie(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const i=Kf(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}(e,l)}return a}function UL(e,t,n,r){const i=dI(e,r);if(null!=i){const o=hI(i),s=o.path,a=o.queryId,c=Yt(s,t);return fI(e,s,new Fo(ZE(a),c,n))}return[]}function uI(e,t,n,r=!1){const i=t._path;let o=null,s=!1;e.syncPointTree_.foreachOnPath(i,(h,f)=>{const g=Yt(h,i);o=o||Ni(f,g),s=s||Oi(f)});let c,a=e.syncPointTree_.get(i);a?(s=s||Oi(a),o=o||Ni(a,ue())):(a=new kL,e.syncPointTree_=e.syncPointTree_.set(i,a)),null!=o?c=!0:(c=!1,o=Q.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((f,g)=>{const v=Ni(g,ue());v&&(o=o.updateImmediateChild(f,v))}));const l=LL(a,t);if(!l&&!t._queryParams.loadsAllData()){const h=Kf(t);M(!e.queryToTagMap.has(h),"View does not exist, but we have a tag");const f=function Rie(){return wie++}();e.queryToTagMap.set(h,f),e.tagToQueryMap.set(f,h)}let d=function vie(e,t,n,r,i,o){const s=NL(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),function fie(e,t){e.eventRegistrations_.push(t)}(s,n),function pie(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Pe,(o,s)=>{r.push(Ta(o,s))}),n.isFullyInitialized()&&r.push(hL(n.getNode())),PL(e,r,n.getNode(),t)}(s,n)}(a,t,n,Uf(e.pendingWriteTree_,i),o,c);if(!l&&!s&&!r){const h=FL(a,t);d=d.concat(function Pie(e,t,n){const r=t._path,i=Kl(e,t),o=$L(e,n),s=e.listenProvider_.startListening(Yl(t),i,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(r);if(i)M(!Oi(a.value),"If we're adding a query, it shouldn't be shadowed");else{const c=a.fold((l,u,d)=>{if(!ee(l)&&u&&Oi(u))return[zf(u).query];{let h=[];return u&&(h=h.concat(OL(u).map(f=>f.query))),mt(d,(f,g)=>{h=h.concat(g)}),h}});for(let l=0;l<c.length;++l){const u=c[l];e.listenProvider_.stopListening(Yl(u),Kl(e,u))}}return s}(e,t,h))}return d}function qf(e,t,n){const i=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(s,a)=>{const l=Ni(a,Yt(s,t));if(l)return l});return bL(i,t,o,n,!0)}function xa(e,t){return jL(t,e.syncPointTree_,null,Uf(e.pendingWriteTree_,ue()))}function jL(e,t,n,r){if(ee(e.path))return BL(e,t,n,r);{const i=t.get(ue());null==n&&null!=i&&(n=Ni(i,ue()));let o=[];const s=J(e.path),a=e.operationForChild(s),c=t.children.get(s);if(c&&a){const l=n?n.getImmediateChild(s):null,u=EL(r,s);o=o.concat(jL(a,c,l,u))}return i&&(o=o.concat(cI(i,e,r,n))),o}}function BL(e,t,n,r){const i=t.get(ue());null==n&&null!=i&&(n=Ni(i,ue()));let o=[];return t.children.inorderTraversal((s,a)=>{const c=n?n.getImmediateChild(s):null,l=EL(r,s),u=e.operationForChild(s);u&&(o=o.concat(BL(u,a,c,l)))}),i&&(o=o.concat(cI(i,e,r,n))),o}function $L(e,t){const n=t.query,r=Kl(e,n);return{hashFn:()=>(function uie(e){return e.viewCache_.serverCache.getNode()}(t)||Q.EMPTY_NODE).hash(),onComplete:i=>{if("ok"===i)return r?function Tie(e,t,n){const r=dI(e,n);if(r){const i=hI(r),o=i.path,s=i.queryId,a=Yt(o,t);return fI(e,o,new Hl(ZE(s),a))}return[]}(e,n._path,r):function Die(e,t){return xa(e,new Hl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const o=function Ine(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(i,n);return Gf(e,n,null,o)}}}}function Kl(e,t){const n=Kf(t);return e.queryToTagMap.get(n)}function Kf(e){return e._path.toString()+"$"+e._queryIdentifier}function dI(e,t){return e.tagToQueryMap.get(t)}function hI(e){const t=e.indexOf("$");return M(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new ve(e.substr(0,t))}}function fI(e,t,n){const r=e.syncPointTree_.get(t);return M(r,"Missing sync point for query tag that we're tracking"),cI(r,n,Uf(e.pendingWriteTree_,t),null)}function Yl(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(function bie(){return M(Wf,"Reference.ts has not been loaded"),Wf}())(e._repo,e._path):e}class pI{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new pI(n)}node(){return this.node_}}class gI{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=Fe(this.path_,t);return new gI(this.syncTree_,n)}node(){return qf(this.syncTree_,this.path_)}}const kie=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},HL=function(e,t,n){return e&&"object"==typeof e?(M(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?Nie(e[".sv"],t,n):"object"==typeof e[".sv"]?Oie(e[".sv"],t):void M(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Nie=function(e,t,n){if("timestamp"===e)return n.timestamp;M(!1,"Unexpected server value: "+e)},Oie=function(e,t,n){e.hasOwnProperty("increment")||M(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!=typeof r&&M(!1,"Unexpected increment value: "+r);const i=t.node();if(M(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return"number"!=typeof s?r:s+r},zL=function(e,t,n,r){return _I(t,new gI(n,e),r)},mI=function(e,t,n){return _I(e,new pI(t),n)};function _I(e,t,n){const r=e.getPriority().val(),i=HL(r,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const s=e,a=HL(s.getValue(),t,n);return a!==s.getValue()||i!==s.getPriority().val()?new Ia(a,Be(i)):e}{const s=e;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new Ia(i))),s.forEachChild(Pe,(a,c)=>{const l=_I(c,t.getImmediateChild(a),n);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}class vI{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function Yf(e,t){let n=t instanceof ve?t:new ve(t),r=e,i=J(n);for(;null!==i;){const o=aa(r.node.children,i)||{children:{},childCount:0};r=new vI(i,r,o),n=Te(n),i=J(n)}return r}function Uo(e){return e.node.value}function yI(e,t){e.node.value=t,CI(e)}function WL(e){return e.node.childCount>0}function Qf(e,t){mt(e.node.children,(n,r)=>{t(new vI(n,e,r))})}function GL(e,t,n,r){n&&!r&&t(e),Qf(e,i=>{GL(i,t,!0,r)}),n&&r&&t(e)}function Ql(e){return new ve(null===e.parent?e.name:Ql(e.parent)+"/"+e.name)}function CI(e){null!==e.parent&&function Vie(e,t,n){const r=function Fie(e){return void 0===Uo(e)&&!WL(e)}(n),i=mr(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,CI(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,CI(e))}(e.parent,e.name,e)}const Uie=/[\[\].#$\/\u0000-\u001F\u007F]/,jie=/[\[\].#$\u0000-\u001F\u007F]/,bI=10485760,Xf=function(e){return"string"==typeof e&&0!==e.length&&!Uie.test(e)},qL=function(e){return"string"==typeof e&&0!==e.length&&!jie.test(e)},Zl=function(e,t,n){const r=n instanceof ve?new rre(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+No(r));if("function"==typeof t)throw new Error(e+"contains a function "+No(r)+" with contents = "+t.toString());if(Df(t))throw new Error(e+"contains "+t.toString()+" "+No(r));if("string"==typeof t&&t.length>bI/3&&$h(t)>bI)throw new Error(e+"contains a string greater than "+bI+" utf8 bytes "+No(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let i=!1,o=!1;if(mt(t,(s,a)=>{if(".value"===s)i=!0;else if(".priority"!==s&&".sv"!==s&&(o=!0,!Xf(s)))throw new Error(e+" contains an invalid key ("+s+") "+No(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function ire(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=$h(t),rL(e)})(r,s),Zl(e,a,r),function ore(e){const t=e.parts_.pop();e.byteLength_-=$h(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)}),i&&o)throw new Error(e+' contains ".value" child '+No(r)+" in addition to actual children.")}},EI=function(e,t,n,r){if(!(r&&void 0===n||qL(n)))throw new Error(la(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Hie=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),EI(e,t,n,r)};class zie{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Zf(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],o=i.getPath();null!==n&&!LE(o,n.path)&&(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function QL(e,t,n){Zf(e,n),XL(e,r=>LE(r,t))}function Cn(e,t,n){Zf(e,n),XL(e,r=>On(r,t)||On(t,r))}function XL(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];i&&(t(i.path)?(Wie(e.eventLists_[r]),e.eventLists_[r]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}function Wie(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();Po&&gt("event: "+n.toString()),wa(r)}}}const Gie=25;class qie{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new zie,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Of(),this.transactionQueueTree_=new vI,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function JL(e){const n=e.infoData_.getNode(new ve(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function eu(e){return kie({timestamp:JL(e)})}function e2(e,t,n,r,i){e.dataUpdateCount++;const o=new ve(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){const c=jh(n,l=>Be(l));s=function Sie(e,t,n,r){const i=dI(e,r);if(i){const o=hI(i),s=o.path,a=o.queryId,c=Yt(s,t),l=ke.fromObject(n);return fI(e,s,new Aa(ZE(a),c,l))}return[]}(e.serverSyncTree_,o,c,i)}else{const c=Be(n);s=UL(e.serverSyncTree_,o,c,i)}else if(r){const c=jh(n,l=>Be(l));s=function Iie(e,t,n){const r=ke.fromObject(n);return xa(e,new Aa({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,c)}else{const c=Be(n);s=ql(e.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=Pa(e,o)),Cn(e.eventQueue_,a,s)}function t2(e,t){II(e,"connected",t),!1===t&&function Zie(e){Ra(e,"onDisconnectEvents");const t=eu(e),n=Of();YE(e.onDisconnect_,ue(),(i,o)=>{const s=zL(i,o,e.serverSyncTree_,t);Sa(n,i,s)});let r=[];YE(n,ue(),(i,o)=>{r=r.concat(ql(e.serverSyncTree_,i,o));const s=AI(e,i);Pa(e,s)}),e.onDisconnect_=Of(),Cn(e.eventQueue_,ue(),r)}(e)}function II(e,t,n){const r=new ve("/.info/"+t),i=Be(n);e.infoData_.updateSnapshot(r,i);const o=ql(e.infoSyncTree_,r,i);Cn(e.eventQueue_,r,o)}function Jf(e){return e.nextWriteId_++}function DI(e,t,n,r,i){Ra(e,"set",{path:t.toString(),value:n,priority:r});const o=eu(e),s=Be(n,r),a=qf(e.serverSyncTree_,t),c=mI(s,a,o),l=Jf(e),u=lI(e.serverSyncTree_,t,c,l,!0);Zf(e.eventQueue_,u),e.server_.put(t.toString(),s.val(!0),(h,f)=>{const g="ok"===h;g||Nt("set at "+t+" failed: "+h);const v=Fi(e.serverSyncTree_,l,!g);Cn(e.eventQueue_,t,v),function Li(e,t,n,r){t&&wa(()=>{if("ok"===n)t(null);else{const i=(n||"error").toUpperCase();let o=i;r&&(o+=": "+r);const s=new Error(o);s.code=i,t(s)}})}(0,i,h,f)});const d=AI(e,t);Pa(e,d),Cn(e.eventQueue_,d,[])}function TI(e,t,n){let r;r=".info"===J(t._path)?Gf(e.infoSyncTree_,t,n):Gf(e.serverSyncTree_,t,n),QL(e.eventQueue_,t._path,r)}function Ra(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),gt(n,...t)}function SI(e,t,n){return qf(e.serverSyncTree_,t,n)||Q.EMPTY_NODE}function ep(e,t=e.transactionQueueTree_){if(t||tp(e,t),Uo(t)){const n=o2(e,t);M(n.length>0,"Sending zero length transaction queue"),n.every(i=>0===i.status)&&function ooe(e,t,n){const r=n.map(l=>l.currentWriteId),i=SI(e,t,r);let o=i;const s=i.hash();for(let l=0;l<n.length;l++){const u=n[l];M(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=Yt(t,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}const a=o.val(!0),c=t;e.server_.put(c.toString(),a,l=>{Ra(e,"transaction put response",{path:c.toString(),status:l});let u=[];if("ok"===l){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(Fi(e.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();tp(e,Yf(e.transactionQueueTree_,t)),ep(e,e.transactionQueueTree_),Cn(e.eventQueue_,t,u);for(let h=0;h<d.length;h++)wa(d[h])}else{if("datastale"===l)for(let d=0;d<n.length;d++)n[d].status=3===n[d].status?4:0;else{Nt("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=l}Pa(e,t)}},s)}(e,Ql(t),n)}else WL(t)&&Qf(t,n=>{ep(e,n)})}function Pa(e,t){const n=i2(e,t),r=Ql(n);return function soe(e,t,n){if(0===t.length)return;const r=[];let i=[];const s=t.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){const c=t[a],l=Yt(n,c.path);let d,u=!1;if(M(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)u=!0,d=c.abortReason,i=i.concat(Fi(e.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=Gie)u=!0,d="maxretry",i=i.concat(Fi(e.serverSyncTree_,c.currentWriteId,!0));else{const h=SI(e,c.path,s);c.currentInputSnapshot=h;const f=t[a].update(h.val());if(void 0!==f){Zl("transaction failed: Data returned ",f,c.path);let g=Be(f);"object"==typeof f&&null!=f&&mr(f,".priority")||(g=g.updatePriority(h.getPriority()));const E=c.currentWriteId,I=eu(e),b=mI(g,h,I);c.currentOutputSnapshotRaw=g,c.currentOutputSnapshotResolved=b,c.currentWriteId=Jf(e),s.splice(s.indexOf(E),1),i=i.concat(lI(e.serverSyncTree_,c.path,b,c.currentWriteId,c.applyLocally)),i=i.concat(Fi(e.serverSyncTree_,E,!0))}else u=!0,d="nodata",i=i.concat(Fi(e.serverSyncTree_,c.currentWriteId,!0))}Cn(e.eventQueue_,n,i),i=[],u&&(t[a].status=2,setTimeout(t[a].unwatcher,Math.floor(0)),t[a].onComplete&&r.push("nodata"===d?()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot):()=>t[a].onComplete(new Error(d),!1,null)))}tp(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)wa(r[a]);ep(e,e.transactionQueueTree_)}(e,o2(e,n),r),r}function i2(e,t){let n,r=e.transactionQueueTree_;for(n=J(t);null!==n&&void 0===Uo(r);)r=Yf(r,n),n=J(t=Te(t));return r}function o2(e,t){const n=[];return s2(e,t,n),n.sort((r,i)=>r.order-i.order),n}function s2(e,t,n){const r=Uo(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Qf(t,i=>{s2(e,i,n)})}function tp(e,t){const n=Uo(t);if(n){let r=0;for(let i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,yI(t,n.length>0?n:void 0)}Qf(t,r=>{tp(e,r)})}function AI(e,t){const n=Ql(i2(e,t)),r=Yf(e.transactionQueueTree_,t);return function Lie(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,i=>{MI(e,i)}),MI(e,r),GL(r,i=>{MI(e,i)}),n}function MI(e,t){const n=Uo(t);if(n){const r=[];let i=[],o=-1;for(let s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?(M(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(M(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(Fi(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===o?yI(t,void 0):n.length=o+1,Cn(e.eventQueue_,Ql(t),i);for(let s=0;s<r.length;s++)wa(r[s])}}const xI=function(e,t){const n=loe(e),r=n.namespace;return"firebase.com"===n.domain&&br(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==n.domain&&br("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Nt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new xE(n.host,n.secure,r,"ws"===n.scheme||"wss"===n.scheme,t,"",r!==n.subdomain),path:new ve(n.pathString)}},loe=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",c=443;if("string"==typeof e){let l=e.indexOf("//");l>=0&&(a=e.substring(0,l-1),e=e.substring(l+2));let u=e.indexOf("/");-1===u&&(u=e.length);let d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(i=function aoe(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}(e.substring(u,d)));const h=function coe(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Nt(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,d)));l=t.indexOf(":"),l>=0?(s="https"===a||"wss"===a,c=parseInt(t.substring(l+1),10)):l=t.length;const f=t.slice(0,l);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const g=t.indexOf(".");r=t.substring(0,g).toLowerCase(),n=t.substring(g+1),o=r}"ns"in h&&(o=h.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};class c2{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ct(this.snapshot.exportVal())}}class l2{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class RI{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return M(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class bn{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return ee(this._path)?null:FE(this._path)}get ref(){return new Yn(this._repo,this._path)}get _queryIdentifier(){const t=pL(this._queryParams),n=AE(t);return"{}"===n?"default":n}get _queryObject(){return pL(this._queryParams)}isEqual(t){if(!((t=Dt(t))instanceof bn))return!1;const n=this._repo===t._repo,r=LE(this._path,t._path);return n&&r&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function tre(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class Yn extends bn{constructor(t,n){super(t,n,new WE,!1)}get parent(){const t=nL(this._path);return null===t?null:new Yn(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class jo{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new ve(t),r=Bo(this.ref,t);return new jo(this._node.getChild(n),r,Pe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,i)=>t(new jo(i,Bo(this.ref,r),Pe)))}hasChild(t){const n=new ve(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function u2(e,t){return(e=Dt(e))._checkNotDeleted("ref"),void 0!==t?Bo(e._root,t):e._root}function Bo(e,t){return null===J((e=Dt(e))._path)?Hie("child","path",t,!1):EI("child","path",t,!1),new Yn(e._repo,Fe(e._path,t))}function PI(e,t){(function(e,t){if(".info"===J(t))throw new Error(e+" failed = Can't modify data under /.info/")})("set",(e=Dt(e))._path),function(e,t,n,r){r&&void 0===t||Zl(la(e,"value"),t,n)}("set",t,e._path,!1);const n=new mo;return DI(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function hoe(e){e=Dt(e);const t=new RI(()=>{}),n=new tu(t);return function Qie(e,t,n){const r=function Aie(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,(l,u)=>{const d=Yt(l,n);r=r||Ni(u,d)});let i=e.syncPointTree_.get(n);i?r=r||Ni(i,ue()):(i=new kL,e.syncPointTree_=e.syncPointTree_.set(n,i));const o=null!=r,s=o?new Pi(r,!0,!1):null;return function die(e){return Vf(e.viewCache_)}(NL(i,t,Uf(e.pendingWriteTree_,t._path),o?s.getNode():Q.EMPTY_NODE,o))}(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then(i=>{const o=Be(i).withIndex(t._queryParams.getIndex());let s;if(uI(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())s=ql(e.serverSyncTree_,t._path,o);else{const a=Kl(e.serverSyncTree_,t);s=UL(e.serverSyncTree_,t._path,o,a)}return Cn(e.eventQueue_,t._path,s),Gf(e.serverSyncTree_,t,n,null,!0),o},i=>(Ra(e,"get for query "+ct(t)+" failed: "+i),Promise.reject(new Error(i))))}(e._repo,e,n).then(r=>new jo(r,new Yn(e._repo,e._path),e._queryParams.getIndex()))}class tu{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,n){const r=n._queryParams.getIndex();return new c2("value",this,new jo(t.snapshotNode,new Yn(n._repo,n._path),r))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new l2(this,t,n):null}matches(t){return t instanceof tu&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class ip{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n="children_added"===t?"child_added":t;return n="children_removed"===n?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new l2(this,t,n):null}createEvent(t,n){M(null!=t.childName,"Child events should have a childName.");const r=Bo(new Yn(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new c2(t.type,this,new jo(t.snapshotNode,r,i),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof ip&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function d2(e,t,n,r){return function nu(e,t,n,r,i){let o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){const c=n,l=(u,d)=>{TI(e._repo,e,a),c(u,d)};l.userCallback=n.userCallback,l.context=n.context,n=l}const s=new RI(n,o||void 0),a="value"===t?new tu(s):new ip(t,s);return function noe(e,t,n){let r;r=".info"===J(t._path)?uI(e.infoSyncTree_,t,n):uI(e.serverSyncTree_,t,n),QL(e.eventQueue_,t._path,r)}(e._repo,e,a),()=>TI(e._repo,e,a)}(e,"value",t,n,r)}(function gie(e){M(!Hf,"__referenceConstructor has already been defined"),Hf=e})(Yn),function Cie(e){M(!Wf,"__referenceConstructor has already been defined"),Wf=e}(Yn);const kI={};function Ioe(e,t,n,r,i){let o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||br("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),gt("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let c,l,s=xI(o,i),a=s.repoInfo;typeof process<"u"&&process.env&&(l=process.env.FIREBASE_DATABASE_EMULATOR_HOST),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=xI(o,i),a=s.repoInfo):c=!s.repoInfo.secure;const u=i&&c?new Ol(Ol.OWNER):new xne(e.name,e.options,t);(function(e,t){const n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Xf(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),qL(e)}(n))throw new Error(la(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",s),ee(s.path)||br("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function Toe(e,t,n,r){let i=kI[t.name];i||(i={},kI[t.name]=i);let o=i[e.toURLString()];return o&&br("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new qie(e,false,n,r),i[e.toURLString()]=o,o}(a,e,u,new Mne(e.name,n));return new Aoe(d,e)}class Aoe{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Kie(e,t,n){if(e.stats_=kE(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Nf(e.repoInfo_,(r,i,o,s)=>{e2(e,r,i,o,s)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>t2(e,!0),0);else{if(typeof n<"u"&&null!==n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ct(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Oo(e.repoInfo_,t,(r,i,o,s)=>{e2(e,r,i,o,s)},r=>{t2(e,r)},r=>{!function Yie(e,t){mt(t,(n,r)=>{II(e,n,r)})}(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=function kne(e,t){const n=e.toString();return PE[n]||(PE[n]=t()),PE[n]}(e.repoInfo_,()=>new kre(e.stats_,e.server_)),e.infoData_=new Are,e.infoSyncTree_=new VL({startListening:(r,i,o,s)=>{let a=[];const c=e.infoData_.getNode(r._path);return c.isEmpty()||(a=ql(e.infoSyncTree_,r._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),II(e,"connected",!1),e.serverSyncTree_=new VL({startListening:(r,i,o,s)=>(e.server_.listen(r,o,i,(a,c)=>{const l=s(a,c);Cn(e.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Yn(this._repo,ue())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Doe(e,t){const n=kI[t];(!n||n[e.key]!==e)&&br(`Database ${t}(${e.repoInfo_}) has already been deleted.`),function r2(e){e.persistentConnection_&&e.persistentConnection_.interrupt("repo_interrupt")}(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&br("Cannot call "+t+" on a deleted database.")}}function Moe(e=Kv(),t){const n=da(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const r=(e=>{const t=gk("database");if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})();r&&function xoe(e,t,n,r={}){(e=Dt(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&br("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&br('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Ol(Ol.OWNER);else if(r.mockUserToken){const s="string"==typeof r.mockUserToken?r.mockUserToken:function B9(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Fh(JSON.stringify({alg:"none",type:"JWT"})),Fh(JSON.stringify(s)),""].join(".")}(r.mockUserToken,e.app.options.projectId);o=new Ol(s)}!function Eoe(e,t,n,r){e.repoInfo_=new xE(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,o)}(n,...r)}return n}Oo.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Oo.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)},function Roe(e){(function mne(e){DE=e})(bo),qt(new kt("database",(t,{instanceIdentifier:n})=>Ioe(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),We(vF,"0.14.4",e),We(vF,"0.14.4","esm2017")}();class ru{constructor(t){return t}}const m2="database",NI=new P("angularfire2.database-instances");function Foe(e){return(t,n)=>{const r=t.runOutsideAngular(()=>e(n));return new ru(r)}}const Loe={provide:class Noe{constructor(){return Zw(m2)}},deps:[[new $t,NI]]},Voe={provide:ru,useFactory:function Ooe(e,t){const n=Xw(m2,e,t);return n&&new ru(n)},deps:[[new $t,NI],ya]};let Uoe=(()=>{class e{constructor(){We("angularfire",mf.full,"rtdb")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Jt({type:e}),e.\u0275inj=Ft({providers:[Voe,Loe]}),e})();function joe(e,...t){return{ngModule:Uoe,providers:[{provide:NI,useFactory:Foe(e),multi:!0,deps:[_e,xt,Jw,eE,[new $t,_F],[new $t,wE],...t]}]}}const Boe=Nn(Bo,!0),_2=Nn(hoe,!0),$oe=Nn(Moe,!0),Hoe=Nn(d2,!0),iu=Nn(u2,!0),v2=Nn(PI,!0);let ji=(()=>{class e{constructor(){this.showToastSource=new dn,this.showToast$=this.showToastSource.asObservable(),this.currentMessage={type:"info",text:"",icon:"cart"}}triggerToast(n,r,i){this.currentMessage={type:n,text:r,icon:i},this.showToastSource.next()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Ot=(()=>{class e{constructor(n,r,i,o){this.auth=n,this.db=r,this.router=i,this.toastService=o,this.userSubject=new $e(null),this.user$=this.userSubject.asObservable(),this.registeredUser=!1,this.roleSubject=new $e(null),this.userRole$=this.roleSubject.asObservable(),this.loginError$=new $e(null),this.monitorAuthState()}monitorAuthState(){var n=this;fne(this.auth,function(){var r=_(function*(i){if(n.userSubject.next(i),i){console.log("Utente autenticato:",i.email);const o=iu(n.db,`users/${i.uid}/role`),s=yield _2(o);if(s.exists()){const a=s.val();n.roleSubject.next(a),console.log("Ruolo utente:",a),a&&n.router.navigate(["/home"])}else n.roleSubject.next(null),n.router.navigate(["/not-registered"]),console.warn("Nessun ruolo trovato per l\u2019utente."),n.toastService.triggerToast("error","Nessun ruolo trovato per l\u2019utente.","exclamation-triangle")}else console.log("Nessun utente autenticato"),n.roleSubject.next(null),n.router.navigate(["/login"])});return function(i){return r.apply(this,arguments)}}())}getCurrentUser(){return this.auth.currentUser}register(n,r){var i=this;return _(function*(){try{const o=yield dne(i.auth,n,r),a=iu(i.db,`users/${o.user.uid}/role`);return yield v2(a,"user"),i.roleSubject.next("user"),console.log("Utente registrato con ruolo: user"),o}catch(o){return console.error("Errore durante la registrazione:",o),Promise.reject(o)}})()}login(n,r){var i=this;return _(function*(){try{const o=yield pne(i.auth,n,r);return i.loginError$.next(null),o}catch(o){let s="generic",a=o.message||"Errore sconosciuto";switch(o.code){case"auth/wrong-password":a="Password errata. Controlla e riprova.",i.toastService.triggerToast("error",a,"exclamation-triangle");break;case"auth/user-not-found":a="Utente non trovato. Registrati per proseguire.",i.toastService.triggerToast("error",a,"exclamation-triangle");break;case"auth/too-many-requests":a="Troppi tentativi falliti. Riprova pi\xf9 tardi.",i.toastService.triggerToast("error",a,"exclamation-triangle")}return i.loginError$.next({field:s,message:a}),Promise.reject(o)}})()}logout(){return this.roleSubject.next(null),gne(this.auth)}static{this.\u0275fac=function(r){return new(r||e)(O(If),O(ru),O(rt),O(ji))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function zoe(e,t){1&e&&(m(0,"div",1)(1,"div",2)(2,"span",3),y(3,"Loading..."),p()()())}let y2=(()=>{class e{constructor(){this.isVisible=!1}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=de({type:e,selectors:[["app-button-spinner"]],inputs:{isVisible:"isVisible"},decls:1,vars:1,consts:[["class","h-100 d-flex flex-column justify-content-center",4,"ngIf"],[1,"h-100","d-flex","flex-column","justify-content-center"],["role","status",1,"spinner-border","spinner-border-sm","ms-1"],[1,"visually-hidden"]],template:function(r,i){1&r&&x(0,zoe,4,0,"div",0),2&r&&T("ngIf",i.isVisible)},dependencies:[dt]})}}return e})();function Woe(e,t){1&e&&(m(0,"div",26)(1,"div",27),A(2,"div",3),p()())}function Goe(e,t){if(1&e&&(m(0,"small",28),y(1),p()),2&e){const n=N();w(1),ce(n.emailError)}}function qoe(e,t){if(1&e&&(m(0,"small",28),y(1),p()),2&e){const n=N();w(1),ce(n.passwordError)}}let Koe=(()=>{class e{constructor(n,r,i){this.auth=n,this.fb=r,this.toastService=i,this.loginSpinnerIsVisible=!1,this.toastText="Utente non registrato",this.emailError=null,this.passwordError=null,this.loginForm=this.fb.group({email:["",[ie.required,ie.email]],pw:["",ie.required],rememberMe:[!1]})}ngOnInit(){this.subscription=this.auth.loginError$.subscribe(n=>{this.loginForm.controls.email.setErrors(null),this.loginForm.controls.pw.setErrors(null),n&&("email"===n.field?this.loginForm.controls.email.setErrors({loginError:n.message}):"password"===n.field&&this.loginForm.controls.pw.setErrors({loginError:n.message}))})}isUserRegistered(){return this.auth.registeredUser}login(){var n=this;return _(function*(){if(n.emailError=null,n.passwordError=null,n.loginForm.invalid)return n.loginForm.controls.email.errors?.required?n.emailError="Email richiesta":n.loginForm.controls.email.errors?.email&&(n.emailError="Formato email non valido"),n.loginForm.controls.pw.errors?.required&&(n.passwordError="Password richiesta"),void((n.emailError||n.passwordError)&&n.toastService.triggerToast("error","Errori presenti nel form di login.","exclamation-triangle"));const{email:r,pw:i,rememberMe:o}=n.loginForm.value;o?localStorage.setItem("rememberedEmail",r):localStorage.removeItem("rememberedEmail"),n.loginSpinnerIsVisible=!0;try{yield n.auth.login(r,i),n.loginSpinnerIsVisible=!1}catch(s){n.loginSpinnerIsVisible=!1,"email"===s.field?(n.emailError=s.message,n.passwordError=null):"password"===s.field?(n.passwordError=s.message,n.emailError=null):n.toastText=s.message}})()}static{this.\u0275fac=function(r){return new(r||e)(C(Ot),C(oa),C(ji))}}static{this.\u0275cmp=de({type:e,selectors:[["app-alfa-login"]],inputs:{loginForm:"loginForm"},decls:46,vars:5,consts:[["class","container",4,"ngIf"],[1,"container",2,"max-width","700px"],[1,"row",2,"height","100vh"],[1,"col-12"],[3,"formGroup","ngSubmit"],[1,"w-100","d-flex","justify-content-center","py-4"],[1,"login-logo"],[1,"form-group","mb-3"],["type","email","formControlName","email","placeholder","Email o username",1,"form-control"],["class","text-danger",4,"ngIf"],[1,"form-group"],["type","password","formControlName","pw","placeholder","Password",1,"form-control",3,"keyup.enter"],[1,"w-100","d-flex","justify-content-between","mt-3"],[1,"form-check","align-self-center"],["type","checkbox","value","","formControlName","rememberMe","id","checkDefault",1,"form-check-input"],["for","checkDefault",1,"form-check-label"],[1,"btn","pe-0","text-info"],[1,"d-grid","gap-2","mt-2"],["type","button",1,"btn","btn-primary","d-flex","justify-content-center",3,"click"],[3,"isVisible"],["loginSpinner",""],[1,"my-2"],[1,"text-center"],["routerLink","/register","type","button",1,"btn","btn-outline-primary"],["type","button",1,"btn","btn-dark"],["type","button",1,"btn","btn-primary"],[1,"container"],[1,"row"],[1,"text-danger"]],template:function(r,i){1&r&&(x(0,Woe,3,0,"div",0),m(1,"div",1)(2,"div",2)(3,"div",3)(4,"form",4),U("ngSubmit",function(){return i.login()}),m(5,"div",5),A(6,"div",6),p(),m(7,"div",7),A(8,"input",8),x(9,Goe,2,1,"small",9),p(),m(10,"div",10)(11,"input",11),U("keyup.enter",function(){return i.login()}),p(),x(12,qoe,2,1,"small",9),p(),m(13,"div",10)(14,"div",12)(15,"div",13),A(16,"input",14),m(17,"label",15),y(18," Ricordami "),p()(),m(19,"button",16),y(20,"Password dimenticata?"),p()()(),m(21,"div",17)(22,"button",18),U("click",function(){return i.login()}),m(23,"div"),y(24," Login "),p(),A(25,"app-button-spinner",19,20),p()()()(),A(27,"hr",21),m(28,"div",3)(29,"div",22)(30,"small"),y(31,"Non sei ancora registrato?"),p()(),m(32,"div",17)(33,"button",23),y(34,"Sign Up"),p()()(),A(35,"hr",21),m(36,"div",22)(37,"small",22),y(38,"oppure"),p()(),m(39,"div",3)(40,"div",17)(41,"button",24),y(42,"Enter with Google"),p()(),m(43,"div",17)(44,"button",25),y(45,"Enter with Facebook"),p()()()()()),2&r&&(T("ngIf",i.isUserRegistered()),w(4),T("formGroup",i.loginForm),w(5),T("ngIf",i.emailError),w(3),T("ngIf",i.passwordError),w(13),T("isVisible",i.loginSpinnerIsVisible))},dependencies:[dt,fr,ra,Ci,gv,Js,ea,po,ia,y2]})}}return e})(),un=(()=>{class e{constructor(n,r){this.db=n,this.authService=r,this.products=[]}writeData(n,r){return v2(iu(this.db,n),r)}generateRandomId(n=10,r){var i=this;return _(function*(){const s=()=>{let l="";for(let u=0;u<n;u++)l+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return l};let a=s(),c=null;if(i.authService.getCurrentUser()&&i.authService.getCurrentUser().uid){const l=i.authService.getCurrentUser().uid;switch(r){case"address":c=yield i.readData(`users/${l}/address`);break;case"orders":c=yield i.readData(`users/${l}/orders`);break;default:return console.log("Path non gestito:",r),a}for(;c&&c.some(u=>"address"===r?u.deliveryAddressId===a:u.id===a);)a=s()}return a})()}readData(n){return n.split("/"),n.split("/"),_2(Boe(iu(this.db),n)).then(i=>i.exists()?(this.products=i.val(),i.val()):null)}listenToData(n,r){const i=iu(this.db,n);Hoe(i,o=>{r(o.val())})}static{this.\u0275fac=function(r){return new(r||e)(O(ru),O(Ot))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),$o=(()=>{class e{constructor(n,r,i,o){this.databaseService=n,this.authService=r,this.toastService=i,this.router=o,this.cartItemsSubject=new $e([]),this.cartItems$=this.cartItemsSubject.asObservable(),this.loadingSubject=new $e(!1),this.loading$=this.loadingSubject.asObservable(),this.currentCheckout=null}setCartItems(n){this.cartItemsSubject.next(n)}getCartItems(){return this.cartItemsSubject.getValue()}checkoutCart(){var n=this;return _(function*(){const r=n.authService.getCurrentUser();if(!r||!r.uid)return void n.toastService.triggerToast("error","Utente non autenticato.","exclamation-triangle fs-4");const i=r.uid,o=n.getCurrentCheckout();if(!o||!o.products||0===o.products.length)return void n.toastService.triggerToast("warning","Il carrello \xe8 vuoto.","exclamation-triangle fs-4");n.loadingSubject.next(!0);const s=o.products.reduce((h,f)=>h+f.price*f.quantity,0),a=yield n.databaseService.generateRandomId(10,"orders"),c="ORD-"+Math.floor(1e5+9e5*Math.random()),l=new Date,u=new Date;u.setDate(l.getDate()+5);const d={id:a,orderNumber:c,date:l.toISOString(),expectedDeliveryDate:u.toISOString(),deliveryDate:null,status:"pending",subtotal:s,products:o.products,deliveryAddress:o.deliveryAddress||null,deliveryAddressId:o.deliveryAddressId||null,paymentMode:o.paymentMode||null};try{const h=`users/${i}/orders`,f=yield n.databaseService.readData(h);let g=[];g=f?Array.isArray(f)?[...f,d]:[...Object.values(f),d]:[d],yield n.databaseService.writeData(h,g),yield n.databaseService.writeData(`users/${i}/cart`,{products:[]}),n.clearCart(),n.toastService.triggerToast("success","Ordine creato con successo.","cart-check-fill fs-4"),setTimeout(()=>{n.loadingSubject.next(!1),n.router.navigate([`/order-detail/${a}`])},1e3)}catch(h){console.error("Errore durante il checkout:",h),n.toastService.triggerToast("error",h.message||"Errore durante il checkout.","exclamation-triangle fs-4"),n.loadingSubject.next(!1)}})()}updateCart(){const n=this.authService.getCurrentUser();if(!n||!n.uid)return;const r=n.uid;this.databaseService.readData(`users/${r}/cart`)?.then(i=>{i&&(this.setCurrentCheckout(i),this.databaseService.writeData(`users/${r}/cart`,i))})}addToCart(n){const r=this.authService.getCurrentUser();if(!r||!r.uid)return void console.warn("Utente non autenticato, impossibile aggiungere al carrello.");const i=r.uid;this.databaseService.readData("products")?.then(o=>{const s=o.find(l=>l.id===n);if(!s)return void console.warn("Prodotto non trovato.");const a=s.discount?s.price*(1-s.discount/100):s.price,c={...s,price:a,quantity:1};this.databaseService.readData(`users/${i}/cart`)?.then(l=>{if(l)if(l.products){const d=l.products.findIndex(h=>h.id===n);-1!==d?l.products[d].quantity+=1:l.products.push(c)}else l.products=[c];else l={products:[c],deliveryAddress:null,deliveryAddressId:null};this.setCurrentCheckout(l);let u="";this.databaseService.writeData(`users/${i}/cart`,l).then(()=>{u="Prodotto aggiunto al carrello con successo.",this.toastService.triggerToast("success",u,"cart-check-fill fs-4"),this.setCurrentCheckout(l)}).catch(d=>{u=d.message,this.toastService.triggerToast("error",u,"exclamation-triangle fs-4")})})})}removeFromCart(n){const i=this.getCartItems().filter(o=>o.id!==n);this.setCartItems(i)}modifyQuantity(n){const r=this.authService.getCurrentUser();if(!r||!r.uid)return void console.warn("Utente non autenticato, impossibile modificare quantit\xe0.");const i=r.uid;this.databaseService.readData(`users/${i}/cart`)?.then(o=>{if(this.currentCheckout=o,!this.currentCheckout||!this.currentCheckout.products)return void console.warn("Nessun carrello trovato per l'utente.");const s=this.currentCheckout.products.findIndex(a=>a.id===n.id);-1!==s?(this.currentCheckout.products[s]=n,this.databaseService.writeData(`users/${i}/cart`,this.currentCheckout),this.setCartItems(this.currentCheckout.products)):console.warn("Prodotto non trovato nel carrello.")})}setCurrentCheckout(n){this.currentCheckout=n,this.setCartItems(n&&n.products?n.products:[])}getCurrentCheckout(){return this.currentCheckout}clearCart(){this.setCartItems([])}getCartTotal(){return this.getCartItems().reduce((n,r)=>n+r.price*r.quantity,0)}static{this.\u0275fac=function(r){return new(r||e)(O(un),O(Ot),O(ji),O(rt))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),C2=(()=>{class e{constructor(){this.searchTermSubject=new $e(""),this.searchTerm$=this.searchTermSubject.asObservable()}setSearchTerm(n){this.searchTermSubject.next(n)}getCurrentSearchTerm(){return this.searchTermSubject.getValue()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Yoe(e,t){1&e&&(m(0,"div"),A(1,"i",3),p())}function Qoe(e,t){1&e&&(m(0,"div")(1,"div",4),A(2,"i",5)(3,"i",6),p()()),2&e&&(N(2),w(2),vn("bi-star"))}function Xoe(e,t){1&e&&(m(0,"div"),A(1,"i",7),p())}function Zoe(e,t){if(1&e&&(m(0,"div"),x(1,Yoe,2,0,"div",2),x(2,Qoe,4,2,"div",2),x(3,Xoe,2,0,"div",2),p()),2&e){const n=t.$implicit,r=N();w(1),T("ngIf",n<=r.item.score&&!(n+.5<=r.item.score)&&!(n+1<=r.item.score)),w(1),T("ngIf",n+.5<=r.item.score&&!(n+1<=r.item.score)),w(1),T("ngIf",n+1<=r.item.score)}}const Joe=function(){return[0,1,2,3,4]};let op=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=de({type:e,selectors:[["app-score"]],inputs:{item:"item"},decls:2,vars:2,consts:[[1,"d-flex","justify-content-end"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"bi","bi-star","text-warning","ms-1"],[1,"position-relative"],[1,"bi","text-warning","ms-1"],[1,"bi","position-absolute","text-warning","ms-1","bi-star-fill","bi-half-star"],[1,"bi","bi-star-fill","text-warning","ms-1"]],template:function(r,i){1&r&&(m(0,"div",0),x(1,Zoe,4,3,"div",1),p()),2&r&&(w(1),T("ngForOf",function jM(e,t,n){const r=Ut()+e,i=D();return i[r]===K?or(i,r,n?t.call(n):t()):function vc(e,t){return e[t]}(i,r)}(1,Joe)))},dependencies:[ro,dt],styles:[".bi-half-star[_ngcontent-%COMP%]{transform:translate(-20px);width:40%;overflow:hidden}"]})}}return e})();function ese(e,t){if(1&e&&(m(0,"div",20)(1,"button",21)(2,"h5",22),y(3),p()()()),2&e){const n=N().$implicit;w(3),et("-",n.discount,"%")}}function tse(e,t){if(1&e&&(m(0,"h4",23),y(1),Xe(2,"currency"),p()),2&e){const n=N().$implicit;w(1),ce(tt(2,1,n.price,"EUR"))}}function nse(e,t){if(1&e&&(m(0,"h4",24),y(1),Xe(2,"currency"),p()),2&e){const n=N().$implicit;w(1),ce(tt(2,1,(100*n.price-n.price*n.discount)/100,"EUR"))}}function rse(e,t){1&e&&(m(0,"div",20)(1,"small",25),y(2,"In promozione"),p()())}function ise(e,t){if(1&e){const n=ut();m(0,"div",2)(1,"div",3),x(2,ese,4,1,"div",4),m(3,"div",5)(4,"button",6),U("click",function(i){const s=he(n).$implicit;return fe(N().productDetail(i,s.id))}),A(5,"i",7),p()(),m(6,"div",8),A(7,"div",9),p(),m(8,"h5",10),y(9),p(),m(10,"div",11),A(11,"app-score",12),p(),m(12,"div",13)(13,"div",14),x(14,tse,3,4,"h4",15),x(15,nse,3,4,"h4",16),x(16,rse,3,0,"div",4),p(),m(17,"button",17),U("click",function(){const o=he(n).$implicit;return fe(N().addToCart(o.id))}),m(18,"div",18)(19,"div"),A(20,"i",19),p(),m(21,"div"),y(22,"Add to cart"),p()()()()()()}if(2&e){const n=t.$implicit;w(2),T("ngIf",n.discount),w(5),vn(n.cssInfo),w(2),ce(n.name),w(2),T("item",n),w(3),T("ngIf",!n.discount),w(1),T("ngIf",n.discount),w(1),T("ngIf",n.discount)}}let ose=(()=>{class e{constructor(n,r){this.databaseService=n,this.router=r,this.addToCartEmitter=new ae,this.products=[]}selectProduct(n){this.databaseService.currentProduct=this.products.filter(r=>r.id==n)[0]}productDetail(n,r){r&&(this.selectProduct(r),this.router.navigate(["/product-detail/"+r]))}addToCart(n){this.addToCartEmitter.emit(n)}static{this.\u0275fac=function(r){return new(r||e)(C(un),C(rt))}}static{this.\u0275cmp=de({type:e,selectors:[["app-product-card-list"]],inputs:{products:"products"},outputs:{addToCartEmitter:"addToCartEmitter"},decls:2,vars:1,consts:[[1,"d-flex","flex-wrap","justify-content-around"],["class","card product-card shadow ",4,"ngFor","ngForOf"],[1,"card","product-card","shadow"],[1,"card-body"],["class","position-absolute",4,"ngIf"],[1,"w-100","position-absolute","d-flex","justify-content-end",2,"transform","translateX(-16px)","padding-left","9px","padding-right","9px"],[1,"btn","btn-outline-light","text-dark","border","rounded-pill",2,"width","38px","padding-left","0","padding-right","0",3,"click"],[1,"bi","bi-info"],[1,"w-100","d-flex","justify-content-center"],[1,"wine"],[1,"my-1"],[1,"w-100","d-flex","justify-content-start"],[3,"item"],[1,"d-flex","w-100","justify-content-between"],[1,"align-self-center"],["class","m-0 ",4,"ngIf"],["class","m-0 text-danger",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"d-flex"],[1,"bi","bi-cart4","me-1"],[1,"position-absolute"],[1,"btn","btn-danger","text-light","border","rounded-circle",2,"width","58px","transform","rotate(334deg) translate(-17px, -27px) scale(1.3)","padding-left","0","padding-right","0"],[1,"mb-1"],[1,"m-0"],[1,"m-0","text-danger"],[1,"text-danger"]],template:function(r,i){1&r&&(m(0,"div",0),x(1,ise,23,8,"div",1),p()),2&r&&(w(1),T("ngForOf",i.products))},dependencies:[ro,dt,op,io],styles:[".product-card[_ngcontent-%COMP%]{width:270px;height:365px;margin-bottom:40px;transition:.3s}.product-card[_ngcontent-%COMP%]:hover{background-color:#eee;transition:.3s;cursor:pointer}.wine[_ngcontent-%COMP%]{width:160px;height:230px;background-position:center;background-size:contain;background-repeat:no-repeat}.tascaioso[_ngcontent-%COMP%]{background-image:url(Tascaioso_alpha.65fd4edec89093aa.png)}.arpensato[_ngcontent-%COMP%]{background-image:url(Arpensato_alpha.637d46856d257d84.png);transform:scale(1.05)}.orior[_ngcontent-%COMP%]{background-image:url(Orior_alpha.bd8d7a26a5cc323f.png)}"]})}}return e})(),ou=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=de({type:e,selectors:[["app-spinner"]],decls:4,vars:0,consts:[[1,"w-100","d-flex","flex-column","justify-content-center",2,"min-height","400px","align-items","center"],["role","status",1,"spinner-border",2,"width","5rem","height","5rem","font-weight","500","border-width","15px"],[1,"visually-hidden"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"span",2),y(3,"Loading..."),p()()())}})}}return e})(),ase=(()=>{class e{constructor(n){this.searchService=n,this.searchControl=new na(""),this.searchControl.valueChanges.pipe(function sse(e,t=qO){return Ke((n,r)=>{let i=null,o=null,s=null;const a=()=>{if(i){i.unsubscribe(),i=null;const l=o;o=null,r.next(l)}};function c(){const l=s+e,u=t.now();if(u<l)return i=this.schedule(void 0,l-u),void r.add(i);a()}n.subscribe(Ve(r,l=>{o=l,s=t.now(),i||(i=t.schedule(c,e),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}(300),uD()).subscribe(r=>{this.searchService.setSearchTerm(r||"")})}static{this.\u0275fac=function(r){return new(r||e)(C(C2))}}static{this.\u0275cmp=de({type:e,selectors:[["app-alfa-search"]],decls:1,vars:1,consts:[["type","search","placeholder","Search",1,"form-control",3,"formControl"]],template:function(r,i){1&r&&A(0,"input",0),2&r&&T("formControl",i.searchControl)},dependencies:[Ci,Js,Av]})}}return e})();function cse(e,t){if(1&e&&(m(0,"span",11),y(1),p()),2&e){const n=N(2);w(1),et(" ",n.currentCartProducts().length," ")}}function lse(e,t){if(1&e){const n=ut();m(0,"div",2)(1,"form",3),A(2,"app-alfa-search",4),m(3,"button",5)(4,"div",6),x(5,cse,2,1,"span",7),p(),m(6,"div"),A(7,"i",8),p(),m(8,"div",9),y(9,"Cart"),p()()(),m(10,"app-product-card-list",10),U("addToCartEmitter",function(i){return he(n),fe(N().addToCart(i))}),p()()}if(2&e){const n=N();w(5),T("ngIf",n.currentCartProducts()&&n.currentCartProducts().length>0),w(5),T("products",n.products)}}function use(e,t){1&e&&A(0,"app-spinner")}let b2=(()=>{class e{constructor(n,r,i,o){this.dbService=n,this.authService=r,this.cartService=i,this.searchService=o,this.products=[],this.checkouts=[],this.allProducts=[]}ngOnInit(){this.listenForUpdates(),this.allProducts=[...this.products],this.searchService.searchTerm$.subscribe(n=>{this.products=n&&n.length>0?this.allProducts.filter(r=>r.name.toLowerCase().includes(n.toLowerCase())):[...this.allProducts]})}listenForUpdates(){this.dbService.listenToData("products",n=>{if(n&&(this.allProducts=Object.values(n),this.products=[...this.allProducts],this.dbService.products=this.allProducts,this.authService.getCurrentUser()&&this.authService.getCurrentUser().uid)){let r=this.authService.getCurrentUser().uid;this.dbService.listenToData("users/"+r+"/cart",i=>{i&&this.cartService.setCurrentCheckout(i)})}})}addToCart(n){this.cartService.addToCart(n)}removeFromCart(n){const r=this.cartService.getCurrentCheckout();if(!r||!r.products)return void console.warn("Carrello o lista prodotti non disponibile");const i=r.products.find(o=>o.id===n);i?i.quantity>1?i.quantity-=1:console.info("Quantit\xe0 gi\xe0 a 1, non viene rimosso"):console.warn("Prodotto non presente nel carrello")}currentCartProducts(){return this.cartService.getCurrentCheckout()?this.cartService.getCurrentCheckout().products:[]}static{this.\u0275fac=function(r){return new(r||e)(C(un),C(Ot),C($o),C(C2))}}static{this.\u0275cmp=de({type:e,selectors:[["app-alfa-products"]],decls:3,vars:2,consts:[["class","container",4,"ngIf","ngIfElse"],["spinner",""],[1,"container"],["role","search",1,"d-flex","mb-5","justify-content-between"],[1,"w-100"],["routerLink","/checkout","type","submit",1,"btn","btn-primary","d-flex","ms-2"],[1,"position-relative","cart-badge"],["class","position-absolute top-0 right-0 translate-middle badge rounded-pill bg-danger",4,"ngIf"],[1,"bi","bi-cart"],[1,"d-none","d-md-block","ms-1"],[3,"products","addToCartEmitter"],[1,"position-absolute","top-0","right-0","translate-middle","badge","rounded-pill","bg-danger"]],template:function(r,i){if(1&r&&(x(0,lse,11,2,"div",0),x(1,use,1,0,"ng-template",null,1,Mn)),2&r){const o=ar(2);T("ngIf",i.products&&i.products.length>0)("ngIfElse",o)}},dependencies:[dt,fr,ra,ea,kh,ose,ou,ase],styles:[".cart-badge[_ngcontent-%COMP%]{transform:translate(60px)}@media screen and (max-width: 767px){.cart-badge[_ngcontent-%COMP%]{transform:translate(28px)}}"]})}}return e})(),dse=(()=>{class e{constructor(n,r,i){this.auth=n,this.db=r,this.fb=i,this.loginForm=this.fb.group({email:[""],pw:[""],rememberMe:[!1]})}ngOnInit(){}static{this.\u0275fac=function(r){return new(r||e)(C(Ot),C(un),C(oa))}}static{this.\u0275cmp=de({type:e,selectors:[["app-alfa-home"]],decls:1,vars:0,template:function(r,i){1&r&&A(0,"app-alfa-products")},dependencies:[b2],styles:["app-alfa-home{background-image:url(vigna5.522563a7538ce1ec.svg);background-size:cover;background-repeat:no-repeat}.parallax-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:auto;will-change:transform;background-color:#fff}"]})}}return e})(),hse=(()=>{class e{constructor(n,r,i){this.databaseService=n,this.authService=r,this.toastService=i,this.ordersSubject=new $e([]),this.orders$=this.ordersSubject.asObservable(),this.currentOrder=null}setOrders(n){this.ordersSubject.next(n)}getOrders(){return this.ordersSubject.getValue()}getCurrentOrder(){return this.currentOrder}setCurrentOrder(n){this.currentOrder=n}createOrder(n){const r=this.authService.getCurrentUser();if(!r||!r.uid)return void this.toastService.triggerToast("error","Utente non autenticato","exclamation-triangle fs-4");const i=r.uid,o={...n,id:this.databaseService.generateRandomId(10,"orders"),date:(new Date).toISOString(),status:"pending"};this.databaseService.readData(`users/${i}/orders`)?.then(s=>{let a=s||[];a.push(o),this.databaseService.writeData(`users/${i}/orders`,a).then(()=>{this.setOrders(a),this.setCurrentOrder(o),this.toastService.triggerToast("success","Ordine creato con successo.","cart-check-fill fs-4")}).catch(c=>{this.toastService.triggerToast("error",c.message,"exclamation-triangle fs-4")})})}updateOrder(n){const r=this.authService.getCurrentUser();if(!r||!r.uid)return;const i=r.uid;this.databaseService.readData(`users/${i}/orders`)?.then(o=>{if(!o)return;const s=o.findIndex(a=>a.id===n.id);-1!==s&&(o[s]={...o[s],...n},this.databaseService.writeData(`users/${i}/orders`,o).then(()=>{this.setOrders(o),this.toastService.triggerToast("success","Ordine aggiornato.","cart-check-fill fs-4")}).catch(a=>{this.toastService.triggerToast("error",a.message,"exclamation-triangle fs-4")}))})}removeOrder(n){const r=this.authService.getCurrentUser();if(!r||!r.uid)return;const i=r.uid;this.databaseService.readData(`users/${i}/orders`)?.then(o=>{if(!o)return;const s=o.filter(a=>a.id!==n);this.databaseService.writeData(`users/${i}/orders`,s).then(()=>{this.setOrders(s),this.toastService.triggerToast("success","Ordine rimosso.","cart-check-fill fs-4")}).catch(a=>{this.toastService.triggerToast("error",a.message,"exclamation-triangle fs-4")})})}static{this.\u0275fac=function(r){return new(r||e)(O(un),O(Ot),O(ji))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function fse(e,t){if(1&e&&(m(0,"div",2)(1,"div",3)(2,"div",4)(3,"div")(4,"h4"),y(5),p(),m(6,"h6"),y(7),Xe(8,"date"),p(),A(9,"div",5),m(10,"h6"),y(11),Xe(12,"date"),p()(),m(13,"div")(14,"div",6)(15,"h6"),y(16,"Totale ordine:"),p(),m(17,"h5")(18,"b"),y(19),Xe(20,"currency"),p()()(),m(21,"div",6)(22,"h6"),y(23,"Stato:"),p(),m(24,"div",7)(25,"h6"),y(26),p(),A(27,"div",8),p()()()()()()),2&e){const n=t.$implicit;T("routerLink","/order-detail/"+n.id),w(5),et("Ordine: ",n.orderNumber,""),w(2),et("Data: ",tt(8,8,n.date,"dd MMMM yyyy")," "),w(4),et("Consegna stimata: ",tt(12,11,n.expectedDeliveryDate,"dd MMMM yyyy")," "),w(8),ce(tt(20,14,n.subtotal,"EUR")),w(7),ce(n.status),w(1),vn("delivered"===n.status?"done":"truck")}}let pse=(()=>{class e{constructor(){this.orders=[]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=de({type:e,selectors:[["app-order-list"]],inputs:{orders:"orders"},decls:2,vars:1,consts:[[1,"d-flex","flex-wrap","justify-content-around"],["class","card order-card shadow",3,"routerLink",4,"ngFor","ngForOf"],[1,"card","order-card","shadow",3,"routerLink"],[1,"card-body"],[1,"h-100","d-flex","flex-column","justify-content-between"],[1,"mb-2"],[1,"w-100","d-flex","justify-content-between"],[1,"d-flex",2,"align-items","center"],[1,"ms-2"]],template:function(r,i){1&r&&(m(0,"div",0),x(1,fse,28,17,"div",1),p()),2&r&&(w(1),T("ngForOf",i.orders))},dependencies:[ro,fr,io,M_],styles:[".order-card[_ngcontent-%COMP%]{width:400px;height:250px;margin-bottom:40px;transition:.3s}.order-card[_ngcontent-%COMP%]:hover{background-color:#eee;transition:.3s;cursor:pointer}h6[_ngcontent-%COMP%], h5[_ngcontent-%COMP%]{margin:0;align-items:center;align-self:center}@media screen and (max-width: 762px){.order-card[_ngcontent-%COMP%]{width:100%;height:250px;margin-bottom:40px;transition:.3s}}.truck[_ngcontent-%COMP%]{background-image:url(truck.6b82efc54573b059.svg);background-repeat:no-repeat;background-size:contain;width:40px;height:40px}.done[_ngcontent-%COMP%]{background-image:url(done.1c0851704de69ea2.svg);background-repeat:no-repeat;background-size:contain;width:40px;height:40px}.text-green[_ngcontent-%COMP%]{color:#5bd801}.wine[_ngcontent-%COMP%]{width:160px;height:230px;background-position:center;background-size:contain;background-repeat:no-repeat}.tascaioso[_ngcontent-%COMP%]{background-image:url(Tascaioso_alpha.65fd4edec89093aa.png)}.arpensato[_ngcontent-%COMP%]{background-image:url(Arpensato_alpha.637d46856d257d84.png);transform:scale(1.05)}.orior[_ngcontent-%COMP%]{background-image:url(Orior_alpha.bd8d7a26a5cc323f.png)}"]})}}return e})();function gse(e,t){if(1&e&&(m(0,"div",3)(1,"h2",4),y(2,"I miei ordini"),p(),A(3,"app-order-list",5),p()),2&e){const n=N();w(3),T("orders",n.orders)}}function mse(e,t){1&e&&(m(0,"div",6)(1,"div",7)(2,"div",8),A(3,"i",9),p(),m(4,"div",10)(5,"h4",11),y(6," Non hai ancora inserito ordini. "),p()()(),m(7,"div",7)(8,"button",12),y(9,"Vai ai prodotti"),p()()()),2&e&&(w(8),T("routerLink","/products"))}function _se(e,t){1&e&&A(0,"app-spinner")}let vse=(()=>{class e{constructor(n,r,i){this.authService=n,this.dbService=r,this.orderService=i,this.orders=[]}ngOnInit(){this.listenForUpdates()}listenForUpdates(){const n=this.authService.getCurrentUser();n&&n.uid&&this.dbService.listenToData(`users/${n.uid}/orders`,i=>{if(i){const o=Array.isArray(i)?i:Object.values(i);this.orders=o,this.orderService.setOrders(o)}else this.orders=[]})}static{this.\u0275fac=function(r){return new(r||e)(C(Ot),C(un),C(hse))}}static{this.\u0275cmp=de({type:e,selectors:[["app-alfa-orders"]],decls:5,vars:2,consts:[["class","container",4,"ngIf","ngIfElse"],["noorders",""],["spinner",""],[1,"container"],[1,"mb-4"],[3,"orders"],[1,"w-100","d-flex","justify-content-center","flex-column",2,"min-height","60vh"],[1,"d-flex","justify-content-center"],[1,"align-self-center","py-3","ps-3",2,"font-size","50px"],[1,"bi","bi-inbox"],[1,"align-self-center"],[1,"p-3","text-center","m-0"],[1,"btn","btn-primary","mx-1",2,"min-width","400px",3,"routerLink"]],template:function(r,i){if(1&r&&(x(0,gse,4,1,"div",0),x(1,mse,10,1,"ng-template",null,1,Mn),x(3,_se,1,0,"ng-template",null,2,Mn)),2&r){const o=ar(2);T("ngIf",i.orders&&i.orders.length>0)("ngIfElse",o)}},dependencies:[dt,fr,pse,ou]})}}return e})();function yse(e,t){if(1&e&&(m(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",8)(5,"h4"),y(6,"Marco"),p(),A(7,"app-score",9),p(),m(8,"div",10),y(9),Xe(10,"number"),p()(),m(11,"div",11),y(12),p()()()()),2&e){const n=t.$implicit;w(7),T("item",n),w(2),et(" ",tt(10,3,n.score,"1.1"),"/5 "),w(3),et("",n.text," ")}}function Cse(e,t){if(1&e&&(m(0,"div",2),x(1,yse,13,6,"div",3),p()),2&e){const n=N();w(1),T("ngForOf",n.product.comments)}}function bse(e,t){1&e&&(m(0,"h4",12),y(1," Non ci sono ancora recensioni su questo prodotto "),p())}let wse=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=de({type:e,selectors:[["app-comment-list"]],inputs:{product:"product"},decls:3,vars:2,consts:[["class","d-flex",4,"ngIf","ngIfElse"],["nocomments",""],[1,"d-flex"],["class","card score-card shadow me-4",4,"ngFor","ngForOf"],[1,"card","score-card","shadow","me-4"],[1,"card-body"],[1,"h-100","w-100","d-flex","flex-column"],[1,"w-100"],[1,"w-100","d-flex","justify-content-between"],[3,"item"],[1,"d-flex","justify-content-end"],[1,"text-content"],[1,"p-3","text-center"]],template:function(r,i){if(1&r&&(x(0,Cse,2,1,"div",0),x(1,bse,2,0,"ng-template",null,1,Mn)),2&r){const o=ar(2);T("ngIf",i.product.comments)("ngIfElse",o)}},dependencies:[ro,dt,op,x_],styles:[".score-card[_ngcontent-%COMP%]{min-width:350px;width:350px;height:200px;margin-bottom:40px;transition:.3s}.score-card[_ngcontent-%COMP%]:hover{background-color:#eee;transition:.3s;cursor:pointer}.score-card[_ngcontent-%COMP%]   .text-content[_ngcontent-%COMP%]{max-height:110px;overflow-y:auto}"]})}}return e})();function Ese(e,t){if(1&e&&(m(0,"h2"),y(1),Xe(2,"currency"),p()),2&e){const n=N(2);w(1),ce(tt(2,1,n.product.price,"EUR"))}}function Ise(e,t){if(1&e&&(m(0,"h2",30),y(1),Xe(2,"currency"),p()),2&e){const n=N(2);w(1),ce(tt(2,1,(100*n.product.price-n.product.price*n.product.discount)/100,"EUR"))}}function Dse(e,t){1&e&&(m(0,"div",12)(1,"div",31)(2,"small",30),y(3,"In promozione"),p()()())}function Tse(e,t){if(1&e&&(m(0,"h2"),y(1),Xe(2,"currency"),p()),2&e){const n=N(2);w(1),ce(tt(2,1,n.product.price,"EUR"))}}function Sse(e,t){if(1&e&&(m(0,"h2",30),y(1),Xe(2,"currency"),p()),2&e){const n=N(2);w(1),ce(tt(2,1,(100*n.product.price-n.product.price*n.product.discount)/100,"EUR"))}}function Ase(e,t){if(1&e){const n=ut();m(0,"div",1)(1,"div",2)(2,"button",3),U("click",function(){return he(n),fe(N().deselectProduct())}),A(3,"i",4),p(),m(4,"h2",5),y(5,"Dettaglio prodotto"),p(),m(6,"div",6),y(7,"-"),p()(),m(8,"div",7)(9,"div",8),A(10,"div",9),p(),m(11,"div",10),A(12,"div",11),p(),m(13,"div",12)(14,"div",13)(15,"h4"),y(16,"Prezzo:"),p(),x(17,Ese,3,4,"h2",14),x(18,Ise,3,4,"h2",15),p(),x(19,Dse,4,0,"div",16),m(20,"div",13)(21,"h4"),y(22,"Valutazione:"),p(),A(23,"app-score",17),p(),m(24,"div",18),y(25),Xe(26,"number"),p(),m(27,"div",19)(28,"button",20),U("click",function(){return he(n),fe(N().addToCart())}),m(29,"div",21)(30,"div"),A(31,"i",22),p(),m(32,"div"),y(33,"Add to cart"),p()()()(),m(34,"div",23)(35,"button",24),U("click",function(){return he(n),fe(N().deselectProduct())}),y(36," Torna ai prodotti "),p()()(),m(37,"div",25)(38,"h2",26),y(39,"Recensioni"),p(),m(40,"div",27),A(41,"app-comment-list",28),p()(),m(42,"div",12)(43,"div",29)(44,"h4"),y(45,"Prezzo:"),p(),x(46,Tse,3,4,"h2",14),x(47,Sse,3,4,"h2",15),p(),m(48,"div",13)(49,"h4"),y(50,"Valutazione:"),p(),A(51,"app-score",17),p(),m(52,"div",18),y(53),Xe(54,"number"),p(),m(55,"div",19)(56,"button",20),U("click",function(){return he(n),fe(N().addToCart())}),m(57,"div",21)(58,"div"),A(59,"i",22),p(),m(60,"div"),y(61,"Add to cart"),p()()()(),m(62,"div",23)(63,"button",24),U("click",function(){return he(n),fe(N().deselectProduct())}),y(64," Torna ai prodotti "),p()()()()()}if(2&e){const n=N();w(10),vn(n.product.cssInfo),w(2),T("innerHTML",n.product.technicalData,rd),w(5),T("ngIf",!n.product.discount),w(1),T("ngIf",n.product.discount),w(1),T("ngIf",n.product.discount),w(4),T("item",n.product),w(2),et(" ",tt(26,13,n.product.score,"1.1"),"/5 "),w(16),T("product",n.product),w(5),T("ngIf",!n.product.discount),w(1),T("ngIf",n.product.discount),w(4),T("item",n.product),w(2),et(" ",tt(54,16,n.product.score,"1.1"),"/5 ")}}let Mse=(()=>{class e{constructor(n,r){this.databaseService=n,this.cartService=r,this.product={price:0,score:0,technicalData:"",cssInfo:""},this.product=n.currentProduct}ngOnInit(){}deselectProduct(){this.databaseService.currentProduct=null}addToCart(){this.cartService.addToCart(this.databaseService.currentProduct.id)}static{this.\u0275fac=function(r){return new(r||e)(C(un),C($o))}}static{this.\u0275cmp=de({type:e,selectors:[["app-alfa-product-detail"]],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"mb-4","d-flex","w-100","justify-content-between"],["routerLink","/products",1,"btn","btn-light","border","rounded-pill",2,"width","45px",3,"click"],[1,"bi","bi-chevron-left"],[1,""],[2,"color","transparent","width","45px"],[1,"row"],[1,"col-12","col-md-4"],[1,"wine","detail-product"],[1,"col-12","col-md-8"],[1,"mt-4",3,"innerHTML"],[1,"col-12"],[1,"d-flex","justify-content-between"],[4,"ngIf"],["class","text-danger",4,"ngIf"],["class","col-12",4,"ngIf"],[3,"item"],[1,"d-flex","justify-content-end"],[1,"d-flex","justify-content-end",2,"height","40px"],[1,"btn","btn-primary",3,"click"],[1,"d-flex"],[1,"bi","bi-cart4","me-1"],[1,"d-grid","gap-2","mt-2"],["routerLink","/products","type","button",1,"btn","mt-4","btn-outline-primary","border-primary","d-flex","justify-content-center",3,"click"],[1,"col-12","mt-4"],[1,"mb-4"],[1,"comments-wrapper"],[3,"product"],[1,"d-flex","justify-content-between","mt-4"],[1,"text-danger"],[1,"w-100","d-flex","justify-content-end",2,"margin-top","-10px"]],template:function(r,i){1&r&&x(0,Ase,65,19,"div",0),2&r&&T("ngIf",i.product)},dependencies:[dt,fr,wse,op,x_,io],styles:[".wine[_ngcontent-%COMP%]{width:160px;height:230px;background-position:center;background-size:contain;background-repeat:no-repeat}.tascaioso[_ngcontent-%COMP%]{background-image:url(Tascaioso_alpha.65fd4edec89093aa.png)}.arpensato[_ngcontent-%COMP%]{background-image:url(Arpensato_alpha.637d46856d257d84.png);transform:scale(1.05)}.orior[_ngcontent-%COMP%]{background-image:url(Orior_alpha.bd8d7a26a5cc323f.png)}.detail-product[_ngcontent-%COMP%]{transform:scale(2.5);width:100%;transform-origin:top}.technical-data-light-title[_ngcontent-%COMP%]{font-weight:300!important}@media screen and (max-width: 762px){.detail-product[_ngcontent-%COMP%]{transform:scale(1);width:100%;min-height:500px;margin-bottom:40px}}.comments-wrapper[_ngcontent-%COMP%]{height:260px;width:100%;overflow-x:auto;overflow-y:hidden;display:flex;flex-direction:column;justify-content:center}"]})}}return e})(),sp=(()=>{class e{constructor(){this.openModalSubject=new dn,this.openModal$=this.openModalSubject.asObservable(),this.payloadSource=new $e(null),this.payload$=this.payloadSource.asObservable()}triggerModal(){this.openModalSubject.next()}publishPayload(n){this.payloadSource.next(n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),xse=(()=>{class e{constructor(){this.quantityEmitter=new ae,this.deleteItemEmitter=new ae,this.label="default",this.qty=0}ngOnInit(){this.item&&this.item.quantity&&(this.qty=this.item.quantity)}incQuantity(){this.qty++,this.quantityEmitter.emit(this.qty)}decQuantity(){this.qty>1&&(this.qty--,this.quantityEmitter.emit(this.qty)),this.qty>0&&this.deleteItemEmitter.emit()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=de({type:e,selectors:[["app-quantity"]],inputs:{label:"label",item:"item",qty:"qty"},outputs:{quantityEmitter:"quantityEmitter",deleteItemEmitter:"deleteItemEmitter"},decls:6,vars:4,consts:[[1,"qty-wrapper","input-group-vertical","ms-2"],["type","button",1,"px-0","inc-btn","btn","btn-primary",3,"id","click"],[1,"bi","bi-plus"],["readonly","","type","text","placeholder","",1,"qty-input","form-control","text-center","px-1",3,"value","id"],["type","button",1,"px-0","dec-btn","btn","btn-primary",3,"id","click"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"button",1),U("click",function(){return i.incQuantity()}),A(2,"i",2),p(),A(3,"input",3),m(4,"button",4),U("click",function(){return i.decQuantity()}),y(5," - "),p()()),2&r&&(w(1),T("id",i.label+"-B"),w(2),T("value",i.qty)("id",i.label+"-input"),w(1),T("id",i.label+"-A"))},styles:[".inc-btn[_ngcontent-%COMP%]{width:44px;height:50px;padding:0;border-bottom-right-radius:0;border-bottom-left-radius:0}.qty-input[_ngcontent-%COMP%]{width:44px;height:50px;border-radius:0}.qty-wrapper[_ngcontent-%COMP%]{width:50px}.dec-btn[_ngcontent-%COMP%]{width:44px;height:50px;padding:0;border-top-right-radius:0;border-top-left-radius:0}@media screen and (max-width: 762px){.inc-btn[_ngcontent-%COMP%]{width:40px;height:35px;padding:0;border-bottom-right-radius:0;border-bottom-left-radius:0}.qty-wrapper[_ngcontent-%COMP%]{width:40px}.qty-input[_ngcontent-%COMP%]{width:40px;border-radius:0}.dec-btn[_ngcontent-%COMP%]{width:40px;height:35px;padding:0;border-top-right-radius:0;border-top-left-radius:0}}"]})}}return e})();function Rse(e,t){if(1&e){const n=ut();m(0,"app-quantity",24),U("quantityEmitter",function(i){he(n);const o=N().$implicit;return fe(N().updateQuantity(i,o))})("deleteItemEmitter",function(){he(n);const i=N().$implicit;return fe(N().openConfirmModal("removeFromCart",i.id))}),p()}if(2&e){const n=N().$implicit;T("label","product-standard-list-button-addon-1")("item",n)}}function Pse(e,t){if(1&e){const n=ut();m(0,"div",2)(1,"div",3),U("click",function(){const o=he(n).$implicit;return fe(N().selectProduct(o))}),m(2,"div",4),A(3,"div",5),p()(),m(4,"div",6),U("click",function(){const o=he(n).$implicit;return fe(N().selectProduct(o))}),m(5,"div",4),A(6,"div",5),p()(),m(7,"div",7)(8,"div",8)(9,"div",9),U("click",function(){const o=he(n).$implicit;return fe(N().selectProduct(o))}),m(10,"div",10)(11,"div",11)(12,"div",12)(13,"p",13)(14,"b"),y(15),p()(),m(16,"h4",14)(17,"b"),y(18),p()(),m(19,"h4",15)(20,"b"),y(21),Xe(22,"currency"),p()()(),m(23,"div",12)(24,"small",16),y(25),p(),m(26,"p",17),y(27),p(),m(28,"div",18),y(29),p()(),m(30,"p",13)(31,"b"),y(32),Xe(33,"currency"),p()(),m(34,"h4",19)(35,"b"),y(36),Xe(37,"currency"),p()()()()(),m(38,"div",20),x(39,Rse,1,2,"app-quantity",21),p(),m(40,"button",22),U("click",function(){const o=he(n).$implicit;return fe(N().openConfirmModal("removeFromCart",o.id))}),A(41,"i",23),p()()()()}if(2&e){const n=t.$implicit,r=N();w(3),vn(n.cssInfo),w(3),vn(n.cssInfo),w(9),ce(n.fullName),w(3),ce(n.fullName),w(3),ce(tt(22,13,n.price,"EUR")),w(4),ce(n.shortDescription),w(2),ce(n.shortDescription),w(2),et(" Numero pezzi: ",n.quantity," "),w(3),ce(tt(33,16,n.price,"EUR")),w(4),ce(tt(37,19,n.price,"EUR")),w(3),T("ngIf","checkout"==r.productType)}}let w2=(()=>{class e{constructor(n,r){this.modalService=n,this.cartService=r,this.products=[],this.productType=""}openConfirmModal(n,r){this.modalService.publishPayload({method:n,productId:r}),this.modalService.triggerModal()}selectProduct(n){}updateQuantity(n,r){n>0?(r.quantity=n,this.cartService.modifyQuantity(r)):this.openConfirmModal("removeFromCart",r.id)}static{this.\u0275fac=function(r){return new(r||e)(C(sp),C($o))}}static{this.\u0275cmp=de({type:e,selectors:[["app-product-standard-list"]],inputs:{products:"products",productType:"productType"},decls:2,vars:1,consts:[[1,"d-flex","flex-column","checkout-card"],["class","d-flex mb-3 ",4,"ngFor","ngForOf"],[1,"d-flex","mb-3"],[1,"d-md-none","card","checkout-card-image","shadow",3,"click"],[1,"card-body"],[1,"wine"],[1,"d-none","d-md-block","card","checkout-card-image","shadow-lg",3,"click"],[1,"checkout-card-content","checkout-card-content","mb-2"],[1,"d-flex","justify-content-between","h-100"],[1,"d-flex","flex-column","justify-content-center","w-100","h-100","ms-1","mx-md-3",3,"click"],[1,"d-flex"],[1,"mx-1","w-100"],[1,"w-100","d-flex","justify-content-between"],[1,"m-0","d-md-none"],[1,"m-0","d-none","d-md-block"],[1,"m-0","d-none","d-lg-block"],[1,"d-md-none"],[1,"my-2","d-none","d-md-block"],[1,"align-self-center"],[1,"m-0","d-none","d-md-block","d-lg-none"],[1,"h-100","d-flex","flex-column","justify-content-center"],[3,"label","item","quantityEmitter","deleteItemEmitter",4,"ngIf"],[1,"delete-btn","btn","btn-outline-danger","ms-2","ms-md-3",3,"click"],[1,"bi","bi-trash-fill"],[3,"label","item","quantityEmitter","deleteItemEmitter"]],template:function(r,i){1&r&&(m(0,"div",0),x(1,Pse,42,22,"div",1),p()),2&r&&(w(1),T("ngForOf",i.products))},dependencies:[ro,dt,xse,io],styles:[".btn-outline-green[_ngcontent-%COMP%]{border:2px solid #5bd801;border-radius:20px;width:100%}.text-green[_ngcontent-%COMP%]{color:#5bd801}.xl-icon[_ngcontent-%COMP%]{font-size:65px}h6[_ngcontent-%COMP%], h5[_ngcontent-%COMP%]{margin:0;align-items:center;align-self:center}.green-icon[_ngcontent-%COMP%]{color:#5bd801}.transparent[_ngcontent-%COMP%]{opacity:0}.checkout-card-image[_ngcontent-%COMP%]{min-width:150px;width:150px;height:150px;border-radius:15px}.checkout-card-content[_ngcontent-%COMP%]{width:100%;height:150px}.fw2[_ngcontent-%COMP%]{font-weight:200}.fw4[_ngcontent-%COMP%]{font-weight:400}.wine[_ngcontent-%COMP%]{width:117px;height:119px;background-position:center;background-size:contain;background-repeat:no-repeat}.tascaioso[_ngcontent-%COMP%]{background-image:url(Tascaioso_alpha.65fd4edec89093aa.png)}.arpensato[_ngcontent-%COMP%]{background-image:url(Arpensato_alpha.637d46856d257d84.png);transform:scale(1.05)}.orior[_ngcontent-%COMP%]{background-image:url(Orior_alpha.bd8d7a26a5cc323f.png)}@media screen and (max-width: 767px){.delete-btn[_ngcontent-%COMP%]{width:50px;height:120px;margin:0;padding:0;transform:translateY(15px)}}@media screen and (max-width: 600px){.checkout-card-image[_ngcontent-%COMP%]{min-width:110px;width:110px;height:110px;border-radius:10px}.delete-btn[_ngcontent-%COMP%]{width:50px;height:120px;margin:0;padding:0;transform:translateY(-5px)}.wine[_ngcontent-%COMP%]{width:78px;height:78px;background-position:center;background-size:contain;background-repeat:no-repeat}.checkout-card-content[_ngcontent-%COMP%]{width:100%;height:110px;cursor:pointer}}"]})}}return e})();function kse(e,t){if(1&e&&(m(0,"div",2)(1,"button",3)(2,"div",4),A(3,"i",5),m(4,"div",6)(5,"h2"),y(6,"Congratulazioni!"),p(),m(7,"h4"),y(8,"Acquisto completato!"),p()(),A(9,"i",7),p()(),m(10,"h2",8),y(11,"Dettaglio ordine"),p(),A(12,"hr"),m(13,"h1",8),y(14),p(),m(15,"h6"),y(16),Xe(17,"date"),p(),m(18,"h4",8),y(19),Xe(20,"date"),p(),A(21,"hr",9),m(22,"div",10),A(23,"app-product-standard-list",11),p(),m(24,"div",4)(25,"h4",8),y(26,"Totale pezzi:"),p(),m(27,"h4",12),y(28),p()(),m(29,"div",4)(30,"h4",13),y(31,"Totale ordine:"),p(),m(32,"h2"),y(33),Xe(34,"currency"),p()(),A(35,"hr"),m(36,"div",14)(37,"div",4)(38,"h4"),y(39,"Modalit\xe0 di pagamento:"),p()(),m(40,"h4",15),y(41),p()(),A(42,"hr"),m(43,"div",14)(44,"div",4)(45,"h4"),y(46,"Indirizzo di consegna:"),p()(),m(47,"h4",15),y(48),p(),m(49,"h4",15),y(50),p(),m(51,"h4",15),y(52),p()(),A(53,"hr"),m(54,"div",14)(55,"div",4)(56,"h4"),y(57,"Stato ordine:"),p(),m(58,"div",16)(59,"h4"),y(60),p(),A(61,"img",17),p()(),m(62,"div",18)(63,"button",19)(64,"b"),y(65,"Traccia spedizione"),p(),A(66,"div",20),p()()()()),2&e){const n=N();w(14),et("N\xb0 Ordine: ",n.currentOrder.orderNumber,""),w(2),et("Data: ",tt(17,13,n.currentOrder.date,"dd MMMM yyyy")," "),w(3),et(" Consegna stimata: ",tt(20,16,n.currentOrder.expectedDeliveryDate,"dd MMMM yyyy")," "),w(4),T("products",n.currentOrder.products)("productType","order"),w(5),ce(n.getTotalPieces()),w(5),ce(tt(34,19,n.getTotalPrice(),"EUR")),w(8),ce(n.getPaymentModeSecret()),w(7),ce(n.getAddress().via),w(2),xd("",n.getAddress().cap," ",n.getAddress().citta,""),w(2),ce(n.getAddress().prov),w(8),ce(n.currentOrder.status)}}function Nse(e,t){1&e&&A(0,"app-spinner")}let Ose=(()=>{class e{constructor(n,r,i){this.dbService=n,this.authService=r,this.route=i}ngOnInit(){this.listenForUpdates()}getPaymentModeSecret(){return this.currentOrder?.paymentMode?this.currentOrder.paymentMode.slice(0,9)+"....":""}getTotalPieces(){let n=0;if(this.currentOrder?.products)for(let r of this.currentOrder.products)n+=r.quantity;return n}getTotalPrice(){let n=0;if(this.currentOrder?.products)for(let r of this.currentOrder.products)n+=r.price*r.quantity;return n}getAddress(){let n={via:"",citta:"",cap:"",prov:""};if(this.currentOrder?.deliveryAddress){const r=this.currentOrder.deliveryAddress.split(",");n.via=r[0]||"",n.citta=r[1]||"",n.cap=r[2]||"",n.prov=r[3]||""}return n}listenForUpdates(){const n=this.route.snapshot.paramMap.get("id"),r=this.authService.getCurrentUser();r&&r.uid&&n&&this.dbService.listenToData(`users/${r.uid}/orders`,o=>{if(o){const s=Array.isArray(o)?o:Object.values(o);this.currentOrder=s.find(a=>a.id===n)}})}static{this.\u0275fac=function(r){return new(r||e)(C(un),C(Ot),C(uo))}}static{this.\u0275cmp=de({type:e,selectors:[["app-order-detail"]],decls:3,vars:2,consts:[["class","container",4,"ngIf","ngIfElse"],["spinner",""],[1,"container"],[1,"btn","btn-outline-green","mb-3"],[1,"w-100","d-flex","justify-content-between"],[1,"bi","bi-check","xl-icon","green-icon","transparent"],[1,"h-100","w-100","d-flex","flex-column","text-green","align-self-center"],[1,"bi","bi-check","xl-icon","green-icon"],[1,"mb-4"],[1,"mb-5"],[1,"checkout-card-wrapper","mb-5"],[3,"products","productType"],[1,"fw2"],[2,"margin-top","8px"],[1,"d-flex","flex-column"],[1,"fw2","ms-4"],[1,"d-flex"],["src","../../../assets/icons/truck.svg","alt","",1,"ms-2",2,"transform","translateY(2px)","margin-bottom","8px"],[1,"d-flex","justify-content-end","mt-4"],[1,"btn","btn-warning","d-flex"],[1,"truck-icon","ms-2"]],template:function(r,i){if(1&r&&(x(0,kse,67,22,"div",0),x(1,Nse,1,0,"ng-template",null,1,Mn)),2&r){const o=ar(2);T("ngIf",i.currentOrder)("ngIfElse",o)}},dependencies:[dt,w2,ou,io,M_],styles:[".btn-outline-green[_ngcontent-%COMP%]{border:2px solid #5bd801;border-radius:20px;width:100%}.l-icon[_ngcontent-%COMP%]{font-size:25px}.xl-icon[_ngcontent-%COMP%]{font-size:65px}.green-icon[_ngcontent-%COMP%]{color:#5bd801}.transparent[_ngcontent-%COMP%]{opacity:0}.text-green[_ngcontent-%COMP%]{color:#5bd801}.truck-icon[_ngcontent-%COMP%]{background-image:url(truck_black.fa203a2f7fc7121e.svg);background-repeat:no-repeat;background-size:contain;width:24px;height:24px}"]})}}return e})(),ap=(()=>{class e{constructor(n,r,i,o){this.authService=n,this.databaseService=r,this.toastService=i,this.cartService=o,this.currentAddressListSubject=new $e([]),this.currentAddressList$=this.currentAddressListSubject.asObservable(),this.addressSelectedSubject=new $e(null),this.addressSelected$=this.addressSelectedSubject.asObservable(),this.currentAddressCheckout=null}setCurrentAddressList(n){this.currentAddressListSubject.next(n)}getCurrentAddressList(){return this.currentAddressListSubject.getValue()}getSelectedAddressFromList(){return this.currentAddressCheckout&&this.currentAddressCheckout.deliveryAddressId&&(this.getCurrentAddressList()||[]).find(r=>r.deliveryAddressId===this.currentAddressCheckout.deliveryAddressId)||null}updateAddress(){const n=this.authService.getCurrentUser();if(!n||!n.uid)return;const r=n.uid;this.databaseService.readData(`users/${r}/cart`)?.then(i=>{if(!i)return;const o=this.getSelectedAddress();o&&(i.deliveryAddressId=o.deliveryAddressId||null,i.deliveryAddress=`${o.line_1}${o.line_2?", "+o.line_2:""}, ${o.city}, ${o.zip}, ${o.province}`,this.databaseService.writeData(`users/${r}/cart`,i),(this.cartService.getCartItems()?.length??0)>0&&this.cartService.setCartItems(i.products||[]),this.toastService.triggerToast("success","Indirizzo di consegna aggiornato.","cart-check-fill fs-4"))})}patchAddress(){const n=this.getSelectedAddress();if(n&&this.currentAddressCheckout){let r="";n.line_2&&(r=", "+n.line_2);const o=[n.line_1+r,n.city,n.zip,n.province].join(", ");this.currentAddressCheckout.deliveryAddress=o}}setSelectedAddress(n){this.addressSelectedSubject.next(n)}getSelectedAddress(){return this.addressSelectedSubject.getValue()}setcurrentAddressCheckout(n){this.currentAddressCheckout=n}getValidityCondition(n,r){return this.areEqualIgnoreCaseAndTrim(n.line_1,r.controls.line_1.value)&&this.areEqualIgnoreCaseAndTrim(n.city,r.controls.city.value)}areEqualIgnoreCaseAndTrim(n,r){return!(!n||!r)&&n.trim().toLowerCase()===r.trim().toLowerCase()}addAddress(n){var r=this;return new Promise(function(){var i=_(function*(o,s){try{const a=r.authService.getCurrentUser(),c=a&&a.uid;if(!c)return s(new Error("Utente non autenticato"));const u=(yield r.databaseService.readData(`users/${c}/address`))||[];let d=!1;const h=u.findIndex(v=>r.getValidityCondition(v,n)),f={line_1:n.controls.line_1.value,line_2:n.controls.line_2.value,city:n.controls.city.value,zip:n.controls.zip.value,province:n.controls.province.value};-1!==h?(u[h]=f,d=!0):u.push(f),yield r.databaseService.writeData(`users/${c}/address`,u),r.setCurrentAddressList(u),r.toastService.triggerToast("success",d?"E' stato aggiornato un indirizzo.":"E' stato aggiunto un nuovo indirizzo.","cart-check-fill fs-4"),o()}catch(a){console.error("Errore in addAddress:",a),s(a)}});return function(o,s){return i.apply(this,arguments)}}())}getCurrentAddressCheckout(){return this.currentAddressCheckout}static{this.\u0275fac=function(r){return new(r||e)(O(Ot),O(un),O(ji),O($o))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Fse(e,t){if(1&e){const n=ut();m(0,"app-product-standard-list",30),U("confirmModalEmitter",function(){return he(n),fe(N(2).openConfirmModal("confirm"))}),p()}2&e&&T("products",N(2).getProducts())("productType","checkout")}function Lse(e,t){1&e&&(m(0,"h4"),y(1,"Non ci sono ancora prodotti nel tuo carrello"),p())}function Vse(e,t){if(1&e&&(m(0,"div")(1,"h4",31),y(2),p()()),2&e){const n=N(2);w(2),ce(n.getPaymentModeSecret())}}function Use(e,t){if(1&e&&(m(0,"div")(1,"h4",31),y(2),p(),m(3,"h4",31),y(4),p(),m(5,"h4",31),y(6),p(),m(7,"h4",31),y(8),p()()),2&e){const n=N(2);w(2),ce(n.getAddress().line_1),w(1),vn(n.getAddress().line_2?"":"d-none"),w(1),ce(n.getAddress().line_2),w(2),xd("",n.getAddress().zip," ",n.getAddress().city,""),w(2),ce(n.getAddress().province)}}function jse(e,t){if(1&e){const n=ut();m(0,"div",5)(1,"form",6)(2,"div",7),A(3,"i",8),m(4,"h2",9),y(5,"Carrello"),p()(),A(6,"hr",10),m(7,"div",11),x(8,Fse,1,2,"app-product-standard-list",12),x(9,Lse,2,0,"h4",13),p(),m(10,"div",14)(11,"h4",15),y(12,"Totale pezzi:"),p(),m(13,"h4",16),y(14),p()(),m(15,"div",14)(16,"h4",17),y(17,"Totale ordine:"),p(),m(18,"h2"),y(19),Xe(20,"currency"),p()(),A(21,"hr"),m(22,"div",18)(23,"button",19),U("click",function(){return he(n),fe(N().checkoutCart())}),m(24,"b"),y(25," Checkout "),p(),A(26,"i",20),p()(),m(27,"div",21)(28,"div",14)(29,"h4"),y(30,"Modalit\xe0 di pagamento:"),p(),m(31,"button",22),U("click",function(){return he(n),fe(N().editPaymentMode())}),y(32,"Modifica"),p()(),x(33,Vse,3,1,"div",23),p(),A(34,"hr"),m(35,"div",24),A(36,"input",25)(37,"input",26)(38,"input",27)(39,"input",28)(40,"input",29),p(),m(41,"div",21)(42,"div",14)(43,"h4"),y(44,"Indirizzo di consegna:"),p(),m(45,"button",22),U("click",function(){return he(n),fe(N().editAddress())}),y(46,"Modifica"),p()(),x(47,Use,9,7,"div",23),p()()()}if(2&e){const n=N(),r=ar(6),i=ar(8);w(1),T("formGroup",n.checkoutForm),w(7),T("ngIf",n.getCurrentCheckout()&&n.getProducts()),w(1),T("ngIf",!n.getCurrentCheckout()||!n.getProducts()),w(5),ce(n.getTotalPieces()),w(5),ce(tt(20,9,n.getTotalPrice(),"EUR")),w(14),T("ngIf",n.getPaymentModeSecretCondition())("ngIfElse",r),w(14),T("ngIf",n.getAddressCondition())("ngIfElse",i)}}function Bse(e,t){1&e&&A(0,"app-spinner")}function $se(e,t){1&e&&(x(0,Bse,1,0,"app-spinner",13),Xe(1,"async")),2&e&&T("ngIf",GM(1,1,N().isLoading$))}function Hse(e,t){1&e&&(m(0,"div",32)(1,"div",33)(2,"div",34),A(3,"i",35),p(),m(4,"div",36)(5,"h4",37),y(6," Il tuo carrello \xe8 ancora vuoto. "),p()()(),m(7,"div",33)(8,"button",38),y(9,"Vai ai prodotti"),p()()()),2&e&&(w(8),T("routerLink","/products"))}function zse(e,t){1&e&&y(0," Nessun metodo di pagamento impostato.\n")}function Wse(e,t){1&e&&y(0," Nessun indirizzo impostato.\n")}let Gse=(()=>{class e{constructor(n,r,i,o,s,a,c){this.dbService=n,this.authService=r,this.cartService=i,this.fb=o,this.modalService=s,this.toastService=a,this.addressService=c,this.checkouts=[]}ngOnInit(){this.initForm(),this.listenForUpdates()}createProductGroup(n){return this.fb.group({name:[n.name||"",ie.required],quantity:[n.quantity||1,[ie.required,ie.min(1)]],price:[n.price||0,[ie.required,ie.min(0)]]})}editAddress(){this.openConfirmModal("editAddress")}editPaymentMode(){this.openConfirmModal("editPaymentMode")}get isLoading$(){return this.cartService.loading$}getAddress(){let n={line_1:"",line_2:"",city:"",zip:"",province:""};if(this.getAddressCondition()){const r=this.cartService.getCurrentCheckout().deliveryAddress.split(",");n.line_1=r[0]||"",n.line_2=r[1]||"",n.city=r[2]||"",n.zip=r[3]||"",n.province=r[4]||""}return n}checkoutCart(){this.addressService.getSelectedAddress()?this.cartService.checkoutCart():this.toastService.triggerToast("warning","Seleziona un indirizzo di consegna prima di procedere.","exclamation-triangle fs-4")}getAddressCondition(){return this.cartService.getCurrentCheckout()?.deliveryAddress}getCurrentCheckout(){return this.cartService.getCurrentCheckout()&&this.cartService.getCurrentCheckout().products}getPaymentModeSecret(){let n="";return this.getPaymentModeSecretCondition()&&(n=this.cartService.getCurrentCheckout().paymentMode.slice(0,9)+"...."),n}getPaymentModeSecretCondition(){return this.cartService.getCurrentCheckout()&&this.cartService.getCurrentCheckout().paymentMode}getProducts(){return this.cartService.getCurrentCheckout()?.products?this.cartService.getCurrentCheckout()?.products:[]}getTotalPieces(){let n=0;if(this.cartService.getCurrentCheckout()&&this.cartService.getCurrentCheckout()?.products)for(let r of this.cartService.getCurrentCheckout()?.products)n+=r.quantity;return n}getTotalPrice(){let n=0;if(this.cartService.getCurrentCheckout()&&this.cartService.getCurrentCheckout()?.products)for(let r of this.cartService.getCurrentCheckout()?.products)n+=r.price*r.quantity;return n}initForm(){this.checkoutForm=this.fb.group({addressForm:this.fb.group({id:["",ie.required],line_1:["",ie.required],line_2:[""],city:["",ie.required],zip:["",ie.required],province:["",ie.required]}),paymentForm:this.fb.group({id:[""],method:["",ie.required],provider:[""],status:[""],amount:this.fb.group({currency:["EUR",ie.required],value:[0,ie.required]}),details:this.fb.group({card:this.fb.group({brand:[""],last4:[""],exp_month:[""],exp_year:[""],holder_name:[""]})}),billing_address:this.fb.group({first_name:["",ie.required],last_name:["",ie.required],street:["",ie.required],city:["",ie.required],postal_code:["",ie.required],country:["IT",ie.required]})}),products:this.fb.array(this.getProducts().map(n=>this.createProductGroup(n)))})}listenForUpdates(){if(this.authService.getCurrentUser()&&this.authService.getCurrentUser().uid){let n=this.authService.getCurrentUser().uid;this.dbService.listenToData("users/"+n+"/cart",r=>{r&&this.cartService.setCurrentCheckout(r)})}}onSubmit(){this.checkoutForm.valid?console.log("Checkout inviato:",this.checkoutForm.value):console.log("Form non valido")}openConfirmModal(n){this.modalService.publishPayload({method:n}),this.modalService.triggerModal()}static{this.\u0275fac=function(r){return new(r||e)(C(un),C(Ot),C($o),C(oa),C(sp),C(ji),C(ap))}}static{this.\u0275cmp=de({type:e,selectors:[["app-alfa-checkout"]],decls:9,vars:2,consts:[["class","container",4,"ngIf","ngIfElse"],["spinner",""],["nocheckout",""],["nopaymentmode",""],["noaddress",""],[1,"container"],[3,"formGroup"],[1,"d-flex"],[1,"bi","bi-cart-fill","l-icon"],[1,"mb-2","ms-2"],[1,"mb-5"],[1,"checkout-card-wrapper","mb-5"],[3,"products","productType","confirmModalEmitter",4,"ngIf"],[4,"ngIf"],[1,"w-100","d-flex","justify-content-between"],[1,"mb-4"],[1,"fw2"],[2,"margin-top","8px"],[1,"d-grid","gap-2","my-4"],["type","button",1,"btn","btn-primary","d-flex","justify-content-center",3,"click"],[1,"bi","bi-credit-card","ms-2"],[1,"d-flex","flex-column"],[1,"btn","btn-primary",3,"click"],[4,"ngIf","ngIfElse"],["formGroupName","addressForm",1,"d-none","flex-column"],["type","text","formControlName","line_1","placeholder","Indirizzo riga 1",1,"form-control","ms-4","mb-2"],["type","text","formControlName","line_2","placeholder","Indirizzo riga 2",1,"form-control","ms-4","mb-2"],["type","text","formControlName","zip","placeholder","CAP",1,"form-control","ms-4","mb-2"],["type","text","formControlName","city","placeholder","Citt\xe0",1,"form-control","ms-4","mb-2"],["type","text","formControlName","province","placeholder","Provincia",1,"form-control","ms-4","mb-2"],[3,"products","productType","confirmModalEmitter"],[1,"fw2","ms-4"],[1,"w-100","d-flex","justify-content-center","flex-column",2,"min-height","60vh"],[1,"d-flex","justify-content-center"],[1,"align-self-center","py-3","ps-3",2,"font-size","50px"],[1,"bi","bi-cart4"],[1,"align-self-center"],[1,"p-3","text-center","m-0"],[1,"btn","btn-primary","mx-1",2,"min-width","400px",3,"routerLink"]],template:function(r,i){if(1&r&&(x(0,jse,48,12,"div",0),x(1,$se,2,3,"ng-template",null,1,Mn),x(3,Hse,10,1,"ng-template",null,2,Mn),x(5,zse,1,0,"ng-template",null,3,Mn),x(7,Wse,1,0,"ng-template",null,4,Mn)),2&r){const o=ar(4);T("ngIf",i.getCurrentCheckout())("ngIfElse",o)}},dependencies:[dt,fr,ra,Ci,Js,ea,po,ia,Nh,w2,ou,Mx,io],styles:[".btn-outline-green[_ngcontent-%COMP%]{border:2px solid #5bd801;border-radius:20px;width:100%}.l-icon[_ngcontent-%COMP%]{font-size:25px}.xl-icon[_ngcontent-%COMP%]{font-size:65px}.green-icon[_ngcontent-%COMP%]{color:#5bd801}.transparent[_ngcontent-%COMP%]{opacity:0}.checkout-card-image[_ngcontent-%COMP%]{min-width:150px;width:150px;height:150px;border-radius:15px}.checkout-card-content[_ngcontent-%COMP%]{width:100%;height:150px}.fw2[_ngcontent-%COMP%]{font-weight:200}.fw4[_ngcontent-%COMP%]{font-weight:400}"]})}}return e})(),E2=(()=>{class e{constructor(n,r){this.auth=n,this.router=r}canActivate(n,r){const i=n.data.roles;return this.auth.userRole$.pipe(oo(1),Ie(o=>!(!o||!i.includes(o))||this.router.createUrlTree(["/unauthorized"])))}static{this.\u0275fac=function(r){return new(r||e)(O(Ot),O(rt))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),qse=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=de({type:e,selectors:[["app-unauthorized"]],decls:5,vars:0,consts:[[1,"container",2,"margin-top","100px","min-height","70vh"],[1,"row"],[1,"col-12","p-5"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),y(4,"UNAUTHORIZED"),p()()()())}})}}return e})(),Kse=(()=>{class e{constructor(n,r){this.router=n,this.authService=r}ngOnInit(){this.authService.registeredUser=!0,this.authService.logout()}static{this.\u0275fac=function(r){return new(r||e)(C(rt),C(Ot))}}static{this.\u0275cmp=de({type:e,selectors:[["app-alfa-not-registered-user"]],decls:4,vars:0,template:function(r,i){1&r&&(m(0,"h2"),y(1,"Utente non registrato"),p(),m(2,"h4"),y(3,"Ritorno alla pagina di login..."),p())}})}}return e})();class ka{static matchFields(t,n){return r=>{const o=r.controls[t],s=r.controls[n];return o&&s?o.value!==s.value?(s.setErrors({notMatch:!0}),{notMatch:!0}):(s.hasError("notMatch")&&(delete s.errors?.notMatch,0===Object.keys(s.errors||{}).length&&s.setErrors(null)),null):null}}static strongPassword(t){const n=t.value;if(!n)return null;const r=/[A-Z]/.test(n),i=/[a-z]/.test(n),o=/[0-9]/.test(n),s=/[!@#$%^&*(),.?":{}|<>]/.test(n),a=n.length>=8;return r&&i&&o&&s&&a?null:{strongPassword:{hasUpperCase:r,hasLowerCase:i,hasNumeric:o,hasSpecial:s,hasMinLength:a}}}static validName(t){const n=t.value,r=n.length>=2;return n?/^[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\xff\s]+$/.test(n)&&r?null:{invalidName:!0}:null}}function I2(e){return e?e.trim().replace(/\s+/g," ").split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join(" "):""}function Yse(e,t){1&e&&(m(0,"div"),y(1,"Il nome \xe8 obbligatorio."),p())}function Qse(e,t){1&e&&(m(0,"div"),y(1,"Formato nome non valido."),p())}function Xse(e,t){if(1&e&&(m(0,"div",19),x(1,Yse,2,0,"div",20),x(2,Qse,2,0,"div",20),p()),2&e){const n=N();let r,i;w(1),T("ngIf",null==(r=n.registerForm.get("firstName"))||null==r.errors?null:r.errors.required),w(1),T("ngIf",null==(i=n.registerForm.get("firstName"))||null==i.errors?null:i.errors.invalidName)}}function Zse(e,t){1&e&&(m(0,"div"),y(1,"Il cognome \xe8 obbligatorio."),p())}function Jse(e,t){1&e&&(m(0,"div"),y(1,"Formato cognome non valido."),p())}function eae(e,t){if(1&e&&(m(0,"div",19),x(1,Zse,2,0,"div",20),x(2,Jse,2,0,"div",20),p()),2&e){const n=N();let r,i;w(1),T("ngIf",null==(r=n.registerForm.get("lastName"))||null==r.errors?null:r.errors.required),w(1),T("ngIf",null==(i=n.registerForm.get("lastName"))||null==i.errors?null:i.errors.invalidName)}}function tae(e,t){1&e&&(m(0,"div"),y(1,"L'email \xe8 obbligatoria."),p())}function nae(e,t){1&e&&(m(0,"div"),y(1,"Formato email non valido."),p())}function rae(e,t){if(1&e&&(m(0,"div",19),x(1,tae,2,0,"div",20),x(2,nae,2,0,"div",20),p()),2&e){const n=N();let r,i;w(1),T("ngIf",null==(r=n.registerForm.get("email"))||null==r.errors?null:r.errors.required),w(1),T("ngIf",null==(i=n.registerForm.get("email"))||null==i.errors?null:i.errors.email)}}function iae(e,t){1&e&&(m(0,"div"),y(1,"L'email \xe8 obbligatoria."),p())}function oae(e,t){1&e&&(m(0,"div"),y(1,"Formato email non valido."),p())}function sae(e,t){1&e&&(m(0,"div"),y(1,"Le email non corrispondono."),p())}function aae(e,t){if(1&e&&(m(0,"div",19),x(1,iae,2,0,"div",20),x(2,oae,2,0,"div",20),x(3,sae,2,0,"div",20),p()),2&e){const n=N();let r,i,o;w(1),T("ngIf",null==(r=n.registerForm.get("confirmedEmail"))||null==r.errors?null:r.errors.required),w(1),T("ngIf",null==(i=n.registerForm.get("confirmedEmail"))||null==i.errors?null:i.errors.email),w(1),T("ngIf",null==(o=n.registerForm.get("confirmedEmail"))||null==o.errors?null:o.errors.notMatch)}}function cae(e,t){1&e&&(m(0,"div"),y(1,"La password \xe8 obbligatoria."),p())}function lae(e,t){1&e&&(m(0,"div"),y(1,"La password deve essere lunga almeno otto caratteri, e contenere almeno una lettera maiuscola, una minuscola, un numero e un carattere speciale."),p())}function uae(e,t){if(1&e&&(m(0,"div",19),x(1,cae,2,0,"div",20),x(2,lae,2,0,"div",20),p()),2&e){const n=N();let r,i;w(1),T("ngIf",null==(r=n.registerForm.get("pw"))||null==r.errors?null:r.errors.required),w(1),T("ngIf",null==(i=n.registerForm.get("pw"))||null==i.errors?null:i.errors.strongPassword)}}function dae(e,t){1&e&&(m(0,"div"),y(1,"La conferma password \xe8 obbligatoria."),p())}function hae(e,t){1&e&&(m(0,"div"),y(1,"Le password non corrispondono."),p())}function fae(e,t){if(1&e&&(m(0,"div",19),x(1,dae,2,0,"div",20),x(2,hae,2,0,"div",20),p()),2&e){const n=N();let r,i;w(1),T("ngIf",null==(r=n.registerForm.get("confirmedPw"))||null==r.errors?null:r.errors.required),w(1),T("ngIf",null==(i=n.registerForm.get("confirmedPw"))||null==i.errors?null:i.errors.notMatch)}}const pae=[{path:"unauthorized",component:qse},{path:"not-registered",component:Kse},{path:"register",component:(()=>{class e{constructor(n,r,i){this.auth=n,this.db=r,this.fb=i,this.registerSpinnerIsVisible=!1,this.registerForm=this.fb.group({firstName:["",[ie.required,ka.validName]],lastName:["",[ie.required,ka.validName]],email:["",[ie.required,ie.email]],confirmedEmail:["",[ie.required,ie.email]],pw:["",[ie.required,ka.strongPassword]],confirmedPw:["",[ie.required]],rememberMe:[!1]},{validators:[ka.matchFields("email","confirmedEmail"),ka.matchFields("pw","confirmedPw")]})}register(){this.registerForm.valid&&(this.registerSpinnerIsVisible=!0,this.auth.register(this.registerForm.controls.email.value,this.registerForm.controls.pw.value))}getStrongPasswordValue(n){return ka.strongPassword(n)}onChange(n){switch(n){case"firstName":this.registerForm.patchValue({firstName:I2(this.registerForm.controls[n].value)});break;case"lastName":this.registerForm.patchValue({lastName:I2(this.registerForm.controls[n].value)});break;default:console.log("unknown")}}static{this.\u0275fac=function(r){return new(r||e)(C(Ot),C(un),C(oa))}}static{this.\u0275cmp=de({type:e,selectors:[["app-alfa-register"]],inputs:{registerForm:"registerForm"},decls:44,vars:12,consts:[[1,"container",2,"max-width","700px"],[1,"row",2,"height","100vh"],[1,"col-12"],[3,"formGroup"],[1,"w-100","d-flex","justify-content-center","py-4"],[1,"login-logo"],[1,"form-group"],[1,"form-label"],["autocomplete","given-name","name","given-name","formControlName","firstName","placeholder","Nome utente",1,"form-control",3,"change"],["class","text-danger small",4,"ngIf"],["autocomplete","family-name","name","family-name","formControlName","lastName","placeholder","Cognome utente",1,"form-control",3,"change"],["autocomplete","email","name","email","type","email","formControlName","email","placeholder","Email utente",1,"form-control"],["autocomplete","email","name","email","type","email","formControlName","confirmedEmail","placeholder","Conferma email",1,"form-control"],["type","password","formControlName","pw","placeholder","Password",1,"form-control"],["type","password","formControlName","confirmedPw","placeholder","Conferma password",1,"form-control",3,"keyup.enter"],[1,"d-grid","gap-2","mt-2"],["type","button",1,"my-4","btn","btn-primary","d-flex","justify-content-center",3,"click"],[3,"isVisible"],["registerSpinner",""],[1,"text-danger","small"],[4,"ngIf"]],template:function(r,i){if(1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3)(4,"div",4),A(5,"div",5),p(),m(6,"h2"),y(7,"Modulo registrazione"),p(),m(8,"div",6)(9,"label",7),y(10,"First name:"),p(),m(11,"input",8),U("change",function(){return i.onChange("firstName")}),p(),x(12,Xse,3,2,"div",9),p(),m(13,"div",6)(14,"label",7),y(15,"Last name:"),p(),m(16,"input",10),U("change",function(){return i.onChange("lastName")}),p(),x(17,eae,3,2,"div",9),p(),m(18,"div",6)(19,"label",7),y(20,"Email:"),p(),A(21,"input",11),x(22,rae,3,2,"div",9),p(),m(23,"div",6)(24,"label",7),y(25,"Confirm email:"),p(),A(26,"input",12),x(27,aae,4,3,"div",9),p(),m(28,"div",6)(29,"label",7),y(30,"Password:"),p(),A(31,"input",13),x(32,uae,3,2,"div",9),p(),m(33,"div",6)(34,"label",7),y(35,"Confirm password:"),p(),m(36,"input",14),U("keyup.enter",function(){return i.register()}),p(),x(37,fae,3,2,"div",9),p(),m(38,"div",15)(39,"button",16),U("click",function(){return i.register()}),m(40,"div"),y(41," Registrati "),p(),A(42,"app-button-spinner",17,18),p()()()()()()),2&r){let o,s,a,c,l,u,d,h;w(3),T("formGroup",i.registerForm),w(9),T("ngIf",(null==(o=i.registerForm.get("firstName"))?null:o.touched)&&(null==(o=i.registerForm.get("firstName"))?null:o.invalid)),w(5),T("ngIf",(null==(s=i.registerForm.get("lastName"))?null:s.touched)&&(null==(s=i.registerForm.get("lastName"))?null:s.invalid)),w(5),T("ngIf",(null==(a=i.registerForm.get("email"))?null:a.touched)&&(null==(a=i.registerForm.get("email"))?null:a.invalid)),w(5),T("ngIf",(null==(c=i.registerForm.get("confirmedEmail"))?null:c.touched)&&(null==(c=i.registerForm.get("confirmedEmail"))?null:c.invalid)),w(4),vn(0!=(null==(l=i.registerForm.get("pw"))?null:l.value.length)&&(null==(l=i.registerForm.get("pw"))?null:l.value.length)<5?"bg-alert-danger":(null==(l=i.registerForm.get("pw"))?null:l.value.length)>4&&(null==(l=i.registerForm.get("pw"))?null:l.value.length)<8||(null==(l=i.registerForm.get("pw"))?null:l.value.length)>7&&i.getStrongPasswordValue(i.registerForm.get("pw"))?"bg-alert-warning":(null==(l=i.registerForm.get("pw"))?null:l.value.length)>7&&!i.getStrongPasswordValue(i.registerForm.get("pw"))?"bg-alert-info":""),w(1),T("ngIf",(null==(u=i.registerForm.get("pw"))?null:u.touched)&&(null==(u=i.registerForm.get("pw"))?null:u.invalid)),w(4),vn(0!=(null==(d=i.registerForm.get("confirmedPw"))?null:d.value.length)&&(null==(d=i.registerForm.get("confirmedPw"))?null:d.value.length)<5?"bg-alert-danger":(null==(d=i.registerForm.get("confirmedPw"))?null:d.value.length)>4&&(null==(d=i.registerForm.get("confirmedPw"))?null:d.value.length)<8||(null==(d=i.registerForm.get("confirmedPw"))?null:d.value.length)>7&&i.getStrongPasswordValue(i.registerForm.get("confirmedPw"))?"bg-alert-warning":(null==(d=i.registerForm.get("confirmedPw"))?null:d.value.length)>7&&!i.getStrongPasswordValue(i.registerForm.get("confirmedPw"))?"bg-alert-info":""),w(1),T("ngIf",(null==(h=i.registerForm.get("confirmedPw"))?null:h.touched)&&(null==(h=i.registerForm.get("confirmedPw"))?null:h.invalid)),w(5),T("isVisible",i.registerSpinnerIsVisible)}},dependencies:[dt,ra,Ci,Js,ea,po,ia,y2],styles:[".form-group[_ngcontent-%COMP%]{min-height:70px;display:flex;flex-direction:column;justify-content:start}.form-label[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:0;opacity:0}.bg-alert-danger[_ngcontent-%COMP%]:focus{background-color:var(--bs-danger-border-subtle)}.bg-alert-info[_ngcontent-%COMP%]:focus{background-color:var(--bs-info-border-subtle)}.bg-alert-warning[_ngcontent-%COMP%]:focus{background-color:var(--bs-warning-border-subtle)}"]})}}return e})()},{path:"login",component:Koe},{path:"home",component:dse},{path:"products",component:b2},{path:"orders",component:vse},{path:"product-detail/:id",component:Mse,canActivate:[E2],data:{roles:["admin","user"]}},{path:"order-detail/:id",component:Ose,canActivate:[E2],data:{roles:["admin","user"]}},{path:"checkout",component:Gse},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",redirectTo:"/home"}];let gae=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Jt({type:e})}static{this.\u0275inj=Ft({imports:[aP.forRoot(pae),aP]})}}return e})(),mae=(()=>{class e{constructor(n,r,i){this.auth=n,this.db=r,this.fb=i,this.menuVisible=!1,this.overlayOpen=!1,this.toggleOverlayEmitter=new ae,this.contactsEmitter=new ae}contacts(){this.contactsEmitter.emit()}action(n){"openMenu"===n||console.log("unknown",n)}logout(){this.auth.logout()}toggleMenu(){this.menuVisible=!this.menuVisible,this.toggleOverlayEmitter.emit({name:"menuVisible",visibility:!0})}static{this.\u0275fac=function(r){return new(r||e)(C(Ot),C(un),C(oa))}}static{this.\u0275cmp=de({type:e,selectors:[["app-alfa-navbar"]],inputs:{menuVisible:"menuVisible",overlayOpen:"overlayOpen"},outputs:{toggleOverlayEmitter:"toggleOverlayEmitter",contactsEmitter:"contactsEmitter"},decls:25,vars:0,consts:[["id","navbar",1,"w-100","py-1","fixed-top","bg-white","shadow"],[1,"container-fluid","h-100","m-0",2,"width","100vw"],[1,"row","mx-2","h-100"],[1,"col-12","d-flex","justify-content-between"],["routerLink","/home",1,"navbar-brand","px-3","py-1"],[1,"navbar_logo"],[1,"d-none","d-md-flex","align-items-center","nav","text-bold"],[1,"nav-item"],["routerLink","/products",1,"nav-link"],["routerLink","/checkout",1,"nav-link"],["routerLink","/orders",1,"nav-link"],[1,"nav-link",3,"click"],[1,"d-flex","d-md-none","flex-column","justify-content-center"],[1,"hamburger_icon","btn","d-flex","flex-column","justify-content-center",3,"click"],[1,"hamburger"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),A(5,"div",5),p(),m(6,"ul",6)(7,"li",7)(8,"a",8),y(9,"PRODOTTI"),p()(),m(10,"li",7)(11,"a",9),y(12,"CARRELLO"),p()(),m(13,"li",7)(14,"a",10),y(15,"I MIEI ORDINI"),p()(),m(16,"li",7)(17,"a",11),U("click",function(){return i.contacts()}),y(18,"CONTATTI"),p()(),m(19,"li",7)(20,"a",11),U("click",function(){return i.logout()}),y(21,"LOGOUT"),p()()(),m(22,"div",12)(23,"a",13),U("click",function(){return i.toggleMenu()}),A(24,"div",14),p()()()()()())},dependencies:[fr],styles:["#navbar[_ngcontent-%COMP%]{transition:.3s;box-shadow:none;font-size:12px!important}#navbar[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{background-color:#fff!important}[_nghost-%COMP%]     .nav-link{color:#444;font-size:12px!important;transition:.3s;padding:8px}.nav-link[_ngcontent-%COMP%]:hover{color:#0a58ca;cursor:pointer;transition:.3s}.hamburger_icon[_ngcontent-%COMP%]{background-image:url(hamburger.2f5a217b7a5c454d.svg);background-size:contain;background-repeat:no-repeat;height:30px;width:30px}.navbar_logo[_ngcontent-%COMP%]{height:55px;width:112px}"]})}}return e})(),_ae=(()=>{class e{constructor(n,r){this.router=n,this.authService=r,this.toggleMenuEmitter=new ae,this.navbar=document.getElementById("navbar")}showMenu(){this.toggleMenuEmitter.emit({name:"mobileMenu",visibility:!0})}hideMenu(){this.toggleMenuEmitter.emit({name:"mobileMenu",visibility:!1})}redirectToPath(n){this.hideMenu(),this.router.navigate([n])}logout(){this.authService.logout()}static{this.\u0275fac=function(r){return new(r||e)(C(rt),C(Ot))}}static{this.\u0275cmp=de({type:e,selectors:[["app-mobile-menu"]],outputs:{toggleMenuEmitter:"toggleMenuEmitter"},decls:36,vars:0,consts:[["id","mobileMenu",2,"height","100vh","width","100%","overflow","hidden"],[1,"position-absolute","p-3","d-flex","justify-content-end","w-100"],[1,"btn","d-flex","justify-content-end","animate__animated","animate__fadeInUp",3,"click"],[1,"close_white"],[1,"h-100","p-5"],[2,"height","20%","width","100%"],[1,"d-flex","h-100","flex-column","justify-content-between"],[1,"mt-3","w-100","h-100","d-flex","justify-content-center","animate__animated","animate__fadeInUp",3,"click"],[1,"person_circle_white"],[1,"text-light","d-flex","flex-column","justify-content-center",2,"height","10%"],[1,"d-flex","justify-content-center","animate__animated","animate__fadeInUp",2,"font-size","20px"],[1,"",2,"height","70%"],[1,"d-flex","flex-column","justify-content-center","h-100"],["id","menuList",1,"accordion","bg-transparent","animate__animated","animate__fast","nav","d-flex","flex-column","text-center","animate__fadeInUp",2,"font-size","xx-large"],[1,"home","nav-item",3,"click"],[1,"nav-link"],[1,"btn-link-dark"],[1,"storia","nav-item",3,"click"],[1,"btn-link-primary"],[1,"nav-link","d-flex","justify-content-center"],[1,"d-flex"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"a",2),U("click",function(){return i.hideMenu()}),A(3,"div",3),p()(),m(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),U("click",function(){return i.hideMenu()}),A(8,"div",8),p()()(),m(9,"div",9)(10,"div",10),y(11,"Ciao Marco!"),p()(),m(12,"div",11)(13,"div",12)(14,"ul",13)(15,"li",14),U("click",function(){return i.redirectToPath("/products")}),m(16,"a",15)(17,"h2",16),y(18,"PRODOTTI"),p()()(),m(19,"li",17),U("click",function(){return i.redirectToPath("/checkout")}),m(20,"a",15)(21,"h2",18),y(22,"CARRELLO"),p()()(),m(23,"li",17),U("click",function(){return i.redirectToPath("/orders")}),m(24,"a",15)(25,"h2",18),y(26,"I MIEI ORDINI"),p()()(),m(27,"li",17),U("click",function(){return i.hideMenu()}),m(28,"a",15)(29,"h2",18),y(30,"CONTATTI"),p()()(),m(31,"li",17),U("click",function(){return i.logout()}),m(32,"a",19)(33,"div",20)(34,"h2",18),y(35,"LOGOUT"),p()()()()()()()()())},styles:["#mobileMenu[_ngcontent-%COMP%]{z-index:1000;background-color:#c27248;width:100%;height:100vh}.nav-link[_ngcontent-%COMP%]{color:#eee;font-size:18px!important}.nav-link[_ngcontent-%COMP%]:hover{color:#fff;cursor:pointer}div[_ngcontent-%COMP%]:has(.user-icon-mobile-menu){height:100px}.user-icon-mobile-menu[_ngcontent-%COMP%]{height:100px;width:auto;background-image:url(person-circle-white.c16eb14271d35224.svg);background-repeat:no-repeat;background-size:cover}*[_ngcontent-%COMP%]{overflow-y:hidden}.close_white[_ngcontent-%COMP%]{background-image:url(close_white.7ca11c3dfbff8ac7.svg);background-repeat:no-repeat;background-size:cover;width:40px;height:40px}.person_circle_white[_ngcontent-%COMP%]{background-image:url(person-circle-white.c16eb14271d35224.svg);background-repeat:no-repeat;background-size:contain;width:150px}"]})}}return e})();function vae(e,t){1&e&&(m(0,"div",2),y(1," LOADING\n"),p())}function yae(e,t){if(1&e){const n=ut();m(0,"div",3)(1,"app-mobile-menu",4),U("toggleMenuEmitter",function(i){return he(n),fe(N().toggleMenu(i))}),p()()}}let Cae=(()=>{class e{constructor(){this.loadingVisible=!1,this.menuVisible=!1,this.toggleOverlayEmitter=new ae,this.toggleMenuEmitter=new ae}showOverlay(){this.toggleOverlayEmitter.emit(!0)}hideOverlay(){this.toggleOverlayEmitter.emit(!1)}toggleMenu(n){"mobileMenu"===n.name&&this.toggleMenuEmitter.emit(n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=de({type:e,selectors:[["app-main-overlay"]],inputs:{loadingVisible:"loadingVisible",menuVisible:"menuVisible"},outputs:{toggleOverlayEmitter:"toggleOverlayEmitter",toggleMenuEmitter:"toggleMenuEmitter"},decls:2,vars:2,consts:[["style","z-index: 3000; height: 100vh; width: 100%; overflow: hidden; background-color: rgba(0,0,0, .6);",4,"ngIf"],["style","z-index: 2000; height: 100vh; width: 100%; overflow: hidden; position: absolute!important;",4,"ngIf"],[2,"z-index","3000","height","100vh","width","100%","overflow","hidden","background-color","rgba(0,0,0, .6)"],[2,"z-index","2000","height","100vh","width","100%","overflow","hidden","position","absolute!important"],[3,"toggleMenuEmitter"]],template:function(r,i){1&r&&(x(0,vae,2,0,"div",0),x(1,yae,2,0,"div",1)),2&r&&(T("ngIf",i.loadingVisible),w(1),T("ngIf",i.menuVisible))},dependencies:[dt,_ae]})}}return e})(),bae=(()=>{class e{constructor(n){this.toastService=n,this.toastText="",this.toastType="error"}ngOnInit(){}getType(){return this.toastService.currentMessage.type}getIcon(){return this.toastService.currentMessage.icon}getMessage(){return this.toastService.currentMessage.text}static{this.\u0275fac=function(r){return new(r||e)(C(ji))}}static{this.\u0275cmp=de({type:e,selectors:[["app-alfa-toast"]],decls:8,vars:4,consts:[[1,"toast-container","position-fixed","top-0","end-0","p-3",2,"transform","translateY(90px)"],["id","liveToast","role","alert","aria-live","assertive","aria-atomic","true",1,"toast",3,"ngClass"],[1,"toast-body"],[1,"w-100","d-flex","justify-content-between"],[1,"d-flex"],[1,"align-self-center","ms-2",3,"innerHTML"],["type","button","data-bs-dismiss","toast",1,"align-self-center","btn-close","btn-close-white"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),A(5,"i")(6,"h6",5),p(),A(7,"button",6),p()()()()),2&r&&(w(1),T("ngClass",i.getType()),w(4),vn("bi bi-"+i.getIcon()),w(1),T("innerHTML",i.getMessage(),rd))},dependencies:[Ix],styles:[".alfa-toast[_ngcontent-%COMP%]{margin-top:15px;position:absolute;width:400px;height:100px;border-radius:15px;z-index:3000;right:0;border:5px solid #ff5900;color:#d24f09;font-size:19px}@media screen and (max-width: 762px){.alfa-toast[_ngcontent-%COMP%]{width:100%}}.toast.success[_ngcontent-%COMP%]{background-color:#198754}.toast.success[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%], .toast.success[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff!important;margin:0}.toast.error[_ngcontent-%COMP%]{background-color:#dc3545}.toast.error[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%], .toast.error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff!important;margin:0}.toast.warning[_ngcontent-%COMP%]{background-color:#ffc107;color:#212529}.toast.info[_ngcontent-%COMP%]{background-color:#0dcaf0}.toast-body[_ngcontent-%COMP%]{padding:20px}"]})}}return e})(),wae=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=de({type:e,selectors:[["app-alfa-social-footer"]],decls:14,vars:0,consts:[[1,"w-100","bg-dark2"],[1,"container"],[1,"row"],[1,"col-12"],[1,"card","py-4","border-0","bg-transparent","text-light","text-center","d-flex","flex-column","justify-content-center"],[1,"d-flex","justify-content-center","text-white"],[1,"btn","btn-light","rounded","rounded-pill","m-2",2,"min-width","38px"],["target","_blank","href","#"],[1,"bi","bi-instagram"],[1,"bi","bi-whatsapp"],[1,"small"]],template:function(r,i){1&r&&(m(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"button",6)(7,"a",7),A(8,"span",8),p()(),m(9,"button",6)(10,"a",7),A(11,"span",9),p()()(),m(12,"small",10),y(13," \xa9 2025 Ecommerce "),p()()()()()())},styles:[".bg-dark2[_ngcontent-%COMP%]{background-color:#1c1c1c}"]})}}return e})(),Eae=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=de({type:e,selectors:[["app-alfa-footer"]],decls:22,vars:0,consts:[[1,"w-100","bg-dark"],[1,"container"],[1,"row"],["id","footer",1,"col-12"],[1,"card","py-4","border-0","bg-transparent","text-light","text-center"],[1,"d-flex","justify-content-center"],[1,"footer_logo","mb-3"],[1,"card-title","text-grey"],[1,"card-body"]],template:function(r,i){1&r&&(m(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),A(6,"div",6),p(),m(7,"div",7),y(8," Ecommerce "),p(),m(9,"div",8),y(10," - Indirizzo: Via e num. "),A(11,"br"),y(12,"- Localit\xe0: Citt\xe0 (PP) - Cap: 00000 "),A(13,"br"),y(14,"\n- PI: 03881990547 "),A(15,"br"),y(16,"- Tel. Tizio: +00 000000000 "),A(17,"br"),y(18,"- Caio: +00 000000000 "),A(19,"br"),y(20,"- Email: email@email.it "),p()()()()()(),A(21,"app-alfa-social-footer"))},dependencies:[wae],styles:[".footer_logo[_ngcontent-%COMP%]{height:55px;width:112px}"]})}}return e})();function Dae(e,t){if(1&e){const n=ut();m(0,"div",8),U("click",function(){he(n);const i=N().$implicit;return fe(N(2).selectAddress(i))}),m(1,"div",9)(2,"div",10)(3,"h4"),y(4),p(),A(5,"app-score",11),p(),m(6,"div",2),y(7),p(),m(8,"div",2),y(9),p(),m(10,"div",2),y(11),p()()()}if(2&e){const n=N().$implicit;w(4),ce(n.line_1),w(1),T("item",n),w(2),et(" ",n.zip," "),w(2),et(" ",n.city," "),w(2),et(" ",n.province," ")}}function Tae(e,t){if(1&e){const n=ut();m(0,"div",12),U("click",function(){return he(n),fe(N(3).addAddress())}),A(1,"i",13),p()}}function Sae(e,t){if(1&e&&(m(0,"div",4)(1,"div",5),x(2,Dae,12,5,"div",6),x(3,Tae,2,0,"div",7),p()()),2&e){const n=t.$implicit,r=N(2);vn(n&&n.addButton?"add-address-btn":"address-card"),w(1),vn(r.getSelectCondition(n)?"selected":""),w(1),T("ngIf",!(n&&n.addButton)),w(1),T("ngIf",n&&n.addButton)}}function Aae(e,t){if(1&e&&(m(0,"div",2),x(1,Sae,4,6,"div",3),p()),2&e){const n=N();w(1),T("ngForOf",n.items)}}function Mae(e,t){if(1&e){const n=ut();m(0,"h4",14),y(1," Non sono ancora presenti indirizzi. "),p(),m(2,"div",15)(3,"div",16),U("click",function(){return he(n),fe(N().addAddress())}),m(4,"div",5),A(5,"i",13),p()()()}}let xae=(()=>{class e{constructor(n,r){this.cartService=n,this.addressService=r,this.addAddressEmitter=new ae,this.selectAddressEmitter=new ae,this.items=[],this.addressReady=!1}ngOnInit(){}ngAfterViewInit(){}selectAddress(n){this.selectAddressEmitter.emit(n)}addAddress(){this.addAddressEmitter.emit()}getSelectCondition(n){return this.getAddressSelected()&&this.getAddressSelected().line_1===n.line_1}getAddressSelected(){return this.addressService.getSelectedAddress()}static{this.\u0275fac=function(r){return new(r||e)(C($o),C(ap))}}static{this.\u0275cmp=de({type:e,selectors:[["app-address-list"]],inputs:{items:"items",addressReady:"addressReady"},outputs:{addAddressEmitter:"addAddressEmitter",selectAddressEmitter:"selectAddressEmitter"},decls:3,vars:2,consts:[["class","d-flex",4,"ngIf","ngIfElse"],["noaddress",""],[1,"d-flex"],["class","card shadow me-4",3,"class",4,"ngFor","ngForOf"],[1,"card","shadow","me-4"],[1,"card-body"],["class","h-100 w-100 d-flex flex-column ",3,"click",4,"ngIf"],["class","card-body h-100 d-flex flex-column justify-content-center",3,"click",4,"ngIf"],[1,"h-100","w-100","d-flex","flex-column",3,"click"],[1,"w-100"],[1,"w-100","d-flex","justify-content-between"],[3,"item"],[1,"card-body","h-100","d-flex","flex-column","justify-content-center",3,"click"],[1,"bi","bi-plus-lg"],[1,"p-3","text-center"],[1,"d-flex","justify-content-center"],[1,"mini-add-address-btn","card","shadow",3,"click"]],template:function(r,i){if(1&r&&(x(0,Aae,2,1,"div",0),x(1,Mae,6,0,"ng-template",null,1,Mn)),2&r){const o=ar(2);T("ngIf",i.items&&i.items.length>0)("ngIfElse",o)}},dependencies:[ro,dt,op],styles:[".address-card[_ngcontent-%COMP%]{cursor:pointer;min-width:70%;width:350px;height:200px;margin-bottom:40px;transition:.3s}.mini-add-address-btn[_ngcontent-%COMP%]{cursor:pointer}.add-address-btn[_ngcontent-%COMP%]{font-size:50px;cursor:pointer;min-width:115px;width:115px;height:200px;margin-bottom:40px;transition:.3s;display:flex;flex-direction:column;justify-content:center}.selected[_ngcontent-%COMP%]{border:3px solid #32bd10;border-radius:5px;background-color:#bbf7ac}"]})}}return e})();function Rae(e,t){if(1&e){const n=ut();m(0,"div",2)(1,"app-address-list",3),U("selectAddressEmitter",function(i){return he(n),fe(N().selectAddress(i))})("addAddressEmitter",function(){return he(n),fe(N().addAddress())}),p()()}if(2&e){const n=N();w(1),T("items",n.addressList)("addressReady",n.addressReady)}}function Pae(e,t){1&e&&A(0,"app-spinner")}let kae=(()=>{class e{constructor(n,r,i){this.authService=n,this.databaseService=r,this.addressService=i,this.addAddressEmitter=new ae,this.selectAddressEmitter=new ae,this.addressList=[],this.addressReady=!1}ngOnInit(){this.addressList=[],this.listenForUpdates()}listenForUpdates(){if(this.authService.getCurrentUser()&&this.authService.getCurrentUser().uid){let n=this.authService.getCurrentUser().uid;this.databaseService.listenToData("users/"+n+"/address",r=>{r&&(this.addressList=[...r,{addButton:!0}],this.addressReady=!0,this.addressService.setCurrentAddressList(this.addressList))})}}selectAddress(n){this.addressService.setSelectedAddress(n)}addAddress(){this.addAddressEmitter.emit()}getAddressSelected(){return this.addressService.getSelectedAddress()}static{this.\u0275fac=function(r){return new(r||e)(C(Ot),C(un),C(ap))}}static{this.\u0275cmp=de({type:e,selectors:[["app-address-selector"]],outputs:{addAddressEmitter:"addAddressEmitter",selectAddressEmitter:"selectAddressEmitter"},decls:3,vars:2,consts:[["class","address-wrapper",4,"ngIf","ngIfElse"],["spinner",""],[1,"address-wrapper"],[3,"items","addressReady","selectAddressEmitter","addAddressEmitter"]],template:function(r,i){if(1&r&&(x(0,Rae,2,2,"div",0),x(1,Pae,1,0,"ng-template",null,1,Mn)),2&r){const o=ar(2);T("ngIf",i.addressList)("ngIfElse",o)}},dependencies:[dt,ou,xae],styles:[".address-wrapper[_ngcontent-%COMP%]{height:260px;width:100%;overflow-x:auto;overflow-y:hidden;display:flex;flex-direction:column;justify-content:center}"]})}}return e})();function Nae(e,t){1&e&&(m(0,"div",21),y(1," La linea 1 dell'indirizzo \xe8 obbligatoria "),p())}function Oae(e,t){1&e&&(m(0,"div",21),y(1," Inserisci un CAP valido (5 numeri) "),p())}function Fae(e,t){1&e&&(m(0,"div",21),y(1," La citt\xe0 \xe8 obbligatoria "),p())}function Lae(e,t){1&e&&(m(0,"div",21),y(1," La provincia \xe8 obbligatoria "),p())}function Vae(e,t){if(1&e&&(m(0,"div")(1,"form",12)(2,"div",13)(3,"label",14),y(4,"Indirizzo (linea 1)"),p(),A(5,"input",15),x(6,Nae,2,0,"div",16),p(),m(7,"div",13)(8,"label",14),y(9,"Indirizzo (linea 2)"),p(),A(10,"input",17),p(),m(11,"div",13)(12,"label",14),y(13,"CAP"),p(),A(14,"input",18),x(15,Oae,2,0,"div",16),p(),m(16,"div",13)(17,"label",14),y(18,"Citt\xe0"),p(),A(19,"input",19),x(20,Fae,2,0,"div",16),p(),m(21,"div",13)(22,"label",14),y(23,"Provincia"),p(),A(24,"input",20),x(25,Lae,2,0,"div",16),p()()()),2&e){const n=N();let r,i,o,s;w(1),T("formGroup",n.addressForm),w(5),T("ngIf",(null==(r=n.addressForm.get("line_1"))?null:r.invalid)&&(null==(r=n.addressForm.get("line_1"))?null:r.touched)),w(9),T("ngIf",(null==(i=n.addressForm.get("zip"))?null:i.invalid)&&(null==(i=n.addressForm.get("zip"))?null:i.touched)),w(5),T("ngIf",(null==(o=n.addressForm.get("city"))?null:o.invalid)&&(null==(o=n.addressForm.get("city"))?null:o.touched)),w(5),T("ngIf",(null==(s=n.addressForm.get("province"))?null:s.invalid)&&(null==(s=n.addressForm.get("province"))?null:s.touched))}}function Uae(e,t){if(1&e){const n=ut();m(0,"div")(1,"app-address-selector",23),U("addAddressEmitter",function(){return he(n),fe(N(2).popupStep=!0)}),p()()}}function jae(e,t){if(1&e&&(m(0,"div",22),y(1),x(2,Uae,2,0,"div",6),p()),2&e){const n=N();w(1),et(" ",n.modalData.modalText," "),w(1),T("ngIf","editAddress"==n.modalData.method)}}function Bae(e,t){if(1&e){const n=ut();m(0,"button",24),U("click",function(){return he(n),fe(N().internalConfirmOperation())}),y(1," Salva indirizzo"),p()}}function $ae(e,t){if(1&e){const n=ut();m(0,"button",25),U("click",function(){return he(n),fe(N().confirmOperation())}),y(1),p()}if(2&e){const n=N();w(1),ce(n.modalData.modalConfirmLabel)}}let Hae=(()=>{class e{constructor(n,r,i,o,s){this.fb=n,this.modalService=r,this.cartService=i,this.addressService=o,this.databaseService=s,this.popupStep=!1,this.modalData={modalText:"",modalTitle:"",modalConfirmLabel:"",needInternalConfirm:!1},this.internalConfirm=!1}ngOnInit(){this.addressForm=this.fb.group({id:["",ie.required],line_1:["",ie.required],line_2:[""],zip:["",[ie.required,ie.pattern("^[0-9]{5}$")]],city:["",ie.required],province:["",ie.required]}),this.modalService.payload$.subscribe(n=>{n&&this.handlePayload(n)})}handlePayload(n){switch(n.method){case"removeFromCart":this.modalData.modalTitle="Rimuovi articolo dal carrello",this.modalData.modalText="Stai per rimuovere un articolo dal carrello. Procedere?",this.modalData.modalConfirmLabel="Rimuovi",this.modalData.productId=n.productId,this.modalData.method=n.method;break;case"editAddress":this.addressService.currentAddressList$.pipe(function Iae(...e){const t=Ep(e);return Ke((n,r)=>{const i=e.length,o=new Array(i);let s=e.map(()=>!1),a=!1;for(let c=0;c<i;c++)Xt(e[c]).subscribe(Ve(r,l=>{o[c]=l,!a&&!s[c]&&(s[c]=!0,(a=s.every(Tr))&&(s=null))},lu));n.subscribe(Ve(r,c=>{if(a){const l=[c,...o];r.next(t?t(...l):l)}}))})}(this.addressService.addressSelected$)).subscribe(([r,i])=>{if(r&&r.length>0&&!i){const o=this.addressService.getCurrentAddressCheckout()?.deliveryAddressId,s=o?r.find(a=>a.deliveryAddressId===o):r[0];this.addressService.setSelectedAddress(s)}}),this.modalData.modalTitle="Seleziona o aggiungi indirizzo",this.modalData.modalText="",this.modalData.modalConfirmLabel="Conferma",this.modalData.item=n.item,this.modalData.method=n.method,this.modalData.needInternalConfirm=!0;break;default:console.log("unknown",n.method)}}confirmOperation(){let n=this.modalData;switch(n.method){case"removeFromCart":n.productId&&this.cartService.removeFromCart(n.productId);break;case"editAddress":this.cartService.getCurrentCheckout()&&(this.cartService.getCurrentCheckout().deliveryAddressId=this.addressService.getSelectedAddress().id,this.addressService.patchAddress(),this.addressService.updateAddress());break;default:console.log("unknown",n.method)}}cancelOperation(){this.internalConfirm=!1,this.addressService.setSelectedAddress(null),setTimeout(()=>{this.popupStep=!1},1e3)}getInternalConfirmCondition(){return this.modalData.needInternalConfirm&&!this.internalConfirm}toTitleCase(n){return n.toLowerCase().split(" ").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" ")}internalConfirmOperation(){let n=this.modalData;this.databaseService.generateRandomId(12,"address").then(i=>{this.addressForm.patchValue({id:i,line_1:this.toTitleCase(this.addressForm.controls.line_1.value),line_2:this.toTitleCase(this.addressForm.controls.line_2.value),city:this.toTitleCase(this.addressForm.controls.city.value),province:(this.addressForm.controls.province.value||"").toUpperCase(),zip:this.addressForm.controls.zip.value}),this.addressForm.invalid?this.addressForm.markAllAsTouched():"editAddress"===n.method?(this.internalConfirm=!0,this.addressService.addAddress(this.addressForm).then(()=>{this.popupStep=!1}).catch(o=>{})):console.log("unknown",n.method)})}static{this.\u0275fac=function(r){return new(r||e)(C(oa),C(sp),C($o),C(ap),C(un))}}static{this.\u0275cmp=de({type:e,selectors:[["app-confirm-popup"]],decls:13,vars:5,consts:[["id","confirmModal","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1",1,"modal","modal-lg","fade"],[1,"modal-dialog","modal-dialog-scrollable"],[1,"modal-content"],[1,"modal-header"],["id","confirmModalLabel",1,"modal-title","fs-5",3,"innerHTML"],["type","button","data-bs-dismiss","modal",1,"btn-close",3,"click"],[4,"ngIf"],["class","modal-body",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["class","btn btn-primary",3,"click",4,"ngIf"],["type","button","data-bs-dismiss","modal","class","btn btn-primary",3,"click",4,"ngIf"],[1,"p-3",3,"formGroup"],[1,"mb-3"],[1,"form-label"],["type","text","formControlName","line_1",1,"form-control"],["class","text-danger small",4,"ngIf"],["type","text","formControlName","line_2",1,"form-control"],["type","text","formControlName","zip",1,"form-control"],["type","text","formControlName","city",1,"form-control"],["type","text","formControlName","province",1,"form-control"],[1,"text-danger","small"],[1,"modal-body"],[3,"addAddressEmitter"],[1,"btn","btn-primary",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"]],template:function(r,i){1&r&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),A(4,"h1",4),m(5,"button",5),U("click",function(){return i.cancelOperation()}),p()(),x(6,Vae,26,5,"div",6),x(7,jae,3,2,"div",7),m(8,"div",8)(9,"button",9),U("click",function(){return i.cancelOperation()}),y(10,"Annulla"),p(),x(11,Bae,2,0,"button",10),x(12,$ae,2,1,"button",11),p()()()()),2&r&&(w(4),T("innerHTML",i.popupStep?"Aggiungi indirizzo":i.modalData.modalTitle,rd),w(2),T("ngIf",i.popupStep),w(1),T("ngIf",!i.popupStep),w(4),T("ngIf",i.popupStep),w(1),T("ngIf",!i.popupStep))},dependencies:[dt,ra,Ci,Js,ea,po,ia,kae]})}}return e})();function zae(e,t){if(1&e){const n=ut();m(0,"div",5)(1,"app-main-overlay",6),U("toggleMenuEmitter",function(i){return he(n),fe(N().openOverlay(i))}),p()()}if(2&e){const n=N();w(1),T("loadingVisible",n.loadingVisible)("menuVisible",n.menuVisible)}}function Wae(e,t){if(1&e){const n=ut();m(0,"app-alfa-navbar",7),U("contactsEmitter",function(){return he(n),fe(N().contacts())})("toggleOverlayEmitter",function(i){return he(n),fe(N().openOverlay(i))}),p()}if(2&e){const n=N();T("menuVisible",n.menuVisible)("overlayOpen",n.overlayOpen)}}let Gae=(()=>{class e{constructor(n,r,i){this.router=n,this.modalService=r,this.toastService=i,this.overlayOpen=!1,this.menuVisible=!1,this.loadingVisible=!1,this.isLoginPage=!1,this.isRegisterPage=!1,this.modalData={text:"test text"},this.toastVisible=!1,this.toastType="info",this.toastText="",this.router.events.pipe($r(o=>o instanceof Hr)).subscribe(o=>{this.isLoginPage="/login"===o.url,this.isRegisterPage="/register"===o.url})}ngAfterViewInit(){const n=document.getElementById("confirmModal");this.confirmModal=new bootstrap.Modal(n),this.modalService.openModal$.subscribe(()=>{this.confirmModal.show()}),this.toastEl=document.getElementById("liveToast"),this.toast=new bootstrap.Toast(this.toastEl,{delay:4e3}),this.toastService.showToast$.subscribe(()=>{setTimeout(()=>this.toast.show(),0)})}contacts(){}openConfirmModal(){this.confirmModal.show()}showToast(){}openOverlay(n){"menuVisible"===n.name&&(this.menuVisible=n.visibility),this.overlayOpen=!this.overlayOpen}static{this.\u0275fac=function(r){return new(r||e)(C(rt),C(sp),C(ji))}}static{this.\u0275cmp=de({type:e,selectors:[["app-root"]],decls:8,vars:2,consts:[["style","top: 0; position: fixed; height: vh100; z-index: 5000; width: 100%; ",4,"ngIf"],[3,"menuVisible","overlayOpen","contactsEmitter","toggleOverlayEmitter",4,"ngIf"],[1,"container",2,"margin-top","120px","margin-bottom","50px","padding","0!important"],[1,"container","main-container",2,"padding","0!important"],["id","footer"],[2,"top","0","position","fixed","height","vh100","z-index","5000","width","100%"],[3,"loadingVisible","menuVisible","toggleMenuEmitter"],[3,"menuVisible","overlayOpen","contactsEmitter","toggleOverlayEmitter"]],template:function(r,i){1&r&&(x(0,zae,2,2,"div",0),x(1,Wae,1,2,"app-alfa-navbar",1),A(2,"app-alfa-toast"),m(3,"div",2)(4,"div",3),A(5,"router-outlet"),p()(),A(6,"app-confirm-popup")(7,"app-alfa-footer",4)),2&r&&(T("ngIf",!i.isLoginPage&&i.overlayOpen&&!i.isRegisterPage),w(1),T("ngIf",!i.isLoginPage&&!i.isRegisterPage))},dependencies:[dt,sv,mae,Cae,bae,Eae,Hae]})}}return e})();const qae_firebase={apiKey:"AIzaSyAyPpwYB1X-e5VnUkUgJ2orPcDr9ybDHEU",authDomain:"draggable-9f92b.firebaseapp.com",databaseURL:"https://draggable-9f92b.firebaseio.com",projectId:"draggable-9f92b",storageBucket:"draggable-9f92b.appspot.com",messagingSenderId:"1010593277055",appId:"1:1010593277055:web:1b729dc7368b8f6f"},_t=void 0,Yae=["it",[["m.","p."],["AM","PM"],_t],_t,[["D","L","M","M","G","V","S"],["dom","lun","mar","mer","gio","ven","sab"],["domenica","luned\xec","marted\xec","mercoled\xec","gioved\xec","venerd\xec","sabato"],["dom","lun","mar","mer","gio","ven","sab"]],_t,[["G","F","M","A","M","G","L","A","S","O","N","D"],["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"]],_t,[["aC","dC"],["a.C.","d.C."],["avanti Cristo","dopo Cristo"]],1,[6,0],["dd/MM/yy","d MMM y","d MMMM y","EEEE d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",_t,"{1} {0}",_t],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{BRL:[_t,"R$"],BYN:[_t,"Br"],EGP:[_t,"\xa3E"],HKD:[_t,"$"],INR:[_t,"\u20b9"],JPY:[_t,"\xa5"],KRW:[_t,"\u20a9"],MXN:[_t,"$"],NOK:[_t,"NKr"],THB:["\u0e3f"],TWD:[_t,"NT$"],USD:[_t,"$"],VND:[_t,"\u20ab"]},"ltr",function Kae(e){const n=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length,i=parseInt(e.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return 1===n&&0===r?1:0===i&&0!==n&&n%1e6==0&&0===r||!(i>=0&&i<=5)?4:5}],N2=new P("");let wce=(()=>{class e{constructor(n){this.router=n}intercept(n,r){const i="https://thebabr27.github.io/expense/angular16-ecommerce";return n.url.startsWith(i)?(console.log(`Intercepted request to ${i}, redirecting...`),this.router.navigate(["/"]),new Le):r.handle(n)}static{this.\u0275fac=function(r){return new(r||e)(O(rt))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})();!function Mq(e,t,n){(function _4(e,t,n){"string"!=typeof t&&(n=t,t=e[xe.LocaleId]),t=t.toLowerCase().replace(/_/g,"-"),Vs[t]=e,n&&(Vs[t][xe.ExtraData]=n)})(e,t,n)}(Yae);let Ece=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Jt({type:e,bootstrap:[Gae]})}static{this.\u0275inj=Ft({providers:[{provide:ur,useValue:"it-IT"},{provide:N2,useClass:wce,multi:!0}],imports:[Z5,gae,x9,R9,gte(()=>mte(qae_firebase)),une(()=>hne()),joe(()=>$oe())]})}}return e})();Q5().bootstrapModule(Ece).catch(e=>console.error(e))}},Ee=>{Ee(Ee.s=295)}]);