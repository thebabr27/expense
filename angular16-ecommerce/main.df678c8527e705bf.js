"use strict";(self.webpackChunkangular16Ecommerce=self.webpackChunkangular16Ecommerce||[]).push([[792],{158:()=>{function Ee(e){return"function"==typeof e}function Ma(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const iu=Ma(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Bo(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class Qt{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Ee(r))try{r()}catch(o){t=o instanceof iu?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{MI(o)}catch(s){t=t??[],s instanceof iu?t=[...t,...s.errors]:t.push(s)}}if(t)throw new iu(t)}}add(t){var n;if(t&&t!==this)if(this.closed)MI(t);else{if(t instanceof Qt){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Bo(n,t)}remove(t){const{_finalizers:n}=this;n&&Bo(n,t),t instanceof Qt&&t._removeParent(this)}}Qt.EMPTY=(()=>{const e=new Qt;return e.closed=!0,e})();const SI=Qt.EMPTY;function AI(e){return e instanceof Qt||e&&"closed"in e&&Ee(e.remove)&&Ee(e.add)&&Ee(e.unsubscribe)}function MI(e){Ee(e)?e():e.unsubscribe()}const Ui={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ou={setTimeout(e,t,...n){const{delegate:r}=ou;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=ou;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function xI(e){ou.setTimeout(()=>{const{onUnhandledError:t}=Ui;if(!t)throw e;t(e)})}function su(){}const c2=ip("C",void 0,void 0);function ip(e,t,n){return{kind:e,value:t,error:n}}let ji=null;function au(e){if(Ui.useDeprecatedSynchronousErrorHandling){const t=!ji;if(t&&(ji={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=ji;if(ji=null,n)throw r}}else e()}class op extends Qt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,AI(t)&&t.add(this)):this.destination=g2}static create(t,n,r){return new xa(t,n,r)}next(t){this.isStopped?ap(function u2(e){return ip("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?ap(function l2(e){return ip("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?ap(c2,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const f2=Function.prototype.bind;function sp(e,t){return f2.call(e,t)}class h2{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){cu(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){cu(r)}else cu(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){cu(n)}}}class xa extends op{constructor(t,n,r){let i;if(super(),Ee(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Ui.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&sp(t.next,o),error:t.error&&sp(t.error,o),complete:t.complete&&sp(t.complete,o)}):i=t}this.destination=new h2(i)}}function cu(e){Ui.useDeprecatedSynchronousErrorHandling?function d2(e){Ui.useDeprecatedSynchronousErrorHandling&&ji&&(ji.errorThrown=!0,ji.error=e)}(e):xI(e)}function ap(e,t){const{onStoppedNotification:n}=Ui;n&&ou.setTimeout(()=>n(e,t))}const g2={closed:!0,next:su,error:function p2(e){throw e},complete:su},cp="function"==typeof Symbol&&Symbol.observable||"@@observable";function Dr(e){return e}function RI(e){return 0===e.length?Dr:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}let je=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function v2(e){return e&&e instanceof op||function _2(e){return e&&Ee(e.next)&&Ee(e.error)&&Ee(e.complete)}(e)&&AI(e)}(n)?n:new xa(n,r,i);return au(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=PI(r))((i,o)=>{const s=new xa({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[cp](){return this}pipe(...n){return RI(n)(this)}toPromise(n){return new(n=PI(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function PI(e){var t;return null!==(t=e??Ui.Promise)&&void 0!==t?t:Promise}const y2=Ma(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let un=(()=>{class e extends je{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new NI(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new y2}next(n){au(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){au(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){au(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?SI:(this.currentObservers=null,o.push(n),new Qt(()=>{this.currentObservers=null,Bo(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new je;return n.source=this,n}}return e.create=(t,n)=>new NI(t,n),e})();class NI extends un{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:SI}}function kI(e){return Ee(e?.lift)}function Qe(e){return t=>{if(kI(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function $e(e,t,n,r,i){return new C2(e,t,n,r,i)}class C2 extends op{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Ie(e,t){return Qe((n,r)=>{let i=0;n.subscribe($e(r,o=>{r.next(e.call(t,o,i++))}))})}function lu(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function ii(e){return this instanceof ii?(this.v=e,this):new ii(e)}function VI(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function fp(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,c){!function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}(a,c,(s=e[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const UI=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function jI(e){return Ee(e?.then)}function $I(e){return Ee(e[cp])}function BI(e){return Symbol.asyncIterator&&Ee(e?.[Symbol.asyncIterator])}function HI(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const zI=function G2(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function WI(e){return Ee(e?.[zI])}function GI(e){return function LI(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),o=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function s(h){return function(m){return Promise.resolve(m).then(h,d)}}),i[Symbol.asyncIterator]=function(){return this},i;function a(h,m){r[h]&&(i[h]=function(v){return new Promise(function(E,I){o.push([h,v,E,I])>1||c(h,v)})},m&&(i[h]=m(i[h])))}function c(h,m){try{!function l(h){h.value instanceof ii?Promise.resolve(h.value.v).then(u,d):f(o[0][2],h)}(r[h](m))}catch(v){f(o[0][3],v)}}function u(h){c("next",h)}function d(h){c("throw",h)}function f(h,m){h(m),o.shift(),o.length&&c(o[0][0],o[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield ii(n.read());if(i)return yield ii(void 0);yield yield ii(r)}}finally{n.releaseLock()}})}function qI(e){return Ee(e?.getReader)}function Zt(e){if(e instanceof je)return e;if(null!=e){if($I(e))return function q2(e){return new je(t=>{const n=e[cp]();if(Ee(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(UI(e))return function K2(e){return new je(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(jI(e))return function Y2(e){return new je(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,xI)})}(e);if(BI(e))return KI(e);if(WI(e))return function Q2(e){return new je(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(qI(e))return function Z2(e){return KI(GI(e))}(e)}throw HI(e)}function KI(e){return new je(t=>{(function J2(e,t){var n,r,i,o;return function OI(e,t,n,r){return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(u.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=VI(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function Tr(e,t,n,r=0,i=!1){const o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function mt(e,t,n=1/0){return Ee(t)?mt((r,i)=>Ie((o,s)=>t(r,o,i,s))(Zt(e(r,i))),n):("number"==typeof t&&(n=t),Qe((r,i)=>function X2(e,t,n,r,i,o,s,a){const c=[];let l=0,u=0,d=!1;const f=()=>{d&&!c.length&&!l&&t.complete()},h=v=>l<r?m(v):c.push(v),m=v=>{o&&t.next(v),l++;let E=!1;Zt(n(v,u++)).subscribe($e(t,I=>{i?.(I),o?h(I):t.next(I)},()=>{E=!0},void 0,()=>{if(E)try{for(l--;c.length&&l<r;){const I=c.shift();s?Tr(t,s,()=>m(I)):m(I)}f()}catch(I){t.error(I)}}))};return e.subscribe($e(t,h,()=>{d=!0,f()})),()=>{a?.()}}(r,i,e,n)))}function Ho(e=1/0){return mt(Dr,e)}const Qn=new je(e=>e.complete());function pp(e){return e[e.length-1]}function gp(e){return Ee(pp(e))?e.pop():void 0}function Ra(e){return function tV(e){return e&&Ee(e.schedule)}(pp(e))?e.pop():void 0}function uu(e,t=0){return Qe((n,r)=>{n.subscribe($e(r,i=>Tr(r,e,()=>r.next(i),t),()=>Tr(r,e,()=>r.complete(),t),i=>Tr(r,e,()=>r.error(i),t)))})}function du(e,t=0){return Qe((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function YI(e,t){if(!e)throw new Error("Iterable cannot be null");return new je(n=>{Tr(n,t,()=>{const r=e[Symbol.asyncIterator]();Tr(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function at(e,t){return t?function cV(e,t){if(null!=e){if($I(e))return function rV(e,t){return Zt(e).pipe(du(t),uu(t))}(e,t);if(UI(e))return function oV(e,t){return new je(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(jI(e))return function iV(e,t){return Zt(e).pipe(du(t),uu(t))}(e,t);if(BI(e))return YI(e,t);if(WI(e))return function sV(e,t){return new je(n=>{let r;return Tr(n,t,()=>{r=e[zI](),Tr(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>Ee(r?.return)&&r.return()})}(e,t);if(qI(e))return function aV(e,t){return YI(GI(e),t)}(e,t)}throw HI(e)}(e,t):Zt(e)}class tt extends un{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function W(...e){return at(e,Ra(e))}function QI(e={}){const{connector:t=(()=>new un),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return o=>{let s,a,c,l=0,u=!1,d=!1;const f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),s=c=void 0,u=d=!1},m=()=>{const v=s;h(),v?.unsubscribe()};return Qe((v,E)=>{l++,!d&&!u&&f();const I=c=c??t();E.add(()=>{l--,0===l&&!d&&!u&&(a=mp(m,i))}),I.subscribe(E),!s&&l>0&&(s=new xa({next:b=>I.next(b),error:b=>{d=!0,f(),a=mp(h,n,b),I.error(b)},complete:()=>{u=!0,f(),a=mp(h,r),I.complete()}}),Zt(v).subscribe(s))})(o)}}function mp(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new xa({next:()=>{r.unsubscribe(),e()}});return Zt(t(...n)).subscribe(r)}function Zn(e,t){return Qe((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe($e(r,c=>{i?.unsubscribe();let l=0;const u=o++;Zt(e(c,u)).subscribe(i=$e(r,d=>r.next(t?t(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function dV(e,t){return e===t}function ye(e){for(let t in e)if(e[t]===ye)return t;throw Error("Could not find renamed property on target object.")}function fu(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function nt(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(nt).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function _p(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const fV=ye({__forward_ref__:ye});function Se(e){return e.__forward_ref__=Se,e.toString=function(){return nt(this())},e}function H(e){return vp(e)?e():e}function vp(e){return"function"==typeof e&&e.hasOwnProperty(fV)&&e.__forward_ref__===Se}function yp(e){return e&&!!e.\u0275providers}const ZI="https://g.co/ng/security#xss";class T extends Error{constructor(t,n){super(function hu(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function G(e){return"string"==typeof e?e:null==e?"":String(e)}function Cp(e,t){throw new T(-201,!1)}function wn(e,t){null==e&&function $(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function V(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Ot(e){return{providers:e.providers||[],imports:e.imports||[]}}function pu(e){return JI(e,mu)||JI(e,XI)}function JI(e,t){return e.hasOwnProperty(t)?e[t]:null}function gu(e){return e&&(e.hasOwnProperty(bp)||e.hasOwnProperty(CV))?e[bp]:null}const mu=ye({\u0275prov:ye}),bp=ye({\u0275inj:ye}),XI=ye({ngInjectableDef:ye}),CV=ye({ngInjectorDef:ye});var ne=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(ne||{});let wp;function Jt(e){const t=wp;return wp=e,t}function tD(e,t,n){const r=pu(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&ne.Optional?null:void 0!==t?t:void Cp(nt(e))}const Ae=globalThis;class O{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=V({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Pa={},Sp="__NG_DI_FLAG__",_u="ngTempTokenPath",EV=/\n/gm,rD="__source";let zo;function oi(e){const t=zo;return zo=e,t}function TV(e,t=ne.Default){if(void 0===zo)throw new T(-203,!1);return null===zo?tD(e,void 0,t):zo.get(e,t&ne.Optional?null:void 0,t)}function N(e,t=ne.Default){return(function eD(){return wp}()||TV)(H(e),t)}function L(e,t=ne.Default){return N(e,vu(t))}function vu(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Ap(e){const t=[];for(let n=0;n<e.length;n++){const r=H(e[n]);if(Array.isArray(r)){if(0===r.length)throw new T(900,!1);let i,o=ne.Default;for(let s=0;s<r.length;s++){const a=r[s],c=SV(a);"number"==typeof c?-1===c?i=a.token:o|=c:i=a}t.push(N(i,o))}else t.push(N(r))}return t}function Na(e,t){return e[Sp]=t,e.prototype[Sp]=t,e}function SV(e){return e[Sp]}function Sr(e){return{toString:e}.toString()}var yu=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(yu||{}),On=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(On||{});const Jn={},le=[],Cu=ye({\u0275cmp:ye}),Mp=ye({\u0275dir:ye}),xp=ye({\u0275pipe:ye}),oD=ye({\u0275mod:ye}),Ar=ye({\u0275fac:ye}),ka=ye({__NG_ELEMENT_ID__:ye}),sD=ye({__NG_ENV_ID__:ye});function aD(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}function Rp(e,t,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{const o=i,s=n[++r];lD(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function cD(e){return 3===e||4===e||6===e}function lD(e){return 64===e.charCodeAt(0)}function Oa(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||uD(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function uD(e,t,n,r,i){let o=0,s=e.length;if(-1===t)s=-1;else for(;o<e.length;){const a=e[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<e.length;){const a=e[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}const dD="ng-template";function xV(e,t,n){let r=0,i=!0;for(;r<e.length;){let o=e[r++];if("string"==typeof o&&i){const s=e[r++];if(n&&"class"===o&&-1!==aD(s.toLowerCase(),t,0))return!0}else{if(1===o){for(;r<e.length&&"string"==typeof(o=e[r++]);)if(o.toLowerCase()===t)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function fD(e){return 4===e.type&&e.value!==dD}function RV(e,t,n){return t===(4!==e.type||n?e.value:dD)}function PV(e,t,n){let r=4;const i=e.attrs||[],o=function OV(e){for(let t=0;t<e.length;t++)if(cD(e[t]))return t;return e.length}(i);let s=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!RV(e,c,n)||""===c&&1===t.length){if(Fn(r))return!1;s=!0}}else{const l=8&r?c:t[++a];if(8&r&&null!==e.attrs){if(!xV(e.attrs,l,n)){if(Fn(r))return!1;s=!0}continue}const d=NV(8&r?"class":c,i,fD(e),n);if(-1===d){if(Fn(r))return!1;s=!0;continue}if(""!==l){let f;f=d>o?"":i[d+1].toLowerCase();const h=8&r?f:null;if(h&&-1!==aD(h,l,0)||2&r&&l!==f){if(Fn(r))return!1;s=!0}}}}else{if(!s&&!Fn(r)&&!Fn(c))return!1;if(s&&Fn(c))continue;s=!1,r=c|1&r}}return Fn(r)||s}function Fn(e){return 0==(1&e)}function NV(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){const s=t[i];if(s===e)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++i];for(;"string"==typeof a;)a=t[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function FV(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function hD(e,t,n=!1){for(let r=0;r<t.length;r++)if(PV(e,t[r],n))return!0;return!1}function pD(e,t){return e?":not("+t.trim()+")":t}function VV(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&r){const a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Fn(s)&&(t+=pD(o,i),i=""),r=s,o=o||!Fn(r);n++}return""!==i&&(t+=pD(o,i)),t}function pe(e){return Sr(()=>{const t=mD(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===yu.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||On.Emulated,styles:e.styles||le,_:null,schemas:e.schemas||null,tView:null,id:""};_D(n);const r=e.dependencies;return n.directiveDefs=bu(r,!1),n.pipeDefs=bu(r,!0),n.id=function GV(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const i of n)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(n),n})}function BV(e){return oe(e)||_t(e)}function HV(e){return null!==e}function Xt(e){return Sr(()=>({type:e.type,bootstrap:e.bootstrap||le,declarations:e.declarations||le,imports:e.imports||le,exports:e.exports||le,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function gD(e,t){if(null==e)return Jn;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}function z(e){return Sr(()=>{const t=mD(e);return _D(t),t})}function en(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function oe(e){return e[Cu]||null}function _t(e){return e[Mp]||null}function Ft(e){return e[xp]||null}function fn(e,t){const n=e[oD]||null;if(!n&&!0===t)throw new Error(`Type ${nt(e)} does not have '\u0275mod' property.`);return n}function mD(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Jn,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||le,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:gD(e.inputs,t),outputs:gD(e.outputs)}}function _D(e){e.features?.forEach(t=>t(e))}function bu(e,t){if(!e)return null;const n=t?Ft:BV;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(HV)}const Be=0,P=1,Y=2,ke=3,Ln=4,Fa=5,At=6,Go=7,qe=8,si=9,qo=10,q=11,La=12,vD=13,Ko=14,Ke=15,Va=16,Yo=17,Xn=18,Ua=19,yD=20,ai=21,Mr=22,ja=23,$a=24,re=25,Pp=1,CD=2,er=7,Qo=9,vt=11;function tn(e){return Array.isArray(e)&&"object"==typeof e[Pp]}function Lt(e){return Array.isArray(e)&&!0===e[Pp]}function Np(e){return 0!=(4&e.flags)}function Bi(e){return e.componentOffset>-1}function Eu(e){return 1==(1&e.flags)}function Vn(e){return!!e.template}function kp(e){return 0!=(512&e[Y])}function Hi(e,t){return e.hasOwnProperty(Ar)?e[Ar]:null}let yt=null,Iu=!1;function En(e){const t=yt;return yt=e,t}const ED={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function DD(e){if(!Ha(e)||e.dirty){if(!e.producerMustRecompute(e)&&!AD(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function SD(e){e.dirty=!0,function TD(e){if(void 0===e.liveConsumerNode)return;const t=Iu;Iu=!0;try{for(const n of e.liveConsumerNode)n.dirty||SD(n)}finally{Iu=t}}(e),e.consumerMarkedDirty?.(e)}function Fp(e){return e&&(e.nextProducerIndex=0),En(e)}function Lp(e,t){if(En(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Ha(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Du(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function AD(e){Zo(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(DD(n),r!==n.version))return!0}return!1}function MD(e){if(Zo(e),Ha(e))for(let t=0;t<e.producerNode.length;t++)Du(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Du(e,t){if(function RD(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),Zo(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)Du(e.producerNode[r],e.producerIndexOfThis[r]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];Zo(i),i.producerIndexOfThis[r]=t}}function Ha(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Zo(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let PD=null;const FD=()=>{},oU=(()=>({...ED,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:FD}))();class sU{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function In(){return LD}function LD(e){return e.type.prototype.ngOnChanges&&(e.setInput=cU),aU}function aU(){const e=UD(this),t=e?.current;if(t){const n=e.previous;if(n===Jn)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function cU(e,t,n,r){const i=this.declaredInputs[n],o=UD(e)||function lU(e,t){return e[VD]=t}(e,{previous:Jn,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[i];s[i]=new sU(c&&c.currentValue,t,a===Jn),e[r]=t}In.ngInherit=!0;const VD="__ngSimpleChanges__";function UD(e){return e[VD]||null}const tr=function(e,t,n){};function Me(e){for(;Array.isArray(e);)e=e[Be];return e}function Tu(e,t){return Me(t[e])}function nn(e,t){return Me(t[e.index])}function BD(e,t){return e.data[t]}function Jo(e,t){return e[t]}function hn(e,t){const n=t[e];return tn(n)?n:n[Be]}function li(e,t){return null==t?null:e[t]}function HD(e){e[Yo]=0}function gU(e){1024&e[Y]||(e[Y]|=1024,WD(e,1))}function zD(e){1024&e[Y]&&(e[Y]&=-1025,WD(e,-1))}function WD(e,t){let n=e[ke];if(null===n)return;n[Fa]+=t;let r=n;for(n=n[ke];null!==n&&(1===t&&1===r[Fa]||-1===t&&0===r[Fa]);)n[Fa]+=t,r=n,n=n[ke]}const B={lFrame:nT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function KD(){return B.bindingsEnabled}function D(){return B.lFrame.lView}function se(){return B.lFrame.tView}function ge(e){return B.lFrame.contextLView=e,e[qe]}function me(e){return B.lFrame.contextLView=null,e}function Ct(){let e=YD();for(;null!==e&&64===e.type;)e=e.parent;return e}function YD(){return B.lFrame.currentTNode}function nr(e,t){const n=B.lFrame;n.currentTNode=e,n.isParent=t}function Bp(){return B.lFrame.isParent}function Vt(){const e=B.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function es(){return B.lFrame.bindingIndex++}function Rr(e){const t=B.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function SU(e,t){const n=B.lFrame;n.bindingIndex=n.bindingRootIndex=e,zp(t)}function zp(e){B.lFrame.currentDirectiveIndex=e}function Gp(e){B.lFrame.currentQueryIndex=e}function MU(e){const t=e[P];return 2===t.type?t.declTNode:1===t.type?e[At]:null}function eT(e,t,n){if(n&ne.SkipSelf){let i=t,o=e;for(;!(i=i.parent,null!==i||n&ne.Host||(i=MU(o),null===i||(o=o[Ko],10&i.type))););if(null===i)return!1;t=i,e=o}const r=B.lFrame=tT();return r.currentTNode=t,r.lView=e,!0}function qp(e){const t=tT(),n=e[P];B.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function tT(){const e=B.lFrame,t=null===e?null:e.child;return null===t?nT(e):t}function nT(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function rT(){const e=B.lFrame;return B.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const iT=rT;function Kp(){const e=rT();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Ut(){return B.lFrame.selectedIndex}function zi(e){B.lFrame.selectedIndex=e}function Le(){const e=B.lFrame;return BD(e.tView,e.selectedIndex)}let sT=!0;function Su(){return sT}function ui(e){sT=e}function Au(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),l&&((e.viewHooks??=[]).push(n,l),(e.viewCheckHooks??=[]).push(n,l)),null!=u&&(e.destroyHooks??=[]).push(n,u)}}function Mu(e,t,n){aT(e,t,3,n)}function xu(e,t,n,r){(3&e[Y])===n&&aT(e,t,n,r)}function Yp(e,t){let n=e[Y];(3&n)===t&&(n&=8191,n+=1,e[Y]=n)}function aT(e,t,n,r){const o=r??-1,s=t.length-1;let a=0;for(let c=void 0!==r?65535&e[Yo]:0;c<s;c++)if("number"==typeof t[c+1]){if(a=t[c],null!=r&&a>=r)break}else t[c]<0&&(e[Yo]+=65536),(a<o||-1==o)&&(LU(e,n,t,c),e[Yo]=(4294901760&e[Yo])+c+2),c++}function cT(e,t){tr(4,e,t);const n=En(null);try{t.call(e)}finally{En(n),tr(5,e,t)}}function LU(e,t,n,r){const i=n[r]<0,o=n[r+1],a=e[i?-n[r]:n[r]];i?e[Y]>>13<e[Yo]>>16&&(3&e[Y])===t&&(e[Y]+=8192,cT(a,o)):cT(a,o)}const ts=-1;class Wa{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Zp(e){return e!==ts}function Ga(e){return 32767&e}function qa(e,t){let n=function $U(e){return e>>16}(e),r=t;for(;n>0;)r=r[Ko],n--;return r}let Jp=!0;function Ru(e){const t=Jp;return Jp=e,t}const lT=255,uT=5;let BU=0;const rr={};function Pu(e,t){const n=dT(e,t);if(-1!==n)return n;const r=t[P];r.firstCreatePass&&(e.injectorIndex=t.length,Xp(r.data,e),Xp(t,null),Xp(r.blueprint,null));const i=Nu(e,t),o=e.injectorIndex;if(Zp(i)){const s=Ga(i),a=qa(i,t),c=a[P].data;for(let l=0;l<8;l++)t[o+l]=a[s+l]|c[s+l]}return t[o+8]=i,o}function Xp(e,t){e.push(0,0,0,0,0,0,0,0,t)}function dT(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Nu(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){if(r=vT(i),null===r)return ts;if(n++,i=i[Ko],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return ts}function eg(e,t,n){!function HU(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ka)&&(r=n[ka]),null==r&&(r=n[ka]=BU++);const i=r&lT;t.data[e+(i>>uT)]|=1<<i}(e,t,n)}function fT(e,t,n){if(n&ne.Optional||void 0!==e)return e;Cp()}function hT(e,t,n,r){if(n&ne.Optional&&void 0===r&&(r=null),!(n&(ne.Self|ne.Host))){const i=e[si],o=Jt(void 0);try{return i?i.get(t,r,n&ne.Optional):tD(t,r,n&ne.Optional)}finally{Jt(o)}}return fT(r,0,n)}function pT(e,t,n,r=ne.Default,i){if(null!==e){if(2048&t[Y]&&!(r&ne.Self)){const s=function YU(e,t,n,r,i){let o=e,s=t;for(;null!==o&&null!==s&&2048&s[Y]&&!(512&s[Y]);){const a=gT(o,s,n,r|ne.Self,rr);if(a!==rr)return a;let c=o.parent;if(!c){const l=s[yD];if(l){const u=l.get(n,rr,r);if(u!==rr)return u}c=vT(s),s=s[Ko]}o=c}return i}(e,t,n,r,rr);if(s!==rr)return s}const o=gT(e,t,n,r,rr);if(o!==rr)return o}return hT(t,n,r,i)}function gT(e,t,n,r,i){const o=function GU(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(ka)?e[ka]:void 0;return"number"==typeof t?t>=0?t&lT:KU:t}(n);if("function"==typeof o){if(!eT(t,e,r))return r&ne.Host?fT(i,0,r):hT(t,n,r,i);try{let s;if(s=o(r),null!=s||r&ne.Optional)return s;Cp()}finally{iT()}}else if("number"==typeof o){let s=null,a=dT(e,t),c=ts,l=r&ne.Host?t[Ke][At]:null;for((-1===a||r&ne.SkipSelf)&&(c=-1===a?Nu(e,t):t[a+8],c!==ts&&_T(r,!1)?(s=t[P],a=Ga(c),t=qa(c,t)):a=-1);-1!==a;){const u=t[P];if(mT(o,a,u.data)){const d=WU(a,t,n,s,r,l);if(d!==rr)return d}c=t[a+8],c!==ts&&_T(r,t[P].data[a+8]===l)&&mT(o,a,t)?(s=u,a=Ga(c),t=qa(c,t)):a=-1}}return i}function WU(e,t,n,r,i,o){const s=t[P],a=s.data[e+8],u=function ku(e,t,n,r,i){const o=e.providerIndexes,s=t.data,a=1048575&o,c=e.directiveStart,u=o>>20,f=i?a+u:e.directiveEnd;for(let h=r?a:a+u;h<f;h++){const m=s[h];if(h<c&&n===m||h>=c&&m.type===n)return h}if(i){const h=s[c];if(h&&Vn(h)&&h.type===n)return c}return null}(a,s,n,null==r?Bi(a)&&Jp:r!=s&&0!=(3&a.type),i&ne.Host&&o===a);return null!==u?Wi(t,s,u,a):rr}function Wi(e,t,n,r){let i=e[n];const o=t.data;if(function VU(e){return e instanceof Wa}(i)){const s=i;s.resolving&&function hV(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new T(-200,`Circular dependency in DI detected for ${e}${n}`)}(function he(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():G(e)}(o[n]));const a=Ru(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?Jt(s.injectImpl):null;eT(e,r,ne.Default);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function FU(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){const s=LD(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}(n,o[n],t)}finally{null!==l&&Jt(l),Ru(a),s.resolving=!1,iT()}}return i}function mT(e,t,n){return!!(n[t+(e>>uT)]&1<<e)}function _T(e,t){return!(e&ne.Self||e&ne.Host&&t)}class jt{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return pT(this._tNode,this._lView,t,vu(r),n)}}function KU(){return new jt(Ct(),D())}function bt(e){return Sr(()=>{const t=e.prototype.constructor,n=t[Ar]||tg(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const o=i[Ar]||tg(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function tg(e){return vp(e)?()=>{const t=tg(H(e));return t&&t()}:Hi(e)}function vT(e){const t=e[P],n=t.type;return 2===n?t.declTNode:1===n?e[At]:null}const rs="__parameters__";function os(e,t,n){return Sr(()=>{const r=function ng(e){return function(...n){if(e){const r=e(...n);for(const i in r)this[i]=r[i]}}}(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(c,l,u){const d=c.hasOwnProperty(rs)?c[rs]:Object.defineProperty(c,rs,{value:[]})[rs];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function as(e,t){e.forEach(n=>Array.isArray(n)?as(n,t):t(n))}function CT(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Fu(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function pn(e,t,n){let r=cs(e,t);return r>=0?e[1|r]=n:(r=~r,function nj(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function rg(e,t){const n=cs(e,t);if(n>=0)return e[1|n]}function cs(e,t){return function bT(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}(e,t,1)}const $t=Na(os("Optional"),8),Vu=Na(os("SkipSelf"),4);function Hu(e){return 128==(128&e.flags)}var di=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(di||{});const cg=new Map;let Tj=0;const ug="__ngContext__";function Mt(e,t){tn(t)?(e[ug]=t[Ua],function Aj(e){cg.set(e[Ua],e)}(t)):e[ug]=t}let dg;function fg(e,t){return dg(e,t)}function Xa(e){const t=e[ke];return Lt(t)?t[ke]:t}function $T(e){return HT(e[La])}function BT(e){return HT(e[Ln])}function HT(e){for(;null!==e&&!Lt(e);)e=e[Ln];return e}function ds(e,t,n,r,i){if(null!=r){let o,s=!1;Lt(r)?o=r:tn(r)&&(s=!0,r=r[Be]);const a=Me(r);0===e&&null!==n?null==i?qT(t,n,a):Gi(t,n,a,i||null,!0):1===e&&null!==n?Gi(t,n,a,i||null,!0):2===e?function Qu(e,t,n){const r=Ku(e,t);r&&function qj(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,a,s):3===e&&t.destroyNode(a),null!=o&&function Qj(e,t,n,r,i){const o=n[er];o!==Me(n)&&ds(t,e,r,o,i);for(let a=vt;a<n.length;a++){const c=n[a];tc(c[P],c,e,t,r,o)}}(t,e,o,n,i)}}function Gu(e,t,n){return e.createElement(t,n)}function WT(e,t){const n=e[Qo],r=n.indexOf(t);zD(t),n.splice(r,1)}function qu(e,t){if(e.length<=vt)return;const n=vt+t,r=e[n];if(r){const i=r[Va];null!==i&&i!==e&&WT(i,r),t>0&&(e[n-1][Ln]=r[Ln]);const o=Fu(e,vt+t);!function Uj(e,t){tc(e,t,t[q],2,null,null),t[Be]=null,t[At]=null}(r[P],r);const s=o[Xn];null!==s&&s.detachView(o[P]),r[ke]=null,r[Ln]=null,r[Y]&=-129}return r}function pg(e,t){if(!(256&t[Y])){const n=t[q];t[ja]&&MD(t[ja]),t[$a]&&MD(t[$a]),n.destroyNode&&tc(e,t,n,3,null,null),function Bj(e){let t=e[La];if(!t)return gg(e[P],e);for(;t;){let n=null;if(tn(t))n=t[La];else{const r=t[vt];r&&(n=r)}if(!n){for(;t&&!t[Ln]&&t!==e;)tn(t)&&gg(t[P],t),t=t[ke];null===t&&(t=e),tn(t)&&gg(t[P],t),n=t&&t[Ln]}t=n}}(t)}}function gg(e,t){if(!(256&t[Y])){t[Y]&=-129,t[Y]|=256,function Gj(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof Wa)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],c=o[s+1];tr(4,a,c);try{c.call(a)}finally{tr(5,a,c)}}else{tr(4,i,o);try{o.call(i)}finally{tr(5,i,o)}}}}}(e,t),function Wj(e,t){const n=e.cleanup,r=t[Go];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(t[Go]=null);const i=t[ai];if(null!==i){t[ai]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(e,t),1===t[P].type&&t[q].destroy();const n=t[Va];if(null!==n&&Lt(t[ke])){n!==t[ke]&&WT(n,t);const r=t[Xn];null!==r&&r.detachView(e)}!function Mj(e){cg.delete(e[Ua])}(t)}}function mg(e,t,n){return function GT(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[Be];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=e.data[r.directiveStart+i];if(o===On.None||o===On.Emulated)return null}return nn(r,n)}}(e,t.parent,n)}function Gi(e,t,n,r,i){e.insertBefore(t,n,r,i)}function qT(e,t,n){e.appendChild(t,n)}function KT(e,t,n,r,i){null!==r?Gi(e,t,n,r,i):qT(e,t,n)}function Ku(e,t){return e.parentNode(t)}let _g,Zu,bg,Ju,ZT=function QT(e,t,n){return 40&e.type?nn(e,n):null};function Yu(e,t,n,r){const i=mg(e,r,t),o=t[q],a=function YT(e,t,n){return ZT(e,t,n)}(r.parent||t[At],r,t);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)KT(o,i,n[c],a,!1);else KT(o,i,n,a,!1);void 0!==_g&&_g(o,r,t,n,i)}function ec(e,t){if(null!==t){const n=t.type;if(3&n)return nn(t,e);if(4&n)return vg(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return ec(e,r);{const i=e[t.index];return Lt(i)?vg(-1,i):Me(i)}}if(32&n)return fg(t,e)()||Me(e[t.index]);{const r=XT(e,t);return null!==r?Array.isArray(r)?r[0]:ec(Xa(e[Ke]),r):ec(e,t.next)}}return null}function XT(e,t){return null!==t?e[Ke][At].projection[t.projection]:null}function vg(e,t){const n=vt+e+1;if(n<t.length){const r=t[n],i=r[P].firstChild;if(null!==i)return ec(r,i)}return t[er]}function yg(e,t,n,r,i,o,s){for(;null!=n;){const a=r[n.index],c=n.type;if(s&&0===t&&(a&&Mt(Me(a),r),n.flags|=2),32!=(32&n.flags))if(8&c)yg(e,t,n.child,r,i,o,!1),ds(t,e,i,a,o);else if(32&c){const l=fg(n,r);let u;for(;u=l();)ds(t,e,i,u,o);ds(t,e,i,a,o)}else 16&c?t0(e,t,r,n,i,o):ds(t,e,i,a,o);n=s?n.projectionNext:n.next}}function tc(e,t,n,r,i,o){yg(n,r,e.firstChild,t,i,o,!1)}function t0(e,t,n,r,i,o){const s=n[Ke],c=s[At].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)ds(t,e,i,c[l],o);else{let l=c;const u=s[ke];Hu(r)&&(l.flags|=128),yg(e,t,l,u,i,o,!0)}}function n0(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function r0(e,t,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&Rp(e,t,r),null!==i&&n0(e,t,i),null!==o&&function Jj(e,t,n){e.setAttribute(t,"style",n)}(e,t,o)}function fs(e){return function Cg(){if(void 0===Zu&&(Zu=null,Ae.trustedTypes))try{Zu=Ae.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Zu}()?.createHTML(e)||e}function hs(){if(void 0!==bg)return bg;if(typeof document<"u")return document;throw new T(210,!1)}function wg(){if(void 0===Ju&&(Ju=null,Ae.trustedTypes))try{Ju=Ae.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Ju}function o0(e){return wg()?.createHTML(e)||e}function a0(e){return wg()?.createScriptURL(e)||e}class c0{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ZI})`}}function fi(e){return e instanceof c0?e.changingThisBreaksApplicationSecurity:e}function nc(e,t){const n=function c$(e){return e instanceof c0&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${ZI})`)}return n===t}class l${constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(fs(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.removeChild(n.firstChild),n)}catch{return null}}}class u${constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const n=this.inertDocument.createElement("template");return n.innerHTML=fs(t),n}}const f$=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Eg(e){return(e=String(e)).match(f$)?e:"unsafe:"+e}function Pr(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function rc(...e){const t={};for(const n of e)for(const r in n)n.hasOwnProperty(r)&&(t[r]=!0);return t}const u0=Pr("area,br,col,hr,img,wbr"),d0=Pr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),f0=Pr("rp,rt"),Ig=rc(u0,rc(d0,Pr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),rc(f0,Pr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),rc(f0,d0)),Dg=Pr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),h0=rc(Dg,Pr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Pr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),h$=Pr("script,style,template");class p${constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let n=t.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(t){const n=t.nodeName.toLowerCase();if(!Ig.hasOwnProperty(n))return this.sanitizedSomething=!0,!h$.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=t.attributes;for(let i=0;i<r.length;i++){const o=r.item(i),s=o.name,a=s.toLowerCase();if(!h0.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;Dg[a]&&(c=Eg(c)),this.buf.push(" ",s,'="',p0(c),'"')}return this.buf.push(">"),!0}endElement(t){const n=t.nodeName.toLowerCase();Ig.hasOwnProperty(n)&&!u0.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(p0(t))}checkClobberedElement(t,n){if(n&&(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return n}}const g$=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,m$=/([^\#-~ |!])/g;function p0(e){return e.replace(/&/g,"&amp;").replace(g$,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(m$,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Xu;function Tg(e){return"content"in e&&function v$(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var ps=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(ps||{});function ed(e){const t=ic();return t?o0(t.sanitize(ps.HTML,e)||""):nc(e,"HTML")?o0(fi(e)):function _$(e,t){let n=null;try{Xu=Xu||function l0(e){const t=new u$(e);return function d$(){try{return!!(new window.DOMParser).parseFromString(fs(""),"text/html")}catch{return!1}}()?new l$(t):t}(e);let r=t?String(t):"";n=Xu.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Xu.getInertBodyElement(r)}while(r!==o);return fs((new p$).sanitizeChildren(Tg(n)||n))}finally{if(n){const r=Tg(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}(hs(),G(e))}function g0(e){const t=ic();return t?t.sanitize(ps.URL,e)||"":nc(e,"URL")?fi(e):Eg(G(e))}function m0(e){const t=ic();if(t)return a0(t.sanitize(ps.RESOURCE_URL,e)||"");if(nc(e,"ResourceURL"))return a0(fi(e));throw new T(904,!1)}function ic(){const e=D();return e&&e[qo].sanitizer}const oc=new O("ENVIRONMENT_INITIALIZER"),v0=new O("INJECTOR",-1),y0=new O("INJECTOR_DEF_TYPES");class Sg{get(t,n=Pa){if(n===Pa){const r=new Error(`NullInjectorError: No provider for ${nt(t)}!`);throw r.name="NullInjectorError",r}return n}}function I$(...e){return{\u0275providers:b0(0,e),\u0275fromNgModule:!0}}function b0(e,...t){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return as(t,s=>{const a=s;td(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&w0(i,o),n}function w0(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:i}=e[n];Ag(i,o=>{t(o,r)})}}function td(e,t,n,r){if(!(e=H(e)))return!1;let i=null,o=gu(e);const s=!o&&oe(e);if(o||s){if(s&&!s.standalone)return!1;i=e}else{const c=e.ngModule;if(o=gu(c),!o)return!1;i=c}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of c)td(l,t,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let l;r.add(i);try{as(o.imports,u=>{td(u,t,n,r)&&(l||=[],l.push(u))})}finally{}void 0!==l&&w0(l,t)}if(!a){const l=Hi(i)||(()=>new i);t({provide:i,useFactory:l,deps:le},i),t({provide:y0,useValue:i,multi:!0},i),t({provide:oc,useValue:()=>N(i),multi:!0},i)}const c=o.providers;if(null!=c&&!a){const l=e;Ag(c,u=>{t(u,l)})}}}return i!==e&&void 0!==e.providers}function Ag(e,t){for(let n of e)yp(n)&&(n=n.\u0275providers),Array.isArray(n)?Ag(n,t):t(n)}const D$=ye({provide:String,useValue:ye});function Mg(e){return null!==e&&"object"==typeof e&&D$ in e}function qi(e){return"function"==typeof e}const xg=new O("Set Injector scope."),nd={},S$={};let Rg;function rd(){return void 0===Rg&&(Rg=new Sg),Rg}class Tn{}class gs extends Tn{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ng(t,s=>this.processProvider(s)),this.records.set(v0,ms(void 0,this)),i.has("environment")&&this.records.set(Tn,ms(void 0,this));const o=this.records.get(xg);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(y0.multi,le,ne.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=oi(this),r=Jt(void 0);try{return t()}finally{oi(n),Jt(r)}}get(t,n=Pa,r=ne.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(sD))return t[sD](this);r=vu(r);const o=oi(this),s=Jt(void 0);try{if(!(r&ne.SkipSelf)){let c=this.records.get(t);if(void 0===c){const l=function P$(e){return"function"==typeof e||"object"==typeof e&&e instanceof O}(t)&&pu(t);c=l&&this.injectableDefInScope(l)?ms(Pg(t),nd):null,this.records.set(t,c)}if(null!=c)return this.hydrate(t,c)}return(r&ne.Self?rd():this.parent).get(t,n=r&ne.Optional&&n===Pa?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[_u]=a[_u]||[]).unshift(nt(t)),o)throw a;return function AV(e,t,n,r){const i=e[_u];throw t[rD]&&i.unshift(t[rD]),e.message=function MV(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=nt(t);if(Array.isArray(t))i=t.map(nt).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):nt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(EV,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[_u]=null,e}(a,t,"R3InjectorError",this.source)}throw a}finally{Jt(s),oi(o)}}resolveInjectorInitializers(){const t=oi(this),n=Jt(void 0);try{const i=this.get(oc.multi,le,ne.Self);for(const o of i)o()}finally{oi(t),Jt(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(nt(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new T(205,!1)}processProvider(t){let n=qi(t=H(t))?t:H(t&&t.provide);const r=function M$(e){return Mg(e)?ms(void 0,e.useValue):ms(D0(e),nd)}(t);if(qi(t)||!0!==t.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=ms(void 0,nd,!0),i.factory=()=>Ap(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===nd&&(n.value=S$,n.value=n.factory()),"object"==typeof n.value&&n.value&&function R$(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=H(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Pg(e){const t=pu(e),n=null!==t?t.factory:Hi(e);if(null!==n)return n;if(e instanceof O)throw new T(204,!1);if(e instanceof Function)return function A$(e){const t=e.length;if(t>0)throw function Qa(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new T(204,!1);const n=function yV(e){return e&&(e[mu]||e[XI])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new T(204,!1)}function D0(e,t,n){let r;if(qi(e)){const i=H(e);return Hi(i)||Pg(i)}if(Mg(e))r=()=>H(e.useValue);else if(function I0(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Ap(e.deps||[]));else if(function E0(e){return!(!e||!e.useExisting)}(e))r=()=>N(H(e.useExisting));else{const i=H(e&&(e.useClass||e.provide));if(!function x$(e){return!!e.deps}(e))return Hi(i)||Pg(i);r=()=>new i(...Ap(e.deps))}return r}function ms(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Ng(e,t){for(const n of e)Array.isArray(n)?Ng(n,t):n&&yp(n)?Ng(n.\u0275providers,t):t(n)}const id=new O("AppId",{providedIn:"root",factory:()=>N$}),N$="ng",T0=new O("Platform Initializer"),hi=new O("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),S0=new O("CSP nonce",{providedIn:"root",factory:()=>hs().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let A0=(e,t,n)=>null;function $g(e,t,n=!1){return A0(e,t,n)}class H${}class R0{}class W${resolveComponentFactory(t){throw function z$(e){const t=Error(`No component factory found for ${nt(e)}.`);return t.ngComponent=e,t}(t)}}let ud=(()=>{class e{static{this.NULL=new W$}}return e})();function G$(){return ys(Ct(),D())}function ys(e,t){return new gn(nn(e,t))}let gn=(()=>{class e{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=G$}}return e})();class N0{}let Nr=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function K$(){const e=D(),n=hn(Ct().index,e);return(tn(n)?n:e)[q]}()}}return e})(),Y$=(()=>{class e{static{this.\u0275prov=V({token:e,providedIn:"root",factory:()=>null})}}return e})();class Cs{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const k0=new Cs("16.2.12"),zg={};function V0(e,t=null,n=null,r){const i=U0(e,t,n,r);return i.resolveInjectorInitializers(),i}function U0(e,t=null,n=null,r,i=new Set){const o=[n||le,I$(e)];return r=r||("object"==typeof e?void 0:nt(e)),new gs(o,t||rd(),r||null,i)}let xt=(()=>{class e{static{this.THROW_IF_NOT_FOUND=Pa}static{this.NULL=new Sg}static create(n,r){if(Array.isArray(n))return V0({name:""},r,n,"");{const i=n.name??"";return V0({name:i},n.parent,n.providers,i)}}static{this.\u0275prov=V({token:e,providedIn:"any",factory:()=>N(v0)})}static{this.__NG_ELEMENT_ID__=-1}}return e})();function Gg(e){return e.ngOriginalError}class kr{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Gg(t);for(;n&&Gg(n);)n=Gg(n);return n||null}}function qg(e){return t=>{setTimeout(e,void 0,t)}}const ae=class rB extends un{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&"object"==typeof t){const c=t;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=qg(o),i&&(i=qg(i)),s&&(s=qg(s)));const a=super.subscribe({next:i,error:o,complete:s});return t instanceof Qt&&t.add(a),a}};function $0(...e){}class _e{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ae(!1),this.onMicrotaskEmpty=new ae(!1),this.onStable=new ae(!1),this.onError=new ae(!1),typeof Zone>"u")throw new T(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function iB(){const e="function"==typeof Ae.requestAnimationFrame;let t=Ae[e?"requestAnimationFrame":"setTimeout"],n=Ae[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function aB(e){const t=()=>{!function sB(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Ae,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Yg(e),e.isCheckStableRunning=!0,Kg(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Yg(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(function lB(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,o,s,a);try{return B0(e),n.invokeTask(i,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&t(),H0(e)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return B0(e),n.invoke(i,o,s,a,c)}finally{e.shouldCoalesceRunChangeDetection&&t(),H0(e)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,Yg(e),Kg(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_e.isInAngularZone())throw new T(909,!1)}static assertNotInAngularZone(){if(_e.isInAngularZone())throw new T(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,oB,$0,$0);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const oB={};function Kg(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Yg(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function B0(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function H0(e){e._nesting--,Kg(e)}class cB{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ae,this.onMicrotaskEmpty=new ae,this.onStable=new ae,this.onError=new ae}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}const z0=new O("",{providedIn:"root",factory:W0});function W0(){const e=L(_e);let t=!0;return function lV(...e){const t=Ra(e),n=function nV(e,t){return"number"==typeof pp(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?Zt(r[0]):Ho(n)(at(r,t)):Qn}(new je(i=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{i.next(t),i.complete()})}),new je(i=>{let o;e.runOutsideAngular(()=>{o=e.onStable.subscribe(()=>{_e.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,i.next(!0))})})});const s=e.onUnstable.subscribe(()=>{_e.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(QI()))}function Or(e){return e instanceof Function?e():e}let Qg=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=V({token:e,providedIn:"root",factory:()=>new e})}}return e})();function cc(e){for(;e;){e[Y]|=64;const t=Xa(e);if(kp(e)&&!t)return e;e=t}return null}const Q0=new O("",{providedIn:"root",factory:()=>!1});let hd=null;function eS(e,t){return e[t]??rS()}function tS(e,t){const n=rS();n.producerNode?.length&&(e[t]=hd,n.lView=e,hd=nS())}const yB={...ED,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{cc(e.lView)},lView:null};function nS(){return Object.create(yB)}function rS(){return hd??=nS(),hd}const K={};function w(e){iS(se(),D(),Ut()+e,!1)}function iS(e,t,n,r){if(!r)if(3==(3&t[Y])){const o=e.preOrderCheckHooks;null!==o&&Mu(t,o,n)}else{const o=e.preOrderHooks;null!==o&&xu(t,o,0,n)}zi(n)}function C(e,t=ne.Default){const n=D();return null===n?N(e,t):pT(Ct(),n,H(e),t)}function pd(e,t,n,r,i,o,s,a,c,l,u){const d=t.blueprint.slice();return d[Be]=i,d[Y]=140|r,(null!==l||e&&2048&e[Y])&&(d[Y]|=2048),HD(d),d[ke]=d[Ko]=e,d[qe]=n,d[qo]=s||e&&e[qo],d[q]=a||e&&e[q],d[si]=c||e&&e[si]||null,d[At]=o,d[Ua]=function Sj(){return Tj++}(),d[Mr]=u,d[yD]=l,d[Ke]=2==t.type?e[Ke]:d,d}function Es(e,t,n,r,i){let o=e.data[t];if(null===o)o=function Zg(e,t,n,r,i){const o=YD(),s=Bp(),c=e.data[t]=function SB(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return function Xo(){return null!==B.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(e,t,n,r,i),function TU(){return B.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function za(){const e=B.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return nr(o,!0),o}function lc(e,t,n,r){if(0===n)return-1;const i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function sS(e,t,n,r,i){const o=eS(t,ja),s=Ut(),a=2&r;try{zi(-1),a&&t.length>re&&iS(e,t,re,!1),tr(a?2:0,i);const l=a?o:null,u=Fp(l);try{null!==l&&(l.dirty=!1),n(r,i)}finally{Lp(l,u)}}finally{a&&null===t[ja]&&tS(t,ja),zi(s),tr(a?3:1,i)}}function Jg(e,t,n){if(Np(t)){const r=En(null);try{const o=t.directiveEnd;for(let s=t.directiveStart;s<o;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{En(r)}}}function Xg(e,t,n){KD()&&(function kB(e,t,n,r){const i=n.directiveStart,o=n.directiveEnd;Bi(n)&&function $B(e,t,n){const r=nn(t,e),i=aS(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=gd(e,pd(e,i,null,s,r,t,null,e[qo].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=a}(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||Pu(n,t),Mt(r,t);const s=n.initialInputs;for(let a=i;a<o;a++){const c=e.data[a],l=Wi(t,e,a,n);Mt(l,t),null!==s&&BB(0,a-i,l,c,0,s),Vn(c)&&(hn(n.index,t)[qe]=Wi(t,e,a,n))}}(e,t,n,nn(n,t)),64==(64&n.flags)&&fS(e,t,n))}function em(e,t,n=nn){const r=t.localNames;if(null!==r){let i=t.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(t,e):e[s];e[i++]=a}}}function aS(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=tm(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function tm(e,t,n,r,i,o,s,a,c,l,u){const d=re+r,f=d+i,h=function bB(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:K);return n}(d,f),m="function"==typeof l?l():l;return h[P]={type:e,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:m,incompleteFirstPass:!1,ssrId:u}}let cS=e=>null;function lS(e,t,n,r){for(let i in e)if(e.hasOwnProperty(i)){n=null===n?{}:n;const o=e[i];null===r?uS(n,t,i,o):r.hasOwnProperty(i)&&uS(n,t,r[i],o)}return n}function uS(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function nm(e,t,n,r){if(KD()){const i=null===r?null:{"":-1},o=function FB(e,t){const n=e.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(hD(t,s.selectors,!1))if(r||(r=[]),Vn(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),rm(e,t,a.length)}else r.unshift(s),rm(e,t,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(e,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&dS(e,t,n,s,i,a),i&&function LB(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const o=n[t[i+1]];if(null==o)throw new T(-301,!1);r.push(t[i],o)}}}(n,r,i)}n.mergedAttrs=Oa(n.mergedAttrs,n.attrs)}function dS(e,t,n,r,i,o){for(let l=0;l<r.length;l++)eg(Pu(n,t),e,r[l].type);!function UB(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let l=0;l<r.length;l++){const u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=lc(e,t,r.length,null);for(let l=0;l<r.length;l++){const u=r[l];n.mergedAttrs=Oa(n.mergedAttrs,u.hostAttrs),jB(e,n,t,c,u),VB(c,u,i),null!==u.contentQueries&&(n.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=64);const d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function AB(e,t,n){const i=t.directiveEnd,o=e.data,s=t.attrs,a=[];let c=null,l=null;for(let u=t.directiveStart;u<i;u++){const d=o[u],f=n?n.get(d):null,m=f?f.outputs:null;c=lS(d.inputs,u,c,f?f.inputs:null),l=lS(d.outputs,u,l,m);const v=null===c||null===s||fD(t)?null:HB(c,u,s);a.push(v)}null!==c&&(c.hasOwnProperty("class")&&(t.flags|=8),c.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=c,t.outputs=l}(e,n,o)}function fS(e,t,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function AU(){return B.lFrame.currentDirectiveIndex}();try{zi(o);for(let a=r;a<i;a++){const c=e.data[a],l=t[a];zp(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&OB(c,l)}}finally{zi(-1),zp(s)}}function OB(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function rm(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function VB(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Vn(t)&&(n[""]=e)}}function jB(e,t,n,r,i){e.data[r]=i;const o=i.factory||(i.factory=Hi(i.type)),s=new Wa(o,Vn(i),C);e.blueprint[r]=s,n[r]=s,function PB(e,t,n,r,i){const o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~t.index;(function NB(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(e,t,r,lc(e,n,i.hostVars,K),i)}function ir(e,t,n,r,i,o){const s=nn(e,t);!function im(e,t,n,r,i,o,s){if(null==o)e.removeAttribute(t,i,n);else{const a=null==s?G(o):s(o,r||"",i);e.setAttribute(t,i,a,n)}}(t[q],s,o,e.value,n,r,i)}function BB(e,t,n,r,i,o){const s=o[t];if(null!==s)for(let a=0;a<s.length;)hS(r,n,s[a++],s[a++],s[a++])}function hS(e,t,n,r,i){const o=En(null);try{const s=e.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(t,i)),null!==e.setInput?e.setInput(t,i,n,r):t[r]=i}finally{En(o)}}function HB(e,t,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(e.hasOwnProperty(o)){null===r&&(r=[]);const s=e[o];for(let a=0;a<s.length;a+=2)if(s[a]===t){r.push(o,s[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function pS(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null,null]}function gS(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r+1];if(-1!==o){const s=e.data[o];Gp(n[r]),s.contentQueries(2,t[o],o)}}}function gd(e,t){return e[La]?e[vD][Ln]=t:e[La]=t,e[vD]=t,t}function om(e,t,n){Gp(0);const r=En(null);try{t(e,n)}finally{En(r)}}function yS(e,t){const n=e[si],r=n?n.get(kr,null):null;r&&r.handleError(t)}function sm(e,t,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++];hS(e.data[s],t[s],r,a,i)}}function Fr(e,t,n){const r=Tu(t,e);!function zT(e,t,n){e.setValue(t,n)}(e[q],r,n)}function zB(e,t){const n=hn(t,e),r=n[P];!function WB(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const i=n[Be];null!==i&&null===n[Mr]&&(n[Mr]=$g(i,n[si])),am(r,n,n[qe])}function am(e,t,n){qp(t);try{const r=e.viewQuery;null!==r&&om(1,r,n);const i=e.template;null!==i&&sS(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&gS(e,t),e.staticViewQueries&&om(2,e.viewQuery,n);const o=e.components;null!==o&&function GB(e,t){for(let n=0;n<t.length;n++)zB(e,t[n])}(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[Y]&=-5,Kp()}}let CS=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const o=typeof Zone>"u"?null:Zone.current,s=function iU(e,t,n){const r=Object.create(oU);n&&(r.consumerAllowSignalWrites=!0),r.fn=e,r.schedule=t;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>SD(r),run:()=>{if(r.dirty=!1,r.hasRun&&!AD(r))return;r.hasRun=!0;const s=Fp(r);try{r.cleanupFn(),r.cleanupFn=FD,r.fn(i)}finally{Lp(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(n,l=>{this.all.has(l)&&this.queue.set(l,o)},i);let a;this.all.add(s),s.notify();const c=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=V({token:e,providedIn:"root",factory:()=>new e})}}return e})();function md(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?i=_p(i,a):2==o&&(r=_p(r,a+": "+t[++s]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function uc(e,t,n,r,i=!1){for(;null!==n;){const o=t[n.index];null!==o&&r.push(Me(o)),Lt(o)&&bS(o,r);const s=n.type;if(8&s)uc(e,t,n.child,r);else if(32&s){const a=fg(n,t);let c;for(;c=a();)r.push(c)}else if(16&s){const a=XT(t,n);if(Array.isArray(a))r.push(...a);else{const c=Xa(t[Ke]);uc(c[P],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function bS(e,t){for(let n=vt;n<e.length;n++){const r=e[n],i=r[P].firstChild;null!==i&&uc(r[P],r,i,t)}e[er]!==e[Be]&&t.push(e[er])}function _d(e,t,n,r=!0){const i=t[qo],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{wS(e,t,e.template,n)}catch(c){throw r&&yS(t,c),c}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function wS(e,t,n,r){const i=t[Y];if(256!=(256&i)){t[qo].effectManager?.flush(),qp(t);try{HD(t),function ZD(e){return B.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&sS(e,t,n,2,r);const s=3==(3&i);if(s){const l=e.preOrderCheckHooks;null!==l&&Mu(t,l,null)}else{const l=e.preOrderHooks;null!==l&&xu(t,l,0,null),Yp(t,0)}if(function YB(e){for(let t=$T(e);null!==t;t=BT(t)){if(!t[CD])continue;const n=t[Qo];for(let r=0;r<n.length;r++){gU(n[r])}}}(t),ES(t,2),null!==e.contentQueries&&gS(e,t),s){const l=e.contentCheckHooks;null!==l&&Mu(t,l)}else{const l=e.contentHooks;null!==l&&xu(t,l,1),Yp(t,1)}!function CB(e,t){const n=e.hostBindingOpCodes;if(null===n)return;const r=eS(t,$a);try{for(let i=0;i<n.length;i++){const o=n[i];if(o<0)zi(~o);else{const s=o,a=n[++i],c=n[++i];SU(a,s),r.dirty=!1;const l=Fp(r);try{c(2,t[s])}finally{Lp(r,l)}}}}finally{null===t[$a]&&tS(t,$a),zi(-1)}}(e,t);const a=e.components;null!==a&&DS(t,a,0);const c=e.viewQuery;if(null!==c&&om(2,c,r),s){const l=e.viewCheckHooks;null!==l&&Mu(t,l)}else{const l=e.viewHooks;null!==l&&xu(t,l,2),Yp(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Y]&=-73,zD(t)}finally{Kp()}}}function ES(e,t){for(let n=$T(e);null!==n;n=BT(n))for(let r=vt;r<n.length;r++)IS(n[r],t)}function QB(e,t,n){IS(hn(t,e),n)}function IS(e,t){if(!function hU(e){return 128==(128&e[Y])}(e))return;const n=e[P],r=e[Y];if(80&r&&0===t||1024&r||2===t)wS(n,e,n.template,e[qe]);else if(e[Fa]>0){ES(e,1);const i=n.components;null!==i&&DS(e,i,1)}}function DS(e,t,n){for(let r=0;r<t.length;r++)QB(e,t[r],n)}class dc{get rootNodes(){const t=this._lView,n=t[P];return uc(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[qe]}set context(t){this._lView[qe]=t}get destroyed(){return 256==(256&this._lView[Y])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[ke];if(Lt(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(qu(t,r),Fu(n,r))}this._attachedToViewContainer=!1}pg(this._lView[P],this._lView)}onDestroy(t){!function GD(e,t){if(256==(256&e[Y]))throw new T(911,!1);null===e[ai]&&(e[ai]=[]),e[ai].push(t)}(this._lView,t)}markForCheck(){cc(this._cdRefInjectingView||this._lView)}detach(){this._lView[Y]&=-129}reattach(){this._lView[Y]|=128}detectChanges(){_d(this._lView[P],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new T(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function $j(e,t){tc(e,t,t[q],2,null,null)}(this._lView[P],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new T(902,!1);this._appRef=t}}class ZB extends dc{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;_d(t[P],t,t[qe],!1)}checkNoChanges(){}get context(){return null}}class TS extends ud{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=oe(t);return new fc(n,this.ngModule)}}function SS(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class XB{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=vu(r);const i=this.injector.get(t,zg,r);return i!==zg||n===zg?i:this.parentInjector.get(t,n,r)}}class fc extends R0{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=SS(t.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return SS(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function UV(e){return e.map(VV).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){let o=(i=i||this.ngModule)instanceof Tn?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new XB(t,o):t,a=s.get(N0,null);if(null===a)throw new T(407,!1);const d={rendererFactory:a,sanitizer:s.get(Y$,null),effectManager:s.get(CS,null),afterRenderEventManager:s.get(Qg,null)},f=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",m=r?function wB(e,t,n,r){const o=r.get(Q0,!1)||n===On.ShadowDom,s=e.selectRootElement(t,o);return function EB(e){cS(e)}(s),s}(f,r,this.componentDef.encapsulation,s):Gu(f,h,function JB(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(h)),I=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let b=null;null!==m&&(b=$g(m,s,!0));const F=tm(0,null,null,1,0,null,null,null,null,null,null),j=pd(null,F,null,I,null,null,d,f,s,null,b);let ee,gt;qp(j);try{const kn=this.componentDef;let Vi,$o=null;kn.findHostDirectiveDefs?(Vi=[],$o=new Map,kn.findHostDirectiveDefs(kn,Vi,$o),Vi.push(kn)):Vi=[kn];const TI=function tH(e,t){const n=e[P],r=re;return e[r]=t,Es(n,r,2,"#host",null)}(j,m),mae=function nH(e,t,n,r,i,o,s){const a=i[P];!function rH(e,t,n,r){for(const i of e)t.mergedAttrs=Oa(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(md(t,t.mergedAttrs,!0),null!==n&&r0(r,n,t))}(r,e,t,s);let c=null;null!==t&&(c=$g(t,i[si]));const l=o.rendererFactory.createRenderer(t,n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const d=pd(i,aS(n),null,u,i[e.index],e,o,l,null,null,c);return a.firstCreatePass&&rm(a,e,r.length-1),gd(i,d),i[e.index]=d}(TI,m,kn,Vi,j,d,f);gt=BD(F,re),m&&function oH(e,t,n,r){if(r)Rp(e,n,["ng-version",k0.full]);else{const{attrs:i,classes:o}=function jV(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!Fn(i))break;i=o}r++}return{attrs:t,classes:n}}(t.selectors[0]);i&&Rp(e,n,i),o&&o.length>0&&n0(e,n,o.join(" "))}}(f,kn,m,r),void 0!==n&&function sH(e,t,n){const r=e.projection=[];for(let i=0;i<t.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(gt,this.ngContentSelectors,n),ee=function iH(e,t,n,r,i,o){const s=Ct(),a=i[P],c=nn(s,i);dS(a,i,s,n,null,r);for(let u=0;u<n.length;u++)Mt(Wi(i,a,s.directiveStart+u,s),i);fS(a,i,s),c&&Mt(c,i);const l=Wi(i,a,s.directiveStart+s.componentOffset,s);if(e[qe]=i[qe]=l,null!==o)for(const u of o)u(l,t);return Jg(a,s,e),l}(mae,kn,Vi,$o,j,[aH]),am(F,j,null)}finally{Kp()}return new eH(this.componentType,ee,ys(gt,j),j,gt)}}class eH extends H${constructor(t,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new ZB(i),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const o=this._rootLView;sm(o[P],o,i,t,n),this.previousInputValues.set(t,n),cc(hn(this._tNode.index,o))}}get injector(){return new jt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function aH(){const e=Ct();Au(D()[P],e)}function Ce(e){let t=function AS(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let i;if(Vn(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new T(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);const s=e;s.inputs=vd(e.inputs),s.inputTransforms=vd(e.inputTransforms),s.declaredInputs=vd(e.declaredInputs),s.outputs=vd(e.outputs);const a=i.hostBindings;a&&dH(e,a);const c=i.viewQuery,l=i.contentQueries;if(c&&lH(e,c),l&&uH(e,l),fu(e.inputs,i.inputs),fu(e.declaredInputs,i.declaredInputs),fu(e.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),fu(s.inputTransforms,i.inputTransforms)),Vn(i)&&i.data.animation){const u=e.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(e),a===Ce&&(n=!1)}}t=Object.getPrototypeOf(t)}!function cH(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Oa(i.hostAttrs,n=Oa(n,i.hostAttrs))}}(r)}function vd(e){return e===Jn?{}:e===le?[]:e}function lH(e,t){const n=e.viewQuery;e.viewQuery=n?(r,i)=>{t(r,i),n(r,i)}:t}function uH(e,t){const n=e.contentQueries;e.contentQueries=n?(r,i,o)=>{t(r,i,o),n(r,i,o)}:t}function dH(e,t){const n=e.hostBindings;e.hostBindings=n?(r,i)=>{t(r,i),n(r,i)}:t}function PS(e){const t=e.inputConfig,n={};for(const r in t)if(t.hasOwnProperty(r)){const i=t[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}e.inputTransforms=n}function yd(e){return!!cm(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function cm(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function or(e,t,n){return e[t]=n}function Rt(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Ki(e,t,n,r){const i=Rt(e,t,n);return Rt(e,t+1,r)||i}function sr(e,t,n,r){const i=D();return Rt(i,es(),t)&&(se(),ir(Le(),i,e,t,n,r)),sr}function Ts(e,t,n,r,i,o){const a=Ki(e,function xr(){return B.lFrame.bindingIndex}(),n,i);return Rr(2),a?t+G(n)+r+G(i)+o:K}function R(e,t,n,r,i,o,s,a){const c=D(),l=se(),u=e+re,d=l.firstCreatePass?function FH(e,t,n,r,i,o,s,a,c){const l=t.consts,u=Es(t,e,4,s||null,li(l,a));nm(t,n,u,li(l,c)),Au(t,u);const d=u.tView=tm(2,u,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l,null);return null!==t.queries&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}(u,l,c,t,n,r,i,o,s):l.data[u];nr(d,!1);const f=WS(l,c,d,e);Su()&&Yu(l,c,f,d),Mt(f,c),gd(c,c[u]=pS(f,c,f,d)),Eu(d)&&Xg(l,c,d),null!=s&&em(c,d,a)}let WS=function GS(e,t,n,r){return ui(!0),t[q].createComment("")};function ar(e){return Jo(function DU(){return B.lFrame.contextLView}(),re+e)}function S(e,t,n){const r=D();return Rt(r,es(),t)&&function mn(e,t,n,r,i,o,s,a){const c=nn(t,n);let u,l=t.inputs;!a&&null!=l&&(u=l[r])?(sm(e,n,u,r,i),Bi(t)&&function xB(e,t){const n=hn(t,e);16&n[Y]||(n[Y]|=64)}(n,t.index)):3&t.type&&(r=function MB(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=s?s(i,t.value||"",r):i,o.setProperty(c,r,i))}(se(),Le(),r,e,t,r[q],n,!1),S}function pm(e,t,n,r,i){const s=i?"class":"style";sm(e,n,t.inputs[s],s,r)}function g(e,t,n,r){const i=D(),o=se(),s=re+e,a=i[q],c=o.firstCreatePass?function jH(e,t,n,r,i,o){const s=t.consts,c=Es(t,e,2,r,li(s,i));return nm(t,n,c,li(s,o)),null!==c.attrs&&md(c,c.attrs,!1),null!==c.mergedAttrs&&md(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(s,o,i,t,n,r):o.data[s],l=qS(o,i,c,a,t,e);i[s]=l;const u=Eu(c);return nr(c,!0),r0(a,l,c),32!=(32&c.flags)&&Su()&&Yu(o,i,l,c),0===function _U(){return B.lFrame.elementDepthCount}()&&Mt(l,i),function vU(){B.lFrame.elementDepthCount++}(),u&&(Xg(o,i,c),Jg(o,c,i)),null!==r&&em(i,c),g}function p(){let e=Ct();Bp()?function Hp(){B.lFrame.isParent=!1}():(e=e.parent,nr(e,!1));const t=e;(function CU(e){return B.skipHydrationRootTNode===e})(t)&&function IU(){B.skipHydrationRootTNode=null}(),function yU(){B.lFrame.elementDepthCount--}();const n=se();return n.firstCreatePass&&(Au(n,e),Np(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function UU(e){return 0!=(8&e.flags)}(t)&&pm(n,t,D(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function jU(e){return 0!=(16&e.flags)}(t)&&pm(n,t,D(),t.stylesWithoutHost,!1),p}function A(e,t,n,r){return g(e,t,n,r),p(),A}let qS=(e,t,n,r,i,o)=>(ui(!0),Gu(r,i,function oT(){return B.lFrame.currentNamespace}()));function wt(){return D()}function _c(e){return!!e&&"function"==typeof e.then}function QS(e){return!!e&&"function"==typeof e.subscribe}function U(e,t,n,r){const i=D(),o=se(),s=Ct();return function JS(e,t,n,r,i,o,s){const a=Eu(r),l=e.firstCreatePass&&function _S(e){return e.cleanup||(e.cleanup=[])}(e),u=t[qe],d=function mS(e){return e[Go]||(e[Go]=[])}(t);let f=!0;if(3&r.type||s){const v=nn(r,t),E=s?s(v):v,I=d.length,b=s?j=>s(Me(j[r.index])):r.index;let F=null;if(!s&&a&&(F=function GH(e,t,n,r){const i=e.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=t[Go],c=i[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(e,t,i,r.index)),null!==F)(F.__ngLastListenerFn__||F).__ngNextListenerFn__=o,F.__ngLastListenerFn__=o,f=!1;else{o=eA(r,t,u,o,!1);const j=n.listen(E,i,o);d.push(o,j),l&&l.push(i,b,I,I+1)}}else o=eA(r,t,u,o,!1);const h=r.outputs;let m;if(f&&null!==h&&(m=h[i])){const v=m.length;if(v)for(let E=0;E<v;E+=2){const ee=t[m[E]][m[E+1]].subscribe(o),gt=d.length;d.push(o,ee),l&&l.push(i,r.index,gt,-(gt+1))}}}(o,i,i[q],s,e,t,r),U}function XS(e,t,n,r){try{return tr(6,t,n),!1!==n(r)}catch(i){return yS(e,i),!1}finally{tr(7,t,n)}}function eA(e,t,n,r,i){return function o(s){if(s===Function)return r;cc(e.componentOffset>-1?hn(e.index,t):t);let c=XS(t,n,r,s),l=o.__ngNextListenerFn__;for(;l;)c=XS(t,n,l,s)&&c,l=l.__ngNextListenerFn__;return i&&!1===c&&s.preventDefault(),c}}function k(e=1){return function xU(e){return(B.lFrame.contextLView=function RU(e,t){for(;e>0;)t=t[Ko],e--;return t}(e,B.lFrame.contextLView))[qe]}(e)}function Id(e,t){return e<<17|t<<2}function pi(e){return e>>17&32767}function vm(e){return 2|e}function Yi(e){return(131068&e)>>2}function ym(e,t){return-131069&e|t<<2}function Cm(e){return 1|e}function uA(e,t,n,r,i){const o=e[n+1],s=null===t;let a=r?pi(o):Yi(o),c=!1;for(;0!==a&&(!1===c||s);){const u=e[a+1];t3(e[a],t)&&(c=!0,e[a+1]=r?Cm(u):vm(u)),a=r?pi(u):Yi(u)}c&&(e[n+1]=r?vm(o):Cm(o))}function t3(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&cs(e,t)>=0}const it={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function dA(e){return e.substring(it.key,it.keyEnd)}function fA(e,t){const n=it.textEnd;return n===t?-1:(t=it.keyEnd=function o3(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,it.key=t,n),Ns(e,t,n))}function Ns(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function Dd(e,t){return function Un(e,t,n,r){const i=D(),o=se(),s=Rr(2);o.firstUpdatePass&&yA(o,e,s,r),t!==K&&Rt(i,s,t)&&bA(o,o.data[Ut()],i,i[q],e,i[s+1]=function m3(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=nt(fi(e)))),e}(t,n),r,s)}(e,t,null,!0),Dd}function _n(e){!function jn(e,t,n,r){const i=se(),o=Rr(2);i.firstUpdatePass&&yA(i,null,o,r);const s=D();if(n!==K&&Rt(s,o,n)){const a=i.data[Ut()];if(EA(a,r)&&!vA(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(n=_p(c,n||"")),pm(i,a,s,n,r)}else!function g3(e,t,n,r,i,o,s,a){i===K&&(i=le);let c=0,l=0,u=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;null!==u||null!==d;){const f=c<i.length?i[c+1]:void 0,h=l<o.length?o[l+1]:void 0;let v,m=null;u===d?(c+=2,l+=2,f!==h&&(m=d,v=h)):null===d||null!==u&&u<d?(c+=2,m=u):(l+=2,m=d,v=h),null!==m&&bA(e,t,n,r,m,v,s,a),u=c<i.length?i[c]:null,d=l<o.length?o[l]:null}}(i,a,s,s[q],s[o+1],s[o+1]=function h3(e,t,n){if(null==n||""===n)return le;const r=[],i=fi(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)e(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&e(r,o,i[o]);else"string"==typeof i&&t(r,i);return r}(e,t,n),r,o)}}(p3,lr,e,!0)}function lr(e,t){for(let n=function r3(e){return function pA(e){it.key=0,it.keyEnd=0,it.value=0,it.valueEnd=0,it.textEnd=e.length}(e),fA(e,Ns(e,0,it.textEnd))}(t);n>=0;n=fA(t,n))pn(e,dA(t),!0)}function vA(e,t){return t>=e.expandoStartIndex}function yA(e,t,n,r){const i=e.data;if(null===i[n+1]){const o=i[Ut()],s=vA(e,n);EA(o,r)&&null===t&&!s&&(t=!1),t=function l3(e,t,n,r){const i=function Wp(e){const t=B.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=vc(n=bm(null,e,t,n,r),t.attrs,r),o=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==i)if(n=bm(i,e,t,n,r),null===o){let c=function u3(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Yi(r))return e[pi(r)]}(e,t,r);void 0!==c&&Array.isArray(c)&&(c=bm(null,e,t,c[1],r),c=vc(c,t.attrs,r),function d3(e,t,n,r){e[pi(n?t.classBindings:t.styleBindings)]=r}(e,t,r,c))}else o=function f3(e,t,n){let r;const i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++)r=vc(r,e[o].hostAttrs,n);return vc(r,t.attrs,n)}(e,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),n}(i,o,t,r),function XH(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=pi(s),c=Yi(s);e[r]=n;let u,l=!1;if(Array.isArray(n)?(u=n[1],(null===u||cs(n,u)>0)&&(l=!0)):u=n,i)if(0!==c){const f=pi(e[a+1]);e[r+1]=Id(f,a),0!==f&&(e[f+1]=ym(e[f+1],r)),e[a+1]=function ZH(e,t){return 131071&e|t<<17}(e[a+1],r)}else e[r+1]=Id(a,0),0!==a&&(e[a+1]=ym(e[a+1],r)),a=r;else e[r+1]=Id(c,0),0===a?a=r:e[c+1]=ym(e[c+1],r),c=r;l&&(e[r+1]=vm(e[r+1])),uA(e,u,r,!0),uA(e,u,r,!1),function e3(e,t,n,r,i){const o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&cs(o,t)>=0&&(n[r+1]=Cm(n[r+1]))}(t,u,e,r,o),s=Id(a,c),o?t.classBindings=s:t.styleBindings=s}(i,o,t,n,s,r)}}function bm(e,t,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=t[a],r=vc(r,o.hostAttrs,i),o!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function vc(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?i=s:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),pn(e,s,!!n||t[++o]))}return void 0===e?null:e}function p3(e,t,n){const r=String(t);""!==r&&!r.includes(" ")&&pn(e,r,n)}function bA(e,t,n,r,i,o,s,a){if(!(3&t.type))return;const c=e.data,l=c[a+1],u=function JH(e){return 1==(1&e)}(l)?wA(c,t,n,i,Yi(l),s):void 0;Td(u)||(Td(o)||function QH(e){return 2==(2&e)}(l)&&(o=wA(c,null,n,i,a,s)),function Zj(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:di.DashCase;null==i?e.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=di.Important),e.setStyle(n,r,i,o))}}(r,s,Tu(Ut(),n),i,o))}function wA(e,t,n,r,i,o){const s=null===t;let a;for(;i>0;){const c=e[i],l=Array.isArray(c),u=l?c[1]:c,d=null===u;let f=n[i+1];f===K&&(f=d?le:void 0);let h=d?rg(f,r):u===r?f:void 0;if(l&&!Td(h)&&(h=rg(c,r)),Td(h)&&(a=h,s))return a;const m=e[i+1];i=s?pi(m):Yi(m)}if(null!==t){let c=o?t.residualClasses:t.residualStyles;null!=c&&(a=rg(c,r))}return a}function Td(e){return void 0!==e}function EA(e,t){return 0!=(e.flags&(t?8:16))}function y(e,t=""){const n=D(),r=se(),i=e+re,o=r.firstCreatePass?Es(r,i,1,t,null):r.data[i],s=IA(r,n,o,t,e);n[i]=s,Su()&&Yu(r,n,s,o),nr(o,!1)}let IA=(e,t,n,r,i)=>(ui(!0),function Wu(e,t){return e.createText(t)}(t[q],r));function ce(e){return ot("",e,""),ce}function ot(e,t,n){const r=D(),i=function Ds(e,t,n,r){return Rt(e,es(),n)?t+G(n)+r:K}(r,e,t,n);return i!==K&&Fr(r,Ut(),i),ot}function Sd(e,t,n,r,i){const o=D(),s=Ts(o,e,t,n,r,i);return s!==K&&Fr(o,Ut(),s),Sd}const Qi=void 0;var V3=["en",[["a","p"],["AM","PM"],Qi],[["AM","PM"],Qi,Qi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Qi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Qi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Qi,"{1} 'at' {0}",Qi],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function L3(e){const n=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===r?1:5}];let ks={};function Bt(e){const t=function j3(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=zA(t);if(n)return n;const r=t.split("-")[0];if(n=zA(r),n)return n;if("en"===r)return V3;throw new T(701,!1)}function zA(e){return e in ks||(ks[e]=Ae.ng&&Ae.ng.common&&Ae.ng.common.locales&&Ae.ng.common.locales[e]),ks[e]}var xe=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(xe||{});const Os="en-US";let WA=Os;function Im(e,t,n,r,i){if(e=H(e),Array.isArray(e))for(let o=0;o<e.length;o++)Im(e[o],t,n,r,i);else{const o=se(),s=D(),a=Ct();let c=qi(e)?e:H(e.provide);const l=D0(e),u=1048575&a.providerIndexes,d=a.directiveStart,f=a.providerIndexes>>20;if(qi(e)||!e.multi){const h=new Wa(l,i,C),m=Tm(c,t,i?u:u+f,d);-1===m?(eg(Pu(a,s),o,c),Dm(o,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[m]=h,s[m]=h)}else{const h=Tm(c,t,u+f,d),m=Tm(c,t,u,u+f),E=m>=0&&n[m];if(i&&!E||!i&&!(h>=0&&n[h])){eg(Pu(a,s),o,c);const I=function V4(e,t,n,r,i){const o=new Wa(e,n,C);return o.multi=[],o.index=t,o.componentProviders=0,mM(o,i,r&&!n),o}(i?L4:F4,n.length,i,r,l);!i&&E&&(n[m].providerFactory=I),Dm(o,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(I),s.push(I)}else Dm(o,e,h>-1?h:m,mM(n[i?m:h],l,!i&&r));!i&&r&&E&&n[m].componentProviders++}}}function Dm(e,t,n,r){const i=qi(t),o=function T$(e){return!!e.useClass}(t);if(i||o){const c=(o?H(t.useClass):t).prototype.ngOnDestroy;if(c){const l=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const u=l.indexOf(n);-1===u?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function mM(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Tm(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function F4(e,t,n,r){return Sm(this.multi,[])}function L4(e,t,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Wi(n,n[P],this.providerFactory.index,r);o=a.slice(0,s),Sm(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],Sm(i,o);return o}function Sm(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Oe(e,t=[]){return n=>{n.providersResolver=(r,i)=>function O4(e,t,n){const r=se();if(r.firstCreatePass){const i=Vn(e);Im(n,r.data,r.blueprint,i,!0),Im(t,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,t)}}class Zi{}class _M{}class Am extends Zi{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new TS(this);const i=fn(t);this._bootstrapComponents=Or(i.bootstrap),this._r3Injector=U0(t,n,[{provide:Zi,useValue:this},{provide:ud,useValue:this.componentFactoryResolver},...r],nt(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Mm extends _M{constructor(t){super(),this.moduleType=t}create(t){return new Am(this.moduleType,t,[])}}class vM extends Zi{constructor(t){super(),this.componentFactoryResolver=new TS(this),this.instance=null;const n=new gs([...t.providers,{provide:Zi,useValue:this},{provide:ud,useValue:this.componentFactoryResolver}],t.parent||rd(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function xm(e,t,n=null){return new vM({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let $4=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=b0(0,n.type),i=r.length>0?xm([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=V({token:e,providedIn:"environment",factory:()=>new e(N(Tn))})}}return e})();function yM(e){e.getStandaloneInjector=t=>t.get($4).getOrCreateStandaloneInjector(e)}function AM(e,t,n,r,i,o,s){const a=t+n;return Ki(e,a,i,o)?or(e,a+2,s?r.call(s,i,o):r(i,o)):function Ic(e,t){const n=e[t];return n===K?void 0:n}(e,a+2)}function Ze(e,t){const n=se();let r;const i=e+re;n.firstCreatePass?(r=function oz(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}}(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=Hi(r.type)),a=Jt(C);try{const c=Ru(!1),l=o();return Ru(c),function UH(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,D(),i,l),l}finally{Jt(a)}}function Je(e,t,n,r){const i=e+re,o=D(),s=Jo(o,i);return function Dc(e,t){return e[P].data[t].pure}(o,i)?AM(o,Vt(),t,s.transform,n,r,s):s.transform(n,r)}function fz(e,t,n,r=!0){const i=t[P];if(function Hj(e,t,n,r){const i=vt+r,o=n.length;r>0&&(n[i-1][Ln]=t),r<o-vt?(t[Ln]=n[i],CT(n,vt+r,t)):(n.push(t),t[Ln]=null),t[ke]=n;const s=t[Va];null!==s&&n!==s&&function zj(e,t){const n=e[Qo];t[Ke]!==t[ke][ke][Ke]&&(e[CD]=!0),null===n?e[Qo]=[t]:n.push(t)}(s,t);const a=t[Xn];null!==a&&a.insertView(e),t[Y]|=128}(i,t,e,n),r){const o=vg(n,e),s=t[q],a=Ku(s,e[er]);null!==a&&function jj(e,t,n,r,i,o){r[Be]=i,r[At]=t,tc(e,r,n,1,i,o)}(i,e[At],s,t,a,o)}}let Lr=(()=>{class e{static{this.__NG_ELEMENT_ID__=gz}}return e})();const hz=Lr,pz=class extends hz{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){const i=function dz(e,t,n,r){const i=t.tView,a=pd(e,i,n,4096&e[Y]?4096:16,null,t,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Va]=e[t.index];const l=e[Xn];return null!==l&&(a[Xn]=l.createEmbeddedView(i)),am(i,a,n),a}(this._declarationLView,this._declarationTContainer,t,{injector:n,hydrationInfo:r});return new dc(i)}};function gz(){return Pd(Ct(),D())}function Pd(e,t){return 4&e.type?new pz(t,e,ys(e,t)):null}let $n=(()=>{class e{static{this.__NG_ELEMENT_ID__=bz}}return e})();function bz(){return function VM(e,t){let n;const r=t[e.index];return Lt(r)?n=r:(n=pS(r,t,null,e),t[e.index]=n,gd(t,n)),UM(n,t,e,r),new FM(n,e,t)}(Ct(),D())}const wz=$n,FM=class extends wz{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return ys(this._hostTNode,this._hostLView)}get injector(){return new jt(this._hostTNode,this._hostLView)}get parentInjector(){const t=Nu(this._hostTNode,this._hostLView);if(Zp(t)){const n=qa(t,this._hostLView),r=Ga(t);return new jt(n[P].data[r+8],n)}return new jt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=LM(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-vt}createEmbeddedView(t,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=t.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,false),a}createComponent(t,n,r,i,o){const s=t&&!function Ya(e){return"function"==typeof e}(t);let a;if(s)a=n;else{const v=n||{};a=v.index,r=v.injector,i=v.projectableNodes,o=v.environmentInjector||v.ngModuleRef}const c=s?t:new fc(oe(t)),l=r||this.parentInjector;if(!o&&null==c.ngModule){const E=(s?l:this.parentInjector).get(Tn,null);E&&(o=E)}oe(c.componentType??{});const h=c.create(l,i,null,o);return this.insertImpl(h.hostView,a,false),h}insert(t,n){return this.insertImpl(t,n,!1)}insertImpl(t,n,r){const i=t._lView;if(function pU(e){return Lt(e[ke])}(i)){const c=this.indexOf(t);if(-1!==c)this.detach(c);else{const l=i[ke],u=new FM(l,l[At],l[ke]);u.detach(u.indexOf(t))}}const s=this._adjustIndex(n),a=this._lContainer;return fz(a,i,s,!r),t.attachToViewContainerRef(),CT(Nm(a),s,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=LM(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=qu(this._lContainer,n);r&&(Fu(Nm(this._lContainer),n),pg(r[P],r))}detach(t){const n=this._adjustIndex(t,-1),r=qu(this._lContainer,n);return r&&null!=Fu(Nm(this._lContainer),n)?new dc(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function LM(e){return e[8]}function Nm(e){return e[8]||(e[8]=[])}let UM=function jM(e,t,n,r){if(e[er])return;let i;i=8&n.type?Me(r):function Ez(e,t){const n=e[q],r=n.createComment(""),i=nn(t,e);return Gi(n,Ku(n,i),r,function Kj(e,t){return e.nextSibling(t)}(n,i),!1),r}(t,n),e[er]=i};function Bn(e,t){return Pd(e,t)}const zm=new O("Application Initializer");let Wm=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=L(zm,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=i();if(_c(o))n.push(o);else if(QS(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),d1=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();const ur=new O("LocaleId",{providedIn:"root",factory:()=>L(ur,ne.Optional|ne.SkipSelf)||function Xz(){return typeof $localize<"u"&&$localize.locale||Os}()}),eW=new O("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let f1=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new tt(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();class nW{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let h1=(()=>{class e{compileModuleSync(n){return new Mm(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=Or(fn(n).declarations).reduce((s,a)=>{const c=oe(a);return c&&s.push(new fc(c)),s},[]);return new nW(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const _1=new O(""),Fd=new O("");let Qm,Km=(()=>{class e{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Qm||(function IW(e){Qm=e}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_e.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static{this.\u0275fac=function(r){return new(r||e)(N(_e),N(Ym),N(Fd))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})(),Ym=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Qm?.findTestabilityInTree(this,n,r)??null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})(),gi=null;const v1=new O("AllowMultipleToken"),Zm=new O("PlatformDestroyListeners"),Jm=new O("appBootstrapListener");class C1{constructor(t,n){this.name=t,this.token=n}}function w1(e,t,n=[]){const r=`Platform: ${t}`,i=new O(r);return(o=[])=>{let s=Xm();if(!s||s.injector.get(v1,!1)){const a=[...n,...o,{provide:i,useValue:!0}];e?e(a):function SW(e){if(gi&&!gi.get(v1,!1))throw new T(400,!1);(function y1(){!function XV(e){PD=e}(()=>{throw new T(600,!1)})})(),gi=e;const t=e.get(I1);(function b1(e){e.get(T0,null)?.forEach(n=>n())})(e)}(function E1(e=[],t){return xt.create({name:t,providers:[{provide:xg,useValue:"platform"},{provide:Zm,useValue:new Set([()=>gi=null])},...e]})}(a,r))}return function MW(e){const t=Xm();if(!t)throw new T(401,!1);return t}()}}function Xm(){return gi?.get(I1)??null}let I1=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function xW(e="zone.js",t){return"noop"===e?new cB:"zone.js"===e?new _e(t):e}(r?.ngZone,function D1(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function j4(e,t,n){return new Am(e,t,n)}(n.moduleType,this.injector,function x1(e){return[{provide:_e,useFactory:e},{provide:oc,multi:!0,useFactory:()=>{const t=L(PW,{optional:!0});return()=>t.initialize()}},{provide:M1,useFactory:RW},{provide:z0,useFactory:W0}]}(()=>i)),s=o.injector.get(kr,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:c=>{s.handleError(c)}});o.onDestroy(()=>{Ld(this._modules,o),a.unsubscribe()})}),function T1(e,t,n){try{const r=n();return _c(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(Wm);return a.runInitializers(),a.donePromise.then(()=>(function GA(e){wn(e,"Expected localeId to be defined"),"string"==typeof e&&(WA=e.toLowerCase().replace(/_/g,"-"))}(o.injector.get(ur,Os)||Os),this._moduleDoBootstrap(o),o))})})}bootstrapModule(n,r=[]){const i=S1({},r);return function DW(e,t,n){const r=new Mm(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(Vs);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new T(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new T(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Zm,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||e)(N(xt))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function S1(e,t){return Array.isArray(t)?t.reduce(S1,e):{...e,...t}}let Vs=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=L(M1),this.zoneIsStable=L(z0),this.componentTypes=[],this.components=[],this.isStable=L(f1).hasPendingTasks.pipe(Zn(n=>n?W(!1):this.zoneIsStable),function uV(e,t=Dr){return e=e??dV,Qe((n,r)=>{let i,o=!0;n.subscribe($e(r,s=>{const a=t(s);(o||!e(i,a))&&(o=!1,i=a,r.next(s))}))})}(),QI()),this._injector=L(Tn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof R0;if(!this._injector.get(Wm).done)throw!i&&function Wo(e){const t=oe(e)||_t(e)||Ft(e);return null!==t&&t.standalone}(n),new T(405,!1);let s;s=i?n:this._injector.get(ud).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function TW(e){return e.isBoundToModule}(s)?void 0:this._injector.get(Zi),l=s.create(xt.NULL,[],r||s.selector,a),u=l.location.nativeElement,d=l.injector.get(_1,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),Ld(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new T(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Ld(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Jm,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ld(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new T(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Ld(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const M1=new O("",{providedIn:"root",factory:()=>L(kr).handleError.bind(void 0)});function RW(){const e=L(_e),t=L(kr);return n=>e.runOutsideAngular(()=>t.handleError(n))}let PW=(()=>{class e{constructor(){this.zone=L(_e),this.applicationRef=L(Vs)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();let Vd=(()=>{class e{static{this.__NG_ELEMENT_ID__=kW}}return e})();function kW(e){return function OW(e,t,n){if(Bi(e)&&!n){const r=hn(e.index,t);return new dc(r,r)}return 47&e.type?new dc(t[Ke],t):null}(Ct(),D(),16==(16&e))}class O1{constructor(){}supports(t){return yd(t)}create(t){return new jW(t)}}const UW=(e,t)=>t;class jW{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||UW}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<L1(r,i,o)?n:r,a=L1(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const l=a-i,u=c-i;if(l!=u){for(let f=0;f<l;f++){const h=f<o.length?o[f]:o[f]=0,m=h+f;u<=m&&m<l&&(o[f]=h+1)}o[s.previousIndex]=u-l}}a!==c&&t(s,a,c)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!yd(t))throw new T(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function vH(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,i)):t=this._addAfter(new $W(n,r),o,i),t}_verifyReinsertion(t,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,o=t._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const i=null===n?this._itHead:n._next;return t._next=i,t._prev=n,null===i?this._itTail=t:i._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new F1),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new F1),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class $W{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class BW{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class F1{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new BW,this.map.set(n,r)),r.add(t)}get(t,n){const i=this.map.get(t);return i?i.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function L1(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class V1{constructor(){}supports(t){return t instanceof Map||cm(t)}create(){return new HW}}class HW{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||cm(t)))throw new T(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const i=this._records.get(t);this._maybeAddToChanges(i,n);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new zW(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class zW{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function U1(){return new $d([new O1])}let $d=(()=>{class e{static{this.\u0275prov=V({token:e,providedIn:"root",factory:U1})}constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||U1()),deps:[[e,new Vu,new $t]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new T(901,!1)}}return e})();function j1(){return new Ac([new V1])}let Ac=(()=>{class e{static{this.\u0275prov=V({token:e,providedIn:"root",factory:j1})}constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||j1()),deps:[[e,new Vu,new $t]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new T(901,!1)}}return e})();const qW=w1(null,"core",[]);let KW=(()=>{class e{constructor(n){}static{this.\u0275fac=function(r){return new(r||e)(N(Vs))}}static{this.\u0275mod=Xt({type:e})}static{this.\u0275inj=Ot({})}}return e})();function Us(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}let o_=null;function mi(){return o_}class cG{}const An=new O("DocumentToken");let s_=(()=>{class e{historyGo(n){throw new Error("Not implemented")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:function(){return L(uG)},providedIn:"platform"})}}return e})();const lG=new O("Location Initialized");let uG=(()=>{class e extends s_{constructor(){super(),this._doc=L(An),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return mi().getBaseHref(this._doc)}onPopState(n){const r=mi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=mi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:function(){return new e},providedIn:"platform"})}}return e})();function a_(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function Y1(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function Vr(e){return e&&"?"!==e[0]?"?"+e:e}let Xi=(()=>{class e{historyGo(n){throw new Error("Not implemented")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:function(){return L(Z1)},providedIn:"root"})}}return e})();const Q1=new O("appBaseHref");let Z1=(()=>{class e extends Xi{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??L(An).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return a_(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Vr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+Vr(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+Vr(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||e)(N(s_),N(Q1,8))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),dG=(()=>{class e extends Xi{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=a_(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Vr(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Vr(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||e)(N(s_),N(Q1,8))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})(),c_=(()=>{class e{constructor(n){this._subject=new ae,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function pG(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(Y1(J1(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Vr(r))}normalize(n){return e.stripTrailingSlash(function hG(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,J1(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Vr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Vr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=Vr}static{this.joinWithSlash=a_}static{this.stripTrailingSlash=Y1}static{this.\u0275fac=function(r){return new(r||e)(N(Xi))}}static{this.\u0275prov=V({token:e,factory:function(){return function fG(){return new c_(N(Xi))}()},providedIn:"root"})}}return e})();function J1(e){return e.replace(/\/index.html$/,"")}const X1={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Hd=function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e}(Hd||{}),zt=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(zt||{}),De=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(De||{}),vn=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(vn||{}),Ye=function(e){return e[e.Decimal=0]="Decimal",e[e.Group=1]="Group",e[e.List=2]="List",e[e.PercentSign=3]="PercentSign",e[e.PlusSign=4]="PlusSign",e[e.MinusSign=5]="MinusSign",e[e.Exponential=6]="Exponential",e[e.SuperscriptingExponent=7]="SuperscriptingExponent",e[e.PerMille=8]="PerMille",e[e.Infinity=9]="Infinity",e[e.NaN=10]="NaN",e[e.TimeSeparator=11]="TimeSeparator",e[e.CurrencyDecimal=12]="CurrencyDecimal",e[e.CurrencyGroup=13]="CurrencyGroup",e}(Ye||{});function zd(e,t){return xn(Bt(e)[xe.DateFormat],t)}function Wd(e,t){return xn(Bt(e)[xe.TimeFormat],t)}function Gd(e,t){return xn(Bt(e)[xe.DateTimeFormat],t)}function Mn(e,t){const n=Bt(e),r=n[xe.NumberSymbols][t];if(typeof r>"u"){if(t===Ye.CurrencyDecimal)return n[xe.NumberSymbols][Ye.Decimal];if(t===Ye.CurrencyGroup)return n[xe.NumberSymbols][Ye.Group]}return r}function l_(e,t){return Bt(e)[xe.NumberFormats][t]}function ex(e){if(!e[xe.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[xe.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function xn(e,t){for(let n=t;n>-1;n--)if(typeof e[n]<"u")return e[n];throw new Error("Locale data API: locale data undefined")}function u_(e){const[t,n]=e.split(":");return{hours:+t,minutes:+n}}const AG=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Mc={},MG=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ur=function(e){return e[e.Short=0]="Short",e[e.ShortGMT=1]="ShortGMT",e[e.Long=2]="Long",e[e.Extended=3]="Extended",e}(Ur||{}),de=function(e){return e[e.FullYear=0]="FullYear",e[e.Month=1]="Month",e[e.Date=2]="Date",e[e.Hours=3]="Hours",e[e.Minutes=4]="Minutes",e[e.Seconds=5]="Seconds",e[e.FractionalSeconds=6]="FractionalSeconds",e[e.Day=7]="Day",e}(de||{}),fe=function(e){return e[e.DayPeriods=0]="DayPeriods",e[e.Days=1]="Days",e[e.Months=2]="Months",e[e.Eras=3]="Eras",e}(fe||{});function xG(e,t,n,r){let i=function UG(e){if(rx(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){const[i,o=1,s=1]=e.split("-").map(a=>+a);return qd(i,o-1,s)}const n=parseFloat(e);if(!isNaN(e-n))return new Date(n);let r;if(r=e.match(AG))return function jG(e){const t=new Date(0);let n=0,r=0;const i=e[8]?t.setUTCFullYear:t.setFullYear,o=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));const s=Number(e[4]||0)-n,a=Number(e[5]||0)-r,c=Number(e[6]||0),l=Math.floor(1e3*parseFloat("0."+(e[7]||0)));return o.call(t,s,a,c,l),t}(r)}const t=new Date(e);if(!rx(t))throw new Error(`Unable to convert "${e}" into a date`);return t}(e);t=jr(n,t)||t;let a,s=[];for(;t;){if(a=MG.exec(t),!a){s.push(t);break}{s=s.concat(a.slice(1));const u=s.pop();if(!u)break;t=u}}let c=i.getTimezoneOffset();r&&(c=nx(r,c),i=function VG(e,t,n){const r=n?-1:1,i=e.getTimezoneOffset();return function LG(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,r*(nx(t,i)-i))}(i,r,!0));let l="";return s.forEach(u=>{const d=function FG(e){if(f_[e])return f_[e];let t;switch(e){case"G":case"GG":case"GGG":t=Re(fe.Eras,De.Abbreviated);break;case"GGGG":t=Re(fe.Eras,De.Wide);break;case"GGGGG":t=Re(fe.Eras,De.Narrow);break;case"y":t=Xe(de.FullYear,1,0,!1,!0);break;case"yy":t=Xe(de.FullYear,2,0,!0,!0);break;case"yyy":t=Xe(de.FullYear,3,0,!1,!0);break;case"yyyy":t=Xe(de.FullYear,4,0,!1,!0);break;case"Y":t=Zd(1);break;case"YY":t=Zd(2,!0);break;case"YYY":t=Zd(3);break;case"YYYY":t=Zd(4);break;case"M":case"L":t=Xe(de.Month,1,1);break;case"MM":case"LL":t=Xe(de.Month,2,1);break;case"MMM":t=Re(fe.Months,De.Abbreviated);break;case"MMMM":t=Re(fe.Months,De.Wide);break;case"MMMMM":t=Re(fe.Months,De.Narrow);break;case"LLL":t=Re(fe.Months,De.Abbreviated,zt.Standalone);break;case"LLLL":t=Re(fe.Months,De.Wide,zt.Standalone);break;case"LLLLL":t=Re(fe.Months,De.Narrow,zt.Standalone);break;case"w":t=d_(1);break;case"ww":t=d_(2);break;case"W":t=d_(1,!0);break;case"d":t=Xe(de.Date,1);break;case"dd":t=Xe(de.Date,2);break;case"c":case"cc":t=Xe(de.Day,1);break;case"ccc":t=Re(fe.Days,De.Abbreviated,zt.Standalone);break;case"cccc":t=Re(fe.Days,De.Wide,zt.Standalone);break;case"ccccc":t=Re(fe.Days,De.Narrow,zt.Standalone);break;case"cccccc":t=Re(fe.Days,De.Short,zt.Standalone);break;case"E":case"EE":case"EEE":t=Re(fe.Days,De.Abbreviated);break;case"EEEE":t=Re(fe.Days,De.Wide);break;case"EEEEE":t=Re(fe.Days,De.Narrow);break;case"EEEEEE":t=Re(fe.Days,De.Short);break;case"a":case"aa":case"aaa":t=Re(fe.DayPeriods,De.Abbreviated);break;case"aaaa":t=Re(fe.DayPeriods,De.Wide);break;case"aaaaa":t=Re(fe.DayPeriods,De.Narrow);break;case"b":case"bb":case"bbb":t=Re(fe.DayPeriods,De.Abbreviated,zt.Standalone,!0);break;case"bbbb":t=Re(fe.DayPeriods,De.Wide,zt.Standalone,!0);break;case"bbbbb":t=Re(fe.DayPeriods,De.Narrow,zt.Standalone,!0);break;case"B":case"BB":case"BBB":t=Re(fe.DayPeriods,De.Abbreviated,zt.Format,!0);break;case"BBBB":t=Re(fe.DayPeriods,De.Wide,zt.Format,!0);break;case"BBBBB":t=Re(fe.DayPeriods,De.Narrow,zt.Format,!0);break;case"h":t=Xe(de.Hours,1,-12);break;case"hh":t=Xe(de.Hours,2,-12);break;case"H":t=Xe(de.Hours,1);break;case"HH":t=Xe(de.Hours,2);break;case"m":t=Xe(de.Minutes,1);break;case"mm":t=Xe(de.Minutes,2);break;case"s":t=Xe(de.Seconds,1);break;case"ss":t=Xe(de.Seconds,2);break;case"S":t=Xe(de.FractionalSeconds,1);break;case"SS":t=Xe(de.FractionalSeconds,2);break;case"SSS":t=Xe(de.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Yd(Ur.Short);break;case"ZZZZZ":t=Yd(Ur.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Yd(Ur.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Yd(Ur.Long);break;default:return null}return f_[e]=t,t}(u);l+=d?d(i,n,c):"''"===u?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function qd(e,t,n){const r=new Date(0);return r.setFullYear(e,t,n),r.setHours(0,0,0),r}function jr(e,t){const n=function mG(e){return Bt(e)[xe.LocaleId]}(e);if(Mc[n]=Mc[n]||{},Mc[n][t])return Mc[n][t];let r="";switch(t){case"shortDate":r=zd(e,vn.Short);break;case"mediumDate":r=zd(e,vn.Medium);break;case"longDate":r=zd(e,vn.Long);break;case"fullDate":r=zd(e,vn.Full);break;case"shortTime":r=Wd(e,vn.Short);break;case"mediumTime":r=Wd(e,vn.Medium);break;case"longTime":r=Wd(e,vn.Long);break;case"fullTime":r=Wd(e,vn.Full);break;case"short":const i=jr(e,"shortTime"),o=jr(e,"shortDate");r=Kd(Gd(e,vn.Short),[i,o]);break;case"medium":const s=jr(e,"mediumTime"),a=jr(e,"mediumDate");r=Kd(Gd(e,vn.Medium),[s,a]);break;case"long":const c=jr(e,"longTime"),l=jr(e,"longDate");r=Kd(Gd(e,vn.Long),[c,l]);break;case"full":const u=jr(e,"fullTime"),d=jr(e,"fullDate");r=Kd(Gd(e,vn.Full),[u,d])}return r&&(Mc[n][t]=r),r}function Kd(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(n,r){return null!=t&&r in t?t[r]:n})),e}function Hn(e,t,n="-",r,i){let o="";(e<0||i&&e<=0)&&(i?e=1-e:(e=-e,o=n));let s=String(e);for(;s.length<t;)s="0"+s;return r&&(s=s.slice(s.length-t)),o+s}function Xe(e,t,n=0,r=!1,i=!1){return function(o,s){let a=function PG(e,t){switch(e){case de.FullYear:return t.getFullYear();case de.Month:return t.getMonth();case de.Date:return t.getDate();case de.Hours:return t.getHours();case de.Minutes:return t.getMinutes();case de.Seconds:return t.getSeconds();case de.FractionalSeconds:return t.getMilliseconds();case de.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,o);if((n>0||a>-n)&&(a+=n),e===de.Hours)0===a&&-12===n&&(a=12);else if(e===de.FractionalSeconds)return function RG(e,t){return Hn(e,3).substring(0,t)}(a,t);const c=Mn(s,Ye.MinusSign);return Hn(a,t,c,r,i)}}function Re(e,t,n=zt.Format,r=!1){return function(i,o){return function NG(e,t,n,r,i,o){switch(n){case fe.Months:return function yG(e,t,n){const r=Bt(e),o=xn([r[xe.MonthsFormat],r[xe.MonthsStandalone]],t);return xn(o,n)}(t,i,r)[e.getMonth()];case fe.Days:return function vG(e,t,n){const r=Bt(e),o=xn([r[xe.DaysFormat],r[xe.DaysStandalone]],t);return xn(o,n)}(t,i,r)[e.getDay()];case fe.DayPeriods:const s=e.getHours(),a=e.getMinutes();if(o){const l=function EG(e){const t=Bt(e);return ex(t),(t[xe.ExtraData][2]||[]).map(r=>"string"==typeof r?u_(r):[u_(r[0]),u_(r[1])])}(t),u=function IG(e,t,n){const r=Bt(e);ex(r);const o=xn([r[xe.ExtraData][0],r[xe.ExtraData][1]],t)||[];return xn(o,n)||[]}(t,i,r),d=l.findIndex(f=>{if(Array.isArray(f)){const[h,m]=f,v=s>=h.hours&&a>=h.minutes,E=s<m.hours||s===m.hours&&a<m.minutes;if(h.hours<m.hours){if(v&&E)return!0}else if(v||E)return!0}else if(f.hours===s&&f.minutes===a)return!0;return!1});if(-1!==d)return u[d]}return function _G(e,t,n){const r=Bt(e),o=xn([r[xe.DayPeriodsFormat],r[xe.DayPeriodsStandalone]],t);return xn(o,n)}(t,i,r)[s<12?0:1];case fe.Eras:return function CG(e,t){return xn(Bt(e)[xe.Eras],t)}(t,r)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(i,o,e,t,n,r)}}function Yd(e){return function(t,n,r){const i=-1*r,o=Mn(n,Ye.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case Ur.Short:return(i>=0?"+":"")+Hn(s,2,o)+Hn(Math.abs(i%60),2,o);case Ur.ShortGMT:return"GMT"+(i>=0?"+":"")+Hn(s,1,o);case Ur.Long:return"GMT"+(i>=0?"+":"")+Hn(s,2,o)+":"+Hn(Math.abs(i%60),2,o);case Ur.Extended:return 0===r?"Z":(i>=0?"+":"")+Hn(s,2,o)+":"+Hn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${e}"`)}}}const kG=0,Qd=4;function tx(e){return qd(e.getFullYear(),e.getMonth(),e.getDate()+(Qd-e.getDay()))}function d_(e,t=!1){return function(n,r){let i;if(t){const o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{const o=tx(n),s=function OG(e){const t=qd(e,kG,1).getDay();return qd(e,0,1+(t<=Qd?Qd:Qd+7)-t)}(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Hn(i,e,Mn(r,Ye.MinusSign))}}function Zd(e,t=!1){return function(n,r){return Hn(tx(n).getFullYear(),e,Mn(r,Ye.MinusSign),t)}}const f_={};function nx(e,t){e=e.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function rx(e){return e instanceof Date&&!isNaN(e.valueOf())}const $G=/^(\d+)?\.((\d+)(-(\d+))?)?$/,ix=22,Jd=".",xc="0",BG=";",HG=",",h_="#";function p_(e,t,n,r,i,o,s=!1){let a="",c=!1;if(isFinite(e)){let l=function YG(e){let r,i,o,s,a,t=Math.abs(e)+"",n=0;for((i=t.indexOf(Jd))>-1&&(t=t.replace(Jd,"")),(o=t.search(/e/i))>0?(i<0&&(i=o),i+=+t.slice(o+1),t=t.substring(0,o)):i<0&&(i=t.length),o=0;t.charAt(o)===xc;o++);if(o===(a=t.length))r=[0],i=1;else{for(a--;t.charAt(a)===xc;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(t.charAt(o))}return i>ix&&(r=r.splice(0,ix-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}(e);s&&(l=function KG(e){if(0===e.digits[0])return e;const t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===t?e.digits.push(0,0):1===t&&e.digits.push(0),e.integerLen+=2),e}(l));let u=t.minInt,d=t.minFrac,f=t.maxFrac;if(o){const b=o.match($G);if(null===b)throw new Error(`${o} is not a valid digit info`);const F=b[1],j=b[3],ee=b[5];null!=F&&(u=m_(F)),null!=j&&(d=m_(j)),null!=ee?f=m_(ee):null!=j&&d>f&&(f=d)}!function QG(e,t,n){if(t>n)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${n}).`);let r=e.digits,i=r.length-e.integerLen;const o=Math.min(Math.max(t,i),n);let s=o+e.integerLen,a=r[s];if(s>0){r.splice(Math.max(e.integerLen,s));for(let d=s;d<r.length;d++)r[d]=0}else{i=Math.max(0,i),e.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let d=1;d<s;d++)r[d]=0}if(a>=5)if(s-1<0){for(let d=0;d>s;d--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let c=0!==o;const l=t+e.integerLen,u=r.reduceRight(function(d,f,h,m){return m[h]=(f+=d)<10?f:f-10,c&&(0===m[h]&&h>=l?m.pop():c=!1),f>=10?1:0},0);u&&(r.unshift(u),e.integerLen++)}(l,d,f);let h=l.digits,m=l.integerLen;const v=l.exponent;let E=[];for(c=h.every(b=>!b);m<u;m++)h.unshift(0);for(;m<0;m++)h.unshift(0);m>0?E=h.splice(m,h.length):(E=h,h=[0]);const I=[];for(h.length>=t.lgSize&&I.unshift(h.splice(-t.lgSize,h.length).join(""));h.length>t.gSize;)I.unshift(h.splice(-t.gSize,h.length).join(""));h.length&&I.unshift(h.join("")),a=I.join(Mn(n,r)),E.length&&(a+=Mn(n,i)+E.join("")),v&&(a+=Mn(n,Ye.Exponential)+"+"+v)}else a=Mn(n,Ye.Infinity);return a=e<0&&!c?t.negPre+a+t.negSuf:t.posPre+a+t.posSuf,a}function g_(e,t="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(BG),i=r[0],o=r[1],s=-1!==i.indexOf(Jd)?i.split(Jd):[i.substring(0,i.lastIndexOf(xc)+1),i.substring(i.lastIndexOf(xc)+1)],a=s[0],c=s[1]||"";n.posPre=a.substring(0,a.indexOf(h_));for(let u=0;u<c.length;u++){const d=c.charAt(u);d===xc?n.minFrac=n.maxFrac=u+1:d===h_?n.maxFrac=u+1:n.posSuf+=d}const l=a.split(HG);if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){const u=i.length-n.posPre.length-n.posSuf.length,d=o.indexOf(h_);n.negPre=o.substring(0,d).replace(/'/g,""),n.negSuf=o.slice(d+u).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}function m_(e){const t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}const v_=/\s+/,ax=[];let cx=(()=>{class e{constructor(n,r,i,o){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this.initialClasses=ax,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(v_):ax}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(v_):n}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const r of n)this._updateState(r,!0);else if(null!=n)for(const r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){const i=this.stateMap.get(n);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){(n=n.trim()).length>0&&n.split(v_).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||e)(C($d),C(Ac),C(gn),C(Nr))}}static{this.\u0275dir=z({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return e})();class t5{constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let eo=(()=>{class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new t5(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),ux(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{ux(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(C($n),C(Lr),C($d))}}static{this.\u0275dir=z({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return e})();function ux(e,t){e.context.$implicit=t.item}let Et=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new n5,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){dx("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){dx("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(C($n),C(Lr))}}static{this.\u0275dir=z({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return e})();class n5{constructor(){this.$implicit=null,this.ngIf=null}}function dx(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${nt(t)}'.`)}function zn(e,t){return new T(2100,!1)}const g5=new O("DATE_PIPE_DEFAULT_TIMEZONE"),m5=new O("DATE_PIPE_DEFAULT_OPTIONS");let b_=(()=>{class e{constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(null==n||""===n||n!=n)return null;try{return xG(n,r??this.defaultOptions?.dateFormat??"mediumDate",o||this.locale,i??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(s){throw zn()}}static{this.\u0275fac=function(r){return new(r||e)(C(ur,16),C(g5,24),C(m5,24))}}static{this.\u0275pipe=en({name:"date",type:e,pure:!0,standalone:!0})}}return e})(),w_=(()=>{class e{constructor(n){this._locale=n}transform(n,r,i){if(!E_(n))return null;i=i||this._locale;try{return function qG(e,t,n){return p_(e,g_(l_(t,Hd.Decimal),Mn(t,Ye.MinusSign)),t,Ye.Group,Ye.Decimal,n)}(I_(n),i,r)}catch(o){throw zn()}}static{this.\u0275fac=function(r){return new(r||e)(C(ur,16))}}static{this.\u0275pipe=en({name:"number",type:e,pure:!0,standalone:!0})}}return e})(),to=(()=>{class e{constructor(n,r="USD"){this._locale=n,this._defaultCurrencyCode=r}transform(n,r=this._defaultCurrencyCode,i="symbol",o,s){if(!E_(n))return null;s=s||this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;"code"!==i&&(a="symbol"===i||"symbol-narrow"===i?function DG(e,t,n="en"){const r=function bG(e){return Bt(e)[xe.Currencies]}(n)[e]||X1[e]||[],i=r[1];return"narrow"===t&&"string"==typeof i?i:r[0]||e}(a,"symbol"===i?"wide":"narrow",s):i);try{return function WG(e,t,n,r,i){const s=g_(l_(t,Hd.Currency),Mn(t,Ye.MinusSign));return s.minFrac=function SG(e){let t;const n=X1[e];return n&&(t=n[2]),"number"==typeof t?t:2}(r),s.maxFrac=s.minFrac,p_(e,s,t,Ye.CurrencyGroup,Ye.CurrencyDecimal,i).replace("\xa4",n).replace("\xa4","").trim()}(I_(n),s,a,r,o)}catch(c){throw zn()}}static{this.\u0275fac=function(r){return new(r||e)(C(ur,16),C(eW,16))}}static{this.\u0275pipe=en({name:"currency",type:e,pure:!0,standalone:!0})}}return e})();function E_(e){return!(null==e||""===e||e!=e)}function I_(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error(`${e} is not a number`);return e}let I5=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Xt({type:e})}static{this.\u0275inj=Ot({})}}return e})();function gx(e){return"server"===e}let A5=(()=>{class e{static{this.\u0275prov=V({token:e,providedIn:"root",factory:()=>new M5(N(An),window)})}}return e})();class M5{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function x5(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class e6 extends cG{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class S_ extends e6{static makeCurrent(){!function aG(e){o_||(o_=e)}(new S_)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function t6(){return Pc=Pc||document.querySelector("base"),Pc?Pc.getAttribute("href"):null}();return null==n?null:function n6(e){tf=tf||document.createElement("a"),tf.setAttribute("href",e);const t=tf.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){Pc=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function XG(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let tf,Pc=null,i6=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})();const A_=new O("EventManagerPlugins");let Cx=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new T(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||e)(N(A_),N(_e))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})();class bx{constructor(t){this._doc=t}}const M_="ng-app-id";let wx=(()=>{class e{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=gx(o),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${M_}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(M_),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(M_,this.appId),s}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||e)(N(An),N(id),N(S0,8),N(hi))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})();const x_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},R_=/%COMP%/g,c6=new O("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Ix(e,t){return t.map(n=>n.replace(R_,e))}let Dx=(()=>{class e{constructor(n,r,i,o,s,a,c,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=gx(a),this.defaultRenderer=new P_(n,s,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===On.ShadowDom&&(r={...r,encapsulation:On.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof Sx?i.applyToHost(n):i instanceof N_&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case On.Emulated:o=new Sx(c,l,r,this.appId,u,s,a,d);break;case On.ShadowDom:return new f6(c,l,n,r,s,a,this.nonce,d);default:o=new N_(c,l,r,u,s,a,d)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||e)(N(Cx),N(wx),N(id),N(c6),N(An),N(hi),N(_e),N(S0))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})();class P_{constructor(t,n,r,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(x_[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(Tx(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(Tx(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new T(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const o=x_[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=x_[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(di.DashCase|di.Important)?t.style.setProperty(n,r,i&di.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&di.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){if("string"==typeof t&&!(t=mi().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))&&n.preventDefault()}}}function Tx(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class f6 extends P_{constructor(t,n,r,i,o,s,a,c){super(t,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Ix(i.id,i.styles);for(const u of l){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class N_ extends P_{constructor(t,n,r,i,o,s,a,c){super(t,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?Ix(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Sx extends N_{constructor(t,n,r,i,o,s,a,c){const l=i+"-"+r.id;super(t,n,r,o,s,a,c,l),this.contentAttr=function l6(e){return"_ngcontent-%COMP%".replace(R_,e)}(l),this.hostAttr=function u6(e){return"_nghost-%COMP%".replace(R_,e)}(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}let h6=(()=>{class e extends bx{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||e)(N(An))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})();const Ax=["alt","control","meta","shift"],p6={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},g6={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let m6=(()=>{class e extends bx{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i){const o=e.parseEventName(r),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>mi().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=e._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Ax.forEach(l=>{const u=r.indexOf(l);u>-1&&(r.splice(u,1),s+=l+".")}),s+=o,0!=r.length||0===o.length)return null;const c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=p6[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Ax.forEach(s=>{s!==i&&(0,g6[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}static{this.\u0275fac=function(r){return new(r||e)(N(An))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})();const C6=w1(qW,"browser",[{provide:hi,useValue:"browser"},{provide:T0,useValue:function _6(){S_.makeCurrent()},multi:!0},{provide:An,useFactory:function y6(){return function n$(e){bg=e}(document),document},deps:[]}]),b6=new O(""),Rx=[{provide:Fd,useClass:class r6{addToWindow(t){Ae.getAngularTestability=(r,i=!0)=>{const o=t.findTestabilityInTree(r,i);if(null==o)throw new T(5103,!1);return o},Ae.getAllAngularTestabilities=()=>t.getAllTestabilities(),Ae.getAllAngularRootElements=()=>t.getAllRootElements(),Ae.frameworkStabilizers||(Ae.frameworkStabilizers=[]),Ae.frameworkStabilizers.push(r=>{const i=Ae.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(c){s=s||c,o--,0==o&&r(s)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?mi().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:_1,useClass:Km,deps:[_e,Ym,Fd]},{provide:Km,useClass:Km,deps:[_e,Ym,Fd]}],Px=[{provide:xg,useValue:"root"},{provide:kr,useFactory:function v6(){return new kr},deps:[]},{provide:A_,useClass:h6,multi:!0,deps:[An,_e,hi]},{provide:A_,useClass:m6,multi:!0,deps:[An]},Dx,wx,Cx,{provide:N0,useExisting:Dx},{provide:class R5{},useClass:i6,deps:[]},[]];let w6=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:id,useValue:n.appId}]}}static{this.\u0275fac=function(r){return new(r||e)(N(b6,12))}}static{this.\u0275mod=Xt({type:e})}static{this.\u0275inj=Ot({providers:[...Px,...Rx],imports:[I5,KW]})}}return e})(),Nx=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||e)(N(An))}}static{this.\u0275prov=V({token:e,factory:function(r){let i=null;return i=r?new r:function I6(){return new Nx(N(An))}(),i},providedIn:"root"})}}return e})();typeof window<"u"&&window;const{isArray:x6}=Array,{getPrototypeOf:R6,prototype:P6,keys:N6}=Object;function Lx(e){if(1===e.length){const t=e[0];if(x6(t))return{args:t,keys:null};if(function k6(e){return e&&"object"==typeof e&&R6(e)===P6}(t)){const n=N6(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}const{isArray:O6}=Array;function Vx(e){return Ie(t=>function F6(e,t){return O6(t)?e(...t):e(t)}(e,t))}function Ux(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function O_(...e){const t=Ra(e),n=gp(e),{args:r,keys:i}=Lx(e);if(0===r.length)return at([],t);const o=new je(function L6(e,t,n=Dr){return r=>{jx(t,()=>{const{length:i}=e,o=new Array(i);let s=i,a=i;for(let c=0;c<i;c++)jx(t,()=>{const l=at(e[c],t);let u=!1;l.subscribe($e(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,t,i?s=>Ux(i,s):Dr));return n?o.pipe(Vx(n)):o}function jx(e,t,n){e?Tr(n,e,t):t()}const nf=Ma(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function F_(...e){return function V6(){return Ho(1)}()(at(e,Ra(e)))}function $x(e){return new je(t=>{Zt(e()).subscribe(t)})}function Nc(e,t){const n=Ee(e)?e:()=>e,r=i=>i.error(n());return new je(t?i=>t.schedule(r,0,i):r)}function L_(){return Qe((e,t)=>{let n=null;e._refCount++;const r=$e(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class Bx extends je{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,kI(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Qt;const n=this.getSubject();t.add(this.source.subscribe($e(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Qt.EMPTY)}return t}refCount(){return L_()(this)}}function no(e){return e<=0?()=>Qn:Qe((t,n)=>{let r=0;t.subscribe($e(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function $r(e,t){return Qe((n,r)=>{let i=0;n.subscribe($e(r,o=>e.call(t,o,i++)&&r.next(o)))})}function rf(e){return Qe((t,n)=>{let r=!1;t.subscribe($e(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function Hx(e=j6){return Qe((t,n)=>{let r=!1;t.subscribe($e(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function j6(){return new nf}function ro(e,t){const n=arguments.length>=2;return r=>r.pipe(e?$r((i,o)=>e(i,o,r)):Dr,no(1),n?rf(t):Hx(()=>new nf))}function kc(e,t){return Ee(t)?mt(e,t,1):mt(e,1)}function It(e,t,n){const r=Ee(e)||t||n?{next:e,error:t,complete:n}:e;return r?Qe((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe($e(o,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),o.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),o.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),o.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):Dr}function io(e){return Qe((t,n)=>{let o,r=null,i=!1;r=t.subscribe($e(n,void 0,void 0,s=>{o=Zt(e(s,io(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function V_(e){return e<=0?()=>Qn:Qe((t,n)=>{let r=[];t.subscribe($e(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function U_(e){return Qe((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}const Z="primary",Oc=Symbol("RouteTitle");class G6{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function $s(e){return new G6(e)}function q6(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=e[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function dr(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!zx(e[i],t[i]))return!1;return!0}function zx(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}return e===t}function Wx(e){return e.length>0?e[e.length-1]:null}function vi(e){return function M6(e){return!!e&&(e instanceof je||Ee(e.lift)&&Ee(e.subscribe))}(e)?e:_c(e)?at(Promise.resolve(e)):W(e)}const Y6={exact:function Kx(e,t,n){if(!oo(e.segments,t.segments)||!sf(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!Kx(e.children[r],t.children[r],n))return!1;return!0},subset:Yx},Gx={exact:function Q6(e,t){return dr(e,t)},subset:function Z6(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>zx(e[n],t[n]))},ignored:()=>!0};function qx(e,t,n){return Y6[n.paths](e.root,t.root,n.matrixParams)&&Gx[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function Yx(e,t,n){return Qx(e,t,t.segments,n)}function Qx(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!(!oo(i,n)||t.hasChildren()||!sf(i,n,r))}if(e.segments.length===n.length){if(!oo(e.segments,n)||!sf(e.segments,n,r))return!1;for(const i in t.children)if(!e.children[i]||!Yx(e.children[i],t.children[i],r))return!1;return!0}{const i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!!(oo(e.segments,i)&&sf(e.segments,i,r)&&e.children[Z])&&Qx(e.children[Z],t,o,r)}}function sf(e,t,n){return t.every((r,i)=>Gx[n](e[i].parameters,r.parameters))}class Bs{constructor(t=new be([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$s(this.queryParams)),this._queryParamMap}toString(){return e8.serialize(this)}}class be{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return af(this)}}class Fc{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=$s(this.parameters)),this._parameterMap}toString(){return Xx(this)}}function oo(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let Lc=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:function(){return new j_},providedIn:"root"})}}return e})();class j_{parse(t){const n=new d8(t);return new Bs(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${Vc(t.root,!0)}`,r=function r8(e){const t=Object.keys(e).map(n=>{const r=e[n];return Array.isArray(r)?r.map(i=>`${cf(n)}=${cf(i)}`).join("&"):`${cf(n)}=${cf(r)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function t8(e){return encodeURI(e)}(t.fragment)}`:""}`}}const e8=new j_;function af(e){return e.segments.map(t=>Xx(t)).join("/")}function Vc(e,t){if(!e.hasChildren())return af(e);if(t){const n=e.children[Z]?Vc(e.children[Z],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==Z&&r.push(`${i}:${Vc(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function X6(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===Z&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==Z&&(n=n.concat(t(i,r)))}),n}(e,(r,i)=>i===Z?[Vc(e.children[Z],!1)]:[`${i}:${Vc(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Z]?`${af(e)}/${n[0]}`:`${af(e)}/(${n.join("//")})`}}function Zx(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function cf(e){return Zx(e).replace(/%3B/gi,";")}function $_(e){return Zx(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function lf(e){return decodeURIComponent(e)}function Jx(e){return lf(e.replace(/\+/g,"%20"))}function Xx(e){return`${$_(e.path)}${function n8(e){return Object.keys(e).map(t=>`;${$_(t)}=${$_(e[t])}`).join("")}(e.parameters)}`}const i8=/^[^\/()?;#]+/;function B_(e){const t=e.match(i8);return t?t[0]:""}const o8=/^[^\/()?;=#]+/,a8=/^[^=?&#]+/,l8=/^[^&#]+/;class d8{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new be([],{}):new be([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[Z]=new be(t,n)),r}parseSegment(){const t=B_(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new T(4009,!1);return this.capture(t),new Fc(lf(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=function s8(e){const t=e.match(o8);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=B_(this.remaining);i&&(r=i,this.capture(r))}t[lf(n)]=lf(r)}parseQueryParam(t){const n=function c8(e){const t=e.match(a8);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function u8(e){const t=e.match(l8);return t?t[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=Jx(n),o=Jx(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=B_(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new T(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Z);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[Z]:new be([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new T(4011,!1)}}function eR(e){return e.segments.length>0?new be([],{[Z]:e}):e}function tR(e){const t={};for(const r of Object.keys(e.children)){const o=tR(e.children[r]);if(r===Z&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}return function f8(e){if(1===e.numberOfChildren&&e.children[Z]){const t=e.children[Z];return new be(e.segments.concat(t.segments),t.children)}return e}(new be(e.segments,t))}function so(e){return e instanceof Bs}function nR(e){let t;const i=eR(function n(o){const s={};for(const c of o.children){const l=n(c);s[c.outlet]=l}const a=new be(o.url,s);return o===e&&(t=a),a}(e.root));return t??i}function rR(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(0===t.length)return H_(i,i,i,n,r);const o=function p8(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new oR(!0,0,e);let t=0,n=!1;const r=e.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?t++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new oR(n,t,r)}(t);if(o.toRoot())return H_(i,i,new be([],{}),n,r);const s=function g8(e,t,n){if(e.isAbsolute)return new df(t,!0,0);if(!n)return new df(t,!1,NaN);if(null===n.parent)return new df(n,!0,0);const r=uf(e.commands[0])?0:1;return function m8(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new T(4005,!1);i=r.segments.length}return new df(r,!1,i-o)}(n,n.segments.length-1+r,e.numberOfDoubleDots)}(o,i,e),a=s.processChildren?jc(s.segmentGroup,s.index,o.commands):sR(s.segmentGroup,s.index,o.commands);return H_(i,s.segmentGroup,a,n,r)}function uf(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Uc(e){return"object"==typeof e&&null!=e&&e.outlets}function H_(e,t,n,r,i){let s,o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),s=e===t?n:iR(e,t,n);const a=eR(tR(s));return new Bs(a,o,i)}function iR(e,t,n){const r={};return Object.entries(e.children).forEach(([i,o])=>{r[i]=o===t?n:iR(o,t,n)}),new be(e.segments,r)}class oR{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&uf(r[0]))throw new T(4003,!1);const i=r.find(Uc);if(i&&i!==Wx(r))throw new T(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class df{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function sR(e,t,n){if(e||(e=new be([],{})),0===e.segments.length&&e.hasChildren())return jc(e,t,n);const r=function v8(e,t,n){let r=0,i=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;const s=e.segments[i],a=n[r];if(Uc(a))break;const c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!cR(c,l,s))return o;r+=2}else{if(!cR(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const o=new be(e.segments.slice(0,r.pathIndex),{});return o.children[Z]=new be(e.segments.slice(r.pathIndex),e.children),jc(o,0,i)}return r.match&&0===i.length?new be(e.segments,{}):r.match&&!e.hasChildren()?z_(e,t,n):r.match?jc(e,0,i):z_(e,t,n)}function jc(e,t,n){if(0===n.length)return new be(e.segments,{});{const r=function _8(e){return Uc(e[0])?e[0].outlets:{[Z]:e}}(n),i={};if(Object.keys(r).some(o=>o!==Z)&&e.children[Z]&&1===e.numberOfChildren&&0===e.children[Z].segments.length){const o=jc(e.children[Z],t,n);return new be(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=sR(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new be(e.segments,i)}}function z_(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const o=n[i];if(Uc(o)){const c=y8(o.outlets);return new be(r,c)}if(0===i&&uf(n[0])){r.push(new Fc(e.segments[t].path,aR(n[0]))),i++;continue}const s=Uc(o)?o.outlets[Z]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&uf(a)?(r.push(new Fc(s,aR(a))),i+=2):(r.push(new Fc(s,{})),i++)}return new be(r,{})}function y8(e){const t={};return Object.entries(e).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(t[n]=z_(new be([],{}),0,r))}),t}function aR(e){const t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function cR(e,t,n){return e==n.path&&dr(t,n.parameters)}const $c="imperative";class fr{constructor(t,n){this.id=t,this.url=n}}class ff extends fr{constructor(t,n,r="imperative",i=null){super(t,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Br extends fr{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Bc extends fr{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Hs extends fr{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=16}}class hf extends fr{constructor(t,n,r,i){super(t,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class lR extends fr{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class C8 extends fr{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class b8 extends fr{constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class w8 extends fr{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class E8 extends fr{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class I8{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class D8{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class T8{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class S8{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class A8{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class M8{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uR{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class W_{}class G_{constructor(t){this.url=t}}class x8{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Hc,this.attachRef=null}}let Hc=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new x8,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();class dR{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=q_(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=q_(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=K_(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return K_(t,this._root).map(n=>n.value)}}function q_(e,t){if(e===t.value)return t;for(const n of t.children){const r=q_(e,n);if(r)return r}return null}function K_(e,t){if(e===t.value)return[t];for(const n of t.children){const r=K_(e,n);if(r.length)return r.unshift(t),r}return[]}class Hr{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function zs(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class fR extends dR{constructor(t,n){super(t),this.snapshot=n,Y_(this,t)}toString(){return this.snapshot.toString()}}function hR(e,t){const n=function R8(e,t){const s=new pf([],{},{},"",{},Z,t,null,{});return new gR("",new Hr(s,[]))}(0,t),r=new tt([new Fc("",{})]),i=new tt({}),o=new tt({}),s=new tt({}),a=new tt(""),c=new Ws(r,i,s,a,o,Z,t,n.root);return c.snapshot=n.root,new fR(new Hr(c,[]),n)}class Ws{constructor(t,n,r,i,o,s,a,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Ie(l=>l[Oc]))??W(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Ie(t=>$s(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Ie(t=>$s(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function pR(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function P8(e){return e.reduce((t,n)=>({params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class pf{get title(){return this.data?.[Oc]}constructor(t,n,r,i,o,s,a,c,l){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=$s(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$s(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class gR extends dR{constructor(t,n){super(n),this.url=t,Y_(this,n)}toString(){return mR(this._root)}}function Y_(e,t){t.value._routerState=e,t.children.forEach(n=>Y_(e,n))}function mR(e){const t=e.children.length>0?` { ${e.children.map(mR).join(", ")} } `:"";return`${e.value}${t}`}function Q_(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,dr(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),dr(t.params,n.params)||e.paramsSubject.next(n.params),function K6(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!dr(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.urlSubject.next(n.url),dr(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Z_(e,t){const n=dr(e.params,t.params)&&function J6(e,t){return oo(e,t)&&e.every((n,r)=>dr(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||Z_(e.parent,t.parent))}let J_=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Z,this.activateEvents=new ae,this.deactivateEvents=new ae,this.attachEvents=new ae,this.detachEvents=new ae,this.parentContexts=L(Hc),this.location=L($n),this.changeDetector=L(Vd),this.environmentInjector=L(Tn),this.inputBinder=L(gf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new T(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new T(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new T(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new T(4013,!1);this._activatedRoute=n;const i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new N8(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=z({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[In]})}}return e})();class N8{constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===Ws?this.route:t===Hc?this.childContexts:this.parent.get(t,n)}}const gf=new O("");let _R=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=O_([r.queryParams,r.params,r.data]).pipe(Zn(([o,s,a],c)=>(a={...o,...s,...a},0===c?W(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const s=function sG(e){const t=oe(e);if(!t)return null;const n=new fc(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})();function zc(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function O8(e,t,n){return t.children.map(r=>{for(const i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return zc(e,r,i);return zc(e,r)})}(e,t,n);return new Hr(r,i)}{if(e.shouldAttach(t.value)){const o=e.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>zc(e,a)),s}}const r=function F8(e){return new Ws(new tt(e.url),new tt(e.params),new tt(e.queryParams),new tt(e.fragment),new tt(e.data),e.outlet,e.component,e)}(t.value),i=t.children.map(o=>zc(e,o));return new Hr(r,i)}}const X_="ngNavigationCancelingError";function vR(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=so(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=yR(!1,0,t);return i.url=n,i.navigationBehaviorOptions=r,i}function yR(e,t,n){const r=new Error("NavigationCancelingError: "+(e||""));return r[X_]=!0,r.cancellationCode=t,n&&(r.url=n),r}function CR(e){return e&&e[X_]}let bR=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=pe({type:e,selectors:[["ng-component"]],standalone:!0,features:[yM],decls:1,vars:0,template:function(r,i){1&r&&A(0,"router-outlet")},dependencies:[J_],encapsulation:2})}}return e})();function ev(e){const t=e.children&&e.children.map(ev),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Z&&(n.component=bR),n}function Wn(e){return e.outlet||Z}function Wc(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class z8{constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),Q_(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const i=zs(n);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){const i=t.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=zs(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=zs(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){const i=zs(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new M8(o.value.snapshot))}),t.children.length&&this.forwardEvent(new S8(t.value.snapshot))}activateRoutes(t,n,r){const i=t.value,o=n?n.value:null;if(Q_(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Q_(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=Wc(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,r)}}class wR{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class mf{constructor(t,n){this.component=t,this.route=n}}function W8(e,t,n){const r=e._root;return Gc(r,t?t._root:null,n,[r.value])}function Gs(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function vV(e){return null!==pu(e)}(e)?t.get(e):e:r}function Gc(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=zs(t);return e.children.forEach(s=>{(function q8(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function K8(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!oo(e.url,t.url);case"pathParamsOrQueryParamsChange":return!oo(e.url,t.url)||!dr(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Z_(e,t)||!dr(e.queryParams,t.queryParams);default:return!Z_(e,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new wR(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Gc(e,t,o.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new mf(a.outlet.component,s))}else s&&qc(t,a,i),i.canActivateChecks.push(new wR(r)),Gc(e,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>qc(a,n.getContext(s),i)),i}function qc(e,t,n){const r=zs(e),i=e.value;Object.entries(r).forEach(([o,s])=>{qc(s,i.component?t?t.children.getContext(o):null:t,n)}),n.canDeactivateChecks.push(new mf(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function Kc(e){return"function"==typeof e}function ER(e){return e instanceof nf||"EmptyError"===e?.name}const _f=Symbol("INITIAL_VALUE");function qs(){return Zn(e=>O_(e.map(t=>t.pipe(no(1),function U6(...e){const t=Ra(e);return Qe((n,r)=>{(t?F_(e,n,t):F_(e,n)).subscribe(r)})}(_f)))).pipe(Ie(t=>{for(const n of t)if(!0!==n){if(n===_f)return _f;if(!1===n||n instanceof Bs)return n}return!0}),$r(t=>t!==_f),no(1)))}function IR(e){return function m2(...e){return RI(e)}(It(t=>{if(so(t))throw vR(0,t)}),Ie(t=>!0===t))}class vf{constructor(t){this.segmentGroup=t||null}}class DR{constructor(t){this.urlTree=t}}function Ks(e){return Nc(new vf(e))}function TR(e){return Nc(new DR(e))}class pq{constructor(t,n){this.urlSerializer=t,this.urlTree=n}noMatchError(t){return new T(4002,!1)}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return W(r);if(i.numberOfChildren>1||!i.children[Z])return Nc(new T(4e3,!1));i=i.children[Z]}}applyRedirectCommands(t,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r)}applyRedirectCreateUrlTree(t,n,r,i){const o=this.createSegmentGroup(t,n.root,r,i);return new Bs(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return Object.entries(t).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){const o=this.createSegments(t,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,r,i)}),new be(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){const i=r[n.path.substring(1)];if(!i)throw new T(4001,!1);return i}findOrReturn(t,n){let r=0;for(const i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}}const tv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function gq(e,t,n,r,i){const o=nv(e,t,n);return o.matched?(r=function V8(e,t){return e.providers&&!e._injector&&(e._injector=xm(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,r),function dq(e,t,n,r){const i=t.canMatch;return i&&0!==i.length?W(i.map(s=>{const a=Gs(s,e);return vi(function eq(e){return e&&Kc(e.canMatch)}(a)?a.canMatch(t,n):e.runInContext(()=>a(t,n)))})).pipe(qs(),IR()):W(!0)}(r,t,n).pipe(Ie(s=>!0===s?o:{...tv}))):W(o)}function nv(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...tv}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(t.matcher||q6)(n,e,t);if(!i)return{...tv};const o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function SR(e,t,n,r){return n.length>0&&function vq(e,t,n){return n.some(r=>yf(e,t,r)&&Wn(r)!==Z)}(e,n,r)?{segmentGroup:new be(t,_q(r,new be(n,e.children))),slicedSegments:[]}:0===n.length&&function yq(e,t,n){return n.some(r=>yf(e,t,r))}(e,n,r)?{segmentGroup:new be(e.segments,mq(e,0,n,r,e.children)),slicedSegments:n}:{segmentGroup:new be(e.segments,e.children),slicedSegments:n}}function mq(e,t,n,r,i){const o={};for(const s of r)if(yf(e,n,s)&&!i[Wn(s)]){const a=new be([],{});o[Wn(s)]=a}return{...i,...o}}function _q(e,t){const n={};n[Z]=t;for(const r of e)if(""===r.path&&Wn(r)!==Z){const i=new be([],{});n[Wn(r)]=i}return n}function yf(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}class Eq{constructor(t,n,r,i,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new pq(this.urlSerializer,this.urlTree)}noMatchError(t){return new T(4002,!1)}recognize(){const t=SR(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Z).pipe(io(n=>{if(n instanceof DR)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof vf?this.noMatchError(n):n}),Ie(n=>{const r=new pf([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Z,this.rootComponentType,null,{}),i=new Hr(r,n),o=new gR("",i),s=function h8(e,t,n=null,r=null){return rR(nR(e),t,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,Z).pipe(io(r=>{throw r instanceof vf?this.noMatchError(r):r}))}inheritParamsAndData(t){const n=t.value,r=pR(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,i,!0)}processChildren(t,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return at(i).pipe(kc(o=>{const s=r.children[o],a=function B8(e,t){const n=e.filter(r=>Wn(r)===t);return n.push(...e.filter(r=>Wn(r)!==t)),n}(n,o);return this.processSegmentGroup(t,a,s,o)}),function B6(e,t){return Qe(function $6(e,t,n,r,i){return(o,s)=>{let a=n,c=t,l=0;o.subscribe($e(s,u=>{const d=l++;c=a?e(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}(e,t,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),rf(null),function H6(e,t){const n=arguments.length>=2;return r=>r.pipe(e?$r((i,o)=>e(i,o,r)):Dr,V_(1),n?rf(t):Hx(()=>new nf))}(),mt(o=>{if(null===o)return Ks(r);const s=AR(o);return function Iq(e){e.sort((t,n)=>t.value.outlet===Z?-1:n.value.outlet===Z?1:t.value.outlet.localeCompare(n.value.outlet))}(s),W(s)}))}processSegment(t,n,r,i,o,s){return at(n).pipe(kc(a=>this.processSegmentAgainstRoute(a._injector??t,n,a,r,i,o,s).pipe(io(c=>{if(c instanceof vf)return W(null);throw c}))),ro(a=>!!a),io(a=>{if(ER(a))return function bq(e,t,n){return 0===t.length&&!e.children[n]}(r,i,o)?W([]):Ks(r);throw a}))}processSegmentAgainstRoute(t,n,r,i,o,s,a){return function Cq(e,t,n,r){return!!(Wn(e)===r||r!==Z&&yf(t,n,e))&&("**"===e.path||nv(t,e,n).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s):Ks(i):Ks(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?TR(o):this.applyRedirects.lineralizeSegments(r,o).pipe(mt(s=>{const a=new be(s,{});return this.processSegment(t,n,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s){const{matched:a,consumedSegments:c,remainingSegments:l,positionalParamSegments:u}=nv(n,i,o);if(!a)return Ks(n);const d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return i.redirectTo.startsWith("/")?TR(d):this.applyRedirects.lineralizeSegments(i,d).pipe(mt(f=>this.processSegment(t,r,n,f.concat(l),s,!1)))}matchSegmentAgainstRoute(t,n,r,i,o,s){let a;if("**"===r.path){const c=i.length>0?Wx(i).parameters:{};a=W({snapshot:new pf(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,MR(r),Wn(r),r.component??r._loadedComponent??null,r,xR(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=gq(n,r,i,t).pipe(Ie(({matched:c,consumedSegments:l,remainingSegments:u,parameters:d})=>c?{snapshot:new pf(l,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,MR(r),Wn(r),r.component??r._loadedComponent??null,r,xR(r)),consumedSegments:l,remainingSegments:u}:null));return a.pipe(Zn(c=>null===c?Ks(n):this.getChildConfig(t=r._injector??t,r,i).pipe(Zn(({routes:l})=>{const u=r._loadedInjector??t,{snapshot:d,consumedSegments:f,remainingSegments:h}=c,{segmentGroup:m,slicedSegments:v}=SR(n,f,h,l);if(0===v.length&&m.hasChildren())return this.processChildren(u,l,m).pipe(Ie(I=>null===I?null:[new Hr(d,I)]));if(0===l.length&&0===v.length)return W([new Hr(d,[])]);const E=Wn(r)===o;return this.processSegment(u,l,m,v,E?Z:o,!0).pipe(Ie(I=>[new Hr(d,I)]))}))))}getChildConfig(t,n,r){return n.children?W({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?W({routes:n._loadedRoutes,injector:n._loadedInjector}):function uq(e,t,n,r){const i=t.canLoad;return void 0===i||0===i.length?W(!0):W(i.map(s=>{const a=Gs(s,e);return vi(function Q8(e){return e&&Kc(e.canLoad)}(a)?a.canLoad(t,n):e.runInContext(()=>a(t,n)))})).pipe(qs(),IR())}(t,n,r).pipe(mt(i=>i?this.configLoader.loadChildren(t,n).pipe(It(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function hq(e){return Nc(yR(!1,3))}())):W({routes:[],injector:t})}}function Dq(e){const t=e.value.routeConfig;return t&&""===t.path}function AR(e){const t=[],n=new Set;for(const r of e){if(!Dq(r)){t.push(r);continue}const i=t.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):t.push(r)}for(const r of n){const i=AR(r.children);t.push(new Hr(r.value,i))}return t.filter(r=>!n.has(r))}function MR(e){return e.data||{}}function xR(e){return e.resolve||{}}function RR(e){return"string"==typeof e.title||null===e.title}function rv(e){return Zn(t=>{const n=e(t);return n?at(n).pipe(Ie(()=>t)):W(t)})}const Ys=new O("ROUTES");let iv=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=L(h1)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return W(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=vi(n.loadComponent()).pipe(Ie(PR),It(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),U_(()=>{this.componentLoaders.delete(n)})),i=new Bx(r,()=>new un).pipe(L_());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return W({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function Pq(e,t,n,r){return vi(e.loadChildren()).pipe(Ie(PR),mt(i=>i instanceof _M||Array.isArray(i)?W(i):at(t.compileModuleAsync(i))),Ie(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(n).injector,s=o.get(Ys,[],{optional:!0,self:!0}).flat()),{routes:s.map(ev),injector:o}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(U_(()=>{this.childrenLoaders.delete(r)})),s=new Bx(o,()=>new un).pipe(L_());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function PR(e){return function Nq(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let Cf=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new un,this.transitionAbortSubject=new un,this.configLoader=L(iv),this.environmentInjector=L(Tn),this.urlSerializer=L(Lc),this.rootContexts=L(Hc),this.inputBindingEnabled=null!==L(gf,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>W(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new D8(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new I8(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new tt({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:$c,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe($r(o=>0!==o.id),Ie(o=>({...o,extractedUrl:n.urlHandlingStrategy.extract(o.rawUrl)})),Zn(o=>{this.currentTransition=o;let s=!1,a=!1;return W(o).pipe(It(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Zn(c=>{const l=c.currentBrowserUrl.toString(),u=!n.navigated||c.extractedUrl.toString()!==l||l!==c.currentUrlTree.toString();if(!u&&"reload"!==(c.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const f="";return this.events.next(new Hs(c.id,this.urlSerializer.serialize(c.rawUrl),f,0)),c.resolve(null),Qn}if(n.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return W(c).pipe(Zn(f=>{const h=this.transitions?.getValue();return this.events.next(new ff(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),h!==this.transitions?.getValue()?Qn:Promise.resolve(f)}),function Tq(e,t,n,r,i,o){return mt(s=>function wq(e,t,n,r,i,o,s="emptyOnly"){return new Eq(e,t,n,r,i,s,o).recognize()}(e,t,n,r,s.extractedUrl,i,o).pipe(Ie(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),It(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:f.urlAfterRedirects};const h=new lR(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}));if(u&&n.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:f,extractedUrl:h,source:m,restoredState:v,extras:E}=c,I=new ff(f,this.urlSerializer.serialize(h),m,v);this.events.next(I);const b=hR(0,this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:b,urlAfterRedirects:h,extras:{...E,skipLocationChange:!1,replaceUrl:!1}},W(o)}{const f="";return this.events.next(new Hs(c.id,this.urlSerializer.serialize(c.extractedUrl),f,1)),c.resolve(null),Qn}}),It(c=>{const l=new C8(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),Ie(c=>(this.currentTransition=o={...c,guards:W8(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function nq(e,t){return mt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?W({...n,guardsResult:!0}):function rq(e,t,n,r){return at(e).pipe(mt(i=>function lq(e,t,n,r,i){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?W(o.map(a=>{const c=Wc(t)??i,l=Gs(a,c);return vi(function X8(e){return e&&Kc(e.canDeactivate)}(l)?l.canDeactivate(e,t,n,r):c.runInContext(()=>l(e,t,n,r))).pipe(ro())})).pipe(qs()):W(!0)}(i.component,i.route,n,t,r)),ro(i=>!0!==i,!0))}(s,r,i,e).pipe(mt(a=>a&&function Y8(e){return"boolean"==typeof e}(a)?function iq(e,t,n,r){return at(t).pipe(kc(i=>F_(function sq(e,t){return null!==e&&t&&t(new T8(e)),W(!0)}(i.route.parent,r),function oq(e,t){return null!==e&&t&&t(new A8(e)),W(!0)}(i.route,r),function cq(e,t,n){const r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function G8(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(s)).filter(s=>null!==s).map(s=>$x(()=>W(s.guards.map(c=>{const l=Wc(s.node)??n,u=Gs(c,l);return vi(function J8(e){return e&&Kc(e.canActivateChild)}(u)?u.canActivateChild(r,e):l.runInContext(()=>u(r,e))).pipe(ro())})).pipe(qs())));return W(o).pipe(qs())}(e,i.path,n),function aq(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return W(!0);const i=r.map(o=>$x(()=>{const s=Wc(t)??n,a=Gs(o,s);return vi(function Z8(e){return e&&Kc(e.canActivate)}(a)?a.canActivate(t,e):s.runInContext(()=>a(t,e))).pipe(ro())}));return W(i).pipe(qs())}(e,i.route,n))),ro(i=>!0!==i,!0))}(r,o,e,t):W(a)),Ie(a=>({...n,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),It(c=>{if(o.guardsResult=c.guardsResult,so(c.guardsResult))throw vR(0,c.guardsResult);const l=new b8(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),$r(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),rv(c=>{if(c.guards.canActivateChecks.length)return W(c).pipe(It(l=>{const u=new w8(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Zn(l=>{let u=!1;return W(l).pipe(function Sq(e,t){return mt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return W(n);let o=0;return at(i).pipe(kc(s=>function Aq(e,t,n,r){const i=e.routeConfig,o=e._resolve;return void 0!==i?.title&&!RR(i)&&(o[Oc]=i.title),function Mq(e,t,n,r){const i=function xq(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===i.length)return W({});const o={};return at(i).pipe(mt(s=>function Rq(e,t,n,r){const i=Wc(t)??r,o=Gs(e,i);return vi(o.resolve?o.resolve(t,n):i.runInContext(()=>o(t,n)))}(e[s],t,n,r).pipe(ro(),It(a=>{o[s]=a}))),V_(1),function z6(e){return Ie(()=>e)}(o),io(s=>ER(s)?Qn:Nc(s)))}(o,e,t,r).pipe(Ie(s=>(e._resolvedData=s,e.data=pR(e,n).resolve,i&&RR(i)&&(e.data[Oc]=i.title),null)))}(s.route,r,e,t)),It(()=>o++),V_(1),mt(s=>o===i.length?W(n):Qn))})}(n.paramsInheritanceStrategy,this.environmentInjector),It({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",2)}}))}),It(l=>{const u=new E8(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),rv(c=>{const l=u=>{const d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(It(f=>{u.component=f}),Ie(()=>{})));for(const f of u.children)d.push(...l(f));return d};return O_(l(c.targetSnapshot.root)).pipe(rf(),no(1))}),rv(()=>this.afterPreactivation()),Ie(c=>{const l=function k8(e,t,n){const r=zc(e,t._root,n?n._root:void 0);return new fR(r,t)}(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:l},o}),It(()=>{this.events.next(new W_)}),((e,t,n,r)=>Ie(i=>(new z8(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)))(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),no(1),It({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Br(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),n.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),function W6(e){return Qe((t,n)=>{Zt(e).subscribe($e(n,()=>n.complete(),su)),!n.closed&&t.subscribe(n)})}(this.transitionAbortSubject.pipe(It(c=>{throw c}))),U_(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),io(c=>{if(a=!0,CR(c))this.events.next(new Bc(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function L8(e){return CR(e)&&so(e.url)}(c)?this.events.next(new G_(c.url)):o.resolve(!1);else{this.events.next(new hf(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(c))}catch(l){o.reject(l)}}return Qn}))}))}cancelNavigationTransition(n,r,i){const o=new Bc(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function NR(e){return e!==$c}let kR=(()=>{class e{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Z);return r}getResolvedTitleForRoute(n){return n.data[Oc]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:function(){return L(kq)},providedIn:"root"})}}return e})(),kq=(()=>{class e extends kR{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||e)(N(Nx))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Oq=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:function(){return L(Lq)},providedIn:"root"})}}return e})();class Fq{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let Lq=(()=>{class e extends Fq{static{this.\u0275fac=function(){let n;return function(i){return(n||(n=bt(e)))(i||e)}}()}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const bf=new O("",{providedIn:"root",factory:()=>({})});let Vq=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:function(){return L(Uq)},providedIn:"root"})}}return e})(),Uq=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Yc=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Yc||{});function OR(e,t){e.events.pipe($r(n=>n instanceof Br||n instanceof Bc||n instanceof hf||n instanceof Hs),Ie(n=>n instanceof Br||n instanceof Hs?Yc.COMPLETE:n instanceof Bc&&(0===n.code||1===n.code)?Yc.REDIRECTING:Yc.FAILED),$r(n=>n!==Yc.REDIRECTING),no(1)).subscribe(()=>{t()})}function jq(e){throw e}function $q(e,t,n){return t.parse("/")}const Bq={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Hq={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ct=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=L(d1),this.isNgZoneEnabled=!1,this._events=new un,this.options=L(bf,{optional:!0})||{},this.pendingTasks=L(f1),this.errorHandler=this.options.errorHandler||jq,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||$q,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=L(Vq),this.routeReuseStrategy=L(Oq),this.titleStrategy=L(kR),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=L(Ys,{optional:!0})?.flat()??[],this.navigationTransitions=L(Cf),this.urlSerializer=L(Lc),this.location=L(c_),this.componentInputBindingEnabled=!!L(gf,{optional:!0}),this.eventsSubscription=new Qt,this.isNgZoneEnabled=L(_e)instanceof _e&&_e.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Bs,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=hR(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(FR(r)&&this._events.next(r));if(r instanceof ff)NR(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof Hs)this.rawUrlTree=i.rawUrl;else if(r instanceof lR){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(o,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof W_)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Bc)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof G_){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),s={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||NR(i.source)};this.scheduleNavigation(o,$c,null,s,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof hf&&this.restoreHistory(i,!0),r instanceof Br&&(this.navigated=!0),FR(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),$c,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(ev),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s;let d,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...o};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}null!==u&&(u=this.removeEmptyProps(u));try{d=nR(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return rR(d,n,u,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=so(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,$c,null,r)}navigate(n,r={skipLocationChange:!1}){return function zq(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new T(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...Bq}:!1===r?{...Hq}:r,so(n))return qx(this.currentUrlTree,n,i);const o=this.parseUrl(n);return qx(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const o=n[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l;s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((d,f)=>{a=d,c=f});const u=this.pendingTasks.add();return OR(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function FR(e){return!(e instanceof W_||e instanceof G_)}let zr=(()=>{class e{constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new un,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof Br&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function _0(e,t,n){return function E$(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?m0:g0}(t,n)(e)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||e)(C(ct),C(Ws),function Ou(e){return function zU(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if(cD(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===t)return n[i+1];i+=2}}}return null}(Ct(),e)}("tabindex"),C(Nr),C(gn),C(Xi))}}static{this.\u0275dir=z({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&U("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&sr("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Us],skipLocationChange:["skipLocationChange","skipLocationChange",Us],replaceUrl:["replaceUrl","replaceUrl",Us],routerLink:"routerLink"},standalone:!0,features:[PS,In]})}}return e})();class LR{}let qq=(()=>{class e{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe($r(n=>n instanceof Br),kc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=xm(o.providers,n,`Route: ${o.path}`));const s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return at(i).pipe(Ho())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):W(null);const o=i.pipe(mt(s=>null===s?W(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));return r.loadComponent&&!r._loadedComponent?at([o,this.loader.loadComponent(r)]).pipe(Ho()):o})}static{this.\u0275fac=function(r){return new(r||e)(N(ct),N(h1),N(Tn),N(LR),N(iv))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const ov=new O("");let VR=(()=>{class e{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof ff?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Br?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Hs&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof uR&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new uR(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){!function oS(){throw new Error("invalid")}()}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac})}}return e})();function Wr(e,t){return{\u0275kind:e,\u0275providers:t}}function jR(){const e=L(xt);return t=>{const n=e.get(Vs);if(t!==n.components[0])return;const r=e.get(ct),i=e.get($R);1===e.get(sv)&&r.initialNavigation(),e.get(BR,null,ne.Optional)?.setUpPreloading(),e.get(ov,null,ne.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const $R=new O("",{factory:()=>new un}),sv=new O("",{providedIn:"root",factory:()=>1}),BR=new O("");function Zq(e){return Wr(0,[{provide:BR,useExisting:qq},{provide:LR,useExisting:e}])}const HR=new O("ROUTER_FORROOT_GUARD"),Xq=[c_,{provide:Lc,useClass:j_},ct,Hc,{provide:Ws,useFactory:function UR(e){return e.routerState.root},deps:[ct]},iv,[]];function e7(){return new C1("Router",ct)}let zR=(()=>{class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[Xq,[],{provide:Ys,multi:!0,useValue:n},{provide:HR,useFactory:i7,deps:[[ct,new $t,new Vu]]},{provide:bf,useValue:r||{}},r?.useHash?{provide:Xi,useClass:dG}:{provide:Xi,useClass:Z1},{provide:ov,useFactory:()=>{const e=L(A5),t=L(_e),n=L(bf),r=L(Cf),i=L(Lc);return n.scrollOffset&&e.setOffset(n.scrollOffset),new VR(i,r,e,t,n)}},r?.preloadingStrategy?Zq(r.preloadingStrategy).\u0275providers:[],{provide:C1,multi:!0,useFactory:e7},r?.initialNavigation?o7(r):[],r?.bindToComponentInputs?Wr(8,[_R,{provide:gf,useExisting:_R}]).\u0275providers:[],[{provide:WR,useFactory:jR},{provide:Jm,multi:!0,useExisting:WR}]]}}static forChild(n){return{ngModule:e,providers:[{provide:Ys,multi:!0,useValue:n}]}}static{this.\u0275fac=function(r){return new(r||e)(N(HR,8))}}static{this.\u0275mod=Xt({type:e})}static{this.\u0275inj=Ot({})}}return e})();function i7(e){return"guarded"}function o7(e){return["disabled"===e.initialNavigation?Wr(3,[{provide:zm,multi:!0,useFactory:()=>{const t=L(ct);return()=>{t.setUpLocationChangeListener()}}},{provide:sv,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?Wr(2,[{provide:sv,useValue:0},{provide:zm,multi:!0,deps:[xt],useFactory:t=>{const n=t.get(lG,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=t.get(ct),o=t.get($R);OR(i,()=>{r(!0)}),t.get(Cf).afterPreactivation=()=>(r(!0),o.closed?W(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const WR=new O("");function GR(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(l){return void n(l)}a.done?t(c):Promise.resolve(c).then(r,i)}function _(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function s(c){GR(o,r,i,s,a,"next",c)}function a(c){GR(o,r,i,s,a,"throw",c)}s(void 0)})}}let qR=(()=>{class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||e)(C(Nr),C(gn))}}static{this.\u0275dir=z({type:e})}}return e})(),ao=(()=>{class e extends qR{static{this.\u0275fac=function(){let n;return function(i){return(n||(n=bt(e)))(i||e)}}()}static{this.\u0275dir=z({type:e,features:[Ce]})}}return e})();const hr=new O("NgValueAccessor"),c7={provide:hr,useExisting:Se(()=>av),multi:!0};let av=(()=>{class e extends ao{writeValue(n){this.setProperty("checked",n)}static{this.\u0275fac=function(){let n;return function(i){return(n||(n=bt(e)))(i||e)}}()}static{this.\u0275dir=z({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){1&r&&U("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[Oe([c7]),Ce]})}}return e})();const l7={provide:hr,useExisting:Se(()=>co),multi:!0},d7=new O("CompositionEventMode");let co=(()=>{class e extends qR{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function u7(){const e=mi()?mi().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||e)(C(Nr),C(gn),C(d7,8))}}static{this.\u0275dir=z({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&U("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Oe([l7]),Ce]})}}return e})();function yi(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}function KR(e){return null!=e&&"number"==typeof e.length}const Pt=new O("NgValidators"),Ci=new O("NgAsyncValidators"),f7=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ie{static min(t){return function YR(e){return t=>{if(yi(t.value)||yi(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}(t)}static max(t){return function QR(e){return t=>{if(yi(t.value)||yi(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}(t)}static required(t){return function ZR(e){return yi(e.value)?{required:!0}:null}(t)}static requiredTrue(t){return function JR(e){return!0===e.value?null:{required:!0}}(t)}static email(t){return function XR(e){return yi(e.value)||f7.test(e.value)?null:{email:!0}}(t)}static minLength(t){return function eP(e){return t=>yi(t.value)||!KR(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function tP(e){return t=>KR(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}(t)}static pattern(t){return function nP(e){if(!e)return wf;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),r=>{if(yi(r.value))return null;const i=r.value;return t.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(t)}static nullValidator(t){return null}static compose(t){return cP(t)}static composeAsync(t){return lP(t)}}function wf(e){return null}function rP(e){return null!=e}function iP(e){return _c(e)?at(e):e}function oP(e){let t={};return e.forEach(n=>{t=null!=n?{...t,...n}:t}),0===Object.keys(t).length?null:t}function sP(e,t){return t.map(n=>n(e))}function aP(e){return e.map(t=>function h7(e){return!e.validate}(t)?t:n=>t.validate(n))}function cP(e){if(!e)return null;const t=e.filter(rP);return 0==t.length?null:function(n){return oP(sP(n,t))}}function cv(e){return null!=e?cP(aP(e)):null}function lP(e){if(!e)return null;const t=e.filter(rP);return 0==t.length?null:function(n){return function a7(...e){const t=gp(e),{args:n,keys:r}=Lx(e),i=new je(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let c=s,l=s;for(let u=0;u<s;u++){let d=!1;Zt(n[u]).subscribe($e(o,f=>{d||(d=!0,l--),a[u]=f},()=>c--,void 0,()=>{(!c||!d)&&(l||o.next(r?Ux(r,a):a),o.complete())}))}});return t?i.pipe(Vx(t)):i}(sP(n,t).map(iP)).pipe(Ie(oP))}}function lv(e){return null!=e?lP(aP(e)):null}function uP(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function dP(e){return e._rawValidators}function fP(e){return e._rawAsyncValidators}function uv(e){return e?Array.isArray(e)?e:[e]:[]}function Ef(e,t){return Array.isArray(e)?e.includes(t):e===t}function hP(e,t){const n=uv(t);return uv(e).forEach(i=>{Ef(n,i)||n.push(i)}),n}function pP(e,t){return uv(t).filter(n=>!Ef(e,n))}class gP{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=cv(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=lv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return!!this.control&&this.control.hasError(t,n)}getError(t,n){return this.control?this.control.getError(t,n):null}}class Wt extends gP{get formDirective(){return null}get path(){return null}}class bi extends gP{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class mP{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Qc=(()=>{class e extends mP{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||e)(C(bi,2))}}static{this.\u0275dir=z({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Dd("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Ce]})}}return e})(),Qs=(()=>{class e extends mP{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||e)(C(Wt,10))}}static{this.\u0275dir=z({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Dd("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Ce]})}}return e})();const Zc="VALID",Df="INVALID",Zs="PENDING",Jc="DISABLED";function hv(e){return(Tf(e)?e.validators:e)||null}function pv(e,t){return(Tf(t)?t.asyncValidators:e)||null}function Tf(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function vP(e,t,n){const r=e.controls;if(!(t?Object.keys(r):r).length)throw new T(1e3,"");if(!r[n])throw new T(1001,"")}function yP(e,t,n){e._forEachChild((r,i)=>{if(void 0===n[i])throw new T(1002,"")})}class Sf{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Zc}get invalid(){return this.status===Df}get pending(){return this.status==Zs}get disabled(){return this.status===Jc}get enabled(){return this.status!==Jc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(hP(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(hP(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(pP(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(pP(t,this._rawAsyncValidators))}hasValidator(t){return Ef(this._rawValidators,t)}hasAsyncValidator(t){return Ef(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Zs,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=Jc,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=Zc,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Zc||this.status===Zs)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Jc:Zc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Zs,this._hasOwnPendingAsyncValidator=!0;const n=iP(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(!1!==n.emitEvent)}get(t){let n=t;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new ae,this.statusChanges=new ae}_calculateStatus(){return this._allControlsDisabled()?Jc:this.errors?Df:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Zs)?Zs:this._anyControlsHaveStatus(Df)?Df:Zc}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Tf(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function _7(e){return Array.isArray(e)?cv(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function v7(e){return Array.isArray(e)?lv(e):e||null}(this._rawAsyncValidators)}}class Xc extends Sf{constructor(t,n,r){super(hv(n),pv(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){yP(this,0,t),Object.keys(t).forEach(r=>{vP(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(Object.keys(t).forEach(r=>{const i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class CP extends Xc{}const lo=new O("CallSetDisabledState",{providedIn:"root",factory:()=>el}),el="always";function Af(e,t){return[...t.path,e]}function tl(e,t,n=el){gv(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===n)&&t.valueAccessor.setDisabledState?.(e.disabled),function C7(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&bP(e,t)})}(e,t),function w7(e,t){const n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function b7(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&bP(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function y7(e,t){if(t.valueAccessor.setDisabledState){const n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function Mf(e,t,n=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),Rf(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function xf(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function gv(e,t){const n=dP(e);null!==t.validator?e.setValidators(uP(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=fP(e);null!==t.asyncValidator?e.setAsyncValidators(uP(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();xf(t._rawValidators,i),xf(t._rawAsyncValidators,i)}function Rf(e,t){let n=!1;if(null!==e){if(null!==t.validator){const i=dP(e);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==t.validator);o.length!==i.length&&(n=!0,e.setValidators(o))}}if(null!==t.asyncValidator){const i=fP(e);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==t.asyncValidator);o.length!==i.length&&(n=!0,e.setAsyncValidators(o))}}}const r=()=>{};return xf(t._rawValidators,r),xf(t._rawAsyncValidators,r),n}function bP(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function wP(e,t){gv(e,t)}function EP(e,t){e._syncPendingControls(),t.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}const S7={provide:Wt,useExisting:Se(()=>Pf)},nl=(()=>Promise.resolve())();let Pf=(()=>{class e extends Wt{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new ae,this.form=new Xc({},cv(n),lv(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){nl.then(()=>{const r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),tl(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){nl.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){nl.then(()=>{const r=this._findContainer(n.path),i=new Xc({});wP(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){nl.then(()=>{const r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){nl.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,EP(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static{this.\u0275fac=function(r){return new(r||e)(C(Pt,10),C(Ci,10),C(lo,8))}}static{this.\u0275dir=z({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&U("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Oe([S7]),Ce]})}}return e})();function IP(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function DP(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const rl=class extends Sf{constructor(t=null,n,r){super(hv(n),pv(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Tf(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=DP(t)?t.value:t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){IP(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){IP(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){DP(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let TP=(()=>{class e extends Wt{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Af(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=function(){let n;return function(i){return(n||(n=bt(e)))(i||e)}}()}static{this.\u0275dir=z({type:e,features:[Ce]})}}return e})(),Js=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=z({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return e})(),RP=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Xt({type:e})}static{this.\u0275inj=Ot({})}}return e})();const yv=new O("NgModelWithFormControlWarning"),F7={provide:Wt,useExisting:Se(()=>uo)};let uo=(()=>{class e extends Wt{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ae,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Rf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return tl(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){Mf(n.control||null,n,!1),function T7(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,EP(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(Mf(r||null,n),(e=>e instanceof rl)(i)&&(tl(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);wP(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function E7(e,t){return Rf(e,t)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){gv(this.form,this),this._oldForm&&Rf(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(r){return new(r||e)(C(Pt,10),C(Ci,10),C(lo,8))}}static{this.\u0275dir=z({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&U("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Oe([F7]),Ce,In]})}}return e})();const L7={provide:Wt,useExisting:Se(()=>Nf)};let Nf=(()=>{class e extends TP{constructor(n,r,i){super(),this.name=null,this._parent=n,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){OP(this._parent)}static{this.\u0275fac=function(r){return new(r||e)(C(Wt,13),C(Pt,10),C(Ci,10))}}static{this.\u0275dir=z({type:e,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[Oe([L7]),Ce]})}}return e})();const V7={provide:Wt,useExisting:Se(()=>Cv)};let Cv=(()=>{class e extends Wt{constructor(n,r,i){super(),this.name=null,this._parent=n,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Af(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){OP(this._parent)}static{this.\u0275fac=function(r){return new(r||e)(C(Wt,13),C(Pt,10),C(Ci,10))}}static{this.\u0275dir=z({type:e,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[Oe([V7]),Ce]})}}return e})();function OP(e){return!(e instanceof Nf||e instanceof uo||e instanceof Cv)}const U7={provide:bi,useExisting:Se(()=>Xs)};let Xs=(()=>{class e extends bi{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new ae,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function vv(e,t){if(!t)return null;let n,r,i;return Array.isArray(t),t.forEach(o=>{o.constructor===co?n=o:function D7(e){return Object.getPrototypeOf(e.constructor)===ao}(o)?r=o:i=o}),i||r||n||null}(0,o)}ngOnChanges(n){this._added||this._setUpControl(),function _v(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return Af(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||e)(C(Wt,13),C(Pt,10),C(Ci,10),C(hr,10),C(yv,8))}}static{this.\u0275dir=z({type:e,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Oe([U7]),Ce,In]})}}return e})(),qP=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Xt({type:e})}static{this.\u0275inj=Ot({imports:[RP]})}}return e})();class KP extends Sf{constructor(t,n,r){super(hv(n),pv(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,n={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(t,n,r={}){this.controls.splice(t,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,n={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(t,n,r={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,n={}){yP(this,0,t),t.forEach((r,i)=>{vP(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(t.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t=[],n={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((n,r)=>{t(n,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(n=>n.enabled&&t(n))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function YP(e){return!!e&&(void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn)}let ea=(()=>{class e{constructor(){this.useNonNullable=!1}get nonNullable(){const n=new e;return n.useNonNullable=!0,n}group(n,r=null){const i=this._reduceControls(n);let o={};return YP(r)?o=r:null!==r&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Xc(i,o)}record(n,r=null){const i=this._reduceControls(n);return new CP(i,r)}control(n,r,i){let o={};return this.useNonNullable?(YP(r)?o=r:(o.validators=r,o.asyncValidators=i),new rl(n,{...o,nonNullable:!0})):new rl(n,r,i)}array(n,r,i){const o=n.map(s=>this._createControl(s));return new KP(o,r,i)}_reduceControls(n){const r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){return n instanceof rl||n instanceof Sf?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),e9=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:lo,useValue:n.callSetDisabledState??el}]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Xt({type:e})}static{this.\u0275inj=Ot({imports:[qP]})}}return e})(),t9=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:yv,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:lo,useValue:n.callSetDisabledState??el}]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Xt({type:e})}static{this.\u0275inj=Ot({imports:[qP]})}}return e})();const M=function(e,t){if(!e)throw ta(t)},ta=function(e){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+e)},QP=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},kf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const o=e[i],s=i+1<e.length,a=s?e[i+1]:0,c=i+2<e.length,l=c?e[i+2]:0;let f=(15&a)<<2|l>>6,h=63&l;c||(h=64,s||(f=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[f],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(QP(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const c=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(1023&c))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const l=i<e.length?n[e.charAt(i)]:64;++i;const d=i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==l||null==d)throw new r9;r.push(o<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==d&&r.push(l<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class r9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ZP=function(e){const t=QP(e);return kf.encodeByteArray(t,!0)},Of=function(e){return ZP(e).replace(/\./g,"")},Ff=function(e){try{return kf.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function i9(e){return JP(void 0,e)}function JP(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!o9(n)||(e[n]=JP(e[n],t[n]));return e}function o9(e){return"__proto__"!==e}const Lf=()=>{try{return function s9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const e=process.env.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Ff(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},XP=e=>{var t,n;return null===(n=null===(t=Lf())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},eN=()=>{var e;return null===(e=Lf())||void 0===e?void 0:e.config},tN=e=>{var t;return null===(t=Lf())||void 0===t?void 0:t[`_${e}`]};class ho{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof t&&(this.promise.catch(()=>{}),1===t.length?t(n):t(n,r))}}}function lt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Dv(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lt())}function Tv(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function nN(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function po(){try{return"object"==typeof indexedDB}catch{return!1}}function il(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(n){t(n)}})}function Sv(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Gn extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Gn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pr.prototype.create)}}class pr{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],s=o?function g9(e,t){return e.replace(m9,(n,r)=>{const i=t[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new Gn(i,`${this.serviceName}: ${s} (${i}).`,r)}}const m9=/\{\$([^}]+)}/g;function ol(e){return JSON.parse(e)}function st(e){return JSON.stringify(e)}const Vf=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=ol(Ff(o[0])||""),n=ol(Ff(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}};function gr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function na(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function Av(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Uf(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function jf(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const o=e[i],s=t[i];if(rN(o)&&rN(s)){if(!jf(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function rN(e){return null!==e&&"object"==typeof e}function ra(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function sl(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(o)}}),t}function al(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class y9{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const r=this.W_;if("string"==typeof t)for(let d=0;d<16;d++)r[d]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=4294967295&(f<<1|f>>>31)}let l,u,i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],c=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(l=a^o&(s^a),u=1518500249):(l=o^s^a,u=1859775393):d<60?(l=o&s|a&(o|s),u=2400959708):(l=o^s^a,u=3395469782);const f=(i<<5|i>>>27)+l+c+u+r[d]&4294967295;c=a,a=s,s=4294967295&(o<<30|o>>>2),o=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(t,n){if(null==t)return;void 0===n&&(n=t.length);const r=n-this.blockSize;let i=0;const o=this.buf_;let s=this.inbuf_;for(;i<n;){if(0===s)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if("string"==typeof t){for(;i<n;)if(o[s]=t.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=t[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){const t=[];let n=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&n,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)t[r]=this.chain_[i]>>o&255,++r;return t}}class b9{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(void 0===t&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function w9(e,t){if("object"!=typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(t,["next","error","complete"])?t:{next:t,error:n,complete:r},void 0===i.next&&(i.next=Mv),void 0===i.error&&(i.error=Mv),void 0===i.complete&&(i.complete=Mv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(t){void 0===this.observers||void 0===this.observers[t]||(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Mv(){}function ia(e,t){return`${e} failed: ${t} argument `}const $f=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},I9=1e3,D9=2,T9=144e5,S9=.5;function xv(e,t=I9,n=D9){const r=t*Math.pow(n,e),i=Math.round(S9*r*(Math.random()-.5)*2);return Math.min(T9,r+i)}function Dt(e){return e&&e._delegate?e._delegate:e}class Nt{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const go="[DEFAULT]";class M9{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new ho;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t?.identifier),i=null!==(n=t?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function R9(e){return"EAGER"===e.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:go})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=go){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){var t=this;return _(function*(){const n=Array.from(t.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(t=go){return this.instances.has(t)}getOptions(t=go){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&t(s,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(e=t,e===go?void 0:e),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}var e;return r||null}normalizeInstanceIdentifier(t=go){return this.component?this.component.multipleInstances?t:go:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class P9{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new M9(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}const Rv=[];var we=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}(we||{});const iN={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},N9=we.INFO,k9={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},O9=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=k9[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class oa{constructor(t){this.name=t,this._logLevel=N9,this._logHandler=O9,this._userLogHandler=null,Rv.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in we))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?iN[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...t),this._logHandler(this,we.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...t),this._logHandler(this,we.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,we.INFO,...t),this._logHandler(this,we.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,we.WARN,...t),this._logHandler(this,we.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...t),this._logHandler(this,we.ERROR,...t)}}const F9=(e,t)=>t.some(n=>e instanceof n);let oN,sN;const aN=new WeakMap,Pv=new WeakMap,cN=new WeakMap,Nv=new WeakMap,kv=new WeakMap;let Ov={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Pv.get(e);if("objectStoreNames"===t)return e.objectStoreNames||cN.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wi(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function H9(e){return"function"==typeof e?function B9(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function V9(){return sN||(sN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(e)?function(...t){return e.apply(Fv(this),t),wi(aN.get(this))}:function(...t){return wi(e.apply(Fv(this),t))}:function(t,...n){const r=e.call(Fv(this),t,...n);return cN.set(r,t.sort?t.sort():[t]),wi(r)}}(e):(e instanceof IDBTransaction&&function j9(e){if(Pv.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});Pv.set(e,t)}(e),F9(e,function L9(){return oN||(oN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(e,Ov):e)}function wi(e){if(e instanceof IDBRequest)return function U9(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(wi(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&aN.set(n,e)}).catch(()=>{}),kv.set(t,e),t}(e);if(Nv.has(e))return Nv.get(e);const t=H9(e);return t!==e&&(Nv.set(e,t),kv.set(t,e)),t}const Fv=e=>kv.get(e),W9=["get","getKey","getAll","getAllKeys","count"],G9=["put","add","delete","clear"],Lv=new Map;function lN(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(Lv.get(t))return Lv.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=G9.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!W9.includes(n))return;const o=function(){var s=_(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return s.apply(this,arguments)}}();return Lv.set(t,o),o}!function $9(e){Ov=e(Ov)}(e=>({...e,get:(t,n,r)=>lN(t,n)||e.get(t,n,r),has:(t,n)=>!!lN(t,n)||e.has(t,n)}));class q9{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function K9(e){const t=e.getComponent();return"VERSION"===t?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const Vv="@firebase/app",mo=new oa("@firebase/app"),Bf="[DEFAULT]",CK={[Vv]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},_o=new Map,Hf=new Map;function bK(e,t){try{e.container.addComponent(t)}catch(n){mo.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Gt(e){const t=e.name;if(Hf.has(t))return mo.debug(`There were multiple attempts to register component ${t}.`),!1;Hf.set(t,e);for(const n of _o.values())bK(n,e);return!0}function sa(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const qr=new pr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class EK{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Nt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw qr.create("app-deleted",{appName:this._name})}}const vo="9.23.0";function dN(e,t={}){let n=e;"object"!=typeof t&&(t={name:t});const r=Object.assign({name:Bf,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!=typeof i||!i)throw qr.create("bad-app-name",{appName:String(i)});if(n||(n=eN()),!n)throw qr.create("no-options");const o=_o.get(i);if(o){if(jf(n,o.options)&&jf(r,o.config))return o;throw qr.create("duplicate-app",{appName:i})}const s=new P9(i);for(const c of Hf.values())s.addComponent(c);const a=new EK(n,r,s);return _o.set(i,a),a}function Uv(e=Bf){const t=_o.get(e);if(!t&&e===Bf&&eN())return dN();if(!t)throw qr.create("no-app",{appName:e});return t}function fN(){return Array.from(_o.values())}function ze(e,t,n){var r;let i=null!==(r=CK[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${t}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void mo.warn(a.join(" "))}Gt(new Nt(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const IK="firebase-heartbeat-database",DK=1,cl="firebase-heartbeat-store";let $v=null;function hN(){return $v||($v=function z9(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=wi(s);return r&&s.addEventListener("upgradeneeded",c=>{r(wi(s.result),c.oldVersion,c.newVersion,wi(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}(IK,DK,{upgrade:(e,t)=>{0===t&&e.createObjectStore(cl)}}).catch(e=>{throw qr.create("idb-open",{originalErrorMessage:e.message})})),$v}function Bv(){return(Bv=_(function*(e){try{return yield(yield hN()).transaction(cl).objectStore(cl).get(gN(e))}catch(t){if(t instanceof Gn)mo.warn(t.message);else{const n=qr.create("idb-get",{originalErrorMessage:t?.message});mo.warn(n.message)}}})).apply(this,arguments)}function pN(e,t){return Hv.apply(this,arguments)}function Hv(){return(Hv=_(function*(e,t){try{const r=(yield hN()).transaction(cl,"readwrite");yield r.objectStore(cl).put(t,gN(e)),yield r.done}catch(n){if(n instanceof Gn)mo.warn(n.message);else{const r=qr.create("idb-set",{originalErrorMessage:n?.message});mo.warn(r.message)}}})).apply(this,arguments)}function gN(e){return`${e.name}!${e.options.appId}`}class MK{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new RK(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var t=this;return _(function*(){const r=t.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=mN();if(null===t._heartbeatsCache&&(t._heartbeatsCache=yield t._heartbeatsCachePromise),t._heartbeatsCache.lastSentHeartbeatDate!==i&&!t._heartbeatsCache.heartbeats.some(o=>o.date===i))return t._heartbeatsCache.heartbeats.push({date:i,agent:r}),t._heartbeatsCache.heartbeats=t._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=2592e6}),t._storage.overwrite(t._heartbeatsCache)})()}getHeartbeatsHeader(){var t=this;return _(function*(){if(null===t._heartbeatsCache&&(yield t._heartbeatsCachePromise),null===t._heartbeatsCache||0===t._heartbeatsCache.heartbeats.length)return"";const n=mN(),{heartbeatsToSend:r,unsentEntries:i}=function xK(e,t=1024){const n=[];let r=e.slice();for(const i of e){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),_N(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),_N(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(t._heartbeatsCache.heartbeats),o=Of(JSON.stringify({version:2,heartbeats:r}));return t._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(t._heartbeatsCache.heartbeats=i,yield t._storage.overwrite(t._heartbeatsCache)):(t._heartbeatsCache.heartbeats=[],t._storage.overwrite(t._heartbeatsCache)),o})()}}function mN(){return(new Date).toISOString().substring(0,10)}class RK{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(function*(){return!!po()&&il().then(()=>!0).catch(()=>!1)})()}read(){var t=this;return _(function*(){return(yield t._canUseIndexedDBPromise)&&(yield function TK(e){return Bv.apply(this,arguments)}(t.app))||{heartbeats:[]}})()}overwrite(t){var n=this;return _(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return pN(n.app,{lastSentHeartbeatDate:null!==(r=t.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}})()}add(t){var n=this;return _(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return pN(n.app,{lastSentHeartbeatDate:null!==(r=t.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}})()}}function _N(e){return Of(JSON.stringify({version:2,heartbeats:e})).length}!function PK(e){Gt(new Nt("platform-logger",t=>new q9(t),"PRIVATE")),Gt(new Nt("heartbeat",t=>new MK(t),"PRIVATE")),ze(Vv,"0.9.13",e),ze(Vv,"0.9.13","esm2017"),ze("fire-js","")}("");const NK=function vN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},yN=new pr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),zf=new oa("@firebase/auth");function Wf(e,...t){zf.logLevel<=we.ERROR&&zf.error(`Auth (${vo}): ${e}`,...t)}function an(e,...t){throw zv(e,...t)}function mr(e,...t){return zv(e,...t)}function zv(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return yN.create(e,...t)}function x(e,t,...n){if(!e)throw zv(t,...n)}function _r(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Wf(t),new Error(t)}function Ei(e,t){e||_r(t)}function ll(){var e;return typeof self<"u"&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function bN(){var e;return typeof self<"u"&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class ul{constructor(t,n){this.shortDelay=t,this.longDelay=n,Ei(n>t,"Short delay should be less than long delay!"),this.isMobile=Dv()||nN()}get(){return function OK(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Wv(){return"http:"===bN()||"https:"===bN()}()||Tv()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Gv(e,t){Ei(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class wN{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void _r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void _r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void _r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const LK={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},VK=new ul(3e4,6e4);function Ve(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function We(e,t,n,r){return qv.apply(this,arguments)}function qv(){return(qv=_(function*(e,t,n,r,i={}){return EN(e,i,_(function*(){let o={},s={};r&&("GET"===t?s=r:o={body:JSON.stringify(r)});const a=ra(Object.assign({key:e.config.apiKey},s)).slice(1),c=yield e._getAdditionalHeaders();return c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode),wN.fetch()(IN(e,e.config.apiHost,n,a),Object.assign({method:t,headers:c,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function EN(e,t,n){return Kv.apply(this,arguments)}function Kv(){return(Kv=_(function*(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},LK),t);try{const i=new UK(e),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw dl(e,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw dl(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===c)throw dl(e,"email-already-in-use",s);if("USER_DISABLED"===c)throw dl(e,"user-disabled",s);const u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw function CN(e,t,n){const r=Object.assign(Object.assign({},NK()),{[t]:n});return new pr("auth","Firebase",r).create(t,{appName:e.name})}(e,u,l);an(e,u)}}catch(i){if(i instanceof Gn)throw i;an(e,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function Kr(e,t,n,r){return Yv.apply(this,arguments)}function Yv(){return(Yv=_(function*(e,t,n,r,i={}){const o=yield We(e,t,n,r,i);return"mfaPendingCredential"in o&&an(e,"multi-factor-auth-required",{_serverResponse:o}),o})).apply(this,arguments)}function IN(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?Gv(e.config,i):`${e.config.apiScheme}://${i}`}class UK{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(mr(this.auth,"network-request-failed")),VK.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function dl(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=mr(e,t,r);return i.customData._tokenResponse=n,i}function Qv(){return(Qv=_(function*(e,t){return We(e,"POST","/v1/accounts:delete",t)})).apply(this,arguments)}function Jv(){return(Jv=_(function*(e,t){return We(e,"POST","/v1/accounts:lookup",t)})).apply(this,arguments)}function fl(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function Xv(){return(Xv=_(function*(e,t=!1){const n=Dt(e),r=yield n.getIdToken(t),i=Gf(r);x(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:fl(ey(i.auth_time)),issuedAtTime:fl(ey(i.iat)),expirationTime:fl(ey(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function ey(e){return 1e3*Number(e)}function Gf(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Wf("JWT malformed, contained fewer than 3 sections"),null;try{const i=Ff(n);return i?JSON.parse(i):(Wf("Failed to decode base64 JWT payload"),null)}catch(i){return Wf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Yr(e,t){return ty.apply(this,arguments)}function ty(){return(ty=_(function*(e,t,n=!1){if(n)return t;try{return yield t}catch(r){throw r instanceof Gn&&function WK({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(r)&&e.auth.currentUser===e&&(yield e.auth.signOut()),r}})).apply(this,arguments)}class GK{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(t);this.timerId=setTimeout(_(function*(){yield n.iteration()}),r)}iteration(){var t=this;return _(function*(){try{yield t.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&t.schedule(!0))}t.schedule()})()}}class DN{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=fl(this.lastLoginAt),this.creationTime=fl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function hl(e){return ny.apply(this,arguments)}function ny(){return ny=_(function*(e){var t;const n=e.auth,r=yield e.getIdToken(),i=yield Yr(e,function BK(e,t){return Jv.apply(this,arguments)}(n,{idToken:r}));x(i?.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=null!==(t=o.providerUserInfo)&&void 0!==t&&t.length?function YK(e){return e.map(t=>{var{providerId:n}=t,r=lu(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(o.providerUserInfo):[],a=function KK(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}(e.providerData,s),u=!!e.isAnonymous&&!(e.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new DN(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(e,d)}),ny.apply(this,arguments)}function ry(){return(ry=_(function*(e){const t=Dt(e);yield hl(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})).apply(this,arguments)}function iy(){return(iy=_(function*(e,t){const n=yield EN(e,{},_(function*(){const r=ra({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=e.config,s=IN(e,i,"/v1/token",`key=${o}`),a=yield e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",wN.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class pl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){x(t.idToken,"internal-error"),x(typeof t.idToken<"u","internal-error"),x(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):function zK(e){const t=Gf(e);return x(t,"internal-error"),x(typeof t.exp<"u","internal-error"),x(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}getToken(t,n=!1){var r=this;return _(function*(){return x(!r.accessToken||r.refreshToken,t,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(t,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(t,n){var r=this;return _(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function QK(e,t){return iy.apply(this,arguments)}(t,n);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new pl;return r&&(x("string"==typeof r,"internal-error",{appName:t}),s.refreshToken=r),i&&(x("string"==typeof i,"internal-error",{appName:t}),s.accessToken=i),o&&(x("number"==typeof o,"internal-error",{appName:t}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new pl,this.toJSON())}_performRefresh(){return _r("not implemented")}}function Ii(e,t){x("string"==typeof e||typeof e>"u","internal-error",{appName:t})}class yo{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,o=lu(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new GK(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new DN(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(t){var n=this;return _(function*(){const r=yield Yr(n,n.stsTokenManager.getToken(n.auth,t));return x(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(t){return function HK(e){return Xv.apply(this,arguments)}(this,t)}reload(){return function qK(e){return ry.apply(this,arguments)}(this)}_assign(t){this!==t&&(x(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new yo(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){x(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,n=!1){var r=this;return _(function*(){let i=!1;t.idToken&&t.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(t),i=!0),n&&(yield hl(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var t=this;return _(function*(){const n=yield t.getIdToken();return yield Yr(t,function jK(e,t){return Qv.apply(this,arguments)}(t.auth,{idToken:n})),t.stsTokenManager.clearRefreshToken(),t.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,o,s,a,c,l,u;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,f=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,m=null!==(s=n.photoURL)&&void 0!==s?s:void 0,v=null!==(a=n.tenantId)&&void 0!==a?a:void 0,E=null!==(c=n._redirectEventId)&&void 0!==c?c:void 0,I=null!==(l=n.createdAt)&&void 0!==l?l:void 0,b=null!==(u=n.lastLoginAt)&&void 0!==u?u:void 0,{uid:F,emailVerified:j,isAnonymous:ee,providerData:gt,stsTokenManager:kn}=n;x(F&&kn,t,"internal-error");const Vi=pl.fromJSON(this.name,kn);x("string"==typeof F,t,"internal-error"),Ii(d,t.name),Ii(f,t.name),x("boolean"==typeof j,t,"internal-error"),x("boolean"==typeof ee,t,"internal-error"),Ii(h,t.name),Ii(m,t.name),Ii(v,t.name),Ii(E,t.name),Ii(I,t.name),Ii(b,t.name);const $o=new yo({uid:F,auth:t,email:f,emailVerified:j,displayName:d,isAnonymous:ee,photoURL:m,phoneNumber:h,tenantId:v,stsTokenManager:Vi,createdAt:I,lastLoginAt:b});return gt&&Array.isArray(gt)&&($o.providerData=gt.map(TI=>Object.assign({},TI))),E&&($o._redirectEventId=E),$o}static _fromIdTokenResponse(t,n,r=!1){return _(function*(){const i=new pl;i.updateFromServerResponse(n);const o=new yo({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return yield hl(o),o})()}}const TN=new Map;function Qr(e){Ei(e instanceof Function,"Expected a class definition");let t=TN.get(e);return t?(Ei(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,TN.set(e,t),t)}const SN=(()=>{class e{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(function*(){return!0})()}_set(n,r){var i=this;return _(function*(){i.storage[n]=r})()}_get(n){var r=this;return _(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return _(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return e.type="NONE",e})();function qf(e,t,n){return`firebase:${e}:${t}:${n}`}class ca{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=qf(this.userKey,i.apiKey,o),this.fullPersistenceKey=qf("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){var t=this;return _(function*(){const n=yield t.persistence._get(t.fullUserKey);return n?yo._fromJSON(t.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){var n=this;return _(function*(){if(n.persistence===t)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=t,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,n,r="authUser"){return _(function*(){if(!n.length)return new ca(Qr(SN),t,r);const i=(yield Promise.all(n.map(function(){var l=_(function*(u){if(yield u._isAvailable())return u});return function(u){return l.apply(this,arguments)}}()))).filter(l=>l);let o=i[0]||Qr(SN);const s=qf(r,t.config.apiKey,t.name);let a=null;for(const l of n)try{const u=yield l._get(s);if(u){const d=yo._fromJSON(t,u);l!==o&&(a=d),o=l;break}}catch{}const c=i.filter(l=>l._shouldAllowMigration);return o._shouldAllowMigration&&c.length?(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(function(){var l=_(function*(u){if(u!==o)try{yield u._remove(s)}catch{}});return function(u){return l.apply(this,arguments)}}())),new ca(o,t,r)):new ca(o,t,r)})()}}function AN(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(RN(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(MN(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(NN(t))return"Blackberry";if(kN(t))return"Webos";if(oy(t))return"Safari";if((t.includes("chrome/")||xN(t))&&!t.includes("edge/"))return"Chrome";if(PN(t))return"Android";{const r=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function MN(e=lt()){return/firefox\//i.test(e)}function oy(e=lt()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function xN(e=lt()){return/crios\//i.test(e)}function RN(e=lt()){return/iemobile/i.test(e)}function PN(e=lt()){return/android/i.test(e)}function NN(e=lt()){return/blackberry/i.test(e)}function kN(e=lt()){return/webos/i.test(e)}function Kf(e=lt()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ON(e=lt()){return Kf(e)||PN(e)||kN(e)||NN(e)||/windows phone/i.test(e)||RN(e)}function FN(e,t=[]){let n;switch(e){case"Browser":n=AN(lt());break;case"Worker":n=`${AN(lt())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${vo}/${r}`}function LN(e,t){return ay.apply(this,arguments)}function ay(){return(ay=_(function*(e,t){return We(e,"GET","/v2/recaptchaConfig",Ve(e,t))})).apply(this,arguments)}function UN(e){return void 0!==e&&void 0!==e.enterprise}class jN{constructor(t){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}function cy(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const o=mr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",function tY(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})}function $N(e){return`__${e}${Math.floor(1e6*Math.random())}`}class BN{constructor(t){this.type="recaptcha-enterprise",this.auth=ut(t)}verify(t="verify",n=!1){var r=this;return _(function*(){function o(){return o=_(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=_(function*(l,u){LN(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const f=new jN(d);return null==a.tenantId?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,l(f.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{u(d)})});return function(l,u){return c.apply(this,arguments)}}())}),o.apply(this,arguments)}function s(a,c,l){const u=window.grecaptcha;UN(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:t}).then(d=>{c(d)}).catch(()=>{c("NO_RECAPTCHA")})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function i(a){return o.apply(this,arguments)})(r.auth).then(l=>{if(!n&&UN(window.grecaptcha))s(l,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));cy("https://www.google.com/recaptcha/enterprise.js?render="+l).then(()=>{s(l,a,c)}).catch(u=>{c(u)})}}).catch(l=>{c(l)})})})()}}function Di(e,t,n){return ly.apply(this,arguments)}function ly(){return(ly=_(function*(e,t,n,r=!1){const i=new BN(e);let o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}const s=Object.assign({},t);return Object.assign(s,r?{captchaResp:o}:{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})).apply(this,arguments)}class oY{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=o=>new Promise((s,a)=>{try{s(t(o))}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(t){var n=this;return _(function*(){if(n.auth.currentUser===t)return;const r=[];try{for(const i of n.queue)yield i(t),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class sY{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new HN(this),this.idTokenSubscription=new HN(this),this.beforeStateQueue=new oY(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){var r=this;return n&&(this._popupRedirectResolver=Qr(n)),this._initializationPromise=this.queue(_(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield ca.create(r,t),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var t=this;return _(function*(){if(t._deleted)return;const n=yield t.assertedPersistence.getCurrentUser();if(t.currentUser||n){if(t.currentUser&&n&&t.currentUser.uid===n.uid)return t._currentUser._assign(n),void(yield t.currentUser.getIdToken());yield t._updateCurrentUser(n,!0)}})()}initializeCurrentUser(t){var n=this;return _(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let o=i,s=!1;if(t&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,c=o?._redirectEventId,l=yield n.tryRedirectSignIn(t);(!a||a===c)&&l?.user&&(o=l.user,s=!0)}if(!o)return n.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield n.beforeStateQueue.runMiddleware(o)}catch(a){o=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return o?n.reloadAndSetCurrentUserOrClear(o):n.directlySetCurrentUser(null)}return x(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===o._redirectEventId?n.directlySetCurrentUser(o):n.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(t){var n=this;return _(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,t,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(t){var n=this;return _(function*(){try{yield hl(t)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(t)})()}useDeviceLanguage(){this.languageCode=function FK(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}_delete(){var t=this;return _(function*(){t._deleted=!0})()}updateCurrentUser(t){var n=this;return _(function*(){const r=t?Dt(t):null;return r&&x(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(t,n=!1){var r=this;return _(function*(){if(!r._deleted)return t&&x(r.tenantId===t.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(t)),r.queue(_(function*(){yield r.directlySetCurrentUser(t),r.notifyAuthListeners()}))})()}signOut(){var t=this;return _(function*(){return yield t.beforeStateQueue.runMiddleware(null),(t.redirectPersistenceManager||t._popupRedirectResolver)&&(yield t._setRedirectUser(null)),t._updateCurrentUser(null,!0)})()}setPersistence(t){var n=this;return this.queue(_(function*(){yield n.assertedPersistence.setPersistence(Qr(t))}))}initializeRecaptchaConfig(){var t=this;return _(function*(){const n=yield LN(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new jN(n);null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.emailPasswordEnabled&&new BN(t).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new pr("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}_setRedirectUser(t,n){var r=this;return _(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===t?i.removeCurrentUser():i.setCurrentUser(t)})()}getOrInitRedirectPersistenceManager(t){var n=this;return _(function*(){if(!n.redirectPersistenceManager){const r=t&&Qr(t)||n._popupRedirectResolver;x(r,n,"argument-error"),n.redirectPersistenceManager=yield ca.create(n,[Qr(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(t){var n=this;return _(function*(){var r,i;return n._isInitialized&&(yield n.queue(_(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===t?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===t?n.redirectUser:null})()}_persistUserIfCurrent(t){var n=this;return _(function*(){if(t===n.currentUser)return n.queue(_(function*(){return n.directlySetCurrentUser(t)}))})()}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const o="function"==typeof n?n:n.next.bind(n),s=this._isInitialized?Promise.resolve():this._initializationPromise;return x(s,this,"internal-error"),s.then(()=>o(this.currentUser)),"function"==typeof n?t.addObserver(n,r,i):t.addObserver(n)}directlySetCurrentUser(t){var n=this;return _(function*(){n.currentUser&&n.currentUser!==t&&n._currentUser._stopProactiveRefresh(),t&&n.isProactiveRefreshEnabled&&t._startProactiveRefresh(),n.currentUser=t,t?yield n.assertedPersistence.setCurrentUser(t):yield n.assertedPersistence.removeCurrentUser()})()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return x(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=FN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var t=this;return _(function*(){var n;const r={"X-Client-Version":t.clientVersion};t.app.options.appId&&(r["X-Firebase-gmpid"]=t.app.options.appId);const i=yield null===(n=t.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield t._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var t=this;return _(function*(){var n;const r=yield null===(n=t.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function kK(e,...t){zf.logLevel<=we.WARN&&zf.warn(`Auth (${vo}): ${e}`,...t)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function ut(e){return Dt(e)}class HN{constructor(t){this.auth=t,this.observer=null,this.addObserver=function C9(e,t){const n=new b9(e,t);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return x(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function zN(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function WN(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class gl{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return _r("not implemented")}_getIdTokenResponse(t){return _r("not implemented")}_linkToIdToken(t,n){return _r("not implemented")}_getReauthenticationResolver(t){return _r("not implemented")}}function qN(e,t){return dy.apply(this,arguments)}function dy(){return(dy=_(function*(e,t){return We(e,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function hy(e,t){return py.apply(this,arguments)}function py(){return(py=_(function*(e,t){return Kr(e,"POST","/v1/accounts:signInWithPassword",Ve(e,t))})).apply(this,arguments)}function wy(){return(wy=_(function*(e,t){return Kr(e,"POST","/v1/accounts:signInWithEmailLink",Ve(e,t))})).apply(this,arguments)}function Ey(){return(Ey=_(function*(e,t){return Kr(e,"POST","/v1/accounts:signInWithEmailLink",Ve(e,t))})).apply(this,arguments)}class ml extends gl{constructor(t,n,r,i=null){super("password",r),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new ml(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new ml(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n="string"==typeof t?JSON.parse(t):t;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(t){var n=this;return _(function*(){var r;switch(n.signInMethod){case"password":const i={returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(r=t._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const o=yield Di(t,i,"signInWithPassword");return hy(t,o)}return hy(t,i).catch(function(){var o=_(function*(s){if("auth/missing-recaptcha-token"===s.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const a=yield Di(t,i,"signInWithPassword");return hy(t,a)}return Promise.reject(s)});return function(s){return o.apply(this,arguments)}}());case"emailLink":return function gY(e,t){return wy.apply(this,arguments)}(t,{email:n._email,oobCode:n._password});default:an(t,"internal-error")}})()}_linkToIdToken(t,n){var r=this;return _(function*(){switch(r.signInMethod){case"password":return qN(t,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function mY(e,t){return Ey.apply(this,arguments)}(t,{idToken:n,email:r._email,oobCode:r._password});default:an(t,"internal-error")}})()}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}function Zr(e,t){return Iy.apply(this,arguments)}function Iy(){return(Iy=_(function*(e,t){return Kr(e,"POST","/v1/accounts:signInWithIdp",Ve(e,t))})).apply(this,arguments)}class yl{constructor(t){var n,r,i,o,s,a;const c=sl(al(t)),l=null!==(n=c.apiKey)&&void 0!==n?n:null,u=null!==(r=c.oobCode)&&void 0!==r?r:null,d=function EY(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);x(l&&u&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=u,this.continueUrl=null!==(o=c.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=c.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(t){const n=function IY(e){const t=sl(al(e)).link,n=t?sl(al(t)).deep_link_id:null,r=sl(al(e)).deep_link_id;return(r?sl(al(r)).link:null)||r||n||t||e}(t);try{return new yl(n)}catch{return null}}}let KN=(()=>{class e{constructor(){this.providerId=e.PROVIDER_ID}static credential(n,r){return ml._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=yl.parseLink(r);return x(i,"argument-error"),ml._fromEmailAndCode(n,i.code,i.tenantId)}}return e.PROVIDER_ID="password",e.EMAIL_PASSWORD_SIGN_IN_METHOD="password",e.EMAIL_LINK_SIGN_IN_METHOD="emailLink",e})();class Jr{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class DY extends Jr{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}function Zf(e,t){return xy.apply(this,arguments)}function xy(){return(xy=_(function*(e,t){return Kr(e,"POST","/v1/accounts:signUp",Ve(e,t))})).apply(this,arguments)}class Rn{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static _fromIdTokenResponse(t,n,r,i=!1){return _(function*(){const o=yield yo._fromIdTokenResponse(t,r,i),s=YN(r);return new Rn({user:o,providerId:s,_tokenResponse:r,operationType:n})})()}static _forOperation(t,n,r){return _(function*(){yield t._updateTokensIfNecessary(r,!0);const i=YN(r);return new Rn({user:t,providerId:i,_tokenResponse:r,operationType:n})})()}}function YN(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Jf extends Gn{constructor(t,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Jf.prototype),this.customData={appName:t.name,tenantId:null!==(o=t.tenantId)&&void 0!==o?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new Jf(t,n,r,i)}}function QN(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?Jf._fromErrorAndOperation(e,o,t,r):o})}function ky(){return(ky=_(function*(e,t,n=!1){const r=yield Yr(e,t._linkToIdToken(e.auth,yield e.getIdToken()),n);return Rn._forOperation(e,"link",r)})).apply(this,arguments)}function Fy(){return(Fy=_(function*(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const o=yield Yr(e,QN(r,i,t,e),n);x(o.idToken,r,"internal-error");const s=Gf(o.idToken);x(s,r,"internal-error");const{sub:a}=s;return x(e.uid===a,r,"user-mismatch"),Rn._forOperation(e,i,o)}catch(o){throw"auth/user-not-found"===o?.code&&an(r,"user-mismatch"),o}})).apply(this,arguments)}function XN(e,t){return Ly.apply(this,arguments)}function Ly(){return(Ly=_(function*(e,t,n=!1){const r="signIn",i=yield QN(e,r,t),o=yield Rn._fromIdTokenResponse(e,r,i);return n||(yield e._updateCurrentUser(o.user)),o})).apply(this,arguments)}function Uy(){return(Uy=_(function*(e,t){return XN(ut(e),t)})).apply(this,arguments)}function PY(e,t,n){return Zy.apply(this,arguments)}function Zy(){return Zy=_(function*(e,t,n){var r;const i=ut(e),o={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let s;if(null!==(r=i._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const l=yield Di(i,o,"signUpPassword");s=Zf(i,l)}else s=Zf(i,o).catch(function(){var l=_(function*(u){if("auth/missing-recaptcha-token"===u.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const d=yield Di(i,o,"signUpPassword");return Zf(i,d)}return Promise.reject(u)});return function(u){return l.apply(this,arguments)}}());const a=yield s.catch(l=>Promise.reject(l)),c=yield Rn._fromIdTokenResponse(i,"signIn",a);return yield i._updateCurrentUser(c.user),c}),Zy.apply(this,arguments)}function NY(e,t,n){return function Vy(e,t){return Uy.apply(this,arguments)}(Dt(e),KN.credential(t,n))}function HY(e,t,n,r){return Dt(e).onAuthStateChanged(t,n,r)}function zY(e){return Dt(e).signOut()}const eh="__sak";class nk{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(eh,"1"),this.storage.removeItem(eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const JY=(()=>{class e extends nk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function YY(){const e=lt();return oy(e)||Kf(e)}()&&function XK(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ON(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const o=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);!function JK(){return function h9(){const e=lt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}()||s===n.newValue||n.newValue===n.oldValue?o():setTimeout(o,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,o=this;return _(function*(){yield i().call(o,n,r),o.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return _(function*(){const o=yield r().call(i,n);return i.localCache[n]=JSON.stringify(o),o})()}_remove(n){var r=()=>super._remove,i=this;return _(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return e.type="LOCAL",e})(),rk=(()=>{class e extends nk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return e.type="SESSION",e})();let eQ=(()=>{class e{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;const i=new e(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return _(function*(){const i=n,{eventId:o,eventType:s,data:a}=i.data,c=r.handlersMap[s];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:o,eventType:s});const l=Array.from(c).map(function(){var d=_(function*(f){return f(i.origin,a)});return function(f){return d.apply(this,arguments)}}()),u=yield function XY(e){return Promise.all(e.map(function(){var t=_(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return t.apply(this,arguments)}}()))}(l);i.ports[0].postMessage({status:"done",eventId:o,eventType:s,response:u})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return e.receivers=[],e})();function dC(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}class tQ{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}_send(t,n,r=50){var i=this;return _(function*(){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let s,a;return new Promise((c,l)=>{const u=dC("",20);o.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:o,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(h.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"))}}},i.handlers.add(a),o.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:t,eventId:u,data:n},[o.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function et(){return window}function fC(){return typeof et().WorkerGlobalScope<"u"&&"function"==typeof et().importScripts}function hC(){return(hC=_(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ik="firebaseLocalStorageDb",th="firebaseLocalStorage",ok="fbase_key";class wl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function nh(e,t){return e.transaction([th],t?"readwrite":"readonly").objectStore(th)}function pC(){const e=indexedDB.open(ik,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(th,{keyPath:ok})}catch(i){n(i)}}),e.addEventListener("success",_(function*(){const r=e.result;r.objectStoreNames.contains(th)?t(r):(r.close(),yield function aQ(){const e=indexedDB.deleteDatabase(ik);return new wl(e).toPromise()}(),t(yield pC()))}))})}function sk(e,t,n){return gC.apply(this,arguments)}function gC(){return(gC=_(function*(e,t,n){const r=nh(e,!0).put({[ok]:t,value:n});return new wl(r).toPromise()})).apply(this,arguments)}function mC(){return(mC=_(function*(e,t){const n=nh(e,!1).get(t),r=yield new wl(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function ak(e,t){const n=nh(e,!0).delete(t);return new wl(n).toPromise()}const dQ=(()=>{class e{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return _(function*(){return n.db||(n.db=yield pC()),n.db})()}_withRetries(n){var r=this;return _(function*(){let i=0;for(;;)try{const o=yield r._openDb();return yield n(o)}catch(o){if(i++>3)throw o;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return _(function*(){return fC()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return _(function*(){n.receiver=eQ._getInstance(function oQ(){return fC()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=_(function*(i,o){return{keyProcessed:(yield n._poll()).includes(o.key)}});return function(i,o){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=_(function*(i,o){return["keyChanged"]});return function(i,o){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return _(function*(){var r,i;if(n.activeServiceWorker=yield function rQ(){return hC.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new tQ(n.activeServiceWorker);const o=yield n.sender._send("ping",{},800);o&&null!==(r=o[0])&&void 0!==r&&r.fulfilled&&null!==(i=o[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return _(function*(){if(r.sender&&r.activeServiceWorker&&function iQ(){var e;return(null===(e=navigator?.serviceWorker)||void 0===e?void 0:e.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return _(function*(){try{if(!indexedDB)return!1;const n=yield pC();return yield sk(n,eh,"1"),yield ak(n,eh),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return _(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return _(function*(){return i._withPendingWrite(_(function*(){return yield i._withRetries(o=>sk(o,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return _(function*(){const i=yield r._withRetries(o=>function cQ(e,t){return mC.apply(this,arguments)}(o,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return _(function*(){return r._withPendingWrite(_(function*(){return yield r._withRetries(i=>ak(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return _(function*(){const r=yield n._withRetries(s=>{const a=nh(s,!1).getAll();return new wl(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],o=new Set;for(const{fbase_key:s,value:a}of r)o.add(s),JSON.stringify(n.localCache[s])!==JSON.stringify(a)&&(n.notifyListeners(s,a),i.push(s));for(const s of Object.keys(n.localCache))n.localCache[s]&&!o.has(s)&&(n.notifyListeners(s,null),i.push(s));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const o of Array.from(i))o(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(_(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return e.type="LOCAL",e})();$N("rcb"),new ul(3e4,6e4);class DC extends gl{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Zr(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Zr(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Zr(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function SQ(e){return XN(e.auth,new DC(e),e.bypassAuthState)}function AQ(e){const{auth:t,user:n}=e;return x(n,t,"internal-error"),function JN(e,t){return Fy.apply(this,arguments)}(n,new DC(e),e.bypassAuthState)}function MQ(e){return TC.apply(this,arguments)}function TC(){return(TC=_(function*(e){const{auth:t,user:n}=e;return x(n,t,"internal-error"),function Ny(e,t){return ky.apply(this,arguments)}(n,new DC(e),e.bypassAuthState)})).apply(this,arguments)}class xQ{constructor(t,n,r,i,o=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var t=this;return new Promise(function(){var n=_(function*(r,i){t.pendingPromise={resolve:r,reject:i};try{t.eventManager=yield t.resolver._initialize(t.auth),yield t.onExecution(),t.eventManager.registerConsumer(t)}catch(o){t.reject(o)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(t){var n=this;return _(function*(){const{urlResponse:r,sessionId:i,postBody:o,tenantId:s,error:a,type:c}=t;if(a)return void n.reject(a);const l={auth:n.auth,requestUri:r,sessionId:i,tenantId:s||void 0,postBody:o||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(c)(l))}catch(u){n.reject(u)}})()}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return SQ;case"linkViaPopup":case"linkViaRedirect":return MQ;case"reauthViaPopup":case"reauthViaRedirect":return AQ;default:an(this.auth,"internal-error")}}resolve(t){Ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new ul(2e3,1e4);const RQ="pendingRedirect",El=new Map;class PQ extends xQ{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var t=()=>super.execute,n=this;return _(function*(){let r=El.get(n.auth._key());if(!r){try{const o=(yield function NQ(e,t){return RC.apply(this,arguments)}(n.resolver,n.auth))?yield t().call(n):null;r=()=>Promise.resolve(o)}catch(i){r=()=>Promise.reject(i)}El.set(n.auth._key(),r)}return n.bypassAuthState||El.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(t){var n=()=>super.onAuthEvent,r=this;return _(function*(){if("signInViaRedirect"===t.type)return n().call(r,t);if("unknown"!==t.type){if(t.eventId){const i=yield r.auth._redirectUserForId(t.eventId);if(i)return r.user=i,n().call(r,t);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return _(function*(){})()}cleanUp(){}}function RC(){return(RC=_(function*(e,t){const n=function uk(e){return qf(RQ,e.config.apiKey,e.name)}(t),r=function lk(e){return Qr(e._redirectPersistence)}(e);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function kQ(e,t){El.set(e._key(),t)}function dk(e,t){return VC.apply(this,arguments)}function VC(){return(VC=_(function*(e,t,n=!1){const r=ut(e),i=function bo(e,t){return t?Qr(t):(x(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}(r,t),s=yield new PQ(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,t)),s})).apply(this,arguments)}class UQ{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!function jQ(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pk(e);default:return!1}}(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!pk(t)){const i=(null===(r=t.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(mr(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=null===n.eventId||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(hk(t))}saveEventToCache(t){this.cachedEventUids.add(hk(t)),this.lastProcessedEventTime=Date.now()}}function hk(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function pk({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===t?.code}function jC(){return(jC=_(function*(e,t={}){return We(e,"GET","/v1/projects",t)})).apply(this,arguments)}const BQ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HQ=/^https?/;function $C(){return $C=_(function*(e){if(e.config.emulator)return;const{authorizedDomains:t}=yield function $Q(e){return jC.apply(this,arguments)}(e);for(const n of t)try{if(WQ(n))return}catch{}an(e,"unauthorized-domain")}),$C.apply(this,arguments)}function WQ(e){const t=ll(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return""===s.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&s.hostname===r}if(!HQ.test(n))return!1;if(BQ.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const GQ=new ul(3e4,6e4);function gk(){const e=et().___jsl;if(e?.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let ih=null;const YQ=new ul(5e3,15e3),QQ="__/auth/iframe",ZQ="emulator/auth/iframe",JQ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},XQ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eZ(e){const t=e.config;x(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Gv(t,ZQ):`https://${e.config.authDomain}/${QQ}`,r={apiKey:t.apiKey,appName:e.name,v:vo},i=XQ.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${ra(r).slice(1)}`}function BC(){return BC=_(function*(e){const t=yield function KQ(e){return ih=ih||function qQ(e){return new Promise((t,n)=>{var r,i,o;function s(){gk(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{gk(),n(mr(e,"network-request-failed"))},timeout:GQ.get()})}if(null!==(i=null===(r=et().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)t(gapi.iframes.getContext());else{if(null===(o=et().gapi)||void 0===o||!o.load){const a=$N("iframefcb");return et()[a]=()=>{gapi.load?s():n(mr(e,"network-request-failed"))},cy(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>n(c))}s()}}).catch(t=>{throw ih=null,t})}(e),ih}(e),n=et().gapi;return x(n,e,"internal-error"),t.open({where:document.body,url:eZ(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JQ,dontclear:!0},r=>new Promise(function(){var i=_(function*(o,s){yield r.restyle({setHideOnLeave:!1});const a=mr(e,"network-request-failed"),c=et().setTimeout(()=>{s(a)},YQ.get());function l(){et().clearTimeout(c),o(r)}r.ping(l).then(l,()=>{s(a)})});return function(o,s){return i.apply(this,arguments)}}()))}),BC.apply(this,arguments)}const nZ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class mk{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const lZ="__/auth/handler",uZ="emulator/auth/handler",dZ=encodeURIComponent("fac");function _k(e,t,n,r,i,o){return HC.apply(this,arguments)}function HC(){return(HC=_(function*(e,t,n,r,i,o){x(e.config.authDomain,e,"auth-domain-config-required"),x(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:vo,eventId:i};if(t instanceof Jr){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",Av(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[u,d]of Object.entries(o||{}))s[u]=d}if(t instanceof DY){const u=t.getScopes().filter(d=>""!==d);u.length>0&&(s.scopes=u.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const c=yield e._getAppCheckToken(),l=c?`#${dZ}=${encodeURIComponent(c)}`:"";return`${function fZ({config:e}){return e.emulator?Gv(e,uZ):`https://${e.authDomain}/${lZ}`}(e)}?${ra(a).slice(1)}${l}`})).apply(this,arguments)}const zC="webStorageSupport",pZ=class hZ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rk,this._completeRedirectFn=dk,this._overrideRedirectResult=kQ}_openPopup(t,n,r,i){var o=this;return _(function*(){var s;Ei(null===(s=o.eventManagers[t._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");const a=yield _k(t,n,r,ll(),i);return function aZ(e,t,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},nZ),{width:r.toString(),height:i.toString(),top:o,left:s}),l=lt().toLowerCase();n&&(a=xN(l)?"_blank":n),MN(l)&&(t=t||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce((f,[h,m])=>`${f}${h}=${m},`,"");if(function ZK(e=lt()){var t;return Kf(e)&&!(null===(t=window.navigator)||void 0===t||!t.standalone)}(l)&&"_self"!==a)return function cZ(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new mk(null);const d=window.open(t||"",a,u);x(d,e,"popup-blocked");try{d.focus()}catch{}return new mk(d)}(t,a,dC())})()}_openRedirect(t,n,r,i){var o=this;return _(function*(){return yield o._originValidation(t),function nQ(e){et().location.href=e}(yield _k(t,n,r,ll(),i)),new Promise(()=>{})})()}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Ei(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(t){var n=this;return _(function*(){const r=yield function tZ(e){return BC.apply(this,arguments)}(t),i=new UQ(t);return r.register("authEvent",o=>(x(o?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[t._key()]={manager:i},n.iframes[t._key()]=r,i})()}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(zC,{type:zC},i=>{var o;const s=null===(o=i?.[0])||void 0===o?void 0:o[zC];void 0!==s&&n(!!s),an(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function zQ(e){return $C.apply(this,arguments)}(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return ON()||oy()||Kf()}};var bk="@firebase/auth";class gZ{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}getToken(t){var n=this;return _(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(t)}:null})()}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){x(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const yZ=tN("authIdTokenMaxAge")||300;let Ek=null;const CZ=e=>function(){var t=_(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>yZ)return;const o=r?.token;Ek!==o&&(Ek=o,yield fetch(e,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});return function(n){return t.apply(this,arguments)}}();function bZ(e=Uv()){const t=sa(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function aY(e,t){const n=sa(e,"auth");if(n.isInitialized()){const i=n.getImmediate();if(jf(n.getOptions(),t??{}))return i;an(i,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:pZ,persistence:[dQ,JY,rk]}),r=tN("authTokenSyncURL");if(r){const o=CZ(r);(function BY(e,t,n){Dt(e).beforeAuthStateChanged(t,n)})(n,o,()=>o(n.currentUser)),function $Y(e,t,n,r){Dt(e).onIdTokenChanged(t,n,r)}(n,s=>o(s))}const i=XP("auth");return i&&function lY(e,t,n){const r=ut(e);x(r._canInitEmulator,r,"emulator-config-failed"),x(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,o=zN(t),{host:s,port:a}=function uY(e){const t=zN(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:WN(r.substr(o.length+1))}}{const[o,s]=r.split(":");return{host:o,port:WN(s)}}}(t);r.config.emulator={url:`${o}//${s}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function dY(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(n,`http://${i}`),n}!function _Z(e){Gt(new Nt("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;x(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:FN(e)},l=new sY(r,i,o,c);return function cY(e,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Qr);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Gt(new Nt("auth-internal",t=>{const n=ut(t.getProvider("auth").getImmediate());return new gZ(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ze(bk,"0.23.2",function mZ(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(e)),ze(bk,"0.23.2","esm2017")}("Browser"),ze("firebase","9.23.0","app");const IZ=(e,t)=>t.some(n=>e instanceof n);let Ik,Dk;const Tk=new WeakMap,GC=new WeakMap,Sk=new WeakMap,qC=new WeakMap,KC=new WeakMap;let YC={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return GC.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Sk.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ti(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function RZ(e){return"function"==typeof e?function xZ(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function TZ(){return Dk||(Dk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(e)?function(...t){return e.apply(QC(this),t),Ti(Tk.get(this))}:function(...t){return Ti(e.apply(QC(this),t))}:function(t,...n){const r=e.call(QC(this),t,...n);return Sk.set(r,t.sort?t.sort():[t]),Ti(r)}}(e):(e instanceof IDBTransaction&&function AZ(e){if(GC.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});GC.set(e,t)}(e),IZ(e,function DZ(){return Ik||(Ik=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(e,YC):e)}function Ti(e){if(e instanceof IDBRequest)return function SZ(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(Ti(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&Tk.set(n,e)}).catch(()=>{}),KC.set(t,e),t}(e);if(qC.has(e))return qC.get(e);const t=RZ(e);return t!==e&&(qC.set(e,t),KC.set(t,e)),t}const QC=e=>KC.get(e),NZ=["get","getKey","getAll","getAllKeys","count"],kZ=["put","add","delete","clear"],ZC=new Map;function Ak(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(ZC.get(t))return ZC.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=kZ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!NZ.includes(n))return;const o=function(){var s=_(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return s.apply(this,arguments)}}();return ZC.set(t,o),o}!function MZ(e){YC=e(YC)}(e=>({...e,get:(t,n,r)=>Ak(t,n)||e.get(t,n,r),has:(t,n)=>!!Ak(t,n)||e.has(t,n)}));const Mk="@firebase/installations",JC="0.6.4",xk=1e4,Rk=`w:${JC}`,Pk="FIS_v2",OZ="https://firebaseinstallations.googleapis.com/v1",FZ=36e5,Xr=new pr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Nk(e){return e instanceof Gn&&e.code.includes("request-failed")}function XC({projectId:e}){return`${OZ}/projects/${e}/installations`}function kk(e){return{token:e.token,requestStatus:2,expiresIn:jZ(e.expiresIn),creationTime:Date.now()}}function eb(e,t){return tb.apply(this,arguments)}function tb(){return(tb=_(function*(e,t){const r=(yield t.json()).error;return Xr.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function Ok({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function nb(e){return rb.apply(this,arguments)}function rb(){return(rb=_(function*(e){const t=yield e();return t.status>=500&&t.status<600?e():t})).apply(this,arguments)}function jZ(e){return Number(e.replace("s","000"))}function ib(){return(ib=_(function*({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=XC(e),i=Ok(e),o=t.getImmediate({optional:!0});if(o){const l=yield o.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:Pk,appId:e.appId,sdkVersion:Rk})},c=yield nb(()=>fetch(r,a));if(c.ok){const l=yield c.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:kk(l.authToken)}}throw yield eb("Create Installation",c)})).apply(this,arguments)}function Lk(e){return new Promise(t=>{setTimeout(t,e)})}const zZ=/^[cdef][\w-]{21}$/,ob="";function WZ(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=function GZ(e){return function HZ(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}(e).substr(0,22)}(e);return zZ.test(n)?n:ob}catch{return ob}}function da(e){return`${e.appName}!${e.appId}`}const fa=new Map;function Vk(e,t){const n=da(e);Uk(n,t),function YZ(e,t){const n=function jk(){return!wo&&"BroadcastChannel"in self&&(wo=new BroadcastChannel("[Firebase] FID Change"),wo.onmessage=e=>{Uk(e.data.key,e.data.fid)}),wo}();n&&n.postMessage({key:e,fid:t}),function $k(){0===fa.size&&wo&&(wo.close(),wo=null)}()}(n,t)}function Uk(e,t){const n=fa.get(e);if(n)for(const r of n)r(t)}let wo=null;const QZ="firebase-installations-database",ZZ=1,Eo="firebase-installations-store";let sb=null;function ab(){return sb||(sb=function PZ(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=Ti(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Ti(s.result),c.oldVersion,c.newVersion,Ti(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(QZ,ZZ,{upgrade:(e,t)=>{0===t&&e.createObjectStore(Eo)}})),sb}function sh(e,t){return cb.apply(this,arguments)}function cb(){return(cb=_(function*(e,t){const n=da(e),i=(yield ab()).transaction(Eo,"readwrite"),o=i.objectStore(Eo),s=yield o.get(n);return yield o.put(t,n),yield i.done,(!s||s.fid!==t.fid)&&Vk(e,t.fid),t})).apply(this,arguments)}function lb(e){return ub.apply(this,arguments)}function ub(){return(ub=_(function*(e){const t=da(e),r=(yield ab()).transaction(Eo,"readwrite");yield r.objectStore(Eo).delete(t),yield r.done})).apply(this,arguments)}function Il(e,t){return db.apply(this,arguments)}function db(){return(db=_(function*(e,t){const n=da(e),i=(yield ab()).transaction(Eo,"readwrite"),o=i.objectStore(Eo),s=yield o.get(n),a=t(s);return void 0===a?yield o.delete(n):yield o.put(a,n),yield i.done,a&&(!s||s.fid!==a.fid)&&Vk(e,a.fid),a})).apply(this,arguments)}function fb(e){return hb.apply(this,arguments)}function hb(){return hb=_(function*(e){let t;const n=yield Il(e.appConfig,r=>{const i=function JZ(e){return Hk(e||{fid:WZ(),registrationStatus:0})}(r),o=function XZ(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(Xr.create("app-offline"))};const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function eJ(e,t){return pb.apply(this,arguments)}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:tJ(e)}:{installationEntry:t}}(e,i);return t=o.registrationPromise,o.installationEntry});return n.fid===ob?{installationEntry:yield t}:{installationEntry:n,registrationPromise:t}}),hb.apply(this,arguments)}function pb(){return pb=_(function*(e,t){try{const n=yield function BZ(e,t){return ib.apply(this,arguments)}(e,t);return sh(e.appConfig,n)}catch(n){throw Nk(n)&&409===n.customData.serverCode?yield lb(e.appConfig):yield sh(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}),pb.apply(this,arguments)}function tJ(e){return gb.apply(this,arguments)}function gb(){return(gb=_(function*(e){let t=yield Bk(e.appConfig);for(;1===t.registrationStatus;)yield Lk(100),t=yield Bk(e.appConfig);if(0===t.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield fb(e);return r||n}return t})).apply(this,arguments)}function Bk(e){return Il(e,t=>{if(!t)throw Xr.create("installation-not-found");return Hk(t)})}function Hk(e){return function nJ(e){return 1===e.registrationStatus&&e.registrationTime+xk<Date.now()}(e)?{fid:e.fid,registrationStatus:0}:e}function mb(){return(mb=_(function*({appConfig:e,heartbeatServiceProvider:t},n){const r=function iJ(e,{fid:t}){return`${XC(e)}/${t}/authTokens:generate`}(e,n),i=function Fk(e,{refreshToken:t}){const n=Ok(e);return n.append("Authorization",function $Z(e){return`${Pk} ${e}`}(t)),n}(e,n),o=t.getImmediate({optional:!0});if(o){const l=yield o.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:Rk,appId:e.appId}})},c=yield nb(()=>fetch(r,a));if(c.ok)return kk(yield c.json());throw yield eb("Generate Auth Token",c)})).apply(this,arguments)}function _b(e){return vb.apply(this,arguments)}function vb(){return vb=_(function*(e,t=!1){let n;const r=yield Il(e.appConfig,o=>{if(!Wk(o))throw Xr.create("not-registered");const s=o.authToken;if(!t&&function aJ(e){return 2===e.requestStatus&&!function cJ(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+FZ}(e)}(s))return o;if(1===s.requestStatus)return n=function oJ(e,t){return yb.apply(this,arguments)}(e,t),o;{if(!navigator.onLine)throw Xr.create("app-offline");const a=function lJ(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(o);return n=function sJ(e,t){return Cb.apply(this,arguments)}(e,a),a}});return n?yield n:r.authToken}),vb.apply(this,arguments)}function yb(){return(yb=_(function*(e,t){let n=yield zk(e.appConfig);for(;1===n.authToken.requestStatus;)yield Lk(100),n=yield zk(e.appConfig);const r=n.authToken;return 0===r.requestStatus?_b(e,t):r})).apply(this,arguments)}function zk(e){return Il(e,t=>{if(!Wk(t))throw Xr.create("not-registered");return function uJ(e){return 1===e.requestStatus&&e.requestTime+xk<Date.now()}(t.authToken)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}function Cb(){return Cb=_(function*(e,t){try{const n=yield function rJ(e,t){return mb.apply(this,arguments)}(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return yield sh(e.appConfig,r),n}catch(n){if(!Nk(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});yield sh(e.appConfig,r)}else yield lb(e.appConfig);throw n}}),Cb.apply(this,arguments)}function Wk(e){return void 0!==e&&2===e.registrationStatus}function bb(){return(bb=_(function*(e){const t=e,{installationEntry:n,registrationPromise:r}=yield fb(t);return r?r.catch(console.error):_b(t).catch(console.error),n.fid})).apply(this,arguments)}function wb(){return wb=_(function*(e,t=!1){const n=e;return yield function hJ(e){return Eb.apply(this,arguments)}(n),(yield _b(n,t)).token}),wb.apply(this,arguments)}function Eb(){return(Eb=_(function*(e){const{registrationPromise:t}=yield fb(e);t&&(yield t)})).apply(this,arguments)}function Tb(e){return Xr.create("missing-app-config-values",{valueName:e})}const Gk="installations",vJ=e=>{const t=e.getProvider("app").getImmediate(),n=function mJ(e){if(!e||!e.options)throw Tb("App Configuration");if(!e.name)throw Tb("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Tb(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:sa(t,"heartbeat"),_delete:()=>Promise.resolve()}},yJ=e=>{const n=sa(e.getProvider("app").getImmediate(),Gk).getImmediate();return{getId:()=>function dJ(e){return bb.apply(this,arguments)}(n),getToken:i=>function fJ(e){return wb.apply(this,arguments)}(n,i)}};(function CJ(){Gt(new Nt(Gk,vJ,"PUBLIC")),Gt(new Nt("installations-internal",yJ,"PRIVATE"))})(),ze(Mk,JC),ze(Mk,JC,"esm2017");const Sb="@firebase/remote-config",cn=new pr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class RJ{constructor(t,n,r,i){this.client=t,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(t,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=t;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${t}. Is cache hit: ${i}.`),i}fetch(t){var n=this;return _(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(t.cacheMaxAgeMillis,r))return i;t.eTag=i&&i.eTag;const o=yield n.client.fetch(t),s=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===o.status&&s.push(n.storage.setLastSuccessfulFetchResponse(o)),yield Promise.all(s),o})()}}function PJ(e=navigator){return e.languages&&e.languages[0]||e.language}class NJ{constructor(t,n,r,i,o,s){this.firebaseInstallations=t,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=o,this.appId=s}fetch(t){var n=this;return _(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),s=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},c={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:PJ()},l={method:"POST",headers:a,body:JSON.stringify(c)},u=fetch(s,l),d=new Promise((I,b)=>{t.signal.addEventListener(()=>{const F=new Error("The operation was aborted.");F.name="AbortError",b(F)})});let f;try{yield Promise.race([u,d]),f=yield u}catch(I){let b="fetch-client-network";throw"AbortError"===I?.name&&(b="fetch-timeout"),cn.create(b,{originalErrorMessage:I?.message})}let h=f.status;const m=f.headers.get("ETag")||void 0;let v,E;if(200===f.status){let I;try{I=yield f.json()}catch(b){throw cn.create("fetch-client-parse",{originalErrorMessage:b?.message})}v=I.entries,E=I.state}if("INSTANCE_STATE_UNSPECIFIED"===E?h=500:"NO_CHANGE"===E?h=304:("NO_TEMPLATE"===E||"EMPTY_CONFIG"===E)&&(v={}),304!==h&&200!==h)throw cn.create("fetch-status",{httpStatus:h});return{status:h,eTag:m,config:v}})()}}class FJ{constructor(t,n){this.client=t,this.storage=n}fetch(t){var n=this;return _(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(t,r)})()}attemptFetch(t,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return _(function*(){yield function kJ(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(o),r(cn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(t.signal,n);try{const o=yield i.client.fetch(t);return yield i.storage.deleteThrottleMetadata(),o}catch(o){if(!function OJ(e){if(!(e instanceof Gn&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(o))throw o;const s={throttleEndTimeMillis:Date.now()+xv(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(s),i.attemptFetch(t,s)}})()}}class UJ{constructor(t,n,r,i,o){this.app=t,this._client=n,this._storageCache=r,this._storage=i,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ch(e,t){const n=e.target.error||void 0;return cn.create(t,{originalErrorMessage:n&&n?.message})}const Io="app_namespace_store";class HJ{constructor(t,n,r,i=function BJ(){return new Promise((e,t)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{t(ch(r,"storage-open"))},n.onsuccess=r=>{e(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Io,{keyPath:"compositeKey"})}}catch(n){t(cn.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=t,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(t){return this.set("last_fetch_status",t)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(t){return this.set("last_successful_fetch_timestamp_millis",t)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(t){return this.set("last_successful_fetch_response",t)}getActiveConfig(){return this.get("active_config")}setActiveConfig(t){return this.set("active_config",t)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(t){return this.set("active_config_etag",t)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(t){return this.set("throttle_metadata",t)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(t){var n=this;return _(function*(){const r=yield n.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([Io],"readonly").objectStore(Io),c=n.createCompositeKey(t);try{const l=a.get(c);l.onerror=u=>{o(ch(u,"storage-get"))},l.onsuccess=u=>{const d=u.target.result;i(d?d.value:void 0)}}catch(l){o(cn.create("storage-get",{originalErrorMessage:l?.message}))}})})()}set(t,n){var r=this;return _(function*(){const i=yield r.openDbPromise;return new Promise((o,s)=>{const c=i.transaction([Io],"readwrite").objectStore(Io),l=r.createCompositeKey(t);try{const u=c.put({compositeKey:l,value:n});u.onerror=d=>{s(ch(d,"storage-set"))},u.onsuccess=()=>{o()}}catch(u){s(cn.create("storage-set",{originalErrorMessage:u?.message}))}})})()}delete(t){var n=this;return _(function*(){const r=yield n.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([Io],"readwrite").objectStore(Io),c=n.createCompositeKey(t);try{const l=a.delete(c);l.onerror=u=>{o(ch(u,"storage-delete"))},l.onsuccess=()=>{i()}}catch(l){o(cn.create("storage-delete",{originalErrorMessage:l?.message}))}})})()}createCompositeKey(t){return[this.appId,this.appName,this.namespace,t].join()}}class zJ{constructor(t){this.storage=t}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var t=this;return _(function*(){const n=t.storage.getLastFetchStatus(),r=t.storage.getLastSuccessfulFetchTimestampMillis(),i=t.storage.getActiveConfig(),o=yield n;o&&(t.lastFetchStatus=o);const s=yield r;s&&(t.lastSuccessfulFetchTimestampMillis=s);const a=yield i;a&&(t.activeConfig=a)})()}setLastFetchStatus(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)}setLastSuccessfulFetchTimestampMillis(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)}setActiveConfig(t){return this.activeConfig=t,this.storage.setActiveConfig(t)}}function GJ(){return Pb.apply(this,arguments)}function Pb(){return(Pb=_(function*(){if(!po())return!1;try{return yield il()}catch{return!1}})).apply(this,arguments)}!function WJ(){Gt(new Nt("remote-config",function e(t,{instanceIdentifier:n}){const r=t.getProvider("app").getImmediate(),i=t.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw cn.create("registration-window");if(!po())throw cn.create("indexed-db-unavailable");const{projectId:o,apiKey:s,appId:a}=r.options;if(!o)throw cn.create("registration-project-id");if(!s)throw cn.create("registration-api-key");if(!a)throw cn.create("registration-app-id");const c=new HJ(a,r.name,n=n||"firebase"),l=new zJ(c),u=new oa(Sb);u.logLevel=we.ERROR;const d=new NJ(i,vo,n,o,s,a),f=new FJ(d,c),h=new RJ(f,c,l,u),m=new UJ(r,h,l,c,u);return function AJ(e){const t=Dt(e);t._initializePromise||(t._initializePromise=t._storageCache.loadFromStorage().then(()=>{t._isInitializationComplete=!0}))}(m),m},"PUBLIC").setMultipleInstances(!0)),ze(Sb,"0.4.4"),ze(Sb,"0.4.4","esm2017")}();const qJ=(e,t)=>t.some(n=>e instanceof n);let Qk,Zk;const Jk=new WeakMap,Nb=new WeakMap,Xk=new WeakMap,kb=new WeakMap,Ob=new WeakMap;let Fb={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Nb.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Xk.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ei(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function eX(e){return"function"==typeof e?function XJ(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function YJ(){return Zk||(Zk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(e)?function(...t){return e.apply(Lb(this),t),ei(Jk.get(this))}:function(...t){return ei(e.apply(Lb(this),t))}:function(t,...n){const r=e.call(Lb(this),t,...n);return Xk.set(r,t.sort?t.sort():[t]),ei(r)}}(e):(e instanceof IDBTransaction&&function ZJ(e){if(Nb.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});Nb.set(e,t)}(e),qJ(e,function KJ(){return Qk||(Qk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(e,Fb):e)}function ei(e){if(e instanceof IDBRequest)return function QJ(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(ei(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&Jk.set(n,e)}).catch(()=>{}),Ob.set(t,e),t}(e);if(kb.has(e))return kb.get(e);const t=eX(e);return t!==e&&(kb.set(e,t),Ob.set(t,e)),t}const Lb=e=>Ob.get(e);function eO(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=ei(s);return r&&s.addEventListener("upgradeneeded",c=>{r(ei(s.result),c.oldVersion,c.newVersion,ei(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function Vb(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",()=>t()),ei(n).then(()=>{})}const tX=["get","getKey","getAll","getAllKeys","count"],nX=["put","add","delete","clear"],Ub=new Map;function tO(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(Ub.get(t))return Ub.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=nX.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!tX.includes(n))return;const o=function(){var s=_(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return s.apply(this,arguments)}}();return Ub.set(t,o),o}!function JJ(e){Fb=e(Fb)}(e=>({...e,get:(t,n,r)=>tO(t,n)||e.get(t,n,r),has:(t,n)=>!!tO(t,n)||e.has(t,n)}));const rX="/firebase-messaging-sw.js",iX="/firebase-cloud-messaging-push-scope",nO="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",oX="https://fcmregistrations.googleapis.com/v1",rO="google.c.a.c_id",sX="google.c.a.c_l",aX="google.c.a.ts";var lh=function(e){return e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked",e}(lh||{});function ti(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function uX(e){const n=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}const jb="fcm_token_details_db",dX=5,iO="fcm_token_object_Store";function $b(){return $b=_(function*(e){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(jb))return null;let t=null;return(yield eO(jb,dX,{upgrade:(r=_(function*(i,o,s,a){var c;if(o<2||!i.objectStoreNames.contains(iO))return;const l=a.objectStore(iO),u=yield l.index("fcmSenderId").get(e);if(yield l.clear(),u)if(2===o){const d=u;if(!d.auth||!d.p256dh||!d.endpoint)return;t={token:d.fcmToken,createTime:null!==(c=d.createTime)&&void 0!==c?c:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:ti(d.vapidKey)}}}else if(3===o){const d=u;t={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ti(d.auth),p256dh:ti(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ti(d.vapidKey)}}}else if(4===o){const d=u;t={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ti(d.auth),p256dh:ti(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ti(d.vapidKey)}}}}),function(o,s,a,c){return r.apply(this,arguments)})})).close(),yield Vb(jb),yield Vb("fcm_vapid_details_db"),yield Vb("undefined"),function hX(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}(t)?t:null;var r}),$b.apply(this,arguments)}const pX="firebase-messaging-database",gX=1,Do="firebase-messaging-store";let Bb=null;function Hb(){return Bb||(Bb=eO(pX,gX,{upgrade:(e,t)=>{0===t&&e.createObjectStore(Do)}})),Bb}function oO(e){return zb.apply(this,arguments)}function zb(){return zb=_(function*(e){const t=Kb(e),r=yield(yield Hb()).transaction(Do).objectStore(Do).get(t);if(r)return r;{const i=yield function fX(e){return $b.apply(this,arguments)}(e.appConfig.senderId);if(i)return yield Wb(e,i),i}}),zb.apply(this,arguments)}function Wb(e,t){return Gb.apply(this,arguments)}function Gb(){return(Gb=_(function*(e,t){const n=Kb(e),i=(yield Hb()).transaction(Do,"readwrite");return yield i.objectStore(Do).put(t,n),yield i.done,t})).apply(this,arguments)}function qb(){return(qb=_(function*(e){const t=Kb(e),r=(yield Hb()).transaction(Do,"readwrite");yield r.objectStore(Do).delete(t),yield r.done})).apply(this,arguments)}function Kb({appConfig:e}){return e.appId}const Tt=new pr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function vX(e,t){return Yb.apply(this,arguments)}function Yb(){return(Yb=_(function*(e,t){const n=yield Xb(e),r=aO(t),i={method:"POST",headers:n,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(Jb(e.appConfig),i)).json()}catch(s){throw Tt.create("token-subscribe-failed",{errorInfo:s?.toString()})}if(o.error)throw Tt.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw Tt.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function Qb(){return(Qb=_(function*(e,t){const n=yield Xb(e),r=aO(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(`${Jb(e.appConfig)}/${t.token}`,i)).json()}catch(s){throw Tt.create("token-update-failed",{errorInfo:s?.toString()})}if(o.error)throw Tt.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw Tt.create("token-update-no-token");return o.token})).apply(this,arguments)}function sO(e,t){return Zb.apply(this,arguments)}function Zb(){return(Zb=_(function*(e,t){const r={method:"DELETE",headers:yield Xb(e)};try{const o=yield(yield fetch(`${Jb(e.appConfig)}/${t}`,r)).json();if(o.error)throw Tt.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(i){throw Tt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function Jb({projectId:e}){return`${oX}/projects/${e}/registrations`}function Xb(e){return ew.apply(this,arguments)}function ew(){return(ew=_(function*({appConfig:e,installations:t}){const n=yield t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function aO({p256dh:e,auth:t,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:t,p256dh:e}};return r!==nO&&(i.web.applicationPubKey=r),i}const CX=6048e5;function tw(){return tw=_(function*(e){const t=yield function EX(e,t){return ow.apply(this,arguments)}(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:ti(t.getKey("auth")),p256dh:ti(t.getKey("p256dh"))},r=yield oO(e.firebaseDependencies);if(r){if(function IX(e,t){return t.vapidKey===e.vapidKey&&t.endpoint===e.endpoint&&t.auth===e.auth&&t.p256dh===e.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+CX?function wX(e,t){return rw.apply(this,arguments)}(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield sO(e.firebaseDependencies,r.token)}catch(i){console.warn(i)}return lO(e.firebaseDependencies,n)}return lO(e.firebaseDependencies,n)}),tw.apply(this,arguments)}function nw(){return nw=_(function*(e){const t=yield oO(e.firebaseDependencies);t&&(yield sO(e.firebaseDependencies,t.token),yield function mX(e){return qb.apply(this,arguments)}(e.firebaseDependencies));const n=yield e.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),nw.apply(this,arguments)}function rw(){return rw=_(function*(e,t){try{const n=yield function yX(e,t){return Qb.apply(this,arguments)}(e.firebaseDependencies,t),r=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return yield Wb(e.firebaseDependencies,r),n}catch(n){throw yield function cO(e){return nw.apply(this,arguments)}(e),n}}),rw.apply(this,arguments)}function lO(e,t){return iw.apply(this,arguments)}function iw(){return(iw=_(function*(e,t){const r={token:yield vX(e,t),createTime:Date.now(),subscriptionOptions:t};return yield Wb(e,r),r.token})).apply(this,arguments)}function ow(){return(ow=_(function*(e,t){return(yield e.pushManager.getSubscription())||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:uX(t)})})).apply(this,arguments)}function uO(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function DX(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const i=t.notification.image;i&&(e.notification.image=i);const o=t.notification.icon;o&&(e.notification.icon=o)}(t,e),function TX(e,t){t.data&&(e.data=t.data)}(t,e),function SX(e,t){var n,r,i,o,s;if(!(t.fcmOptions||null!==(n=t.notification)&&void 0!==n&&n.click_action))return;e.fcmOptions={};const a=null!==(i=null===(r=t.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(o=t.notification)||void 0===o?void 0:o.click_action;a&&(e.fcmOptions.link=a);const c=null===(s=t.fcmOptions)||void 0===s?void 0:s.analytics_label;c&&(e.fcmOptions.analyticsLabel=c)}(t,e),t}function dO(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}function sw(e){return Tt.create("missing-app-config-values",{valueName:e})}dO("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),dO("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class xX{constructor(t,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function MX(e){if(!e||!e.options)throw sw("App Configuration Object");if(!e.name)throw sw("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const r of t)if(!n[r])throw sw(r);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(t);this.firebaseDependencies={app:t,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function aw(){return(aw=_(function*(e){try{e.swRegistration=yield navigator.serviceWorker.register(rX,{scope:iX}),e.swRegistration.update().catch(()=>{})}catch(t){throw Tt.create("failed-service-worker-registration",{browserErrorMessage:t?.message})}})).apply(this,arguments)}function cw(){return(cw=_(function*(e,t){if(!t&&!e.swRegistration&&(yield function fO(e){return aw.apply(this,arguments)}(e)),t||!e.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw Tt.create("invalid-sw-registration");e.swRegistration=t}})).apply(this,arguments)}function lw(){return(lw=_(function*(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=nO)})).apply(this,arguments)}function uw(){return uw=_(function*(e,t){if(!navigator)throw Tt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Tt.create("permission-blocked");return yield function PX(e,t){return lw.apply(this,arguments)}(e,t?.vapidKey),yield function RX(e,t){return cw.apply(this,arguments)}(e,t?.serviceWorkerRegistration),function bX(e){return tw.apply(this,arguments)}(e)}),uw.apply(this,arguments)}function dw(){return(dw=_(function*(e,t,n){const r=function kX(e){switch(e){case lh.NOTIFICATION_CLICKED:return"notification_open";case lh.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t);(yield e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[rO],message_name:n[sX],message_time:n[aX],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function fw(){return fw=_(function*(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===lh.PUSH_RECEIVED&&("function"==typeof e.onMessageHandler?e.onMessageHandler(uO(n)):e.onMessageHandler.next(uO(n)));const r=n.data;(function AX(e){return"object"==typeof e&&!!e&&rO in e})(r)&&"1"===r["google.c.a.e"]&&(yield function NX(e,t,n){return dw.apply(this,arguments)}(e,n.messageType,r))}),fw.apply(this,arguments)}const pO="@firebase/messaging",FX=e=>{const t=new xX(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function OX(e,t){return fw.apply(this,arguments)}(t,n)),t},LX=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:r=>function hO(e,t){return uw.apply(this,arguments)}(t,r)}};function mO(){return hw.apply(this,arguments)}function hw(){return(hw=_(function*(){try{yield il()}catch{return!1}return typeof window<"u"&&po()&&Sv()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function VX(){Gt(new Nt("messaging",FX,"PUBLIC")),Gt(new Nt("messaging-internal",LX,"PRIVATE")),ze(pO,"0.12.4"),ze(pO,"0.12.4","esm2017")}();const uh="analytics",$X="firebase_id",BX="origin",HX=6e4,zX="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",mw="https://www.googletagmanager.com/gtag/js",dt=new oa("@firebase/analytics"),qt=new pr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function GX(e){if(!e.startsWith(mw)){const t=qt.create("invalid-gtag-resource",{gtagURL:e});return dt.warn(t.message),""}return e}function _O(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function _w(){return(_w=_(function*(e,t,n,r,i,o){const s=r[i];try{if(s)yield t[s];else{const c=(yield _O(n)).find(l=>l.measurementId===i);c&&(yield t[c.appId])}}catch(a){dt.error(a)}e("config",i,o)})).apply(this,arguments)}function vw(){return(vw=_(function*(e,t,n,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const a=yield _O(n);for(const c of s){const l=a.find(d=>d.measurementId===c),u=l&&t[l.appId];if(!u){o=[];break}o.push(u)}}0===o.length&&(o=Object.values(t)),yield Promise.all(o),e("event",r,i||{})}catch(o){dt.error(o)}})).apply(this,arguments)}const tee=30,vO=new class ree{constructor(t={},n=1e3){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}};function iee(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function yw(){return(yw=_(function*(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:iee(r)},o=zX.replace("{app-id}",n),s=yield fetch(o,i);if(200!==s.status&&304!==s.status){let a="";try{const c=yield s.json();null!==(t=c.error)&&void 0!==t&&t.message&&(a=c.error.message)}catch{}throw qt.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})).apply(this,arguments)}function Cw(){return(Cw=_(function*(e,t=vO,n){const{appId:r,apiKey:i,measurementId:o}=e.options;if(!r)throw qt.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw qt.create("no-api-key")}const s=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new lee;return setTimeout(_(function*(){a.abort()}),void 0!==n?n:HX),yO({appId:r,apiKey:i,measurementId:o},s,a,t)})).apply(this,arguments)}function yO(e,t,n){return bw.apply(this,arguments)}function bw(){return bw=_(function*(e,{throttleEndTimeMillis:t,backoffCount:n},r,i=vO){var o;const{appId:s,measurementId:a}=e;try{yield function aee(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(o),r(qt.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(r,t)}catch(c){if(a)return dt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:s,measurementId:a};throw c}try{const c=yield function oee(e){return yw.apply(this,arguments)}(e);return i.deleteThrottleMetadata(s),c}catch(c){const l=c;if(!function cee(e){if(!(e instanceof Gn&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(l)){if(i.deleteThrottleMetadata(s),a)return dt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:s,measurementId:a};throw c}const u=503===Number(null===(o=l?.customData)||void 0===o?void 0:o.httpStatus)?xv(n,i.intervalMillis,tee):xv(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(s,d),dt.debug(`Calling attemptFetch again in ${u} millis`),yO(e,d,r,i)}}),bw.apply(this,arguments)}class lee{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}let ww,Mw;function Ew(){return(Ew=_(function*(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const o=yield t;e("event",n,Object.assign(Object.assign({},r),{send_to:o}))}})).apply(this,arguments)}function xw(){return(xw=_(function*(){if(!po())return dt.warn(qt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield il()}catch(e){return dt.warn(qt.create("indexeddb-unavailable",{errorInfo:e?.toString()}).message),!1}return!0})).apply(this,arguments)}function Rw(){return Rw=_(function*(e,t,n,r,i,o,s){var a;const c=function see(e){return Cw.apply(this,arguments)}(e);c.then(h=>{n[h.measurementId]=h.appId,e.options.measurementId&&h.measurementId!==e.options.measurementId&&dt.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>dt.error(h)),t.push(c);const l=function mee(){return xw.apply(this,arguments)}().then(h=>{if(h)return r.getId()}),[u,d]=yield Promise.all([c,l]);(function eee(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(mw)&&n.src.includes(e))return n;return null})(o)||function KX(e,t){const n=function qX(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:GX}),r=document.createElement("script"),i=`${mw}?l=${e}&id=${t}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(o,u.measurementId),Mw&&(i("consent","default",Mw),function CO(e){Mw=e}(void 0)),i("js",new Date);const f=null!==(a=s?.config)&&void 0!==a?a:{};return f[BX]="firebase",f.update=!0,null!=d&&(f[$X]=d),i("config",u.measurementId,f),ww&&(i("set",ww),function bO(e){ww=e}(void 0)),u.measurementId}),Rw.apply(this,arguments)}class vee{constructor(t){this.app=t}_delete(){return delete vr[this.app.options.appId],Promise.resolve()}}let vr={},wO=[];const EO={};let DO,yr,dh="dataLayer",Pw=!1;function Cee(e,t,n){!function yee(){const e=[];if(Tv()&&e.push("This is a browser extension environment."),Sv()||e.push("Cookies are not available."),e.length>0){const t=e.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=qt.create("invalid-analytics-context",{errorInfo:t});dt.warn(n.message)}}();const r=e.options.appId;if(!r)throw qt.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw qt.create("no-api-key");dt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=vr[r])throw qt.create("already-exists",{id:r});if(!Pw){!function YX(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(dh);const{wrappedGtag:o,gtagCore:s}=function XX(e,t,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function JX(e,t,n,r){function o(){return o=_(function*(s,...a){try{if("event"===s){const[c,l]=a;yield function ZX(e,t,n,r,i){return vw.apply(this,arguments)}(e,t,n,c,l)}else if("config"===s){const[c,l]=a;yield function QX(e,t,n,r,i,o){return _w.apply(this,arguments)}(e,t,n,r,c,l)}else if("consent"===s){const[c]=a;e("consent","update",c)}else if("get"===s){const[c,l,u]=a;e("get",c,l,u)}else if("set"===s){const[c]=a;e("set",c)}else e(s,...a)}catch(c){dt.error(c)}}),o.apply(this,arguments)}return function i(s){return o.apply(this,arguments)}}(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}(vr,wO,EO,dh,"gtag");yr=o,DO=s,Pw=!0}return vr[r]=function _ee(e,t,n,r,i,o,s){return Rw.apply(this,arguments)}(e,wO,EO,t,DO,dh,n),new vee(e)}function wee(){return Nw.apply(this,arguments)}function Nw(){return(Nw=_(function*(){if(Tv()||!Sv()||!po())return!1;try{return yield il()}catch{return!1}})).apply(this,arguments)}const TO="@firebase/analytics";!function Iee(){Gt(new Nt(uh,(t,{options:n})=>Cee(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),Gt(new Nt("analytics-internal",function e(t){try{const n=t.getProvider(uh).getImmediate();return{logEvent:(r,i,o)=>function Eee(e,t,n,r){e=Dt(e),function uee(e,t,n,r,i){return Ew.apply(this,arguments)}(yr,vr[e.app.options.appId],t,n,r).catch(i=>dt.error(i))}(n,r,i,o)}}catch(n){throw qt.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),ze(TO,"0.10.0"),ze(TO,"0.10.0","esm2017")}();class Dee extends Qt{constructor(t,n){super()}schedule(t,n=0){return this}}const fh={setInterval(e,t,...n){const{delegate:r}=fh;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){const{delegate:t}=fh;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};class AO extends Dee{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,r=0){return fh.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&fh.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let i,r=!1;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Bo(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}}const MO={now:()=>(MO.delegate||Date).now(),delegate:void 0};class Dl{constructor(t,n=Dl.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}}Dl.now=MO.now;class xO extends Dl{constructor(t,n=Dl.now){super(t,n),this.actions=[],this._active=!1}flush(t){const{actions:n}=this;if(this._active)return void n.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}}const Aee=new class See extends xO{}(class Tee extends AO{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}schedule(t,n=0){return n>0?super.schedule(t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)}execute(t,n){return n>0||this.closed?super.execute(t,n):this._execute(t,n)}requestAsyncId(t,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(t,n,r):(t.flush(this),0)}}),Mee=new xO(AO),hh=new Cs("7.6.0"),Ow="__angularfire_symbol__analyticsIsSupportedValue",Fw="__angularfire_symbol__analyticsIsSupported",Lw="__angularfire_symbol__remoteConfigIsSupportedValue",Vw="__angularfire_symbol__remoteConfigIsSupported",Uw="__angularfire_symbol__messagingIsSupportedValue",jw="__angularfire_symbol__messagingIsSupported";function Bw(e,t,n){if(t){if(1===t.length)return t[0];const o=t.filter(s=>s.app===n);if(1===o.length)return o[0]}return n.container.getProvider(e).getImmediate({optional:!0})}globalThis[Fw]||(globalThis[Fw]=wee().then(e=>globalThis[Ow]=e).catch(()=>globalThis[Ow]=!1)),globalThis[jw]||(globalThis[jw]=mO().then(e=>globalThis[Uw]=e).catch(()=>globalThis[Uw]=!1)),globalThis[Vw]||(globalThis[Vw]=GJ().then(e=>globalThis[Lw]=e).catch(()=>globalThis[Lw]=!1));const Hw=(e,t)=>{const n=t?[t]:fN(),r=[];return n.forEach(i=>{i.container.getProvider(e).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};function ha(){}class RO{constructor(t,n=Aee){this.zone=t,this.delegate=n}now(){return this.delegate.now()}schedule(t,n,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{t.apply(this,[s])})},n,r)}}class xee{constructor(t){this.zone=t,this.task=null}call(t,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ha,{},ha,ha)),n.pipe(It({next:r,complete:r,error:r})).subscribe(t).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let zw=(()=>{class e{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new RO(Zone.current)),this.insideAngular=n.run(()=>new RO(Zone.current,Mee)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return e.\u0275fac=function(n){return new(n||e)(N(_e))},e.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function To(){const e=globalThis.\u0275AngularFireScheduler;if(!e)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return e}function So(e){return To().ngZone.run(()=>e())}function Pee(e){return To(),function Nee(e){return function(n){return(n=n.lift(new xee(e.ngZone))).pipe(du(e.outsideAngular),uu(e.insideAngular))}}(To())(e)}const kee=(e,t)=>function(){const r=arguments;return t&&setTimeout(()=>{"scheduled"===t.state&&t.invoke()},10),So(()=>e.apply(void 0,r))},Pn=(e,t)=>function(){let n;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(t&&(n||(n=So(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ha,{},ha,ha)))),r[o]=kee(r[o],n));const i=function Ree(e){return To().ngZone.runOutsideAngular(()=>e())}(()=>e.apply(this,r));if(!t){if(i instanceof je){const o=To();return i.pipe(du(o.outsideAngular),uu(o.insideAngular))}return So(()=>i)}return i instanceof je?i.pipe(Pee):i instanceof Promise?So(()=>new Promise((o,s)=>i.then(a=>So(()=>o(a)),a=>So(()=>s(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:So(()=>i)};class pa{constructor(t){return t}}class Ww{constructor(){return fN()}}const Gw=new O("angularfire2._apps"),Fee={provide:pa,useFactory:function Oee(e){return e&&1===e.length?e[0]:new pa(Uv())},deps:[[new $t,Gw]]},Lee={provide:Ww,deps:[[new $t,Gw]]};function Vee(e){return(t,n)=>{const r=t.runOutsideAngular(()=>e(n));return new pa(r)}}let Uee=(()=>{class e{constructor(n){ze("angularfire",hh.full,"core"),ze("angularfire",hh.full,"app"),ze("angular",k0.full,n.toString())}}return e.\u0275fac=function(n){return new(n||e)(N(hi))},e.\u0275mod=Xt({type:e}),e.\u0275inj=Ot({providers:[Fee,Lee]}),e})();function jee(e,...t){return{ngModule:Uee,providers:[{provide:Gw,useFactory:Vee(e),multi:!0,deps:[_e,xt,zw,...t]}]}}const $ee=Pn(dN,!0),qw=new Map,PO={activated:!1,tokenObservers:[]},Bee={initialized:!1,enabled:!1};function Ge(e){return qw.get(e)||Object.assign({},PO)}function ph(){return Bee}const Kw="https://content-firebaseappcheck.googleapis.com/v1",Gee="exchangeDebugToken",NO={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Kee{constructor(t,n,r,i,o){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var n=this;return _(function*(){n.stop();try{n.pending=new ho,yield function Yee(e){return new Promise(t=>{setTimeout(t,e)})}(n.getNextRun(t)),n.pending.resolve(),yield n.pending.promise,n.pending=new ho,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const St=new pr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Yw(e){if(!Ge(e).activated)throw St.create("use-before-activation",{appName:e.name})}function _h(e,t){return Zw.apply(this,arguments)}function Zw(){return(Zw=_(function*({url:e,body:t},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const o={method:"POST",body:JSON.stringify(t),headers:r};let s,a;try{s=yield fetch(e,o)}catch(d){throw St.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==s.status)throw St.create("fetch-status-error",{httpStatus:s.status});try{a=yield s.json()}catch(d){throw St.create("fetch-parse-error",{originalErrorMessage:d?.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw St.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=1e3*Number(c[1]),u=Date.now();return{token:a.token,expireTimeMillis:u+l,issuedAtTimeMillis:u}})).apply(this,arguments)}function kO(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${Kw}/projects/${n}/apps/${r}:${Gee}?key=${i}`,body:{debug_token:t}}}const Xee="firebase-app-check-database",ete=1,Tl="firebase-app-check-store";let vh=null;function Jw(){return(Jw=_(function*(e,t){const r=(yield function FO(){return vh||(vh=new Promise((e,t)=>{try{const n=indexedDB.open(Xee,ete);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{var i;t(St.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Tl,{keyPath:"compositeKey"})}}catch(n){t(St.create("storage-open",{originalErrorMessage:n?.message}))}}),vh)}()).transaction(Tl,"readwrite"),o=r.objectStore(Tl).put({compositeKey:e,value:t});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var l;a(St.create("storage-set",{originalErrorMessage:null===(l=c.target.error)||void 0===l?void 0:l.message}))}})})).apply(this,arguments)}const Sl=new oa("@firebase/app-check");function tE(e,t){return po()?function nte(e,t){return function LO(e,t){return Jw.apply(this,arguments)}(function UO(e){return`${e.options.appId}-${e.name}`}(e),t)}(e,t).catch(n=>{Sl.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function rE(){return ph().enabled}function iE(){return oE.apply(this,arguments)}function oE(){return(oE=_(function*(){const e=ph();if(e.enabled&&e.token)return e.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const cte={error:"UNKNOWN_ERROR"};function lte(e){return kf.encodeString(JSON.stringify(e),!1)}function yh(e){return sE.apply(this,arguments)}function sE(){return(sE=_(function*(e,t=!1){const n=e.app;Yw(n);const r=Ge(n);let o,i=r.token;if(i&&!ga(i)&&(r.token=void 0,i=void 0),!i){const c=yield r.cachedTokenPromise;c&&(ga(c)?i=c:yield tE(n,void 0))}if(!t&&i&&ga(i))return{token:i.token};let a,s=!1;if(rE()){r.exchangeTokenPromise||(r.exchangeTokenPromise=_h(kO(n,yield iE()),e.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);const c=yield r.exchangeTokenPromise;return yield tE(n,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),i=yield Ge(n).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?Sl.warn(c.message):Sl.error(c),o=c}return i?o?a=ga(i)?{token:i.token,internalError:o}:HO(o):(a={token:i.token},r.token=i,yield tE(n,i)):a=HO(o),s&&function BO(e,t){const n=Ge(e).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=t.error?r.error(t.error):r.next(t)}catch{}}(n,a),a})).apply(this,arguments)}function jO(e){return aE.apply(this,arguments)}function aE(){return(aE=_(function*(e){const t=e.app;Yw(t);const{provider:n}=Ge(t);if(rE()){const r=yield iE(),{token:i}=yield _h(kO(t,r),e.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}})).apply(this,arguments)}function lE(e,t){const n=Ge(e),r=n.tokenObservers.filter(i=>i.next!==t);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function $O(e){const{app:t}=e,n=Ge(t);let r=n.tokenRefresher;r||(r=function ute(e){const{app:t}=e;return new Kee(_(function*(){let r;if(r=Ge(t).token?yield yh(e,!0):yield yh(e),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=Ge(t);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},NO.RETRIAL_MIN_WAIT,NO.RETRIAL_MAX_WAIT)}(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function ga(e){return e.expireTimeMillis-Date.now()>0}function HO(e){return{token:lte(cte),error:e}}class dte{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:t}=Ge(this.app);for(const n of t)lE(this.app,n.next);return Promise.resolve()}}const ZO="app-check-internal";!function Dte(){Gt(new Nt("app-check",e=>function fte(e,t){return new dte(e,t)}(e.getProvider("app").getImmediate(),e.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(ZO).initialize()})),Gt(new Nt(ZO,e=>function hte(e){return{getToken:t=>yh(e,t),getLimitedUseToken:()=>jO(e),addTokenListener:t=>function cE(e,t,n,r){const{app:i}=e,o=Ge(i);if(o.tokenObservers=[...o.tokenObservers,{next:n,error:r,type:t}],o.token&&ga(o.token)){const a=o.token;Promise.resolve().then(()=>{n({token:a.token}),$O(e)}).catch(()=>{})}o.cachedTokenPromise.then(()=>$O(e))}(e,"INTERNAL",t),removeTokenListener:t=>lE(e.app,t)}}(e.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),ze("@firebase/app-check","0.8.0")}();class hE{constructor(){return Hw("app-check")}}typeof window<"u"&&window;class bh{constructor(t){return t}}class eF{constructor(){return Hw("auth")}}const gE=new O("angularfire2.auth-instances");function Rte(e){return(t,n)=>{const r=t.runOutsideAngular(()=>e(n));return new bh(r)}}const Pte={provide:eF,deps:[[new $t,gE]]},Nte={provide:bh,useFactory:function xte(e,t){const n=Bw("auth",e,t);return n&&new bh(n)},deps:[[new $t,gE],pa]};let kte=(()=>{class e{constructor(){ze("angularfire",hh.full,"auth")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Xt({type:e}),e.\u0275inj=Ot({providers:[Nte,Pte]}),e})();function Ote(e,...t){return{ngModule:kte,providers:[{provide:gE,useFactory:Rte(e),multi:!0,deps:[_e,xt,zw,Ww,[new $t,hE],...t]}]}}const Fte=Pn(PY,!0),Lte=Pn(bZ,!0),Vte=Pn(HY,!0),Ute=Pn(NY,!0),jte=Pn(zY,!0),tF="@firebase/database";let mE="";class Bte{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){null==n?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),st(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return null==n?null:ol(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class Hte{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){null==n?delete this.cache_[t]:this.cache_[t]=n}get(t){return gr(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const rF=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Bte(t)}}catch{}return new Hte},Ao=rF("localStorage"),_E=rF("sessionStorage"),ma=new oa("@firebase/database"),iF=function(){let e=1;return function(){return e++}}(),oF=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,M(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new y9;n.update(t);const r=n.digest();return kf.encodeByteArray(r)},Al=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=Al.apply(null,r):t+="object"==typeof r?st(r):r,t+=" "}return t};let Mo=null,sF=!0;const ft=function(...e){if(!0===sF&&(sF=!1,null===Mo&&!0===_E.get("logging_enabled")&&function(e,t){M(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(ma.logLevel=we.VERBOSE,Mo=ma.log.bind(ma),t&&_E.set("logging_enabled",!0)):"function"==typeof e?Mo=e:(Mo=null,_E.remove("logging_enabled"))}(!0)),Mo){const t=Al.apply(null,e);Mo(t)}},Ml=function(e){return function(...t){ft(e,...t)}},vE=function(...e){const t="FIREBASE INTERNAL ERROR: "+Al(...e);ma.error(t)},Cr=function(...e){const t=`FIREBASE FATAL ERROR: ${Al(...e)}`;throw ma.error(t),new Error(t)},kt=function(...e){const t="FIREBASE WARNING: "+Al(...e);ma.warn(t)},wh=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Si="[MIN_NAME]",ni="[MAX_NAME]",xo=function(e,t){if(e===t)return 0;if(e===Si||t===ni)return-1;if(t===Si||e===ni)return 1;{const n=uF(e),r=uF(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},Gte=function(e,t){return e===t?0:e<t?-1:1},xl=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+st(t))},yE=function(e){if("object"!=typeof e||null===e)return st(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=st(t[r]),n+=":",n+=yE(e[t[r]]);return n+="}",n},cF=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)r.push(e.substring(i,i+t>n?n:i+t));return r};function ht(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const lF=function(e){M(!wh(e),"Invalid JSON number");const r=1023;let i,o,s,a,c;0===e?(o=0,s=0,i=1/e==-1/0?1:0):(i=e<0,(e=Math.abs(e))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),r),o=a+r,s=Math.round(e*Math.pow(2,52-a)-Math.pow(2,52))):(o=0,s=Math.round(e/Math.pow(2,-1074))));const l=[];for(c=52;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=11;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(i?1:0),l.reverse();const u=l.join("");let d="";for(c=0;c<64;c+=8){let f=parseInt(u.substr(c,8),2).toString(16);1===f.length&&(f="0"+f),d+=f}return d.toLowerCase()},Qte=new RegExp("^-?(0*)\\d{1,10}$"),uF=function(e){if(Qte.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},_a=function(e){try{e()}catch(t){setTimeout(()=>{throw kt("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Rl=function(e,t){const n=setTimeout(e,t);return"number"==typeof n&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class ene{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){kt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class tne{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&"auth/token-not-initialized"===n.code?(ft("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',kt(t)}}let Pl=(()=>{class e{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return e.OWNER="owner",e})();const gF=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,vF="websocket",yF="long_polling";class bE{constructor(t,n,r,i,o=!1,s="",a=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ao.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Ao.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function CF(e,t,n){let r;if(M("string"==typeof t,"typeof type must == string"),M("object"==typeof n,"typeof params must == object"),t===vF)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==yF)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function nne(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return ht(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}class rne{constructor(){this.counters_={}}incrementCounter(t,n=1){gr(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return i9(this.counters_)}}const wE={},EE={};function IE(e){const t=e.toString();return wE[t]||(wE[t]=new rne),wE[t]}class one{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&_a(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Ai{constructor(t,n,r,i,o,s,a){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ml(t),this.stats_=IE(n),this.urlFn=c=>(this.appCheckToken&&(c.ac=this.appCheckToken),CF(n,yF,c))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new one(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if("complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new DE((...o)=>{const[s,a,c,l,u]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===s)this.id=a,this.password=c;else{if("close"!==s)throw new Error("Unrecognized command received: "+s);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&gF.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ai.forceAllow_=!0}static forceDisallow(){Ai.forceDisallow_=!0}static isAvailable(){return!(!Ai.forceAllow_&&(Ai.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=st(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=ZP(n),i=cF(r,1840);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=t,r.pw=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=st(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class DE{constructor(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=iF(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=DE.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){ft("frame writing exception"),a.stack&&ft(a.stack),ft(a)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||ft("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const s=this.pendingSegs.shift();r=r+"&seg"+i+"="+s.seg+"&ts"+i+"="+s.ts+"&d"+i+"="+s.d,i++}return n+=r,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(i),r()})}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{ft("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let Ih=null;typeof MozWebSocket<"u"?Ih=MozWebSocket:typeof WebSocket<"u"&&(Ih=WebSocket);let va=(()=>{class e{constructor(n,r,i,o,s,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ml(this.connId),this.stats_=IE(r),this.connURL=e.connectionURL_(r,a,c,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){const a={v:"5"};return typeof location<"u"&&location.hostname&&gF.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),o&&(a.ac=o),s&&(a.p=s),CF(n,vF,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ao.set("previous_websocket_failure",!0);try{let i;0,this.mySock=new Ih(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const o=i.message||i.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&null!==Ih&&!e.forceDisallow_}static previouslyFailed(){return Ao.isInMemoryStorage||!0===Ao.get("previous_websocket_failure")}markConnectionHealthy(){Ao.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=ol(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(M(null===this.frames,"We already have a frame buffer"),n.length<=6){const r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();const r=st(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=cF(r,16384);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e})(),SF=(()=>{class e{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Ai,va]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const r=va&&va.isAvailable();let i=r&&!va.previouslyFailed();if(n.webSocketOnly&&(r||kt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[va];else{const o=this.transports_=[];for(const s of e.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return e.globalTransportInitialized_=!1,e})();class kF{constructor(t,n,r,i,o,s,a,c,l,u){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ml("c:"+this.id+":"),this.transportManager_=new SF(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=Rl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const n=t.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=xl("t",t),r=xl("d",t);if("c"===n)this.onSecondaryControl_(r);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=xl("t",t),r=xl("d",t);"c"===n?this.onControl_(r):"d"===n&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=xl("t",t);if("d"in t){const r=t.d;if("h"===n){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(r):"r"===n?this.onReset_(r):"e"===n?vE("Server Error: "+r):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):vE("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==r&&kt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Rl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Rl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ao.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class OF{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}class FF{constructor(t){this.allowedEvents_=t,this.listeners_={},M(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context))return void i.splice(o,1)}validateEventType_(t){M(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}class Dh extends FF{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Dv()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Dh}getInitialEvent(t){return M("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class ve{constructor(t,n){if(void 0===n){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(t+="/"+this.pieces_[n]);return t||"/"}}function ue(){return new ve("")}function J(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Mi(e){return e.pieces_.length-e.pieceNum_}function Te(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new ve(e.pieces_,t)}function SE(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Nl(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function UF(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new ve(t,0)}function Fe(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof ve)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ve(n,0)}function X(e){return e.pieceNum_>=e.pieces_.length}function Kt(e,t){const n=J(e),r=J(t);if(null===n)return t;if(n===r)return Kt(Te(e),Te(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function AE(e,t){if(Mi(e)!==Mi(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Nn(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Mi(e)>Mi(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class Ane{constructor(t,n){this.errorPrefix_=n,this.parts_=Nl(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=$f(this.parts_[r]);jF(this)}}function jF(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ro(e))}function Ro(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class ME extends FF{constructor(){let t,n;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new ME}getInitialEvent(t){return M("visible"===t,"Unknown event type: "+t),[this.visible_]}}const kl=1e3;let Sh,Po=(()=>{class e extends OF{constructor(n,r,i,o,s,a,c,l){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=e.nextPersistentConnectionId_++,this.log_=Ml("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=kl,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");ME.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&Dh.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){const o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(st(s)),M(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();const r=new ho,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{const c=a.d;"ok"===a.s?r.resolve(c):r.reject(c)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(n,r,i,o){this.initConnection_();const s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),M(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),M(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const c={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(n){const r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){const r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);const s={p:i};n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest("q",s,c=>{const l=c.d,u=c.s;e.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",c),"ok"!==u&&this.removeListen_(i,o),n.onComplete&&n.onComplete(u,l))})}static warnOnListenWarnings_(n,r){if(n&&"object"==typeof n&&gr(n,"w")){const i=na(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();kt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||function(e){const t=Vf(e).claims;return"object"==typeof t&&!0===t.admin}(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,r=function(e){const n=Vf(e).claims;return!!n&&"object"==typeof n&&n.hasOwnProperty("iat")}(n)?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{const s=o.s,a=o.d||"error";this.authToken_===n&&("ok"===s?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const r=n.s,i=n.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){const i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),M(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);const s={p:n};o&&(s.q=i,s.t=o),this.sendRequest("n",s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){const s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();const a={p:r,d:i};void 0!==s&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(n){const r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){const r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+st(n));const r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),"d"===n?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===n?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===n?this.onListenRevoked_(r.p,r.q):"ac"===n?this.onAuthRevoked_(r.s,r.d):"apc"===n?this.onAppCheckRevoked_(r.s,r.d):"sd"===n?this.onSecurityDebugPacket_(r):vE("Unrecognized action received from server: "+st(n)+"\nAre you using the latest client?")}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){M(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=kl,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=kl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=kl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return _(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const r=n.onDataMessage_.bind(n),i=n.onReady_.bind(n),o=n.onRealtimeDisconnect_.bind(n),s=n.id+":"+e.nextConnectionId_++,a=n.lastSessionId;let c=!1,l=null;const u=function(){l?l.close():(c=!0,o())};n.realtime_={close:u,sendRequest:function(h){M(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(h)}};const f=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[h,m]=yield Promise.all([n.authTokenProvider_.getToken(f),n.appCheckTokenProvider_.getToken(f)]);c?ft("getToken() completed but was canceled"):(ft("getToken() completed. Creating connection."),n.authToken_=h&&h.accessToken,n.appCheckToken_=m&&m.token,l=new kF(s,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,r,i,o,v=>{kt(v+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},a))}catch(h){n.log_("Failed to get token: "+h),c||(n.repoInfo_.nodeAdmin&&kt(h),u())}}})()}interrupt(n){ft("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){ft("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Av(this.interruptReasons_)&&(this.reconnectDelay_=kl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const r=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;i=r?r.map(s=>yE(s)).join("$"):"default";const o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){const i=new ve(n).toString();let o;if(this.listens.has(i)){const s=this.listens.get(i);o=s.get(r),s.delete(r),0===s.size&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){ft("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){ft("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let r="js";n["sdk."+r+"."+mE.replace(/\./g,"-")]=1,Dv()?n["framework.cordova"]=1:nN()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=Dh.getInstance().currentlyOnline();return Av(this.interruptReasons_)&&n}}return e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e})();class te{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new te(t,n)}}class Th{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new te(Si,t),i=new te(Si,n);return 0!==this.compare(r,i)}minPost(){return te.MIN}}class HF extends Th{static get __EMPTY_NODE(){return Sh}static set __EMPTY_NODE(t){Sh=t}compare(t,n){return xo(t.name,n.name)}isDefinedOn(t){throw ta("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return te.MIN}maxPost(){return new te(ni,Sh)}makePost(t,n){return M("string"==typeof t,"KeyIndex indexValue must always be a string."),new te(t,Sh)}toString(){return".key"}}const br=new HF;class Ah{constructor(t,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,i&&(s*=-1),s<0)t=this.isReverse_?t.left:t.right;else{if(0===s){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,t=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let RE,qn=(()=>{class e{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??e.RED,this.left=o??ln.EMPTY_NODE,this.right=s??ln.EMPTY_NODE}copy(n,r,i,o,s){return new e(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this;const s=i(n,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(n,r,i),null):0===s?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return ln.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(n,i.key)){if(i.right.isEmpty())return ln.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})();class ln{constructor(t,n=ln.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new ln(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,qn.BLACK,null,null))}remove(t){return new ln(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,qn.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),0===n)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),0===n){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}n<0?r=r.left:n>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Ah(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Ah(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Ah(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Ah(this.root_,null,this.comparator_,!0,t)}}function Fne(e,t){return xo(e.name,t.name)}function xE(e,t){return xo(e,t)}ln.EMPTY_NODE=new class One{copy(t,n,r,i,o){return this}insert(t,n,r){return new qn(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const zF=function(e){return"number"==typeof e?"number:"+lF(e):"string:"+e},WF=function(e){if(e.isLeafNode()){const t=e.val();M("string"==typeof t||"number"==typeof t||"object"==typeof t&&gr(t,".sv"),"Priority must be a string or number.")}else M(e===RE||e.isEmpty(),"priority of unexpected type.");M(e===RE||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let GF,qF,KF,ya=(()=>{class e{constructor(n,r=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,M(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),WF(this.priorityNode_)}static set __childrenNodeConstructor(n){GF=n}static get __childrenNodeConstructor(){return GF}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new e(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return X(n)?this:".priority"===J(n)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return".priority"===n?this.updatePriority(r):r.isEmpty()&&".priority"!==n?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){const i=J(n);return null===i?r:r.isEmpty()&&".priority"!==i?this:(M(".priority"!==i||1===Mi(n),".priority must be the last token in a path"),this.updateImmediateChild(i,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Te(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+zF(this.priorityNode_.val())+":");const r=typeof this.value_;n+=r+":",n+="number"===r?lF(this.value_):this.value_,this.lazyHash_=oF(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===e.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof e.__childrenNodeConstructor?-1:(M(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const r=typeof n.value_,i=typeof this.value_,o=e.VALUE_TYPE_ORDER.indexOf(r),s=e.VALUE_TYPE_ORDER.indexOf(i);return M(o>=0,"Unknown leaf type: "+r),M(s>=0,"Unknown leaf type: "+i),o===s?"object"===i?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){return n===this||!!n.isLeafNode()&&(this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_))}}return e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e})();const Pe=new class jne extends Th{compare(t,n){const r=t.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return 0===o?xo(t.name,n.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return te.MIN}maxPost(){return new te(ni,new ya("[PRIORITY-POST]",KF))}makePost(t,n){const r=qF(t);return new te(n,new ya("[PRIORITY-POST]",r))}toString(){return".priority"}},$ne=Math.log(2);class Bne{constructor(t){this.count=parseInt(Math.log(t+1)/$ne,10),this.current_=this.count-1;const i=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Mh=function(e,t,n,r){e.sort(t);const i=function(c,l){const u=l-c;let d,f;if(0===u)return null;if(1===u)return d=e[c],f=n?n(d):d,new qn(f,d.node,qn.BLACK,null,null);{const h=parseInt(u/2,10)+c,m=i(c,h),v=i(h+1,l);return d=e[h],f=n?n(d):d,new qn(f,d.node,qn.BLACK,m,v)}},a=function(c){let l=null,u=null,d=e.length;const f=function(m,v){const E=d-m,I=d;d-=m;const b=i(E+1,I),F=e[E],j=n?n(F):F;h(new qn(j,F.node,v,null,b))},h=function(m){l?(l.left=m,l=m):(u=m,l=m)};for(let m=0;m<c.count;++m){const v=c.nextBitIsOne(),E=Math.pow(2,c.count-(m+1));v?f(E,qn.BLACK):(f(E,qn.BLACK),f(E,qn.RED))}return u}(new Bne(e.length));return new ln(r||t,a)};let PE;const Ca={};class ri{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return M(Ca&&Pe,"ChildrenNode.ts has not been loaded"),PE=PE||new ri({".priority":Ca},{".priority":Pe}),PE}get(t){const n=na(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof ln?n:null}hasIndex(t){return gr(this.indexSet_,t.toString())}addIndex(t,n){M(t!==br,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(te.Wrap);let a,s=o.getNext();for(;s;)i=i||t.isDefinedOn(s.node),r.push(s),s=o.getNext();a=i?Mh(r,t.getCompare()):Ca;const c=t.toString(),l=Object.assign({},this.indexSet_);l[c]=t;const u=Object.assign({},this.indexes_);return u[c]=a,new ri(u,l)}addToIndexes(t,n){const r=Uf(this.indexes_,(i,o)=>{const s=na(this.indexSet_,o);if(M(s,"Missing index implementation for "+o),i===Ca){if(s.isDefinedOn(t.node)){const a=[],c=n.getIterator(te.Wrap);let l=c.getNext();for(;l;)l.name!==t.name&&a.push(l),l=c.getNext();return a.push(t),Mh(a,s.getCompare())}return Ca}{const a=n.get(t.name);let c=i;return a&&(c=c.remove(new te(t.name,a))),c.insert(t,t.node)}});return new ri(r,this.indexSet_)}removeFromIndexes(t,n){const r=Uf(this.indexes_,i=>{if(i===Ca)return i;{const o=n.get(t.name);return o?i.remove(new te(t.name,o)):i}});return new ri(r,this.indexSet_)}}let Ol,Q=(()=>{class e{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&WF(this.priorityNode_),this.children_.isEmpty()&&M(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ol||(Ol=new e(new ln(xE),null,ri.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ol}updatePriority(n){return this.children_.isEmpty()?this:new e(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const r=this.children_.get(n);return null===r?Ol:r}}getChild(n){const r=J(n);return null===r?this:this.getImmediateChild(r).getChild(Te(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,r){if(M(r,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(r);{const i=new te(n,r);let o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));const a=o.isEmpty()?Ol:this.priorityNode_;return new e(o,a,s)}}updateChild(n,r){const i=J(n);if(null===i)return r;{M(".priority"!==J(n)||1===Mi(n),".priority must be the last token in a path");const o=this.getImmediateChild(i).updateChild(Te(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const r={};let i=0,o=0,s=!0;if(this.forEachChild(Pe,(a,c)=>{r[a]=c.val(n),i++,s&&e.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){const a=[];for(const c in r)a[c]=r[c];return a}return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+zF(this.getPriority().val())+":"),this.forEachChild(Pe,(r,i)=>{const o=i.hash();""!==o&&(n+=":"+r+":"+o)}),this.lazyHash_=""===n?"":oF(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){const o=this.resolveIndex_(i);if(o){const s=o.getPredecessorKey(new te(n,r));return s?s.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(n){const r=this.getFirstChildName(n);return r?new te(r,this.children_.get(r)):null}getLastChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(n){const r=this.getLastChildName(n);return r?new te(r,this.children_.get(r)):null}forEachChild(n,r){const i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{const o=this.children_.getIteratorFrom(n.name,te.Wrap);let s=o.peek();for(;null!=s&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{const o=this.children_.getReverseIteratorFrom(n.name,te.Wrap);let s=o.peek();for(;null!=s&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Fl?-1:0}withIndex(n){if(n===br||this.indexMap_.hasIndex(n))return this;{const r=this.indexMap_.addIndex(n,this.children_);return new e(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===br||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const r=n;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(Pe),o=r.getIterator(Pe);let s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return null===s&&null===a}return!1}return!1}}resolveIndex_(n){return n===br?null:this.indexMap_.get(n.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})();const Fl=new class Hne extends Q{constructor(){super(new ln(xE),Q.EMPTY_NODE,ri.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Q.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(te,{MIN:{value:new te(Si,Q.EMPTY_NODE)},MAX:{value:new te(ni,Fl)}}),HF.__EMPTY_NODE=Q.EMPTY_NODE,ya.__childrenNodeConstructor=Q,function Lne(e){RE=e}(Fl),function Une(e){KF=e}(Fl);const zne=!0;function Ue(e,t=null){if(null===e)return Q.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),M(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new ya(e,Ue(t));if(e instanceof Array||!zne){let n=Q.EMPTY_NODE;return ht(e,(r,i)=>{if(gr(e,r)&&"."!==r.substring(0,1)){const o=Ue(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Ue(t))}{const n=[];let r=!1;if(ht(e,(s,a)=>{if("."!==s.substring(0,1)){const c=Ue(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new te(s,c)))}}),0===n.length)return Q.EMPTY_NODE;const o=Mh(n,Fne,s=>s.name,xE);if(r){const s=Mh(n,Pe.getCompare());return new Q(o,Ue(t),new ri({".priority":s},{".priority":Pe}))}return new Q(o,Ue(t),ri.Default)}}!function Vne(e){qF=e}(Ue);class NE extends Th{constructor(t){super(),this.indexPath_=t,M(!X(t)&&".priority"!==J(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),i=this.extractChild(n.node),o=r.compareTo(i);return 0===o?xo(t.name,n.name):o}makePost(t,n){const r=Ue(t),i=Q.EMPTY_NODE.updateChild(this.indexPath_,r);return new te(n,i)}maxPost(){const t=Q.EMPTY_NODE.updateChild(this.indexPath_,Fl);return new te(ni,t)}toString(){return Nl(this.indexPath_,0).join("/")}}const kE=new class Wne extends Th{compare(t,n){const r=t.node.compareTo(n.node);return 0===r?xo(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return te.MIN}maxPost(){return te.MAX}makePost(t,n){const r=Ue(t);return new te(n,r)}toString(){return".value"}};function YF(e){return{type:"value",snapshotNode:e}}function ba(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Ll(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Vl(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class OE{constructor(t){this.index_=t}updateChild(t,n,r,i,o,s){M(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=t.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(null!=s&&(r.isEmpty()?t.hasChild(n)?s.trackChildChange(Ll(n,a)):M(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(ba(n,r)):s.trackChildChange(Vl(n,r,a))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return null!=r&&(t.isLeafNode()||t.forEachChild(Pe,(i,o)=>{n.hasChild(i)||r.trackChildChange(Ll(i,o))}),n.isLeafNode()||n.forEachChild(Pe,(i,o)=>{if(t.hasChild(i)){const s=t.getImmediateChild(i);s.equals(o)||r.trackChildChange(Vl(i,o,s))}else r.trackChildChange(ba(i,o))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?Q.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Ul{constructor(t){this.indexedFilter_=new OE(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Ul.getStartPost_(t),this.endPost_=Ul.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,o,s){return this.matches(new te(n,r))||(r=Q.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,o,s)}updateFullNode(t,n,r){n.isLeafNode()&&(n=Q.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Q.EMPTY_NODE);const o=this;return n.forEachChild(Pe,(s,a)=>{o.matches(new te(s,a))||(i=i.updateImmediateChild(s,Q.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}return t.getIndex().maxPost()}}class qne{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Ul(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,o,s){return this.rangedFilter_.matches(new te(n,r))||(r=Q.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,o,s):this.fullLimitUpdateChild_(t,n,r,o,s)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Q.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<n.numChildren()&&n.isIndexed(this.index_)){let o;i=Q.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const a=o.getNext();if(this.withinDirectionalStart(a)){if(!this.withinDirectionalEnd(a))break;i=i.updateImmediateChild(a.name,a.node),s++}}}else{let o;i=n.withIndex(this.index_),i=i.updatePriority(Q.EMPTY_NODE),o=this.reverse_?i.getReverseIterator(this.index_):i.getIterator(this.index_);let s=0;for(;o.hasNext();){const a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,Q.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,o){let s;if(this.reverse_){const d=this.index_.getCompare();s=(f,h)=>d(h,f)}else s=this.index_.getCompare();const a=t;M(a.numChildren()===this.limit_,"");const c=new te(n,r),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(c);if(a.hasChild(n)){const d=a.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=f&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const h=null==f?1:s(f,c);if(u&&!r.isEmpty()&&h>=0)return o?.trackChildChange(Vl(n,r,d)),a.updateImmediateChild(n,r);{o?.trackChildChange(Ll(n,d));const v=a.updateImmediateChild(n,Q.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(o?.trackChildChange(ba(f.name,f.node)),v.updateImmediateChild(f.name,f.node)):v}}return r.isEmpty()?t:u&&s(l,c)>=0?(null!=o&&(o.trackChildChange(Ll(l.name,l.node)),o.trackChildChange(ba(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(l.name,Q.EMPTY_NODE)):t}}class FE{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Pe}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return M(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return M(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Si}hasEnd(){return this.endSet_}getIndexEndValue(){return M(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return M(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ni}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return M(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Pe}copy(){const t=new FE;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function QF(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Pe?n="$priority":e.index_===kE?n="$value":e.index_===br?n="$key":(M(e.index_ instanceof NE,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=st(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=st(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+st(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=st(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+st(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function ZF(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Pe&&(t.i=e.index_.toString()),t}class Rh extends OF{constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Ml("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return void 0!==n?"tag$"+n:(M(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,r,i){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const s=Rh.getListenId_(t,r),a={};this.listens_[s]=a;const c=QF(t._queryParams);this.restRequest_(o+".json",c,(l,u)=>{let d=u;if(404===l&&(d=null,l=null),null===l&&this.onDataUpdate_(o,d,!1,r),na(this.listens_,s)===a){let f;f=l?401===l?"permission_denied":"rest_error:"+l:"ok",i(f,null)}})}unlisten(t,n){const r=Rh.getListenId_(t,n);delete this.listens_[r]}get(t){const n=QF(t._queryParams),r=t._path.toString(),i=new ho;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;404===o&&(a=null,o=null),null===o?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+ra(n);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=ol(a.responseText)}catch{kt("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,c)}else 401!==a.status&&404!==a.status&&kt("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}}class Xne{constructor(){this.rootNode_=Q.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}function Ph(){return{value:null,children:new Map}}function wa(e,t,n){if(X(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=J(t);e.children.has(r)||e.children.set(r,Ph()),wa(e.children.get(r),t=Te(t),n)}}function jE(e,t,n){null!==e.value?n(t,e.value):function ere(e,t){e.children.forEach((n,r)=>{t(r,n)})}(e,(r,i)=>{jE(i,new ve(t.toString()+"/"+r),n)})}class tre{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&ht(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}}class ire{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new tre(t);const r=1e4+2e4*Math.random();Rl(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;ht(t,(i,o)=>{o>0&&gr(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),Rl(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var wr=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}(wr||{});function HE(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}class Nh{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=wr.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(X(this.path)){if(null!=this.affectedTree.value)return M(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ve(t));return new Nh(ue(),n,this.revert)}}return M(J(this.path)===t,"operationForChild called for unrelated child."),new Nh(Te(this.path),this.affectedTree,this.revert)}}class jl{constructor(t,n){this.source=t,this.path=n,this.type=wr.LISTEN_COMPLETE}operationForChild(t){return X(this.path)?new jl(this.source,ue()):new jl(this.source,Te(this.path))}}class No{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=wr.OVERWRITE}operationForChild(t){return X(this.path)?new No(this.source,ue(),this.snap.getImmediateChild(t)):new No(this.source,Te(this.path),this.snap)}}class Ea{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=wr.MERGE}operationForChild(t){if(X(this.path)){const n=this.children.subtree(new ve(t));return n.isEmpty()?null:n.value?new No(this.source,ue(),n.value):new Ea(this.source,ue(),n)}return M(J(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Ea(this.source,Te(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class xi{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(X(t))return this.isFullyInitialized()&&!this.filtered_;const n=J(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class ore{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function $l(e,t,n,r,i,o){const s=r.filter(a=>a.type===n);s.sort((a,c)=>function cre(e,t,n){if(null==t.childName||null==n.childName)throw ta("Should only compare child_ events.");const r=new te(t.childName,t.snapshotNode),i=new te(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,a,c)),s.forEach(a=>{const c=function are(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,a,o);i.forEach(l=>{l.respondsTo(a.type)&&t.push(l.createEvent(c,e.query_))})})}function kh(e,t){return{eventCache:e,serverCache:t}}function Bl(e,t,n,r){return kh(new xi(t,n,r),e.serverCache)}function XF(e,t,n,r){return kh(e.eventCache,new xi(t,n,r))}function Oh(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function ko(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let zE;class Ne{constructor(t,n=(()=>(zE||(zE=new ln(Gte)),zE))()){this.value=t,this.children=n}static fromObject(t){let n=new Ne(null);return ht(t,(r,i)=>{n=n.set(new ve(r),i)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(null!=this.value&&n(this.value))return{path:ue(),value:this.value};if(X(t))return null;{const r=J(t),i=this.children.get(r);if(null!==i){const o=i.findRootMostMatchingPathAndValue(Te(t),n);return null!=o?{path:Fe(new ve(r),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(X(t))return this;{const n=J(t),r=this.children.get(n);return null!==r?r.subtree(Te(t)):new Ne(null)}}set(t,n){if(X(t))return new Ne(n,this.children);{const r=J(t),o=(this.children.get(r)||new Ne(null)).set(Te(t),n),s=this.children.insert(r,o);return new Ne(this.value,s)}}remove(t){if(X(t))return this.children.isEmpty()?new Ne(null):new Ne(null,this.children);{const n=J(t),r=this.children.get(n);if(r){const i=r.remove(Te(t));let o;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new Ne(null):new Ne(this.value,o)}return this}}get(t){if(X(t))return this.value;{const n=J(t),r=this.children.get(n);return r?r.get(Te(t)):null}}setTree(t,n){if(X(t))return n;{const r=J(t),o=(this.children.get(r)||new Ne(null)).setTree(Te(t),n);let s;return s=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new Ne(this.value,s)}}fold(t){return this.fold_(ue(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Fe(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,ue(),n)}findOnPath_(t,n,r){const i=!!this.value&&r(n,this.value);if(i)return i;if(X(t))return null;{const o=J(t),s=this.children.get(o);return s?s.findOnPath_(Te(t),Fe(n,o),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,ue(),n)}foreachOnPath_(t,n,r){if(X(t))return this;{this.value&&r(n,this.value);const i=J(t),o=this.children.get(i);return o?o.foreachOnPath_(Te(t),Fe(n,i),r):new Ne(null)}}foreach(t){this.foreach_(ue(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Fe(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}class Kn{constructor(t){this.writeTree_=t}static empty(){return new Kn(new Ne(null))}}function Hl(e,t,n){if(X(t))return new Kn(new Ne(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let o=r.value;const s=Kt(i,t);return o=o.updateChild(s,n),new Kn(e.writeTree_.set(i,o))}{const i=new Ne(n),o=e.writeTree_.setTree(t,i);return new Kn(o)}}}function WE(e,t,n){let r=e;return ht(n,(i,o)=>{r=Hl(r,Fe(t,i),o)}),r}function eL(e,t){if(X(t))return Kn.empty();{const n=e.writeTree_.setTree(t,new Ne(null));return new Kn(n)}}function GE(e,t){return null!=Oo(e,t)}function Oo(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Kt(n.path,t)):null}function tL(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Pe,(r,i)=>{t.push(new te(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&t.push(new te(r,i.value))}),t}function Ri(e,t){if(X(t))return e;{const n=Oo(e,t);return new Kn(null!=n?new Ne(n):e.writeTree_.subtree(t))}}function qE(e){return e.writeTree_.isEmpty()}function Ia(e,t){return nL(ue(),e.writeTree_,t)}function nL(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,o)=>{".priority"===i?(M(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):n=nL(Fe(e,i),o,n)}),!n.getChild(e).isEmpty()&&null!==r&&(n=n.updateChild(Fe(e,".priority"),r)),n}}function Fh(e,t){return aL(t,e)}function pre(e,t){if(e.snap)return Nn(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Nn(Fe(e.path,n),t))return!0;return!1}function mre(e){return e.visible}function rL(e,t,n){let r=Kn.empty();for(let i=0;i<e.length;++i){const o=e[i];if(t(o)){const s=o.path;let a;if(o.snap)Nn(n,s)?(a=Kt(n,s),r=Hl(r,a,o.snap)):Nn(s,n)&&(a=Kt(s,n),r=Hl(r,ue(),o.snap.getChild(a)));else{if(!o.children)throw ta("WriteRecord should have .snap or .children");if(Nn(n,s))a=Kt(n,s),r=WE(r,a,o.children);else if(Nn(s,n))if(a=Kt(s,n),X(a))r=WE(r,ue(),o.children);else{const c=na(o.children,J(a));if(c){const l=c.getChild(Te(a));r=Hl(r,ue(),l)}}}}}return r}function iL(e,t,n,r,i){if(r||i){const o=Ri(e.visibleWrites,t);return!i&&qE(o)?n:i||null!=n||GE(o,ue())?Ia(rL(e.allWrites,function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(Nn(l.path,t)||Nn(t,l.path))},t),n||Q.EMPTY_NODE):null}{const o=Oo(e.visibleWrites,t);if(null!=o)return o;{const s=Ri(e.visibleWrites,t);return qE(s)?n:null!=n||GE(s,ue())?Ia(s,n||Q.EMPTY_NODE):null}}}function Lh(e,t,n,r){return iL(e.writeTree,e.treePath,t,n,r)}function KE(e,t){return function _re(e,t,n){let r=Q.EMPTY_NODE;const i=Oo(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Pe,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){const o=Ri(e.visibleWrites,t);return n.forEachChild(Pe,(s,a)=>{const c=Ia(Ri(o,new ve(s)),a);r=r.updateImmediateChild(s,c)}),tL(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}return tL(Ri(e.visibleWrites,t)).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}(e.writeTree,e.treePath,t)}function oL(e,t,n,r){return function vre(e,t,n,r,i){M(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=Fe(t,n);if(GE(e.visibleWrites,o))return null;{const s=Ri(e.visibleWrites,o);return qE(s)?i.getChild(n):Ia(s,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function Vh(e,t){return function Cre(e,t){return Oo(e.visibleWrites,t)}(e.writeTree,Fe(e.treePath,t))}function YE(e,t,n){return function yre(e,t,n,r){const i=Fe(t,n),o=Oo(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?Ia(Ri(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function sL(e,t){return aL(Fe(e.treePath,t),e.writeTree)}function aL(e,t){return{treePath:e,writeTree:t}}class Ire{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;M("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),M(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if("child_added"===n&&"child_removed"===o)this.changeMap.set(r,Vl(r,t.snapshotNode,i.snapshotNode));else if("child_removed"===n&&"child_added"===o)this.changeMap.delete(r);else if("child_removed"===n&&"child_changed"===o)this.changeMap.set(r,Ll(r,i.oldSnap));else if("child_changed"===n&&"child_added"===o)this.changeMap.set(r,ba(r,t.snapshotNode));else{if("child_changed"!==n||"child_changed"!==o)throw ta("Illegal combination of changes: "+t+" occurred after "+i);this.changeMap.set(r,Vl(r,t.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}const cL=new class Dre{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}};class QE{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=null!=this.optCompleteServerCache_?new xi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return YE(this.writes_,t,r)}}getChildAfterChild(t,n,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ko(this.viewCache_),o=function Ere(e,t,n,r,i,o){return function bre(e,t,n,r,i,o,s){let a;const c=Ri(e.visibleWrites,t),l=Oo(c,ue());if(null!=l)a=l;else{if(null==n)return[];a=Ia(c,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const u=[],d=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let h=f.getNext();for(;h&&u.length<i;)0!==d(h,r)&&u.push(h),h=f.getNext();return u}}(e.writeTree,e.treePath,t,n,r,i,o)}(this.writes_,i,n,1,r,t);return 0===o.length?null:o[0]}}function lL(e,t,n,r,i,o){const s=t.eventCache;if(null!=Vh(r,n))return t;{let a,c;if(X(n))if(M(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const l=ko(t),d=KE(r,l instanceof Q?l:Q.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),d,o)}else{const l=Lh(r,ko(t));a=e.filter.updateFullNode(t.eventCache.getNode(),l,o)}else{const l=J(n);if(".priority"===l){M(1===Mi(n),"Can't have a priority with additional path components");const u=s.getNode();c=t.serverCache.getNode();const d=oL(r,n,u,c);a=null!=d?e.filter.updatePriority(u,d):s.getNode()}else{const u=Te(n);let d;if(s.isCompleteForChild(l)){c=t.serverCache.getNode();const f=oL(r,n,s.getNode(),c);d=null!=f?s.getNode().getImmediateChild(l).updateChild(u,f):s.getNode().getImmediateChild(l)}else d=YE(r,l,t.serverCache);a=null!=d?e.filter.updateChild(s.getNode(),l,d,u,i,o):s.getNode()}}return Bl(t,a,s.isFullyInitialized()||X(n),e.filter.filtersNodes())}}function Uh(e,t,n,r,i,o,s,a){const c=t.serverCache;let l;const u=s?e.filter:e.filter.getIndexedFilter();if(X(n))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){const h=c.getNode().updateChild(n,r);l=u.updateFullNode(c.getNode(),h,null)}else{const h=J(n);if(!c.isCompleteForPath(n)&&Mi(n)>1)return t;const m=Te(n),E=c.getNode().getImmediateChild(h).updateChild(m,r);l=".priority"===h?u.updatePriority(c.getNode(),E):u.updateChild(c.getNode(),h,E,m,cL,null)}const d=XF(t,l,c.isFullyInitialized()||X(n),u.filtersNodes());return lL(e,d,n,i,new QE(i,d,o),a)}function ZE(e,t,n,r,i,o,s){const a=t.eventCache;let c,l;const u=new QE(i,t,o);if(X(n))l=e.filter.updateFullNode(t.eventCache.getNode(),r,s),c=Bl(t,l,!0,e.filter.filtersNodes());else{const d=J(n);if(".priority"===d)l=e.filter.updatePriority(t.eventCache.getNode(),r),c=Bl(t,l,a.isFullyInitialized(),a.isFiltered());else{const f=Te(n),h=a.getNode().getImmediateChild(d);let m;if(X(f))m=r;else{const v=u.getCompleteChild(d);m=null!=v?".priority"===SE(f)&&v.getChild(UF(f)).isEmpty()?v:v.updateChild(f,r):Q.EMPTY_NODE}c=h.equals(m)?t:Bl(t,e.filter.updateChild(a.getNode(),d,m,f,u,s),a.isFullyInitialized(),e.filter.filtersNodes())}}return c}function uL(e,t){return e.eventCache.isCompleteForChild(t)}function dL(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function JE(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=X(n)?r:new Ne(null).setTree(n,r);const u=t.serverCache.getNode();return l.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){const m=dL(0,t.serverCache.getNode().getImmediateChild(d),f);c=Uh(e,c,new ve(d),m,i,o,s,a)}}),l.children.inorderTraversal((d,f)=>{const h=!t.serverCache.isCompleteForChild(d)&&null===f.value;if(!u.hasChild(d)&&!h){const v=dL(0,t.serverCache.getNode().getImmediateChild(d),f);c=Uh(e,c,new ve(d),v,i,o,s,a)}}),c}class kre{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new OE(r.getIndex()),o=function Kne(e){return e.loadsAllData()?new OE(e.getIndex()):e.hasLimit()?new qne(e):new Ul(e)}(r);this.processor_=function Tre(e){return{filter:e}}(o);const s=n.serverCache,a=n.eventCache,c=i.updateFullNode(Q.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(Q.EMPTY_NODE,a.getNode(),null),u=new xi(c,s.isFullyInitialized(),i.filtersNodes()),d=new xi(l,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=kh(d,u),this.eventGenerator_=new ore(this.query_)}get query(){return this.query_}}function Lre(e,t){const n=ko(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!X(t)&&!n.getImmediateChild(J(t)).isEmpty())?n.getChild(t):null}function fL(e){return 0===e.eventRegistrations_.length}function hL(e,t,n){const r=[];if(n){M(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(n,i);s&&r.push(s)})}if(t){let i=[];for(let o=0;o<e.eventRegistrations_.length;++o){const s=e.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(o+1));break}}else i.push(s)}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function pL(e,t,n,r){t.type===wr.MERGE&&null!==t.source.queryId&&(M(ko(e.viewCache_),"We should always have a full cache before handling merges"),M(Oh(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,o=function Are(e,t,n,r,i){const o=new Ire;let s,a;if(n.type===wr.OVERWRITE){const l=n;l.source.fromUser?s=ZE(e,t,l.path,l.snap,r,i,o):(M(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!X(l.path),s=Uh(e,t,l.path,l.snap,r,i,a,o))}else if(n.type===wr.MERGE){const l=n;l.source.fromUser?s=function xre(e,t,n,r,i,o,s){let a=t;return r.foreach((c,l)=>{const u=Fe(n,c);uL(t,J(u))&&(a=ZE(e,a,u,l,i,o,s))}),r.foreach((c,l)=>{const u=Fe(n,c);uL(t,J(u))||(a=ZE(e,a,u,l,i,o,s))}),a}(e,t,l.path,l.children,r,i,o):(M(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),s=JE(e,t,l.path,l.children,r,i,a,o))}else if(n.type===wr.ACK_USER_WRITE){const l=n;s=l.revert?function Nre(e,t,n,r,i,o){let s;if(null!=Vh(r,n))return t;{const a=new QE(r,t,i),c=t.eventCache.getNode();let l;if(X(n)||".priority"===J(n)){let u;if(t.serverCache.isFullyInitialized())u=Lh(r,ko(t));else{const d=t.serverCache.getNode();M(d instanceof Q,"serverChildren would be complete if leaf node"),u=KE(r,d)}l=e.filter.updateFullNode(c,u,o)}else{const u=J(n);let d=YE(r,u,t.serverCache);null==d&&t.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),l=null!=d?e.filter.updateChild(c,u,d,Te(n),a,o):t.eventCache.getNode().hasChild(u)?e.filter.updateChild(c,u,Q.EMPTY_NODE,Te(n),a,o):c,l.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=Lh(r,ko(t)),s.isLeafNode()&&(l=e.filter.updateFullNode(l,s,o)))}return s=t.serverCache.isFullyInitialized()||null!=Vh(r,ue()),Bl(t,l,s,e.filter.filtersNodes())}}(e,t,l.path,r,i,o):function Rre(e,t,n,r,i,o,s){if(null!=Vh(i,n))return t;const a=t.serverCache.isFiltered(),c=t.serverCache;if(null!=r.value){if(X(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Uh(e,t,n,c.getNode().getChild(n),i,o,a,s);if(X(n)){let l=new Ne(null);return c.getNode().forEachChild(br,(u,d)=>{l=l.set(new ve(u),d)}),JE(e,t,n,l,i,o,a,s)}return t}{let l=new Ne(null);return r.foreach((u,d)=>{const f=Fe(n,u);c.isCompleteForPath(f)&&(l=l.set(u,c.getNode().getChild(f)))}),JE(e,t,n,l,i,o,a,s)}}(e,t,l.path,l.affectedTree,r,i,o)}else{if(n.type!==wr.LISTEN_COMPLETE)throw ta("Unknown operation type: "+n.type);s=function Pre(e,t,n,r,i){const o=t.serverCache;return lL(e,XF(t,o.getNode(),o.isFullyInitialized()||X(n),o.isFiltered()),n,r,cL,i)}(e,t,n.path,r,o)}const c=o.getChanges();return function Mre(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Oh(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(YF(Oh(t)))}}(t,s,c),{viewCache:s,changes:c}}(e.processor_,i,t,n,r);return function Sre(e,t){M(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),M(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}(e.processor_,o.viewCache),M(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,gL(e,o.changes,o.viewCache.eventCache.getNode(),null)}function gL(e,t,n,r){return function sre(e,t,n,r){const i=[],o=[];return t.forEach(s=>{"child_changed"===s.type&&e.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(function Gne(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}(s.childName,s.snapshotNode))}),$l(e,i,"child_removed",t,r,n),$l(e,i,"child_added",t,r,n),$l(e,i,"child_moved",o,r,n),$l(e,i,"child_changed",t,r,n),$l(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,r?[r]:e.eventRegistrations_)}let jh,Bh;class mL{constructor(){this.views=new Map}}function XE(e,t,n,r){const i=t.source.queryId;if(null!==i){const o=e.views.get(i);return M(null!=o,"SyncTree gave us an op for an invalid query."),pL(o,t,n,r)}{let o=[];for(const s of e.views.values())o=o.concat(pL(s,t,n,r));return o}}function _L(e,t,n,r,i){const s=e.views.get(t._queryIdentifier);if(!s){let a=Lh(n,i?r:null),c=!1;a?c=!0:r instanceof Q?(a=KE(n,r),c=!1):(a=Q.EMPTY_NODE,c=!1);const l=kh(new xi(a,c,!1),new xi(r,i,!1));return new kre(t,l)}return s}function vL(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Pi(e,t){let n=null;for(const r of e.views.values())n=n||Lre(r,t);return n}function yL(e,t){return t._queryParams.loadsAllData()?$h(e):e.views.get(t._queryIdentifier)}function CL(e,t){return null!=yL(e,t)}function Ni(e){return null!=$h(e)}function $h(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let qre=1;class bL{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Ne(null),this.pendingWriteTree_=function wre(){return{visibleWrites:Kn.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function eI(e,t,n,r,i){return function ure(e,t,n,r,i){M(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=Hl(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Da(e,new No({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function ki(e,t,n=!1){const r=function fre(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(function hre(e,t){const n=e.allWrites.findIndex(a=>a.writeId===t);M(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){const a=e.allWrites[s];a.visible&&(s>=n&&pre(a,r.path)?i=!1:Nn(r.path,a.path)&&(o=!0)),s--}return!!i&&(o?(function gre(e){e.visibleWrites=rL(e.allWrites,mre,ue()),e.lastWriteId=e.allWrites.length>0?e.allWrites[e.allWrites.length-1].writeId:-1}(e),!0):(r.snap?e.visibleWrites=eL(e.visibleWrites,r.path):ht(r.children,c=>{e.visibleWrites=eL(e.visibleWrites,Fe(r.path,c))}),!0))}(e.pendingWriteTree_,t)){let o=new Ne(null);return null!=r.snap?o=o.set(ue(),!0):ht(r.children,s=>{o=o.set(new ve(s),!0)}),Da(e,new Nh(r.path,o,n))}return[]}function zl(e,t,n){return Da(e,new No({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Hh(e,t,n,r,i=!1){const o=t._path,s=e.syncPointTree_.get(o);let a=[];if(s&&("default"===t._queryIdentifier||CL(s,t))){const c=function zre(e,t,n,r){const i=t._queryIdentifier,o=[];let s=[];const a=Ni(e);if("default"===i)for(const[c,l]of e.views.entries())s=s.concat(hL(l,n,r)),fL(l)&&(e.views.delete(c),l.query._queryParams.loadsAllData()||o.push(l.query));else{const c=e.views.get(i);c&&(s=s.concat(hL(c,n,r)),fL(c)&&(e.views.delete(i),c.query._queryParams.loadsAllData()||o.push(c.query)))}return a&&!Ni(e)&&o.push(new(function $re(){return M(jh,"Reference.ts has not been loaded"),jh}())(t._repo,t._path)),{removed:o,events:s}}(s,t,n,r);(function Bre(e){return 0===e.views.size})(s)&&(e.syncPointTree_=e.syncPointTree_.remove(o));const l=c.removed;if(a=c.events,!i){const u=-1!==l.findIndex(f=>f._queryParams.loadsAllData()),d=e.syncPointTree_.findOnPath(o,(f,h)=>Ni(h));if(u&&!d){const f=e.syncPointTree_.subtree(o);if(!f.isEmpty()){const h=function eie(e){return e.fold((t,n,r)=>{if(n&&Ni(n))return[$h(n)];{let i=[];return n&&(i=vL(n)),ht(r,(o,s)=>{i=i.concat(s)}),i}})}(f);for(let m=0;m<h.length;++m){const v=h[m],E=v.query,I=DL(e,v);e.listenProvider_.startListening(Gl(E),Wl(e,E),I.hashFn,I.onComplete)}}}!d&&l.length>0&&!r&&(u?e.listenProvider_.stopListening(Gl(t),null):l.forEach(f=>{const h=e.queryToTagMap.get(Wh(f));e.listenProvider_.stopListening(Gl(f),h)}))}!function tie(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const i=Wh(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}(e,l)}return a}function wL(e,t,n,r){const i=nI(e,r);if(null!=i){const o=rI(i),s=o.path,a=o.queryId,c=Kt(s,t);return iI(e,s,new No(HE(a),c,n))}return[]}function tI(e,t,n,r=!1){const i=t._path;let o=null,s=!1;e.syncPointTree_.foreachOnPath(i,(f,h)=>{const m=Kt(f,i);o=o||Pi(h,m),s=s||Ni(h)});let c,a=e.syncPointTree_.get(i);a?(s=s||Ni(a),o=o||Pi(a,ue())):(a=new mL,e.syncPointTree_=e.syncPointTree_.set(i,a)),null!=o?c=!0:(c=!1,o=Q.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((h,m)=>{const v=Pi(m,ue());v&&(o=o.updateImmediateChild(h,v))}));const l=CL(a,t);if(!l&&!t._queryParams.loadsAllData()){const f=Wh(t);M(!e.queryToTagMap.has(f),"View does not exist, but we have a tag");const h=function nie(){return qre++}();e.queryToTagMap.set(f,h),e.tagToQueryMap.set(h,f)}let d=function Hre(e,t,n,r,i,o){const s=_L(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),function Vre(e,t){e.eventRegistrations_.push(t)}(s,n),function Ure(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Pe,(o,s)=>{r.push(ba(o,s))}),n.isFullyInitialized()&&r.push(YF(n.getNode())),gL(e,r,n.getNode(),t)}(s,n)}(a,t,n,Fh(e.pendingWriteTree_,i),o,c);if(!l&&!s&&!r){const f=yL(a,t);d=d.concat(function rie(e,t,n){const r=t._path,i=Wl(e,t),o=DL(e,n),s=e.listenProvider_.startListening(Gl(t),i,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(r);if(i)M(!Ni(a.value),"If we're adding a query, it shouldn't be shadowed");else{const c=a.fold((l,u,d)=>{if(!X(l)&&u&&Ni(u))return[$h(u).query];{let f=[];return u&&(f=f.concat(vL(u).map(h=>h.query))),ht(d,(h,m)=>{f=f.concat(m)}),f}});for(let l=0;l<c.length;++l){const u=c[l];e.listenProvider_.stopListening(Gl(u),Wl(e,u))}}return s}(e,t,f))}return d}function zh(e,t,n){const i=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(s,a)=>{const l=Pi(a,Kt(s,t));if(l)return l});return iL(i,t,o,n,!0)}function Da(e,t){return EL(t,e.syncPointTree_,null,Fh(e.pendingWriteTree_,ue()))}function EL(e,t,n,r){if(X(e.path))return IL(e,t,n,r);{const i=t.get(ue());null==n&&null!=i&&(n=Pi(i,ue()));let o=[];const s=J(e.path),a=e.operationForChild(s),c=t.children.get(s);if(c&&a){const l=n?n.getImmediateChild(s):null,u=sL(r,s);o=o.concat(EL(a,c,l,u))}return i&&(o=o.concat(XE(i,e,r,n))),o}}function IL(e,t,n,r){const i=t.get(ue());null==n&&null!=i&&(n=Pi(i,ue()));let o=[];return t.children.inorderTraversal((s,a)=>{const c=n?n.getImmediateChild(s):null,l=sL(r,s),u=e.operationForChild(s);u&&(o=o.concat(IL(u,a,c,l)))}),i&&(o=o.concat(XE(i,e,r,n))),o}function DL(e,t){const n=t.query,r=Wl(e,n);return{hashFn:()=>(function Ore(e){return e.viewCache_.serverCache.getNode()}(t)||Q.EMPTY_NODE).hash(),onComplete:i=>{if("ok"===i)return r?function Zre(e,t,n){const r=nI(e,n);if(r){const i=rI(r),o=i.path,s=i.queryId,a=Kt(o,t);return iI(e,o,new jl(HE(s),a))}return[]}(e,n._path,r):function Qre(e,t){return Da(e,new jl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const o=function Yte(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(i,n);return Hh(e,n,null,o)}}}}function Wl(e,t){const n=Wh(t);return e.queryToTagMap.get(n)}function Wh(e){return e._path.toString()+"$"+e._queryIdentifier}function nI(e,t){return e.tagToQueryMap.get(t)}function rI(e){const t=e.indexOf("$");return M(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new ve(e.substr(0,t))}}function iI(e,t,n){const r=e.syncPointTree_.get(t);return M(r,"Missing sync point for query tag that we're tracking"),XE(r,n,Fh(e.pendingWriteTree_,t),null)}function Gl(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(function Gre(){return M(Bh,"Reference.ts has not been loaded"),Bh}())(e._repo,e._path):e}class oI{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new oI(n)}node(){return this.node_}}class sI{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=Fe(this.path_,t);return new sI(this.syncTree_,n)}node(){return zh(this.syncTree_,this.path_)}}const iie=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},TL=function(e,t,n){return e&&"object"==typeof e?(M(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?oie(e[".sv"],t,n):"object"==typeof e[".sv"]?sie(e[".sv"],t):void M(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},oie=function(e,t,n){if("timestamp"===e)return n.timestamp;M(!1,"Unexpected server value: "+e)},sie=function(e,t,n){e.hasOwnProperty("increment")||M(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!=typeof r&&M(!1,"Unexpected increment value: "+r);const i=t.node();if(M(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return"number"!=typeof s?r:s+r},SL=function(e,t,n,r){return cI(t,new sI(n,e),r)},aI=function(e,t,n){return cI(e,new oI(t),n)};function cI(e,t,n){const r=e.getPriority().val(),i=TL(r,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const s=e,a=TL(s.getValue(),t,n);return a!==s.getValue()||i!==s.getPriority().val()?new ya(a,Ue(i)):e}{const s=e;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new ya(i))),s.forEachChild(Pe,(a,c)=>{const l=cI(c,t.getImmediateChild(a),n);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}class lI{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function Gh(e,t){let n=t instanceof ve?t:new ve(t),r=e,i=J(n);for(;null!==i;){const o=na(r.node.children,i)||{children:{},childCount:0};r=new lI(i,r,o),n=Te(n),i=J(n)}return r}function Fo(e){return e.node.value}function uI(e,t){e.node.value=t,dI(e)}function AL(e){return e.node.childCount>0}function qh(e,t){ht(e.node.children,(n,r)=>{t(new lI(n,e,r))})}function ML(e,t,n,r){n&&!r&&t(e),qh(e,i=>{ML(i,t,!0,r)}),n&&r&&t(e)}function ql(e){return new ve(null===e.parent?e.name:ql(e.parent)+"/"+e.name)}function dI(e){null!==e.parent&&function lie(e,t,n){const r=function aie(e){return void 0===Fo(e)&&!AL(e)}(n),i=gr(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,dI(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,dI(e))}(e.parent,e.name,e)}const uie=/[\[\].#$\/\u0000-\u001F\u007F]/,die=/[\[\].#$\u0000-\u001F\u007F]/,fI=10485760,Kh=function(e){return"string"==typeof e&&0!==e.length&&!uie.test(e)},xL=function(e){return"string"==typeof e&&0!==e.length&&!die.test(e)},Yl=function(e,t,n){const r=n instanceof ve?new Ane(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+Ro(r));if("function"==typeof t)throw new Error(e+"contains a function "+Ro(r)+" with contents = "+t.toString());if(wh(t))throw new Error(e+"contains "+t.toString()+" "+Ro(r));if("string"==typeof t&&t.length>fI/3&&$f(t)>fI)throw new Error(e+"contains a string greater than "+fI+" utf8 bytes "+Ro(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let i=!1,o=!1;if(ht(t,(s,a)=>{if(".value"===s)i=!0;else if(".priority"!==s&&".sv"!==s&&(o=!0,!Kh(s)))throw new Error(e+" contains an invalid key ("+s+") "+Ro(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Mne(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=$f(t),jF(e)})(r,s),Yl(e,a,r),function xne(e){const t=e.parts_.pop();e.byteLength_-=$f(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)}),i&&o)throw new Error(e+' contains ".value" child '+Ro(r)+" in addition to actual children.")}},pI=function(e,t,n,r){if(!(r&&void 0===n||xL(n)))throw new Error(ia(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},pie=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),pI(e,t,n,r)};class gie{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Yh(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],o=i.getPath();null!==n&&!AE(o,n.path)&&(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function NL(e,t,n){Yh(e,n),kL(e,r=>AE(r,t))}function yn(e,t,n){Yh(e,n),kL(e,r=>Nn(r,t)||Nn(t,r))}function kL(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];i&&(t(i.path)?(mie(e.eventLists_[r]),e.eventLists_[r]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}function mie(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();Mo&&ft("event: "+n.toString()),_a(r)}}}const _ie=25;class vie{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new gie,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ph(),this.transactionQueueTree_=new lI,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function FL(e){const n=e.infoData_.getNode(new ve(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function Zl(e){return iie({timestamp:FL(e)})}function LL(e,t,n,r,i){e.dataUpdateCount++;const o=new ve(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){const c=Uf(n,l=>Ue(l));s=function Jre(e,t,n,r){const i=nI(e,r);if(i){const o=rI(i),s=o.path,a=o.queryId,c=Kt(s,t),l=Ne.fromObject(n);return iI(e,s,new Ea(HE(a),c,l))}return[]}(e.serverSyncTree_,o,c,i)}else{const c=Ue(n);s=wL(e.serverSyncTree_,o,c,i)}else if(r){const c=Uf(n,l=>Ue(l));s=function Yre(e,t,n){const r=Ne.fromObject(n);return Da(e,new Ea({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,c)}else{const c=Ue(n);s=zl(e.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=Sa(e,o)),yn(e.eventQueue_,a,s)}function VL(e,t){gI(e,"connected",t),!1===t&&function Eie(e){Ta(e,"onDisconnectEvents");const t=Zl(e),n=Ph();jE(e.onDisconnect_,ue(),(i,o)=>{const s=SL(i,o,e.serverSyncTree_,t);wa(n,i,s)});let r=[];jE(n,ue(),(i,o)=>{r=r.concat(zl(e.serverSyncTree_,i,o));const s=yI(e,i);Sa(e,s)}),e.onDisconnect_=Ph(),yn(e.eventQueue_,ue(),r)}(e)}function gI(e,t,n){const r=new ve("/.info/"+t),i=Ue(n);e.infoData_.updateSnapshot(r,i);const o=zl(e.infoSyncTree_,r,i);yn(e.eventQueue_,r,o)}function Qh(e){return e.nextWriteId_++}function mI(e,t,n,r,i){Ta(e,"set",{path:t.toString(),value:n,priority:r});const o=Zl(e),s=Ue(n,r),a=zh(e.serverSyncTree_,t),c=aI(s,a,o),l=Qh(e),u=eI(e.serverSyncTree_,t,c,l,!0);Yh(e.eventQueue_,u),e.server_.put(t.toString(),s.val(!0),(f,h)=>{const m="ok"===f;m||kt("set at "+t+" failed: "+f);const v=ki(e.serverSyncTree_,l,!m);yn(e.eventQueue_,t,v),function Oi(e,t,n,r){t&&_a(()=>{if("ok"===n)t(null);else{const i=(n||"error").toUpperCase();let o=i;r&&(o+=": "+r);const s=new Error(o);s.code=i,t(s)}})}(0,i,f,h)});const d=yI(e,t);Sa(e,d),yn(e.eventQueue_,d,[])}function _I(e,t,n){let r;r=".info"===J(t._path)?Hh(e.infoSyncTree_,t,n):Hh(e.serverSyncTree_,t,n),NL(e.eventQueue_,t._path,r)}function Ta(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),ft(n,...t)}function vI(e,t,n){return zh(e.serverSyncTree_,t,n)||Q.EMPTY_NODE}function Zh(e,t=e.transactionQueueTree_){if(t||Jh(e,t),Fo(t)){const n=BL(e,t);M(n.length>0,"Sending zero length transaction queue"),n.every(i=>0===i.status)&&function xie(e,t,n){const r=n.map(l=>l.currentWriteId),i=vI(e,t,r);let o=i;const s=i.hash();for(let l=0;l<n.length;l++){const u=n[l];M(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=Kt(t,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}const a=o.val(!0),c=t;e.server_.put(c.toString(),a,l=>{Ta(e,"transaction put response",{path:c.toString(),status:l});let u=[];if("ok"===l){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(ki(e.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Jh(e,Gh(e.transactionQueueTree_,t)),Zh(e,e.transactionQueueTree_),yn(e.eventQueue_,t,u);for(let f=0;f<d.length;f++)_a(d[f])}else{if("datastale"===l)for(let d=0;d<n.length;d++)n[d].status=3===n[d].status?4:0;else{kt("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=l}Sa(e,t)}},s)}(e,ql(t),n)}else AL(t)&&qh(t,n=>{Zh(e,n)})}function Sa(e,t){const n=$L(e,t),r=ql(n);return function Rie(e,t,n){if(0===t.length)return;const r=[];let i=[];const s=t.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){const c=t[a],l=Kt(n,c.path);let d,u=!1;if(M(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)u=!0,d=c.abortReason,i=i.concat(ki(e.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=_ie)u=!0,d="maxretry",i=i.concat(ki(e.serverSyncTree_,c.currentWriteId,!0));else{const f=vI(e,c.path,s);c.currentInputSnapshot=f;const h=t[a].update(f.val());if(void 0!==h){Yl("transaction failed: Data returned ",h,c.path);let m=Ue(h);"object"==typeof h&&null!=h&&gr(h,".priority")||(m=m.updatePriority(f.getPriority()));const E=c.currentWriteId,I=Zl(e),b=aI(m,f,I);c.currentOutputSnapshotRaw=m,c.currentOutputSnapshotResolved=b,c.currentWriteId=Qh(e),s.splice(s.indexOf(E),1),i=i.concat(eI(e.serverSyncTree_,c.path,b,c.currentWriteId,c.applyLocally)),i=i.concat(ki(e.serverSyncTree_,E,!0))}else u=!0,d="nodata",i=i.concat(ki(e.serverSyncTree_,c.currentWriteId,!0))}yn(e.eventQueue_,n,i),i=[],u&&(t[a].status=2,setTimeout(t[a].unwatcher,Math.floor(0)),t[a].onComplete&&r.push("nodata"===d?()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot):()=>t[a].onComplete(new Error(d),!1,null)))}Jh(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)_a(r[a]);Zh(e,e.transactionQueueTree_)}(e,BL(e,n),r),r}function $L(e,t){let n,r=e.transactionQueueTree_;for(n=J(t);null!==n&&void 0===Fo(r);)r=Gh(r,n),n=J(t=Te(t));return r}function BL(e,t){const n=[];return HL(e,t,n),n.sort((r,i)=>r.order-i.order),n}function HL(e,t,n){const r=Fo(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);qh(t,i=>{HL(e,i,n)})}function Jh(e,t){const n=Fo(t);if(n){let r=0;for(let i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,uI(t,n.length>0?n:void 0)}qh(t,r=>{Jh(e,r)})}function yI(e,t){const n=ql($L(e,t)),r=Gh(e.transactionQueueTree_,t);return function cie(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,i=>{CI(e,i)}),CI(e,r),ML(r,i=>{CI(e,i)}),n}function CI(e,t){const n=Fo(t);if(n){const r=[];let i=[],o=-1;for(let s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?(M(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(M(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(ki(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===o?uI(t,void 0):n.length=o+1,yn(e.eventQueue_,ql(t),i);for(let s=0;s<r.length;s++)_a(r[s])}}const bI=function(e,t){const n=kie(e),r=n.namespace;return"firebase.com"===n.domain&&Cr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==n.domain&&Cr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&kt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new bE(n.host,n.secure,r,"ws"===n.scheme||"wss"===n.scheme,t,"",r!==n.subdomain),path:new ve(n.pathString)}},kie=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",c=443;if("string"==typeof e){let l=e.indexOf("//");l>=0&&(a=e.substring(0,l-1),e=e.substring(l+2));let u=e.indexOf("/");-1===u&&(u=e.length);let d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(i=function Pie(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}(e.substring(u,d)));const f=function Nie(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):kt(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,d)));l=t.indexOf(":"),l>=0?(s="https"===a||"wss"===a,c=parseInt(t.substring(l+1),10)):l=t.length;const h=t.slice(0,l);if("localhost"===h.toLowerCase())n="localhost";else if(h.split(".").length<=2)n=h;else{const m=t.indexOf(".");r=t.substring(0,m).toLowerCase(),n=t.substring(m+1),o=r}"ns"in f&&(o=f.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};class WL{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+st(this.snapshot.exportVal())}}class GL{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class wI{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return M(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class Cn{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return X(this._path)?null:SE(this._path)}get ref(){return new Yn(this._repo,this._path)}get _queryIdentifier(){const t=ZF(this._queryParams),n=yE(t);return"{}"===n?"default":n}get _queryObject(){return ZF(this._queryParams)}isEqual(t){if(!((t=Dt(t))instanceof Cn))return!1;const n=this._repo===t._repo,r=AE(this._path,t._path);return n&&r&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Tne(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class Yn extends Cn{constructor(t,n){super(t,n,new FE,!1)}get parent(){const t=UF(this._path);return null===t?null:new Yn(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Lo{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new ve(t),r=Vo(this.ref,t);return new Lo(this._node.getChild(n),r,Pe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,i)=>t(new Lo(i,Vo(this.ref,r),Pe)))}hasChild(t){const n=new ve(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function qL(e,t){return(e=Dt(e))._checkNotDeleted("ref"),void 0!==t?Vo(e._root,t):e._root}function Vo(e,t){return null===J((e=Dt(e))._path)?pie("child","path",t,!1):pI("child","path",t,!1),new Yn(e._repo,Fe(e._path,t))}function EI(e,t){(function(e,t){if(".info"===J(t))throw new Error(e+" failed = Can't modify data under /.info/")})("set",(e=Dt(e))._path),function(e,t,n,r){r&&void 0===t||Yl(ia(e,"value"),t,n)}("set",t,e._path,!1);const n=new ho;return mI(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function Lie(e){e=Dt(e);const t=new wI(()=>{}),n=new Jl(t);return function bie(e,t,n){const r=function Xre(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,(l,u)=>{const d=Kt(l,n);r=r||Pi(u,d)});let i=e.syncPointTree_.get(n);i?r=r||Pi(i,ue()):(i=new mL,e.syncPointTree_=e.syncPointTree_.set(n,i));const o=null!=r,s=o?new xi(r,!0,!1):null;return function Fre(e){return Oh(e.viewCache_)}(_L(i,t,Fh(e.pendingWriteTree_,t._path),o?s.getNode():Q.EMPTY_NODE,o))}(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then(i=>{const o=Ue(i).withIndex(t._queryParams.getIndex());let s;if(tI(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())s=zl(e.serverSyncTree_,t._path,o);else{const a=Wl(e.serverSyncTree_,t);s=wL(e.serverSyncTree_,t._path,o,a)}return yn(e.eventQueue_,t._path,s),Hh(e.serverSyncTree_,t,n,null,!0),o},i=>(Ta(e,"get for query "+st(t)+" failed: "+i),Promise.reject(new Error(i))))}(e._repo,e,n).then(r=>new Lo(r,new Yn(e._repo,e._path),e._queryParams.getIndex()))}class Jl{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,n){const r=n._queryParams.getIndex();return new WL("value",this,new Lo(t.snapshotNode,new Yn(n._repo,n._path),r))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new GL(this,t,n):null}matches(t){return t instanceof Jl&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class tp{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n="children_added"===t?"child_added":t;return n="children_removed"===n?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new GL(this,t,n):null}createEvent(t,n){M(null!=t.childName,"Child events should have a childName.");const r=Vo(new Yn(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new WL(t.type,this,new Lo(t.snapshotNode,r,i),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof tp&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function KL(e,t,n,r){return function Xl(e,t,n,r,i){let o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){const c=n,l=(u,d)=>{_I(e._repo,e,a),c(u,d)};l.userCallback=n.userCallback,l.context=n.context,n=l}const s=new wI(n,o||void 0),a="value"===t?new Jl(s):new tp(t,s);return function Sie(e,t,n){let r;r=".info"===J(t._path)?tI(e.infoSyncTree_,t,n):tI(e.serverSyncTree_,t,n),NL(e.eventQueue_,t._path,r)}(e._repo,e,a),()=>_I(e._repo,e,a)}(e,"value",t,n,r)}(function jre(e){M(!jh,"__referenceConstructor has already been defined"),jh=e})(Yn),function Wre(e){M(!Bh,"__referenceConstructor has already been defined"),Bh=e}(Yn);const II={};function Yie(e,t,n,r,i){let o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||Cr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ft("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let c,l,s=bI(o,i),a=s.repoInfo;typeof process<"u"&&process.env&&(l=process.env.FIREBASE_DATABASE_EMULATOR_HOST),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=bI(o,i),a=s.repoInfo):c=!s.repoInfo.secure;const u=i&&c?new Pl(Pl.OWNER):new tne(e.name,e.options,t);(function(e,t){const n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Kh(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),xL(e)}(n))throw new Error(ia(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",s),X(s.path)||Cr("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function Zie(e,t,n,r){let i=II[t.name];i||(i={},II[t.name]=i);let o=i[e.toURLString()];return o&&Cr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new vie(e,false,n,r),i[e.toURLString()]=o,o}(a,e,u,new ene(e.name,n));return new Xie(d,e)}class Xie{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function yie(e,t,n){if(e.stats_=IE(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Rh(e.repoInfo_,(r,i,o,s)=>{LL(e,r,i,o,s)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>VL(e,!0),0);else{if(typeof n<"u"&&null!==n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{st(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Po(e.repoInfo_,t,(r,i,o,s)=>{LL(e,r,i,o,s)},r=>{VL(e,r)},r=>{!function Cie(e,t){ht(t,(n,r)=>{gI(e,n,r)})}(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=function ine(e,t){const n=e.toString();return EE[n]||(EE[n]=t()),EE[n]}(e.repoInfo_,()=>new ire(e.stats_,e.server_)),e.infoData_=new Xne,e.infoSyncTree_=new bL({startListening:(r,i,o,s)=>{let a=[];const c=e.infoData_.getNode(r._path);return c.isEmpty()||(a=zl(e.infoSyncTree_,r._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),gI(e,"connected",!1),e.serverSyncTree_=new bL({startListening:(r,i,o,s)=>(e.server_.listen(r,o,i,(a,c)=>{const l=s(a,c);yn(e.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Yn(this._repo,ue())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Qie(e,t){const n=II[t];(!n||n[e.key]!==e)&&Cr(`Database ${t}(${e.repoInfo_}) has already been deleted.`),function jL(e){e.persistentConnection_&&e.persistentConnection_.interrupt("repo_interrupt")}(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Cr("Cannot call "+t+" on a deleted database.")}}function eoe(e=Uv(),t){const n=sa(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const r=(e=>{const t=XP("database");if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})();r&&function toe(e,t,n,r={}){(e=Dt(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&Cr("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Cr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Pl(Pl.OWNER);else if(r.mockUserToken){const s="string"==typeof r.mockUserToken?r.mockUserToken:function d9(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Of(JSON.stringify({alg:"none",type:"JWT"})),Of(JSON.stringify(s)),""].join(".")}(r.mockUserToken,e.app.options.projectId);o=new Pl(s)}!function Kie(e,t,n,r){e.repoInfo_=new bE(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,o)}(n,...r)}return n}Po.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Po.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)},function noe(e){(function $te(e){mE=e})(vo),Gt(new Nt("database",(t,{instanceIdentifier:n})=>Yie(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),ze(tF,"0.14.4",e),ze(tF,"0.14.4","esm2017")}();class eu{constructor(t){return t}}const XL="database",DI=new O("angularfire2.database-instances");function aoe(e){return(t,n)=>{const r=t.runOutsideAngular(()=>e(n));return new eu(r)}}const coe={provide:class ooe{constructor(){return Hw(XL)}},deps:[[new $t,DI]]},loe={provide:eu,useFactory:function soe(e,t){const n=Bw(XL,e,t);return n&&new eu(n)},deps:[[new $t,DI],pa]};let uoe=(()=>{class e{constructor(){ze("angularfire",hh.full,"rtdb")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Xt({type:e}),e.\u0275inj=Ot({providers:[loe,coe]}),e})();function doe(e,...t){return{ngModule:uoe,providers:[{provide:DI,useFactory:aoe(e),multi:!0,deps:[_e,xt,zw,Ww,[new $t,eF],[new $t,hE],...t]}]}}const foe=Pn(Vo,!0),e2=Pn(Lie,!0),hoe=Pn(eoe,!0),poe=Pn(KL,!0),tu=Pn(qL,!0),t2=Pn(EI,!0);let Uo=(()=>{class e{constructor(){this.showToastSource=new un,this.showToast$=this.showToastSource.asObservable(),this.currentMessage={type:"info",text:"",icon:"cart"}}triggerToast(n,r,i){this.currentMessage={type:n,text:r,icon:i},this.showToastSource.next()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Yt=(()=>{class e{constructor(n,r,i,o){this.auth=n,this.db=r,this.router=i,this.toastService=o,this.userSubject=new tt(null),this.user$=this.userSubject.asObservable(),this.registeredUser=!1,this.roleSubject=new tt(null),this.userRole$=this.roleSubject.asObservable(),this.loginError$=new tt(null),this.monitorAuthState()}monitorAuthState(){var n=this;Vte(this.auth,function(){var r=_(function*(i){if(n.userSubject.next(i),i){console.log("Utente autenticato:",i.email);const o=tu(n.db,`users/${i.uid}/role`),s=yield e2(o);if(s.exists()){const a=s.val();n.roleSubject.next(a),console.log("Ruolo utente:",a),a&&n.router.navigate(["/home"])}else n.roleSubject.next(null),n.router.navigate(["/not-registered"]),console.warn("Nessun ruolo trovato per l\u2019utente."),n.toastService.triggerToast("error","Nessun ruolo trovato per l\u2019utente.","exclamation-triangle")}else console.log("Nessun utente autenticato"),n.roleSubject.next(null),n.router.navigate(["/login"])});return function(i){return r.apply(this,arguments)}}())}getCurrentUser(){return this.auth.currentUser}register(n,r){var i=this;return _(function*(){try{const o=yield Fte(i.auth,n,r),a=tu(i.db,`users/${o.user.uid}/role`);return yield t2(a,"user"),i.roleSubject.next("user"),console.log("Utente registrato con ruolo: user"),o}catch(o){return console.error("Errore durante la registrazione:",o),Promise.reject(o)}})()}login(n,r){var i=this;return _(function*(){try{const o=yield Ute(i.auth,n,r);return i.loginError$.next(null),o}catch(o){let s="generic",a=o.message||"Errore sconosciuto";switch(o.code){case"auth/wrong-password":a="Password errata. Controlla e riprova.",i.toastService.triggerToast("error",a,"exclamation-triangle");break;case"auth/user-not-found":a="Utente non trovato. Registrati per proseguire.",i.toastService.triggerToast("error",a,"exclamation-triangle");break;case"auth/too-many-requests":a="Troppi tentativi falliti. Riprova pi\xf9 tardi.",i.toastService.triggerToast("error",a,"exclamation-triangle")}return i.loginError$.next({field:s,message:a}),Promise.reject(o)}})()}logout(){return this.roleSubject.next(null),jte(this.auth)}static{this.\u0275fac=function(r){return new(r||e)(N(bh),N(eu),N(ct),N(Uo))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function goe(e,t){1&e&&(g(0,"div",1)(1,"div",2)(2,"span",3),y(3,"Loading..."),p()()())}let n2=(()=>{class e{constructor(){this.isVisible=!1}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=pe({type:e,selectors:[["app-button-spinner"]],inputs:{isVisible:"isVisible"},decls:1,vars:1,consts:[["class","h-100 d-flex flex-column justify-content-center",4,"ngIf"],[1,"h-100","d-flex","flex-column","justify-content-center"],["role","status",1,"spinner-border","spinner-border-sm","ms-1"],[1,"visually-hidden"]],template:function(r,i){1&r&&R(0,goe,4,0,"div",0),2&r&&S("ngIf",i.isVisible)},dependencies:[Et]})}}return e})();function moe(e,t){1&e&&(g(0,"div",26)(1,"div",27),A(2,"div",3),p()())}function _oe(e,t){if(1&e&&(g(0,"small",28),y(1),p()),2&e){const n=k();w(1),ce(n.emailError)}}function voe(e,t){if(1&e&&(g(0,"small",28),y(1),p()),2&e){const n=k();w(1),ce(n.passwordError)}}let yoe=(()=>{class e{constructor(n,r,i){this.auth=n,this.fb=r,this.toastService=i,this.loginSpinnerIsVisible=!1,this.toastText="Utente non registrato",this.emailError=null,this.passwordError=null,this.loginForm=this.fb.group({email:["",[ie.required,ie.email]],pw:["",ie.required],rememberMe:[!1]})}ngOnInit(){this.subscription=this.auth.loginError$.subscribe(n=>{this.loginForm.controls.email.setErrors(null),this.loginForm.controls.pw.setErrors(null),n&&("email"===n.field?this.loginForm.controls.email.setErrors({loginError:n.message}):"password"===n.field&&this.loginForm.controls.pw.setErrors({loginError:n.message}))})}isUserRegistered(){return this.auth.registeredUser}login(){var n=this;return _(function*(){if(n.emailError=null,n.passwordError=null,n.loginForm.invalid)return n.loginForm.controls.email.errors?.required?n.emailError="Email richiesta":n.loginForm.controls.email.errors?.email&&(n.emailError="Formato email non valido"),n.loginForm.controls.pw.errors?.required&&(n.passwordError="Password richiesta"),void((n.emailError||n.passwordError)&&n.toastService.triggerToast("error","Errori presenti nel form di login.","exclamation-triangle"));const{email:r,pw:i,rememberMe:o}=n.loginForm.value;o?localStorage.setItem("rememberedEmail",r):localStorage.removeItem("rememberedEmail"),n.loginSpinnerIsVisible=!0;try{yield n.auth.login(r,i),n.loginSpinnerIsVisible=!1}catch(s){n.loginSpinnerIsVisible=!1,"email"===s.field?(n.emailError=s.message,n.passwordError=null):"password"===s.field?(n.passwordError=s.message,n.emailError=null):n.toastText=s.message}})()}static{this.\u0275fac=function(r){return new(r||e)(C(Yt),C(ea),C(Uo))}}static{this.\u0275cmp=pe({type:e,selectors:[["app-alfa-login"]],inputs:{loginForm:"loginForm"},decls:46,vars:5,consts:[["class","container",4,"ngIf"],[1,"container",2,"max-width","700px"],[1,"row",2,"height","100vh"],[1,"col-12"],[3,"formGroup","ngSubmit"],[1,"w-100","d-flex","justify-content-center","py-4"],[1,"login-logo"],[1,"form-group","mb-3"],["type","email","formControlName","email","placeholder","Email o username",1,"form-control"],["class","text-danger",4,"ngIf"],[1,"form-group"],["type","password","formControlName","pw","placeholder","Password",1,"form-control",3,"keyup.enter"],[1,"w-100","d-flex","justify-content-between","mt-3"],[1,"form-check","align-self-center"],["type","checkbox","value","","formControlName","rememberMe","id","checkDefault",1,"form-check-input"],["for","checkDefault",1,"form-check-label"],[1,"btn","pe-0","text-info"],[1,"d-grid","gap-2","mt-2"],["type","button",1,"btn","btn-primary","d-flex","justify-content-center",3,"click"],[3,"isVisible"],["loginSpinner",""],[1,"my-2"],[1,"text-center"],["routerLink","/register","type","button",1,"btn","btn-outline-primary"],["type","button",1,"btn","btn-dark"],["type","button",1,"btn","btn-primary"],[1,"container"],[1,"row"],[1,"text-danger"]],template:function(r,i){1&r&&(R(0,moe,3,0,"div",0),g(1,"div",1)(2,"div",2)(3,"div",3)(4,"form",4),U("ngSubmit",function(){return i.login()}),g(5,"div",5),A(6,"div",6),p(),g(7,"div",7),A(8,"input",8),R(9,_oe,2,1,"small",9),p(),g(10,"div",10)(11,"input",11),U("keyup.enter",function(){return i.login()}),p(),R(12,voe,2,1,"small",9),p(),g(13,"div",10)(14,"div",12)(15,"div",13),A(16,"input",14),g(17,"label",15),y(18," Ricordami "),p()(),g(19,"button",16),y(20,"Password dimenticata?"),p()()(),g(21,"div",17)(22,"button",18),U("click",function(){return i.login()}),g(23,"div"),y(24," Login "),p(),A(25,"app-button-spinner",19,20),p()()()(),A(27,"hr",21),g(28,"div",3)(29,"div",22)(30,"small"),y(31,"Non sei ancora registrato?"),p()(),g(32,"div",17)(33,"button",23),y(34,"Sign Up"),p()()(),A(35,"hr",21),g(36,"div",22)(37,"small",22),y(38,"oppure"),p()(),g(39,"div",3)(40,"div",17)(41,"button",24),y(42,"Enter with Google"),p()(),g(43,"div",17)(44,"button",25),y(45,"Enter with Facebook"),p()()()()()),2&r&&(S("ngIf",i.isUserRegistered()),w(4),S("formGroup",i.loginForm),w(5),S("ngIf",i.emailError),w(3),S("ngIf",i.passwordError),w(13),S("isVisible",i.loginSpinnerIsVisible))},dependencies:[Et,zr,Js,co,av,Qc,Qs,uo,Xs,n2]})}}return e})(),bn=(()=>{class e{constructor(n,r){this.db=n,this.authService=r,this.products=[]}writeData(n,r){return t2(tu(this.db,n),r)}generateRandomId(n=10,r){var i=this;return _(function*(){const s=()=>{let c="";for(let l=0;l<n;l++)c+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return c};let a=s();if("address"!==r)return console.log("Path non gestito:",r),a;if(i.authService.getCurrentUser()&&i.authService.getCurrentUser().uid){let c=i.authService.getCurrentUser().uid;const l=yield i.readData("users/"+c+"/address");for(;l&&l.some(u=>u.deliveryAddressId===a);)a=s();return a}return a})()}readData(n){return n.split("/"),n.split("/"),e2(foe(tu(this.db),n)).then(i=>i.exists()?(this.products=i.val(),i.val()):null)}listenToData(n,r){const i=tu(this.db,n);poe(i,o=>{r(o.val())})}static{this.\u0275fac=function(r){return new(r||e)(N(eu),N(Yt))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),jo=(()=>{class e{constructor(n,r,i){this.databaseService=n,this.authService=r,this.toastService=i,this.cartItemsSubject=new tt([]),this.cartItems$=this.cartItemsSubject.asObservable(),this.currentCheckout=null}setCartItems(n){this.cartItemsSubject.next(n)}getCartItems(){return this.cartItemsSubject.getValue()}updateCart(){const n=this.authService.getCurrentUser();if(!n||!n.uid)return;const r=n.uid;this.databaseService.readData(`users/${r}/cart`)?.then(i=>{i&&(this.setCurrentCheckout(i),this.databaseService.writeData(`users/${r}/cart`,i))})}addToCart(n){const r=this.authService.getCurrentUser();if(!r||!r.uid)return void console.warn("Utente non autenticato, impossibile aggiungere al carrello.");const i=r.uid;this.databaseService.readData("products")?.then(o=>{const s=o.find(l=>l.id===n);if(!s)return void console.warn("Prodotto non trovato.");const a=s.discount?s.price*(1-s.discount/100):s.price,c={...s,price:a,quantity:1};this.databaseService.readData(`users/${i}/cart`)?.then(l=>{if(l)if(l.products){const d=l.products.findIndex(f=>f.id===n);-1!==d?l.products[d].quantity+=1:l.products.push(c)}else l.products=[c];else l={products:[c],deliveryAddress:null,deliveryAddressId:null};this.setCurrentCheckout(l);let u="";this.databaseService.writeData(`users/${i}/cart`,l).then(()=>{u="Prodotto aggiunto al carrello con successo.",this.toastService.triggerToast("success",u,"cart-check-fill fs-4"),this.setCurrentCheckout(l)}).catch(d=>{u=d.message,this.toastService.triggerToast("error",u,"exclamation-triangle fs-4")})})})}removeFromCart(n){const i=this.getCartItems().filter(o=>o.id!==n);this.setCartItems(i)}modifyQuantity(n){const r=this.authService.getCurrentUser();if(!r||!r.uid)return void console.warn("Utente non autenticato, impossibile modificare quantit\xe0.");const i=r.uid;this.databaseService.readData(`users/${i}/cart`)?.then(o=>{if(this.currentCheckout=o,!this.currentCheckout||!this.currentCheckout.products)return void console.warn("Nessun carrello trovato per l'utente.");const s=this.currentCheckout.products.findIndex(a=>a.id===n.id);-1!==s?(this.currentCheckout.products[s]=n,this.databaseService.writeData(`users/${i}/cart`,this.currentCheckout),this.setCartItems(this.currentCheckout.products)):console.warn("Prodotto non trovato nel carrello.")})}setCurrentCheckout(n){this.currentCheckout=n,this.setCartItems(n&&n.products?n.products:[])}getCurrentCheckout(){return this.currentCheckout}clearCart(){this.setCartItems([])}getCartTotal(){return this.getCartItems().reduce((n,r)=>n+r.price*r.quantity,0)}static{this.\u0275fac=function(r){return new(r||e)(N(bn),N(Yt),N(Uo))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),nu=(()=>{class e{constructor(n,r,i,o){this.authService=n,this.databaseService=r,this.toastService=i,this.cartService=o,this.currentAddressListSubject=new tt([]),this.currentAddressList$=this.currentAddressListSubject.asObservable(),this.addressSelectedSubject=new tt(null),this.addressSelected$=this.addressSelectedSubject.asObservable(),this.currentAddressCheckout=null}setCurrentAddressList(n){this.currentAddressListSubject.next(n)}getCurrentAddressList(){return this.currentAddressListSubject.getValue()}getSelectedAddressFromList(){return this.currentAddressCheckout&&this.currentAddressCheckout.deliveryAddressId&&(this.getCurrentAddressList()||[]).find(r=>r.deliveryAddressId===this.currentAddressCheckout.deliveryAddressId)||null}updateAddress(){const n=this.authService.getCurrentUser();if(!n||!n.uid)return;const r=n.uid;this.databaseService.readData(`users/${r}/cart`)?.then(i=>{if(!i)return;const o=this.getSelectedAddress();o&&(i.deliveryAddressId=o.deliveryAddressId||null,i.deliveryAddress=`${o.line_1}${o.line_2?", "+o.line_2:""}, ${o.city}, ${o.zip}, ${o.province}`,this.databaseService.writeData(`users/${r}/cart`,i),(this.cartService.getCartItems()?.length??0)>0&&this.cartService.setCartItems(i.products||[]),this.toastService.triggerToast("success","Indirizzo di consegna aggiornato.","cart-check-fill fs-4"))})}patchAddress(){const n=this.getSelectedAddress();if(n&&this.currentAddressCheckout){let r="";n.line_2&&(r=", "+n.line_2);const o=[n.line_1+r,n.city,n.zip,n.province].join(", ");this.currentAddressCheckout.deliveryAddress=o}}setSelectedAddress(n){this.addressSelectedSubject.next(n)}getSelectedAddress(){return this.addressSelectedSubject.getValue()}setcurrentAddressCheckout(n){this.currentAddressCheckout=n}getValidityCondition(n,r){return this.areEqualIgnoreCaseAndTrim(n.line_1,r.controls.line_1.value)&&this.areEqualIgnoreCaseAndTrim(n.city,r.controls.city.value)}areEqualIgnoreCaseAndTrim(n,r){return!(!n||!r)&&n.trim().toLowerCase()===r.trim().toLowerCase()}addAddress(n){var r=this;return new Promise(function(){var i=_(function*(o,s){try{const a=r.authService.getCurrentUser(),c=a&&a.uid;if(!c)return s(new Error("Utente non autenticato"));const u=(yield r.databaseService.readData(`users/${c}/address`))||[];let d=!1;const f=u.findIndex(v=>r.getValidityCondition(v,n)),h={line_1:n.controls.line_1.value,line_2:n.controls.line_2.value,city:n.controls.city.value,zip:n.controls.zip.value,province:n.controls.province.value};-1!==f?(u[f]=h,d=!0):u.push(h),yield r.databaseService.writeData(`users/${c}/address`,u),r.setCurrentAddressList(u),r.toastService.triggerToast("success",d?"E' stato aggiornato un indirizzo.":"E' stato aggiunto un nuovo indirizzo.","cart-check-fill fs-4"),o()}catch(a){console.error("Errore in addAddress:",a),s(a)}});return function(o,s){return i.apply(this,arguments)}}())}getCurrentAddressCheckout(){return this.currentAddressCheckout}static{this.\u0275fac=function(r){return new(r||e)(N(Yt),N(bn),N(Uo),N(jo))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Coe(e,t){1&e&&(g(0,"div"),A(1,"i",3),p())}function boe(e,t){1&e&&(g(0,"div")(1,"div",4),A(2,"i",5)(3,"i",6),p()()),2&e&&(k(2),w(2),_n("bi-star"))}function woe(e,t){1&e&&(g(0,"div"),A(1,"i",7),p())}function Eoe(e,t){if(1&e&&(g(0,"div"),R(1,Coe,2,0,"div",2),R(2,boe,4,2,"div",2),R(3,woe,2,0,"div",2),p()),2&e){const n=t.$implicit,r=k();w(1),S("ngIf",n<=r.item.score&&!(n+.5<=r.item.score)&&!(n+1<=r.item.score)),w(1),S("ngIf",n+.5<=r.item.score&&!(n+1<=r.item.score)),w(1),S("ngIf",n+1<=r.item.score)}}const Ioe=function(){return[0,1,2,3,4]};let np=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=pe({type:e,selectors:[["app-score"]],inputs:{item:"item"},decls:2,vars:2,consts:[[1,"d-flex","justify-content-end"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"bi","bi-star","text-warning","ms-1"],[1,"position-relative"],[1,"bi","text-warning","ms-1"],[1,"bi","position-absolute","text-warning","ms-1","bi-star-fill","bi-half-star"],[1,"bi","bi-star-fill","text-warning","ms-1"]],template:function(r,i){1&r&&(g(0,"div",0),R(1,Eoe,4,3,"div",1),p()),2&r&&(w(1),S("ngForOf",function TM(e,t,n){const r=Vt()+e,i=D();return i[r]===K?or(i,r,n?t.call(n):t()):function hc(e,t){return e[t]}(i,r)}(1,Ioe)))},dependencies:[eo,Et],styles:[".bi-half-star[_ngcontent-%COMP%]{transform:translate(-20px);width:40%;overflow:hidden}"]})}}return e})();function Doe(e,t){if(1&e&&(g(0,"div",20)(1,"button",21)(2,"h5",22),y(3),p()()()),2&e){const n=k().$implicit;w(3),ot("-",n.discount,"%")}}function Toe(e,t){if(1&e&&(g(0,"h4",23),y(1),Ze(2,"currency"),p()),2&e){const n=k().$implicit;w(1),ce(Je(2,1,n.price,"EUR"))}}function Soe(e,t){if(1&e&&(g(0,"h4",24),y(1),Ze(2,"currency"),p()),2&e){const n=k().$implicit;w(1),ce(Je(2,1,(100*n.price-n.price*n.discount)/100,"EUR"))}}function Aoe(e,t){1&e&&(g(0,"div",20)(1,"small",25),y(2,"In promozione"),p()())}function Moe(e,t){if(1&e){const n=wt();g(0,"div",2)(1,"div",3),R(2,Doe,4,1,"div",4),g(3,"div",5)(4,"button",6),U("click",function(i){const s=ge(n).$implicit;return me(k().productDetail(i,s.id))}),A(5,"i",7),p()(),g(6,"div",8),A(7,"div",9),p(),g(8,"h5",10),y(9),p(),g(10,"div",11),A(11,"app-score",12),p(),g(12,"div",13)(13,"div",14),R(14,Toe,3,4,"h4",15),R(15,Soe,3,4,"h4",16),R(16,Aoe,3,0,"div",4),p(),g(17,"button",17),U("click",function(){const o=ge(n).$implicit;return me(k().addToCart(o.id))}),g(18,"div",18)(19,"div"),A(20,"i",19),p(),g(21,"div"),y(22,"Add to cart"),p()()()()()()}if(2&e){const n=t.$implicit;w(2),S("ngIf",n.discount),w(5),_n(n.cssInfo),w(2),ce(n.name),w(2),S("item",n),w(3),S("ngIf",!n.discount),w(1),S("ngIf",n.discount),w(1),S("ngIf",n.discount)}}let xoe=(()=>{class e{constructor(n,r){this.databaseService=n,this.router=r,this.addToCartEmitter=new ae,this.products=[]}selectProduct(n){this.databaseService.currentProduct=this.products.filter(r=>r.id==n)[0]}productDetail(n,r){r&&(this.selectProduct(r),this.router.navigate(["/product-detail/"+r]))}addToCart(n){this.addToCartEmitter.emit(n)}static{this.\u0275fac=function(r){return new(r||e)(C(bn),C(ct))}}static{this.\u0275cmp=pe({type:e,selectors:[["app-product-card-list"]],inputs:{products:"products"},outputs:{addToCartEmitter:"addToCartEmitter"},decls:2,vars:1,consts:[[1,"d-flex","flex-wrap","justify-content-around"],["class","card product-card shadow ",4,"ngFor","ngForOf"],[1,"card","product-card","shadow"],[1,"card-body"],["class","position-absolute",4,"ngIf"],[1,"w-100","position-absolute","d-flex","justify-content-end",2,"transform","translateX(-16px)","padding-left","9px","padding-right","9px"],[1,"btn","btn-outline-light","text-dark","border","rounded-pill",2,"width","38px","padding-left","0","padding-right","0",3,"click"],[1,"bi","bi-info"],[1,"w-100","d-flex","justify-content-center"],[1,"wine"],[1,"my-1"],[1,"w-100","d-flex","justify-content-start"],[3,"item"],[1,"d-flex","w-100","justify-content-between"],[1,"align-self-center"],["class","m-0 ",4,"ngIf"],["class","m-0 text-danger",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"d-flex"],[1,"bi","bi-cart4","me-1"],[1,"position-absolute"],[1,"btn","btn-danger","text-light","border","rounded-circle",2,"width","58px","transform","rotate(334deg) translate(-17px, -27px) scale(1.3)","padding-left","0","padding-right","0"],[1,"mb-1"],[1,"m-0"],[1,"m-0","text-danger"],[1,"text-danger"]],template:function(r,i){1&r&&(g(0,"div",0),R(1,Moe,23,8,"div",1),p()),2&r&&(w(1),S("ngForOf",i.products))},dependencies:[eo,Et,np,to],styles:[".product-card[_ngcontent-%COMP%]{width:270px;height:365px;margin-bottom:40px;transition:.3s}.product-card[_ngcontent-%COMP%]:hover{background-color:#eee;transition:.3s;cursor:pointer}.wine[_ngcontent-%COMP%]{width:160px;height:230px;background-position:center;background-size:contain;background-repeat:no-repeat}.tascaioso[_ngcontent-%COMP%]{background-image:url(Tascaioso_alpha.65fd4edec89093aa.png)}.arpensato[_ngcontent-%COMP%]{background-image:url(Arpensato_alpha.637d46856d257d84.png);transform:scale(1.05)}.orior[_ngcontent-%COMP%]{background-image:url(Orior_alpha.bd8d7a26a5cc323f.png)}"]})}}return e})(),ru=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=pe({type:e,selectors:[["app-spinner"]],decls:4,vars:0,consts:[[1,"w-100","d-flex","flex-column","justify-content-center",2,"min-height","400px","align-items","center"],["role","status",1,"spinner-border",2,"width","5rem","height","5rem","font-weight","500","border-width","15px"],[1,"visually-hidden"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"div",1)(2,"span",2),y(3,"Loading..."),p()()())}})}}return e})();function Roe(e,t){if(1&e&&(g(0,"span",11),y(1),p()),2&e){const n=k(2);w(1),ot(" ",n.currentCartProducts().length," ")}}function Poe(e,t){if(1&e){const n=wt();g(0,"div",2)(1,"form",3),A(2,"input",4),g(3,"button",5)(4,"div",6),R(5,Roe,2,1,"span",7),p(),g(6,"div"),A(7,"i",8),p(),g(8,"div",9),y(9,"Cart"),p()()(),g(10,"app-product-card-list",10),U("addToCartEmitter",function(i){return ge(n),me(k().addToCart(i))}),p()()}if(2&e){const n=k();w(5),S("ngIf",n.currentCartProducts()&&n.currentCartProducts().length>0),w(5),S("products",n.products)}}function Noe(e,t){1&e&&A(0,"app-spinner")}let r2=(()=>{class e{constructor(n,r,i,o){this.dbService=n,this.authService=r,this.cartService=i,this.addressService=o,this.products=[],this.checkouts=[]}ngOnInit(){this.listenForUpdates()}listenForUpdates(){this.dbService.listenToData("products",n=>{if(n&&(this.products=Object.values(n),this.dbService.products=this.products,this.authService.getCurrentUser()&&this.authService.getCurrentUser().uid)){let r=this.authService.getCurrentUser().uid;this.dbService.listenToData("users/"+r+"/cart",i=>{i&&this.cartService.setCurrentCheckout(i)})}})}addToCart(n){this.cartService.addToCart(n)}removeFromCart(n){const r=this.cartService.getCurrentCheckout();if(!r||!r.products)return void console.warn("Carrello o lista prodotti non disponibile");const i=r.products.find(o=>o.id===n);i?i.quantity>1?i.quantity-=1:console.info("Quantit\xe0 gi\xe0 a 1, non viene rimosso"):console.warn("Prodotto non presente nel carrello")}currentCartProducts(){return this.cartService.getCurrentCheckout()?this.cartService.getCurrentCheckout().products:[]}static{this.\u0275fac=function(r){return new(r||e)(C(bn),C(Yt),C(jo),C(nu))}}static{this.\u0275cmp=pe({type:e,selectors:[["app-alfa-products"]],decls:3,vars:2,consts:[["class","container",4,"ngIf","ngIfElse"],["spinner",""],[1,"container"],["role","search",1,"d-flex","mb-5"],["type","search","placeholder","Search",1,"form-control","me-2"],["routerLink","/checkout","type","submit",1,"btn","btn-primary","d-flex"],[1,"position-relative",2,"transform","translateX(60px)"],["class","position-absolute top-0 right-0 translate-middle badge rounded-pill bg-danger",4,"ngIf"],[1,"bi","bi-cart"],[1,"ms-1"],[3,"products","addToCartEmitter"],[1,"position-absolute","top-0","right-0","translate-middle","badge","rounded-pill","bg-danger"]],template:function(r,i){if(1&r&&(R(0,Poe,11,2,"div",0),R(1,Noe,1,0,"ng-template",null,1,Bn)),2&r){const o=ar(2);S("ngIf",i.products&&i.products.length>0)("ngIfElse",o)}},dependencies:[Et,zr,Js,Qs,Pf,xoe,ru]})}}return e})(),koe=(()=>{class e{constructor(n,r,i){this.auth=n,this.db=r,this.fb=i,this.loginForm=this.fb.group({email:[""],pw:[""],rememberMe:[!1]})}ngOnInit(){}static{this.\u0275fac=function(r){return new(r||e)(C(Yt),C(bn),C(ea))}}static{this.\u0275cmp=pe({type:e,selectors:[["app-alfa-home"]],decls:1,vars:0,template:function(r,i){1&r&&A(0,"app-alfa-products")},dependencies:[r2],styles:["app-alfa-home{background-image:url(vigna5.522563a7538ce1ec.svg);background-size:cover;background-repeat:no-repeat}.parallax-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:auto;will-change:transform;background-color:#fff}"]})}}return e})();var i2=function(e){return e.delivered="Consegnato",e.shipped="Spedito",e}(i2||{});let Ooe=(()=>{class e{constructor(n){this.toastService=n}addToOrders(n){this.toastService.triggerToast("success","Nuovo ordine aggiunto.","cart-check-fill fs-4")}static{this.\u0275fac=function(r){return new(r||e)(N(Uo))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Foe(e,t){if(1&e&&(g(0,"div",2)(1,"div",3)(2,"div",4)(3,"div")(4,"h4"),y(5),p(),g(6,"h6"),y(7),Ze(8,"date"),p(),A(9,"div",5),g(10,"h6"),y(11),Ze(12,"date"),p()(),g(13,"div")(14,"div",6)(15,"h6"),y(16,"Totale ordine: "),p(),g(17,"h5")(18,"b"),y(19),Ze(20,"currency"),p()()(),g(21,"div",6)(22,"h6"),y(23,"Stato: "),p(),g(24,"div",7)(25,"h6"),y(26),p(),A(27,"div",8),p()()()()()()),2&e){const n=t.$implicit;w(5),ot("Ordine: ",n.number,""),w(2),ot("Data: ",Je(8,7,n.date,"dd MMMM yyyy")," "),w(4),ot("Consegna stimata: ",Je(12,10,n.expectedDeliveryDate,"dd MMMM yyyy")," "),w(8),ce(Je(20,13,n.subtotal,"EUR")),w(7),ce(n.status),w(1),_n("delivered"==n.status?"done":"truck")}}let Loe=(()=>{class e{constructor(){this.orders=[]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=pe({type:e,selectors:[["app-order-list"]],inputs:{orders:"orders"},decls:2,vars:1,consts:[[1,"d-flex","flex-wrap","justify-content-around"],["class","card order-card shadow","routerLink","/order-detail/1",4,"ngFor","ngForOf"],["routerLink","/order-detail/1",1,"card","order-card","shadow"],[1,"card-body"],[1,"h-100","d-flex","flex-column","justify-content-between"],[1,"mb-2"],[1,"w-100","d-flex","justify-content-between"],[1,"d-flex",2,"align-items","center"],[1,"ms-2"]],template:function(r,i){1&r&&(g(0,"div",0),R(1,Foe,28,16,"div",1),p()),2&r&&(w(1),S("ngForOf",i.orders))},dependencies:[eo,zr,to,b_],styles:[".order-card[_ngcontent-%COMP%]{width:400px;height:250px;margin-bottom:40px;transition:.3s}.order-card[_ngcontent-%COMP%]:hover{background-color:#eee;transition:.3s;cursor:pointer}h6[_ngcontent-%COMP%], h5[_ngcontent-%COMP%]{margin:0;align-items:center;align-self:center}@media screen and (max-width: 762px){.order-card[_ngcontent-%COMP%]{width:100%;height:250px;margin-bottom:40px;transition:.3s}}.truck[_ngcontent-%COMP%]{background-image:url(truck.6b82efc54573b059.svg);background-repeat:no-repeat;background-size:contain;width:40px;height:40px}.done[_ngcontent-%COMP%]{background-image:url(done.1c0851704de69ea2.svg);background-repeat:no-repeat;background-size:contain;width:40px;height:40px}.text-green[_ngcontent-%COMP%]{color:#5bd801}.wine[_ngcontent-%COMP%]{width:160px;height:230px;background-position:center;background-size:contain;background-repeat:no-repeat}.tascaioso[_ngcontent-%COMP%]{background-image:url(Tascaioso_alpha.65fd4edec89093aa.png)}.arpensato[_ngcontent-%COMP%]{background-image:url(Arpensato_alpha.637d46856d257d84.png);transform:scale(1.05)}.orior[_ngcontent-%COMP%]{background-image:url(Orior_alpha.bd8d7a26a5cc323f.png)}"]})}}return e})();function Voe(e,t){if(1&e&&(g(0,"div",2)(1,"h2",3),y(2,"I miei ordini"),p(),A(3,"app-order-list",4),p()),2&e){const n=k();w(3),S("orders",n.orders)}}function Uoe(e,t){1&e&&A(0,"app-spinner")}let joe=(()=>{class e{constructor(n,r,i){this.databaseService=n,this.authService=r,this.orderService=i,this.orders=[],this.orderStatus=i2}ngOnInit(){this.listenForUpdates()}listenForUpdates(){if(this.authService.getCurrentUser()&&this.authService.getCurrentUser().uid){let n=this.authService.getCurrentUser().uid;this.databaseService.listenToData("users/"+n+"/orders",r=>{r&&(this.orders=Object.values(r))})}}static{this.\u0275fac=function(r){return new(r||e)(C(bn),C(Yt),C(Ooe))}}static{this.\u0275cmp=pe({type:e,selectors:[["app-alfa-orders"]],decls:3,vars:2,consts:[["class","container",4,"ngIf","ngIfElse"],["spinner",""],[1,"container"],[1,"mb-4"],[3,"orders"]],template:function(r,i){if(1&r&&(R(0,Voe,4,1,"div",0),R(1,Uoe,1,0,"ng-template",null,1,Bn)),2&r){const o=ar(2);S("ngIf",i.orders&&i.orders.length>0)("ngIfElse",o)}},dependencies:[Et,Loe,ru]})}}return e})();function $oe(e,t){if(1&e&&(g(0,"div",4)(1,"div",5)(2,"div",6)(3,"div",7)(4,"div",8)(5,"h4"),y(6,"Marco"),p(),A(7,"app-score",9),p(),g(8,"div",10),y(9),Ze(10,"number"),p()(),g(11,"div",11),y(12),p()()()()),2&e){const n=t.$implicit;w(7),S("item",n),w(2),ot(" ",Je(10,3,n.score,"1.1"),"/5 "),w(3),ot("",n.text," ")}}function Boe(e,t){if(1&e&&(g(0,"div",2),R(1,$oe,13,6,"div",3),p()),2&e){const n=k();w(1),S("ngForOf",n.product.comments)}}function Hoe(e,t){1&e&&(g(0,"h4",12),y(1," Non ci sono ancora recensioni su questo prodotto "),p())}let zoe=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=pe({type:e,selectors:[["app-comment-list"]],inputs:{product:"product"},decls:3,vars:2,consts:[["class","d-flex",4,"ngIf","ngIfElse"],["nocomments",""],[1,"d-flex"],["class","card score-card shadow me-4",4,"ngFor","ngForOf"],[1,"card","score-card","shadow","me-4"],[1,"card-body"],[1,"h-100","w-100","d-flex","flex-column"],[1,"w-100"],[1,"w-100","d-flex","justify-content-between"],[3,"item"],[1,"d-flex","justify-content-end"],[1,"text-content"],[1,"p-3","text-center"]],template:function(r,i){if(1&r&&(R(0,Boe,2,1,"div",0),R(1,Hoe,2,0,"ng-template",null,1,Bn)),2&r){const o=ar(2);S("ngIf",i.product.comments)("ngIfElse",o)}},dependencies:[eo,Et,np,w_],styles:[".score-card[_ngcontent-%COMP%]{min-width:350px;width:350px;height:200px;margin-bottom:40px;transition:.3s}.score-card[_ngcontent-%COMP%]:hover{background-color:#eee;transition:.3s;cursor:pointer}.score-card[_ngcontent-%COMP%]   .text-content[_ngcontent-%COMP%]{max-height:110px;overflow-y:auto}"]})}}return e})();function Woe(e,t){if(1&e&&(g(0,"h2"),y(1),Ze(2,"currency"),p()),2&e){const n=k(2);w(1),ce(Je(2,1,n.product.price,"EUR"))}}function Goe(e,t){if(1&e&&(g(0,"h2",30),y(1),Ze(2,"currency"),p()),2&e){const n=k(2);w(1),ce(Je(2,1,(100*n.product.price-n.product.price*n.product.discount)/100,"EUR"))}}function qoe(e,t){1&e&&(g(0,"div",12)(1,"div",31)(2,"small",30),y(3,"In promozione"),p()()())}function Koe(e,t){if(1&e&&(g(0,"h2"),y(1),Ze(2,"currency"),p()),2&e){const n=k(2);w(1),ce(Je(2,1,n.product.price,"EUR"))}}function Yoe(e,t){if(1&e&&(g(0,"h2",30),y(1),Ze(2,"currency"),p()),2&e){const n=k(2);w(1),ce(Je(2,1,(100*n.product.price-n.product.price*n.product.discount)/100,"EUR"))}}function Qoe(e,t){if(1&e){const n=wt();g(0,"div",1)(1,"div",2)(2,"button",3),U("click",function(){return ge(n),me(k().deselectProduct())}),A(3,"i",4),p(),g(4,"h2",5),y(5,"Dettaglio prodotto"),p(),g(6,"div",6),y(7,"-"),p()(),g(8,"div",7)(9,"div",8),A(10,"div",9),p(),g(11,"div",10),A(12,"div",11),p(),g(13,"div",12)(14,"div",13)(15,"h4"),y(16,"Prezzo:"),p(),R(17,Woe,3,4,"h2",14),R(18,Goe,3,4,"h2",15),p(),R(19,qoe,4,0,"div",16),g(20,"div",13)(21,"h4"),y(22,"Valutazione:"),p(),A(23,"app-score",17),p(),g(24,"div",18),y(25),Ze(26,"number"),p(),g(27,"div",19)(28,"button",20),U("click",function(){return ge(n),me(k().addToCart())}),g(29,"div",21)(30,"div"),A(31,"i",22),p(),g(32,"div"),y(33,"Add to cart"),p()()()(),g(34,"div",23)(35,"button",24),U("click",function(){return ge(n),me(k().deselectProduct())}),y(36," Torna ai prodotti "),p()()(),g(37,"div",25)(38,"h2",26),y(39,"Recensioni"),p(),g(40,"div",27),A(41,"app-comment-list",28),p()(),g(42,"div",12)(43,"div",29)(44,"h4"),y(45,"Prezzo:"),p(),R(46,Koe,3,4,"h2",14),R(47,Yoe,3,4,"h2",15),p(),g(48,"div",13)(49,"h4"),y(50,"Valutazione:"),p(),A(51,"app-score",17),p(),g(52,"div",18),y(53),Ze(54,"number"),p(),g(55,"div",19)(56,"button",20),U("click",function(){return ge(n),me(k().addToCart())}),g(57,"div",21)(58,"div"),A(59,"i",22),p(),g(60,"div"),y(61,"Add to cart"),p()()()(),g(62,"div",23)(63,"button",24),U("click",function(){return ge(n),me(k().deselectProduct())}),y(64," Torna ai prodotti "),p()()()()()}if(2&e){const n=k();w(10),_n(n.product.cssInfo),w(2),S("innerHTML",n.product.technicalData,ed),w(5),S("ngIf",!n.product.discount),w(1),S("ngIf",n.product.discount),w(1),S("ngIf",n.product.discount),w(4),S("item",n.product),w(2),ot(" ",Je(26,13,n.product.score,"1.1"),"/5 "),w(16),S("product",n.product),w(5),S("ngIf",!n.product.discount),w(1),S("ngIf",n.product.discount),w(4),S("item",n.product),w(2),ot(" ",Je(54,16,n.product.score,"1.1"),"/5 ")}}let Zoe=(()=>{class e{constructor(n,r){this.databaseService=n,this.cartService=r,this.product={price:0,score:0,technicalData:"",cssInfo:""},this.product=n.currentProduct}ngOnInit(){}deselectProduct(){this.databaseService.currentProduct=null}addToCart(){this.cartService.addToCart(this.databaseService.currentProduct.id)}static{this.\u0275fac=function(r){return new(r||e)(C(bn),C(jo))}}static{this.\u0275cmp=pe({type:e,selectors:[["app-alfa-product-detail"]],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"mb-4","d-flex","w-100","justify-content-between"],["routerLink","/products",1,"btn","btn-light","border","rounded-pill",2,"width","45px",3,"click"],[1,"bi","bi-chevron-left"],[1,""],[2,"color","transparent","width","45px"],[1,"row"],[1,"col-12","col-md-4"],[1,"wine","detail-product"],[1,"col-12","col-md-8"],[1,"mt-4",3,"innerHTML"],[1,"col-12"],[1,"d-flex","justify-content-between"],[4,"ngIf"],["class","text-danger",4,"ngIf"],["class","col-12",4,"ngIf"],[3,"item"],[1,"d-flex","justify-content-end"],[1,"d-flex","justify-content-end",2,"height","40px"],[1,"btn","btn-primary",3,"click"],[1,"d-flex"],[1,"bi","bi-cart4","me-1"],[1,"d-grid","gap-2","mt-2"],["routerLink","/products","type","button",1,"btn","mt-4","btn-outline-primary","border-primary","d-flex","justify-content-center",3,"click"],[1,"col-12","mt-4"],[1,"mb-4"],[1,"comments-wrapper"],[3,"product"],[1,"d-flex","justify-content-between","mt-4"],[1,"text-danger"],[1,"w-100","d-flex","justify-content-end",2,"margin-top","-10px"]],template:function(r,i){1&r&&R(0,Qoe,65,19,"div",0),2&r&&S("ngIf",i.product)},dependencies:[Et,zr,zoe,np,w_,to],styles:[".wine[_ngcontent-%COMP%]{width:160px;height:230px;background-position:center;background-size:contain;background-repeat:no-repeat}.tascaioso[_ngcontent-%COMP%]{background-image:url(Tascaioso_alpha.65fd4edec89093aa.png)}.arpensato[_ngcontent-%COMP%]{background-image:url(Arpensato_alpha.637d46856d257d84.png);transform:scale(1.05)}.orior[_ngcontent-%COMP%]{background-image:url(Orior_alpha.bd8d7a26a5cc323f.png)}.detail-product[_ngcontent-%COMP%]{transform:scale(2.5);width:100%;transform-origin:top}.technical-data-light-title[_ngcontent-%COMP%]{font-weight:300!important}@media screen and (max-width: 762px){.detail-product[_ngcontent-%COMP%]{transform:scale(1);width:100%;min-height:500px;margin-bottom:40px}}.comments-wrapper[_ngcontent-%COMP%]{height:260px;width:100%;overflow-x:auto;overflow-y:hidden;display:flex;flex-direction:column;justify-content:center}"]})}}return e})(),rp=(()=>{class e{constructor(){this.openModalSubject=new un,this.openModal$=this.openModalSubject.asObservable(),this.payloadSource=new tt(null),this.payload$=this.payloadSource.asObservable()}triggerModal(){this.openModalSubject.next()}publishPayload(n){this.payloadSource.next(n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Joe=(()=>{class e{constructor(){this.quantityEmitter=new ae,this.deleteItemEmitter=new ae,this.label="default",this.qty=0}ngOnInit(){this.item&&this.item.quantity&&(this.qty=this.item.quantity)}incQuantity(){this.qty++,this.quantityEmitter.emit(this.qty)}decQuantity(){this.qty>1&&(this.qty--,this.quantityEmitter.emit(this.qty)),this.qty>0&&this.deleteItemEmitter.emit()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=pe({type:e,selectors:[["app-quantity"]],inputs:{label:"label",item:"item",qty:"qty"},outputs:{quantityEmitter:"quantityEmitter",deleteItemEmitter:"deleteItemEmitter"},decls:6,vars:4,consts:[[1,"qty-wrapper","input-group-vertical","ms-2"],["type","button",1,"px-0","inc-btn","btn","btn-primary",3,"id","click"],[1,"bi","bi-plus"],["readonly","","type","text","placeholder","",1,"qty-input","form-control","text-center","px-1",3,"value","id"],["type","button",1,"px-0","dec-btn","btn","btn-primary",3,"id","click"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"button",1),U("click",function(){return i.incQuantity()}),A(2,"i",2),p(),A(3,"input",3),g(4,"button",4),U("click",function(){return i.decQuantity()}),y(5," - "),p()()),2&r&&(w(1),S("id",i.label+"-B"),w(2),S("value",i.qty)("id",i.label+"-input"),w(1),S("id",i.label+"-A"))},styles:[".inc-btn[_ngcontent-%COMP%]{width:44px;height:50px;padding:0;border-bottom-right-radius:0;border-bottom-left-radius:0}.qty-input[_ngcontent-%COMP%]{width:44px;height:50px;border-radius:0}.qty-wrapper[_ngcontent-%COMP%]{width:50px}.dec-btn[_ngcontent-%COMP%]{width:44px;height:50px;padding:0;border-top-right-radius:0;border-top-left-radius:0}@media screen and (max-width: 762px){.inc-btn[_ngcontent-%COMP%]{width:40px;height:35px;padding:0;border-bottom-right-radius:0;border-bottom-left-radius:0}.qty-wrapper[_ngcontent-%COMP%]{width:40px}.qty-input[_ngcontent-%COMP%]{width:40px;border-radius:0}.dec-btn[_ngcontent-%COMP%]{width:40px;height:35px;padding:0;border-top-right-radius:0;border-top-left-radius:0}}"]})}}return e})();function Xoe(e,t){if(1&e){const n=wt();g(0,"div",2)(1,"div",3),U("click",function(){const o=ge(n).$implicit;return me(k().selectProduct(o))}),g(2,"div",4),A(3,"div",5),p()(),g(4,"div",6),U("click",function(){const o=ge(n).$implicit;return me(k().selectProduct(o))}),g(5,"div",4),A(6,"div",5),p()(),g(7,"div",7)(8,"div",8)(9,"div",9),U("click",function(){const o=ge(n).$implicit;return me(k().selectProduct(o))}),g(10,"div",10)(11,"div",11)(12,"div",12)(13,"p",13)(14,"b"),y(15),p()(),g(16,"h4",14)(17,"b"),y(18),p()(),g(19,"h4",15)(20,"b"),y(21),Ze(22,"currency"),p()()(),g(23,"small",16),y(24),p(),g(25,"p",17),y(26),p(),g(27,"p",13)(28,"b"),y(29),Ze(30,"currency"),p()(),g(31,"h4",18)(32,"b"),y(33),Ze(34,"currency"),p()()()()(),g(35,"div",19)(36,"app-quantity",20),U("quantityEmitter",function(i){const s=ge(n).$implicit;return me(k().updateQuantity(i,s))})("deleteItemEmitter",function(){const o=ge(n).$implicit;return me(k().openConfirmModal("removeFromCart",o.id))}),p()(),g(37,"button",21),U("click",function(){const o=ge(n).$implicit;return me(k().openConfirmModal("removeFromCart",o.id))}),A(38,"i",22),p()()()()}if(2&e){const n=t.$implicit;w(3),_n(n.cssInfo),w(3),_n(n.cssInfo),w(9),ce(n.fullName),w(3),ce(n.fullName),w(3),ce(Je(22,13,n.price,"EUR")),w(3),ce(n.shortDescription),w(2),ce(n.shortDescription),w(3),ce(Je(30,16,n.price,"EUR")),w(4),ce(Je(34,19,n.price,"EUR")),w(3),S("label","product-standard-list-button-addon-1")("item",n)}}let o2=(()=>{class e{constructor(n,r){this.modalService=n,this.cartService=r,this.products=[],this.productType=""}openConfirmModal(n,r){this.modalService.publishPayload({method:n,productId:r}),this.modalService.triggerModal()}selectProduct(n){}updateQuantity(n,r){n>0?(r.quantity=n,this.cartService.modifyQuantity(r)):this.openConfirmModal("removeFromCart",r.id)}static{this.\u0275fac=function(r){return new(r||e)(C(rp),C(jo))}}static{this.\u0275cmp=pe({type:e,selectors:[["app-product-standard-list"]],inputs:{products:"products",productType:"productType"},decls:2,vars:1,consts:[[1,"d-flex","flex-column","checkout-card"],["class","d-flex mb-3 ",4,"ngFor","ngForOf"],[1,"d-flex","mb-3"],[1,"d-md-none","card","checkout-card-image","shadow",3,"click"],[1,"card-body"],[1,"wine"],[1,"d-none","d-md-block","card","checkout-card-image","shadow-lg",3,"click"],[1,"checkout-card-content","checkout-card-content","mb-2"],[1,"d-flex","justify-content-between","h-100"],[1,"d-flex","flex-column","justify-content-center","w-100","h-100","ms-1","mx-md-3",3,"click"],[1,"d-flex"],[1,"mx-1","w-100"],[1,"w-100","d-flex","justify-content-between"],[1,"m-0","d-md-none"],[1,"m-0","d-none","d-md-block"],[1,"m-0","d-none","d-lg-block"],[1,"d-md-none"],[1,"my-2","d-none","d-md-block"],[1,"m-0","d-none","d-md-block","d-lg-none"],[1,"h-100","d-flex","flex-column","justify-content-center"],[3,"label","item","quantityEmitter","deleteItemEmitter"],[1,"delete-btn","btn","btn-outline-danger","ms-2","ms-md-3",3,"click"],[1,"bi","bi-trash-fill"]],template:function(r,i){1&r&&(g(0,"div",0),R(1,Xoe,39,22,"div",1),p()),2&r&&(w(1),S("ngForOf",i.products))},dependencies:[eo,Joe,to],styles:[".btn-outline-green[_ngcontent-%COMP%]{border:2px solid #5bd801;border-radius:20px;width:100%}.text-green[_ngcontent-%COMP%]{color:#5bd801}.xl-icon[_ngcontent-%COMP%]{font-size:65px}h6[_ngcontent-%COMP%], h5[_ngcontent-%COMP%]{margin:0;align-items:center;align-self:center}.green-icon[_ngcontent-%COMP%]{color:#5bd801}.transparent[_ngcontent-%COMP%]{opacity:0}.checkout-card-image[_ngcontent-%COMP%]{min-width:150px;width:150px;height:150px;border-radius:15px}.checkout-card-content[_ngcontent-%COMP%]{width:100%;height:150px}.fw2[_ngcontent-%COMP%]{font-weight:200}.fw4[_ngcontent-%COMP%]{font-weight:400}.wine[_ngcontent-%COMP%]{width:117px;height:119px;background-position:center;background-size:contain;background-repeat:no-repeat}.tascaioso[_ngcontent-%COMP%]{background-image:url(Tascaioso_alpha.65fd4edec89093aa.png)}.arpensato[_ngcontent-%COMP%]{background-image:url(Arpensato_alpha.637d46856d257d84.png);transform:scale(1.05)}.orior[_ngcontent-%COMP%]{background-image:url(Orior_alpha.bd8d7a26a5cc323f.png)}@media screen and (max-width: 767px){.delete-btn[_ngcontent-%COMP%]{width:50px;height:120px;margin:0;padding:0;transform:translateY(15px)}}@media screen and (max-width: 600px){.checkout-card-image[_ngcontent-%COMP%]{min-width:110px;width:110px;height:110px;border-radius:10px}.delete-btn[_ngcontent-%COMP%]{width:50px;height:120px;margin:0;padding:0;transform:translateY(-5px)}.wine[_ngcontent-%COMP%]{width:78px;height:78px;background-position:center;background-size:contain;background-repeat:no-repeat}.checkout-card-content[_ngcontent-%COMP%]{width:100%;height:110px;cursor:pointer}}"]})}}return e})();function ese(e,t){if(1&e&&(g(0,"div",2)(1,"button",3)(2,"div",4),A(3,"i",5),g(4,"div",6)(5,"h2"),y(6,"Congratulazioni!"),p(),g(7,"h4"),y(8,"Acquisto completato!"),p()(),A(9,"i",7),p()(),g(10,"h2",8),y(11,"Dettaglio ordine"),p(),A(12,"hr"),g(13,"h1",8),y(14),p(),g(15,"h6"),y(16),Ze(17,"date"),p(),g(18,"h4",8),y(19),Ze(20,"date"),p(),A(21,"hr",9),g(22,"div",10),A(23,"app-product-standard-list",11),p(),g(24,"div",4)(25,"h4",8),y(26,"Totale pezzi:"),p(),g(27,"h4",12),y(28),p()(),g(29,"div",4)(30,"h4",13),y(31,"Totale ordine:"),p(),g(32,"h2"),y(33),Ze(34,"currency"),p()(),A(35,"hr"),g(36,"div",14)(37,"div",4)(38,"h4"),y(39,"Modalit\xe0 di pagamento:"),p()(),g(40,"h4",15),y(41),p()(),A(42,"hr"),g(43,"div",14)(44,"div",4)(45,"h4"),y(46,"Indirizzo di consegna:"),p()(),g(47,"h4",15),y(48),p(),g(49,"h4",15),y(50),p(),g(51,"h4",15),y(52),p()(),A(53,"hr"),g(54,"div",14)(55,"div",4)(56,"h4"),y(57,"Stato ordine:"),p(),g(58,"div",16)(59,"h4",17),y(60),p(),A(61,"img",18),p()(),g(62,"div",19)(63,"button",20)(64,"b"),y(65,"Traccia spedizione"),p(),A(66,"img",21),p()()()()),2&e){const n=k();w(14),ot("N\xb0 Ordine: ",n.currentCheckout.orderNumber,""),w(2),ot("Data: ",Je(17,13,n.currentCheckout.date,"dd MMMM yyyy")," "),w(3),ot("Consegna stimata: ",Je(20,16,n.currentCheckout.estimatedDeliveryDate,"dd MMMM yyyy")," "),w(4),S("products",n.currentCheckout.products)("productType","order"),w(5),ce(n.getTotalPieces()),w(5),ce(Je(34,19,n.getTotalPrice(),"EUR")),w(8),ce(n.getPaymentModeSecret()),w(7),ce(n.getAddress().via),w(2),Sd("",n.getAddress().cap," ",n.getAddress().citta,""),w(2),ce(n.getAddress().prov),w(8),ce(n.currentCheckout.status)}}function tse(e,t){1&e&&A(0,"app-spinner")}let nse=(()=>{class e{constructor(n,r){this.dbService=n,this.authService=r,this.checkouts=[],this.currentCheckout=void 0}ngOnInit(){this.listenForUpdates()}getPaymentModeSecret(){return this.currentCheckout?this.currentCheckout.paymentMode.slice(0,9)+"....":""}getTotalPieces(){let n=0;if(this.currentCheckout&&this.currentCheckout?.products)for(let r of this.currentCheckout?.products)n+=r.quantity;return n}getTotalPrice(){let n=0;if(this.currentCheckout&&this.currentCheckout?.products)for(let r of this.currentCheckout?.products)n+=r.price;return n}getAddress(){let n={via:"",citta:"",cap:"",prov:""};return this.currentCheckout&&(n.via=this.currentCheckout.deliveryAddress.split(",")[0],n.citta=this.currentCheckout.deliveryAddress.split(",")[1],n.cap=this.currentCheckout.deliveryAddress.split(",")[2],n.prov=this.currentCheckout.deliveryAddress.split(",")[3]),n}listenForUpdates(){if(this.authService.getCurrentUser()&&this.authService.getCurrentUser().uid){let n=this.authService.getCurrentUser().uid;this.dbService.listenToData("users/"+n+"/cart",r=>{r&&(this.currentCheckout=r)})}}static{this.\u0275fac=function(r){return new(r||e)(C(bn),C(Yt))}}static{this.\u0275cmp=pe({type:e,selectors:[["app-alfa-order-detail"]],decls:3,vars:2,consts:[["class","container",4,"ngIf","ngIfElse"],["spinner",""],[1,"container"],[1,"btn","btn-outline-green","mb-3"],[1,"w-100","d-flex","justify-content-between"],[1,"bi","bi-check","xl-icon","green-icon","transparent"],[1,"h-100","w-100","d-flex","flex-column","text-green","align-self-center"],[1,"bi","bi-check","xl-icon","green-icon"],[1,"mb-4"],[1,"mb-5"],[1,"checkout-card-wrapper","mb-5"],[3,"products","productType"],[1,"fw2"],[2,"margin-top","8px"],[1,"d-flex","flex-column"],[1,"fw2","ms-4"],[1,"d-flex"],[1,""],["src","../../../assets/icons/truck.svg","alt","",1,"ms-2",2,"transform","translateY(2px)","margin-bottom","8px"],[1,"d-flex","justify-content-end","mt-4"],[1,"btn","btn-warning"],["src","../../../assets/icons/truck_black.svg","alt","",1,"ms-2",2,"transform","translateY(2px) scale(.9)","margin-bottom","8px"]],template:function(r,i){if(1&r&&(R(0,ese,67,22,"div",0),R(1,tse,1,0,"ng-template",null,1,Bn)),2&r){const o=ar(2);S("ngIf",i.currentCheckout)("ngIfElse",o)}},dependencies:[Et,o2,ru,to,b_],styles:[".btn-outline-green[_ngcontent-%COMP%]{border:2px solid #5bd801;border-radius:20px;width:100%}.l-icon[_ngcontent-%COMP%]{font-size:25px}.xl-icon[_ngcontent-%COMP%]{font-size:65px}.green-icon[_ngcontent-%COMP%]{color:#5bd801}.transparent[_ngcontent-%COMP%]{opacity:0}.text-green[_ngcontent-%COMP%]{color:#5bd801}"]})}}return e})();function rse(e,t){if(1&e){const n=wt();g(0,"app-product-standard-list",30),U("confirmModalEmitter",function(){return ge(n),me(k(2).openConfirmModal("confirm"))}),p()}2&e&&S("products",k(2).getProducts())}function ise(e,t){1&e&&(g(0,"h4"),y(1,"Non ci sono ancora prodotti nel tuo carrello"),p())}function ose(e,t){if(1&e&&(g(0,"div")(1,"h4",31),y(2),p()()),2&e){const n=k(2);w(2),ce(n.getPaymentModeSecret())}}function sse(e,t){if(1&e&&(g(0,"div")(1,"h4",31),y(2),p(),g(3,"h4",31),y(4),p(),g(5,"h4",31),y(6),p(),g(7,"h4",31),y(8),p()()),2&e){const n=k(2);w(2),ce(n.getAddress().line_1),w(1),_n(n.getAddress().line_2?"":"d-none"),w(1),ce(n.getAddress().line_2),w(2),Sd("",n.getAddress().zip," ",n.getAddress().city,""),w(2),ce(n.getAddress().province)}}function ase(e,t){if(1&e){const n=wt();g(0,"div",5)(1,"form",6)(2,"div",7),A(3,"i",8),g(4,"h2",9),y(5,"Carrello"),p()(),A(6,"hr",10),g(7,"div",11),R(8,rse,1,1,"app-product-standard-list",12),R(9,ise,2,0,"h4",13),p(),g(10,"div",14)(11,"h4",15),y(12,"Totale pezzi:"),p(),g(13,"h4",16),y(14),p()(),g(15,"div",14)(16,"h4",17),y(17,"Totale ordine:"),p(),g(18,"h2"),y(19),Ze(20,"currency"),p()(),A(21,"hr"),g(22,"div",18)(23,"button",19)(24,"b"),y(25," Checkout "),p(),A(26,"i",20),p()(),g(27,"div",21)(28,"div",14)(29,"h4"),y(30,"Modalit\xe0 di pagamento:"),p(),g(31,"button",22),U("click",function(){return ge(n),me(k().editPaymentMode())}),y(32,"Modifica"),p()(),R(33,ose,3,1,"div",23),p(),A(34,"hr"),g(35,"div",24),A(36,"input",25)(37,"input",26)(38,"input",27)(39,"input",28)(40,"input",29),p(),g(41,"div",21)(42,"div",14)(43,"h4"),y(44,"Indirizzo di consegna:"),p(),g(45,"button",22),U("click",function(){return ge(n),me(k().editAddress())}),y(46,"Modifica"),p()(),R(47,sse,9,7,"div",23),p()()()}if(2&e){const n=k(),r=ar(6),i=ar(8);w(1),S("formGroup",n.checkoutForm),w(7),S("ngIf",n.getCurrentCheckout()&&n.getProducts()),w(1),S("ngIf",!n.getCurrentCheckout()||!n.getProducts()),w(5),ce(n.getTotalPieces()),w(5),ce(Je(20,9,n.getTotalPrice(),"EUR")),w(14),S("ngIf",n.getPaymentModeSecretCondition())("ngIfElse",r),w(14),S("ngIf",n.getAddressCondition())("ngIfElse",i)}}function cse(e,t){1&e&&A(0,"app-spinner")}function lse(e,t){1&e&&(g(0,"div",32)(1,"div",33)(2,"div",34),A(3,"i",35),p(),g(4,"div",36)(5,"h4",37),y(6," Il tuo carrello \xe8 ancora vuoto. "),p()()(),g(7,"div",33)(8,"button",38),y(9,"Vai ai prodotti"),p()()()),2&e&&(w(8),S("routerLink","/products"))}function use(e,t){1&e&&y(0," Nessun metodo di pagamento impostato.\n")}function dse(e,t){1&e&&y(0," Nessun indirizzo impostato.\n")}let fse=(()=>{class e{constructor(n,r,i,o,s,a){this.dbService=n,this.authService=r,this.cartService=i,this.addressService=o,this.fb=s,this.modalService=a,this.checkouts=[]}ngOnInit(){this.initForm(),this.listenForUpdates()}createProductGroup(n){return this.fb.group({name:[n.name||"",ie.required],quantity:[n.quantity||1,[ie.required,ie.min(1)]],price:[n.price||0,[ie.required,ie.min(0)]]})}editAddress(){this.openConfirmModal("editAddress")}editPaymentMode(){this.openConfirmModal("editPaymentMode")}getAddress(){let n={line_1:"",line_2:"",city:"",zip:"",province:""};if(this.getAddressCondition()){const r=this.cartService.getCurrentCheckout().deliveryAddress.split(",");n.line_1=r[0]||"",n.line_2=r[1]||"",n.city=r[2]||"",n.zip=r[3]||"",n.province=r[4]||""}return n}getAddressCondition(){return this.cartService.getCurrentCheckout()?.deliveryAddress}getCurrentCheckout(){return this.cartService.getCurrentCheckout()&&this.cartService.getCurrentCheckout().products}getPaymentModeSecret(){let n="";return this.getPaymentModeSecretCondition()&&(n=this.cartService.getCurrentCheckout().paymentMode.slice(0,9)+"...."),n}getPaymentModeSecretCondition(){return this.cartService.getCurrentCheckout()&&this.cartService.getCurrentCheckout().paymentMode}getProducts(){return this.cartService.getCurrentCheckout()?.products?this.cartService.getCurrentCheckout()?.products:[]}getTotalPieces(){let n=0;if(this.cartService.getCurrentCheckout()&&this.cartService.getCurrentCheckout()?.products)for(let r of this.cartService.getCurrentCheckout()?.products)n+=r.quantity;return n}getTotalPrice(){let n=0;if(this.cartService.getCurrentCheckout()&&this.cartService.getCurrentCheckout()?.products)for(let r of this.cartService.getCurrentCheckout()?.products)n+=r.price*r.quantity;return n}initForm(){this.checkoutForm=this.fb.group({addressForm:this.fb.group({id:["",ie.required],line_1:["",ie.required],line_2:[""],city:["",ie.required],zip:["",ie.required],province:["",ie.required]}),paymentForm:this.fb.group({id:[""],method:["",ie.required],provider:[""],status:[""],amount:this.fb.group({currency:["EUR",ie.required],value:[0,ie.required]}),details:this.fb.group({card:this.fb.group({brand:[""],last4:[""],exp_month:[""],exp_year:[""],holder_name:[""]})}),billing_address:this.fb.group({first_name:["",ie.required],last_name:["",ie.required],street:["",ie.required],city:["",ie.required],postal_code:["",ie.required],country:["IT",ie.required]})}),products:this.fb.array(this.getProducts().map(n=>this.createProductGroup(n)))})}listenForUpdates(){if(this.authService.getCurrentUser()&&this.authService.getCurrentUser().uid){let n=this.authService.getCurrentUser().uid;this.dbService.listenToData("users/"+n+"/cart",r=>{r&&this.cartService.setCurrentCheckout(r)})}}onSubmit(){this.checkoutForm.valid?console.log("Checkout inviato:",this.checkoutForm.value):console.log("Form non valido")}openConfirmModal(n){this.modalService.publishPayload({method:n}),this.modalService.triggerModal()}static{this.\u0275fac=function(r){return new(r||e)(C(bn),C(Yt),C(jo),C(nu),C(ea),C(rp))}}static{this.\u0275cmp=pe({type:e,selectors:[["app-alfa-checkout"]],decls:9,vars:2,consts:[["class","container",4,"ngIf","ngIfElse"],["spinner",""],["nocheckout",""],["nopaymentmode",""],["noaddress",""],[1,"container"],[3,"formGroup"],[1,"d-flex"],[1,"bi","bi-cart-fill","l-icon"],[1,"mb-2","ms-2"],[1,"mb-5"],[1,"checkout-card-wrapper","mb-5"],[3,"products","confirmModalEmitter",4,"ngIf"],[4,"ngIf"],[1,"w-100","d-flex","justify-content-between"],[1,"mb-4"],[1,"fw2"],[2,"margin-top","8px"],[1,"d-grid","gap-2","my-4"],["type","button",1,"btn","btn-primary","d-flex","justify-content-center"],[1,"bi","bi-credit-card","ms-2"],[1,"d-flex","flex-column"],[1,"btn","btn-primary",3,"click"],[4,"ngIf","ngIfElse"],["formGroupName","addressForm",1,"d-none","flex-column"],["type","text","formControlName","line_1","placeholder","Indirizzo riga 1",1,"form-control","ms-4","mb-2"],["type","text","formControlName","line_2","placeholder","Indirizzo riga 2",1,"form-control","ms-4","mb-2"],["type","text","formControlName","zip","placeholder","CAP",1,"form-control","ms-4","mb-2"],["type","text","formControlName","city","placeholder","Citt\xe0",1,"form-control","ms-4","mb-2"],["type","text","formControlName","province","placeholder","Provincia",1,"form-control","ms-4","mb-2"],[3,"products","confirmModalEmitter"],[1,"fw2","ms-4"],[1,"w-100","d-flex","justify-content-center","flex-column",2,"min-height","60vh"],[1,"d-flex","justify-content-center"],[1,"align-self-center","py-3","ps-3",2,"font-size","50px"],[1,"bi","bi-emoji-neutral"],[1,"align-self-center"],[1,"p-3","text-center","m-0"],[1,"btn","btn-primary","mx-1",2,"min-width","400px",3,"routerLink"]],template:function(r,i){if(1&r&&(R(0,ase,48,12,"div",0),R(1,cse,1,0,"ng-template",null,1,Bn),R(3,lse,10,1,"ng-template",null,2,Bn),R(5,use,1,0,"ng-template",null,3,Bn),R(7,dse,1,0,"ng-template",null,4,Bn)),2&r){const o=ar(4);S("ngIf",i.getCurrentCheckout())("ngIfElse",o)}},dependencies:[Et,zr,Js,co,Qc,Qs,uo,Xs,Nf,o2,ru,to],styles:[".btn-outline-green[_ngcontent-%COMP%]{border:2px solid #5bd801;border-radius:20px;width:100%}.l-icon[_ngcontent-%COMP%]{font-size:25px}.xl-icon[_ngcontent-%COMP%]{font-size:65px}.green-icon[_ngcontent-%COMP%]{color:#5bd801}.transparent[_ngcontent-%COMP%]{opacity:0}.checkout-card-image[_ngcontent-%COMP%]{min-width:150px;width:150px;height:150px;border-radius:15px}.checkout-card-content[_ngcontent-%COMP%]{width:100%;height:150px}.fw2[_ngcontent-%COMP%]{font-weight:200}.fw4[_ngcontent-%COMP%]{font-weight:400}"]})}}return e})(),s2=(()=>{class e{constructor(n,r){this.auth=n,this.router=r}canActivate(n,r){const i=n.data.roles;return this.auth.userRole$.pipe(no(1),Ie(o=>!(!o||!i.includes(o))||this.router.createUrlTree(["/unauthorized"])))}static{this.\u0275fac=function(r){return new(r||e)(N(Yt),N(ct))}}static{this.\u0275prov=V({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),hse=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=pe({type:e,selectors:[["app-unauthorized"]],decls:5,vars:0,consts:[[1,"container",2,"margin-top","100px","min-height","70vh"],[1,"row"],[1,"col-12","p-5"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),y(4,"UNAUTHORIZED"),p()()()())}})}}return e})(),pse=(()=>{class e{constructor(n,r){this.router=n,this.authService=r}ngOnInit(){this.authService.registeredUser=!0,this.authService.logout()}static{this.\u0275fac=function(r){return new(r||e)(C(ct),C(Yt))}}static{this.\u0275cmp=pe({type:e,selectors:[["app-alfa-not-registered-user"]],decls:4,vars:0,template:function(r,i){1&r&&(g(0,"h2"),y(1,"Utente non registrato"),p(),g(2,"h4"),y(3,"Ritorno alla pagina di login..."),p())}})}}return e})();class Aa{static matchFields(t,n){return r=>{const o=r.controls[t],s=r.controls[n];return o&&s?o.value!==s.value?(s.setErrors({notMatch:!0}),{notMatch:!0}):(s.hasError("notMatch")&&(delete s.errors?.notMatch,0===Object.keys(s.errors||{}).length&&s.setErrors(null)),null):null}}static strongPassword(t){const n=t.value;if(!n)return null;const r=/[A-Z]/.test(n),i=/[a-z]/.test(n),o=/[0-9]/.test(n),s=/[!@#$%^&*(),.?":{}|<>]/.test(n),a=n.length>=8;return r&&i&&o&&s&&a?null:{strongPassword:{hasUpperCase:r,hasLowerCase:i,hasNumeric:o,hasSpecial:s,hasMinLength:a}}}static validName(t){const n=t.value,r=n.length>=2;return n?/^[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\xff\s]+$/.test(n)&&r?null:{invalidName:!0}:null}}function a2(e){return e?e.trim().replace(/\s+/g," ").split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()).join(" "):""}function gse(e,t){1&e&&(g(0,"div"),y(1,"Il nome \xe8 obbligatorio."),p())}function mse(e,t){1&e&&(g(0,"div"),y(1,"Formato nome non valido."),p())}function _se(e,t){if(1&e&&(g(0,"div",19),R(1,gse,2,0,"div",20),R(2,mse,2,0,"div",20),p()),2&e){const n=k();let r,i;w(1),S("ngIf",null==(r=n.registerForm.get("firstName"))||null==r.errors?null:r.errors.required),w(1),S("ngIf",null==(i=n.registerForm.get("firstName"))||null==i.errors?null:i.errors.invalidName)}}function vse(e,t){1&e&&(g(0,"div"),y(1,"Il cognome \xe8 obbligatorio."),p())}function yse(e,t){1&e&&(g(0,"div"),y(1,"Formato cognome non valido."),p())}function Cse(e,t){if(1&e&&(g(0,"div",19),R(1,vse,2,0,"div",20),R(2,yse,2,0,"div",20),p()),2&e){const n=k();let r,i;w(1),S("ngIf",null==(r=n.registerForm.get("lastName"))||null==r.errors?null:r.errors.required),w(1),S("ngIf",null==(i=n.registerForm.get("lastName"))||null==i.errors?null:i.errors.invalidName)}}function bse(e,t){1&e&&(g(0,"div"),y(1,"L'email \xe8 obbligatoria."),p())}function wse(e,t){1&e&&(g(0,"div"),y(1,"Formato email non valido."),p())}function Ese(e,t){if(1&e&&(g(0,"div",19),R(1,bse,2,0,"div",20),R(2,wse,2,0,"div",20),p()),2&e){const n=k();let r,i;w(1),S("ngIf",null==(r=n.registerForm.get("email"))||null==r.errors?null:r.errors.required),w(1),S("ngIf",null==(i=n.registerForm.get("email"))||null==i.errors?null:i.errors.email)}}function Ise(e,t){1&e&&(g(0,"div"),y(1,"L'email \xe8 obbligatoria."),p())}function Dse(e,t){1&e&&(g(0,"div"),y(1,"Formato email non valido."),p())}function Tse(e,t){1&e&&(g(0,"div"),y(1,"Le email non corrispondono."),p())}function Sse(e,t){if(1&e&&(g(0,"div",19),R(1,Ise,2,0,"div",20),R(2,Dse,2,0,"div",20),R(3,Tse,2,0,"div",20),p()),2&e){const n=k();let r,i,o;w(1),S("ngIf",null==(r=n.registerForm.get("confirmedEmail"))||null==r.errors?null:r.errors.required),w(1),S("ngIf",null==(i=n.registerForm.get("confirmedEmail"))||null==i.errors?null:i.errors.email),w(1),S("ngIf",null==(o=n.registerForm.get("confirmedEmail"))||null==o.errors?null:o.errors.notMatch)}}function Ase(e,t){1&e&&(g(0,"div"),y(1,"La password \xe8 obbligatoria."),p())}function Mse(e,t){1&e&&(g(0,"div"),y(1,"La password deve essere lunga almeno otto caratteri, e contenere almeno una lettera maiuscola, una minuscola, un numero e un carattere speciale."),p())}function xse(e,t){if(1&e&&(g(0,"div",19),R(1,Ase,2,0,"div",20),R(2,Mse,2,0,"div",20),p()),2&e){const n=k();let r,i;w(1),S("ngIf",null==(r=n.registerForm.get("pw"))||null==r.errors?null:r.errors.required),w(1),S("ngIf",null==(i=n.registerForm.get("pw"))||null==i.errors?null:i.errors.strongPassword)}}function Rse(e,t){1&e&&(g(0,"div"),y(1,"La conferma password \xe8 obbligatoria."),p())}function Pse(e,t){1&e&&(g(0,"div"),y(1,"Le password non corrispondono."),p())}function Nse(e,t){if(1&e&&(g(0,"div",19),R(1,Rse,2,0,"div",20),R(2,Pse,2,0,"div",20),p()),2&e){const n=k();let r,i;w(1),S("ngIf",null==(r=n.registerForm.get("confirmedPw"))||null==r.errors?null:r.errors.required),w(1),S("ngIf",null==(i=n.registerForm.get("confirmedPw"))||null==i.errors?null:i.errors.notMatch)}}const kse=[{path:"unauthorized",component:hse},{path:"not-registered",component:pse},{path:"register",component:(()=>{class e{constructor(n,r,i){this.auth=n,this.db=r,this.fb=i,this.registerSpinnerIsVisible=!1,this.registerForm=this.fb.group({firstName:["",[ie.required,Aa.validName]],lastName:["",[ie.required,Aa.validName]],email:["",[ie.required,ie.email]],confirmedEmail:["",[ie.required,ie.email]],pw:["",[ie.required,Aa.strongPassword]],confirmedPw:["",[ie.required]],rememberMe:[!1]},{validators:[Aa.matchFields("email","confirmedEmail"),Aa.matchFields("pw","confirmedPw")]})}register(){this.registerForm.valid&&(this.registerSpinnerIsVisible=!0,this.auth.register(this.registerForm.controls.email.value,this.registerForm.controls.pw.value))}getStrongPasswordValue(n){return Aa.strongPassword(n)}onChange(n){switch(n){case"firstName":this.registerForm.patchValue({firstName:a2(this.registerForm.controls[n].value)});break;case"lastName":this.registerForm.patchValue({lastName:a2(this.registerForm.controls[n].value)});break;default:console.log("unknown")}}static{this.\u0275fac=function(r){return new(r||e)(C(Yt),C(bn),C(ea))}}static{this.\u0275cmp=pe({type:e,selectors:[["app-alfa-register"]],inputs:{registerForm:"registerForm"},decls:44,vars:12,consts:[[1,"container",2,"max-width","700px"],[1,"row",2,"height","100vh"],[1,"col-12"],[3,"formGroup"],[1,"w-100","d-flex","justify-content-center","py-4"],[1,"login-logo"],[1,"form-group"],[1,"form-label"],["autocomplete","given-name","name","given-name","formControlName","firstName","placeholder","Nome utente",1,"form-control",3,"change"],["class","text-danger small",4,"ngIf"],["autocomplete","family-name","name","family-name","formControlName","lastName","placeholder","Cognome utente",1,"form-control",3,"change"],["autocomplete","email","name","email","type","email","formControlName","email","placeholder","Email utente",1,"form-control"],["autocomplete","email","name","email","type","email","formControlName","confirmedEmail","placeholder","Conferma email",1,"form-control"],["type","password","formControlName","pw","placeholder","Password",1,"form-control"],["type","password","formControlName","confirmedPw","placeholder","Conferma password",1,"form-control",3,"keyup.enter"],[1,"d-grid","gap-2","mt-2"],["type","button",1,"my-4","btn","btn-primary","d-flex","justify-content-center",3,"click"],[3,"isVisible"],["registerSpinner",""],[1,"text-danger","small"],[4,"ngIf"]],template:function(r,i){if(1&r&&(g(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3)(4,"div",4),A(5,"div",5),p(),g(6,"h2"),y(7,"Modulo registrazione"),p(),g(8,"div",6)(9,"label",7),y(10,"First name:"),p(),g(11,"input",8),U("change",function(){return i.onChange("firstName")}),p(),R(12,_se,3,2,"div",9),p(),g(13,"div",6)(14,"label",7),y(15,"Last name:"),p(),g(16,"input",10),U("change",function(){return i.onChange("lastName")}),p(),R(17,Cse,3,2,"div",9),p(),g(18,"div",6)(19,"label",7),y(20,"Email:"),p(),A(21,"input",11),R(22,Ese,3,2,"div",9),p(),g(23,"div",6)(24,"label",7),y(25,"Confirm email:"),p(),A(26,"input",12),R(27,Sse,4,3,"div",9),p(),g(28,"div",6)(29,"label",7),y(30,"Password:"),p(),A(31,"input",13),R(32,xse,3,2,"div",9),p(),g(33,"div",6)(34,"label",7),y(35,"Confirm password:"),p(),g(36,"input",14),U("keyup.enter",function(){return i.register()}),p(),R(37,Nse,3,2,"div",9),p(),g(38,"div",15)(39,"button",16),U("click",function(){return i.register()}),g(40,"div"),y(41," Registrati "),p(),A(42,"app-button-spinner",17,18),p()()()()()()),2&r){let o,s,a,c,l,u,d,f;w(3),S("formGroup",i.registerForm),w(9),S("ngIf",(null==(o=i.registerForm.get("firstName"))?null:o.touched)&&(null==(o=i.registerForm.get("firstName"))?null:o.invalid)),w(5),S("ngIf",(null==(s=i.registerForm.get("lastName"))?null:s.touched)&&(null==(s=i.registerForm.get("lastName"))?null:s.invalid)),w(5),S("ngIf",(null==(a=i.registerForm.get("email"))?null:a.touched)&&(null==(a=i.registerForm.get("email"))?null:a.invalid)),w(5),S("ngIf",(null==(c=i.registerForm.get("confirmedEmail"))?null:c.touched)&&(null==(c=i.registerForm.get("confirmedEmail"))?null:c.invalid)),w(4),_n(0!=(null==(l=i.registerForm.get("pw"))?null:l.value.length)&&(null==(l=i.registerForm.get("pw"))?null:l.value.length)<5?"bg-alert-danger":(null==(l=i.registerForm.get("pw"))?null:l.value.length)>4&&(null==(l=i.registerForm.get("pw"))?null:l.value.length)<8||(null==(l=i.registerForm.get("pw"))?null:l.value.length)>7&&i.getStrongPasswordValue(i.registerForm.get("pw"))?"bg-alert-warning":(null==(l=i.registerForm.get("pw"))?null:l.value.length)>7&&!i.getStrongPasswordValue(i.registerForm.get("pw"))?"bg-alert-info":""),w(1),S("ngIf",(null==(u=i.registerForm.get("pw"))?null:u.touched)&&(null==(u=i.registerForm.get("pw"))?null:u.invalid)),w(4),_n(0!=(null==(d=i.registerForm.get("confirmedPw"))?null:d.value.length)&&(null==(d=i.registerForm.get("confirmedPw"))?null:d.value.length)<5?"bg-alert-danger":(null==(d=i.registerForm.get("confirmedPw"))?null:d.value.length)>4&&(null==(d=i.registerForm.get("confirmedPw"))?null:d.value.length)<8||(null==(d=i.registerForm.get("confirmedPw"))?null:d.value.length)>7&&i.getStrongPasswordValue(i.registerForm.get("confirmedPw"))?"bg-alert-warning":(null==(d=i.registerForm.get("confirmedPw"))?null:d.value.length)>7&&!i.getStrongPasswordValue(i.registerForm.get("confirmedPw"))?"bg-alert-info":""),w(1),S("ngIf",(null==(f=i.registerForm.get("confirmedPw"))?null:f.touched)&&(null==(f=i.registerForm.get("confirmedPw"))?null:f.invalid)),w(5),S("isVisible",i.registerSpinnerIsVisible)}},dependencies:[Et,Js,co,Qc,Qs,uo,Xs,n2],styles:[".form-group[_ngcontent-%COMP%]{min-height:70px;display:flex;flex-direction:column;justify-content:start}.form-label[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:0;opacity:0}.bg-alert-danger[_ngcontent-%COMP%]:focus{background-color:var(--bs-danger-border-subtle)}.bg-alert-info[_ngcontent-%COMP%]:focus{background-color:var(--bs-info-border-subtle)}.bg-alert-warning[_ngcontent-%COMP%]:focus{background-color:var(--bs-warning-border-subtle)}"]})}}return e})()},{path:"login",component:yoe},{path:"home",component:koe},{path:"products",component:r2},{path:"orders",component:joe},{path:"product-detail/:id",component:Zoe,canActivate:[s2],data:{roles:["admin","user"]}},{path:"order-detail/:id",component:nse,canActivate:[s2],data:{roles:["admin","user"]}},{path:"checkout",component:fse},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",redirectTo:"/home"}];let Ose=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Xt({type:e})}static{this.\u0275inj=Ot({imports:[zR.forRoot(kse),zR]})}}return e})(),Fse=(()=>{class e{constructor(n,r,i){this.auth=n,this.db=r,this.fb=i,this.menuVisible=!1,this.overlayOpen=!1,this.toggleOverlayEmitter=new ae,this.contactsEmitter=new ae}contacts(){this.contactsEmitter.emit()}action(n){"openMenu"===n||console.log("unknown",n)}logout(){this.auth.logout()}toggleMenu(){this.menuVisible=!this.menuVisible,this.toggleOverlayEmitter.emit({name:"menuVisible",visibility:!0})}static{this.\u0275fac=function(r){return new(r||e)(C(Yt),C(bn),C(ea))}}static{this.\u0275cmp=pe({type:e,selectors:[["app-alfa-navbar"]],inputs:{menuVisible:"menuVisible",overlayOpen:"overlayOpen"},outputs:{toggleOverlayEmitter:"toggleOverlayEmitter",contactsEmitter:"contactsEmitter"},decls:25,vars:0,consts:[["id","navbar",1,"w-100","py-1","fixed-top","bg-white","shadow"],[1,"container-fluid","h-100","m-0",2,"width","100vw"],[1,"row","mx-2","h-100"],[1,"col-12","d-flex","justify-content-between"],["routerLink","/home",1,"navbar-brand","px-3","py-1"],[1,"navbar_logo"],[1,"d-none","d-md-flex","align-items-center","nav","text-bold"],[1,"nav-item"],["routerLink","/products",1,"nav-link"],["routerLink","/checkout",1,"nav-link"],["routerLink","/orders",1,"nav-link"],[1,"nav-link",3,"click"],[1,"d-flex","d-md-none","flex-column","justify-content-center"],[1,"hamburger_icon","btn","d-flex","flex-column","justify-content-center",3,"click"],[1,"hamburger"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),A(5,"div",5),p(),g(6,"ul",6)(7,"li",7)(8,"a",8),y(9,"PRODOTTI"),p()(),g(10,"li",7)(11,"a",9),y(12,"CARRELLO"),p()(),g(13,"li",7)(14,"a",10),y(15,"I MIEI ORDINI"),p()(),g(16,"li",7)(17,"a",11),U("click",function(){return i.contacts()}),y(18,"CONTATTI"),p()(),g(19,"li",7)(20,"a",11),U("click",function(){return i.logout()}),y(21,"LOGOUT"),p()()(),g(22,"div",12)(23,"a",13),U("click",function(){return i.toggleMenu()}),A(24,"div",14),p()()()()()())},dependencies:[zr],styles:["#navbar[_ngcontent-%COMP%]{transition:.3s;box-shadow:none;font-size:12px!important}#navbar[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{background-color:#fff!important}[_nghost-%COMP%]     .nav-link{color:#444;font-size:12px!important;transition:.3s;padding:8px}.nav-link[_ngcontent-%COMP%]:hover{color:#0a58ca;cursor:pointer;transition:.3s}.hamburger_icon[_ngcontent-%COMP%]{background-image:url(hamburger.2f5a217b7a5c454d.svg);background-size:contain;background-repeat:no-repeat;height:30px;width:30px}.navbar_logo[_ngcontent-%COMP%]{height:55px;width:112px}"]})}}return e})(),Lse=(()=>{class e{constructor(n,r){this.router=n,this.authService=r,this.toggleMenuEmitter=new ae,this.navbar=document.getElementById("navbar")}showMenu(){this.toggleMenuEmitter.emit({name:"mobileMenu",visibility:!0})}hideMenu(){this.toggleMenuEmitter.emit({name:"mobileMenu",visibility:!1})}redirectToPath(n){this.hideMenu(),this.router.navigate([n])}logout(){this.authService.logout()}static{this.\u0275fac=function(r){return new(r||e)(C(ct),C(Yt))}}static{this.\u0275cmp=pe({type:e,selectors:[["app-mobile-menu"]],outputs:{toggleMenuEmitter:"toggleMenuEmitter"},decls:36,vars:0,consts:[["id","mobileMenu",2,"height","100vh","width","100%","overflow","hidden"],[1,"position-absolute","p-3","d-flex","justify-content-end","w-100"],[1,"btn","d-flex","justify-content-end","animate__animated","animate__fadeInUp",3,"click"],[1,"close_white"],[1,"h-100","p-5"],[2,"height","20%","width","100%"],[1,"d-flex","h-100","flex-column","justify-content-between"],[1,"mt-3","w-100","h-100","d-flex","justify-content-center","animate__animated","animate__fadeInUp",3,"click"],[1,"person_circle_white"],[1,"text-light","d-flex","flex-column","justify-content-center",2,"height","10%"],[1,"d-flex","justify-content-center","animate__animated","animate__fadeInUp",2,"font-size","20px"],[1,"",2,"height","70%"],[1,"d-flex","flex-column","justify-content-center","h-100"],["id","menuList",1,"accordion","bg-transparent","animate__animated","animate__fast","nav","d-flex","flex-column","text-center","animate__fadeInUp",2,"font-size","xx-large"],[1,"home","nav-item",3,"click"],[1,"nav-link"],[1,"btn-link-dark"],[1,"storia","nav-item",3,"click"],[1,"btn-link-primary"],[1,"nav-link","d-flex","justify-content-center"],[1,"d-flex"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"div",1)(2,"a",2),U("click",function(){return i.hideMenu()}),A(3,"div",3),p()(),g(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),U("click",function(){return i.hideMenu()}),A(8,"div",8),p()()(),g(9,"div",9)(10,"div",10),y(11,"Ciao Marco!"),p()(),g(12,"div",11)(13,"div",12)(14,"ul",13)(15,"li",14),U("click",function(){return i.redirectToPath("/products")}),g(16,"a",15)(17,"h2",16),y(18,"PRODOTTI"),p()()(),g(19,"li",17),U("click",function(){return i.redirectToPath("/checkout")}),g(20,"a",15)(21,"h2",18),y(22,"CARRELLO"),p()()(),g(23,"li",17),U("click",function(){return i.redirectToPath("/orders")}),g(24,"a",15)(25,"h2",18),y(26,"I MIEI ORDINI"),p()()(),g(27,"li",17),U("click",function(){return i.hideMenu()}),g(28,"a",15)(29,"h2",18),y(30,"CONTATTI"),p()()(),g(31,"li",17),U("click",function(){return i.logout()}),g(32,"a",19)(33,"div",20)(34,"h2",18),y(35,"LOGOUT"),p()()()()()()()()())},styles:["#mobileMenu[_ngcontent-%COMP%]{z-index:1000;background-color:#c27248;width:100%;height:100vh}.nav-link[_ngcontent-%COMP%]{color:#eee;font-size:18px!important}.nav-link[_ngcontent-%COMP%]:hover{color:#fff;cursor:pointer}div[_ngcontent-%COMP%]:has(.user-icon-mobile-menu){height:100px}.user-icon-mobile-menu[_ngcontent-%COMP%]{height:100px;width:auto;background-image:url(person-circle-white.c16eb14271d35224.svg);background-repeat:no-repeat;background-size:cover}*[_ngcontent-%COMP%]{overflow-y:hidden}.close_white[_ngcontent-%COMP%]{background-image:url(close_white.7ca11c3dfbff8ac7.svg);background-repeat:no-repeat;background-size:cover;width:40px;height:40px}.person_circle_white[_ngcontent-%COMP%]{background-image:url(person-circle-white.c16eb14271d35224.svg);background-repeat:no-repeat;background-size:contain;width:150px}"]})}}return e})();function Vse(e,t){1&e&&(g(0,"div",2),y(1," LOADING\n"),p())}function Use(e,t){if(1&e){const n=wt();g(0,"div",3)(1,"app-mobile-menu",4),U("toggleMenuEmitter",function(i){return ge(n),me(k().toggleMenu(i))}),p()()}}let jse=(()=>{class e{constructor(){this.loadingVisible=!1,this.menuVisible=!1,this.toggleOverlayEmitter=new ae,this.toggleMenuEmitter=new ae}showOverlay(){this.toggleOverlayEmitter.emit(!0)}hideOverlay(){this.toggleOverlayEmitter.emit(!1)}toggleMenu(n){"mobileMenu"===n.name&&this.toggleMenuEmitter.emit(n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=pe({type:e,selectors:[["app-main-overlay"]],inputs:{loadingVisible:"loadingVisible",menuVisible:"menuVisible"},outputs:{toggleOverlayEmitter:"toggleOverlayEmitter",toggleMenuEmitter:"toggleMenuEmitter"},decls:2,vars:2,consts:[["style","z-index: 3000; height: 100vh; width: 100%; overflow: hidden; background-color: rgba(0,0,0, .6);",4,"ngIf"],["style","z-index: 2000; height: 100vh; width: 100%; overflow: hidden; position: absolute!important;",4,"ngIf"],[2,"z-index","3000","height","100vh","width","100%","overflow","hidden","background-color","rgba(0,0,0, .6)"],[2,"z-index","2000","height","100vh","width","100%","overflow","hidden","position","absolute!important"],[3,"toggleMenuEmitter"]],template:function(r,i){1&r&&(R(0,Vse,2,0,"div",0),R(1,Use,2,0,"div",1)),2&r&&(S("ngIf",i.loadingVisible),w(1),S("ngIf",i.menuVisible))},dependencies:[Et,Lse]})}}return e})(),$se=(()=>{class e{constructor(n){this.toastService=n,this.toastText="",this.toastType="error"}ngOnInit(){}getType(){return this.toastService.currentMessage.type}getIcon(){return this.toastService.currentMessage.icon}getMessage(){return this.toastService.currentMessage.text}static{this.\u0275fac=function(r){return new(r||e)(C(Uo))}}static{this.\u0275cmp=pe({type:e,selectors:[["app-alfa-toast"]],decls:8,vars:4,consts:[[1,"toast-container","position-fixed","top-0","end-0","p-3",2,"transform","translateY(90px)"],["id","liveToast","role","alert","aria-live","assertive","aria-atomic","true",1,"toast",3,"ngClass"],[1,"toast-body"],[1,"w-100","d-flex","justify-content-between"],[1,"d-flex"],[1,"align-self-center","ms-2",3,"innerHTML"],["type","button","data-bs-dismiss","toast",1,"align-self-center","btn-close","btn-close-white"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),A(5,"i")(6,"h6",5),p(),A(7,"button",6),p()()()()),2&r&&(w(1),S("ngClass",i.getType()),w(4),_n("bi bi-"+i.getIcon()),w(1),S("innerHTML",i.getMessage(),ed))},dependencies:[cx],styles:[".alfa-toast[_ngcontent-%COMP%]{margin-top:15px;position:absolute;width:400px;height:100px;border-radius:15px;z-index:3000;right:0;border:5px solid #ff5900;color:#d24f09;font-size:19px}@media screen and (max-width: 762px){.alfa-toast[_ngcontent-%COMP%]{width:100%}}.toast.success[_ngcontent-%COMP%]{background-color:#198754}.toast.success[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%], .toast.success[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff!important;margin:0}.toast.error[_ngcontent-%COMP%]{background-color:#dc3545}.toast.error[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%], .toast.error[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff!important;margin:0}.toast.warning[_ngcontent-%COMP%]{background-color:#ffc107;color:#212529}.toast.info[_ngcontent-%COMP%]{background-color:#0dcaf0}.toast-body[_ngcontent-%COMP%]{padding:20px}"]})}}return e})(),Bse=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=pe({type:e,selectors:[["app-alfa-social-footer"]],decls:14,vars:0,consts:[[1,"w-100","bg-dark2"],[1,"container"],[1,"row"],[1,"col-12"],[1,"card","py-4","border-0","bg-transparent","text-light","text-center","d-flex","flex-column","justify-content-center"],[1,"d-flex","justify-content-center","text-white"],[1,"btn","btn-light","rounded","rounded-pill","m-2",2,"min-width","38px"],["target","_blank","href","#"],[1,"bi","bi-instagram"],[1,"bi","bi-whatsapp"],[1,"small"]],template:function(r,i){1&r&&(g(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"button",6)(7,"a",7),A(8,"span",8),p()(),g(9,"button",6)(10,"a",7),A(11,"span",9),p()()(),g(12,"small",10),y(13," \xa9 2025 Ecommerce "),p()()()()()())},styles:[".bg-dark2[_ngcontent-%COMP%]{background-color:#1c1c1c}"]})}}return e})(),Hse=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=pe({type:e,selectors:[["app-alfa-footer"]],decls:22,vars:0,consts:[[1,"w-100","bg-dark"],[1,"container"],[1,"row"],["id","footer",1,"col-12"],[1,"card","py-4","border-0","bg-transparent","text-light","text-center"],[1,"d-flex","justify-content-center"],[1,"footer_logo","mb-3"],[1,"card-title","text-grey"],[1,"card-body"]],template:function(r,i){1&r&&(g(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),A(6,"div",6),p(),g(7,"div",7),y(8," Ecommerce "),p(),g(9,"div",8),y(10," - Indirizzo: Via e num. "),A(11,"br"),y(12,"- Localit\xe0: Citt\xe0 (PP) - Cap: 00000 "),A(13,"br"),y(14,"\n- PI: 03881990547 "),A(15,"br"),y(16,"- Tel. Tizio: +00 000000000 "),A(17,"br"),y(18,"- Caio: +00 000000000 "),A(19,"br"),y(20,"- Email: email@email.it "),p()()()()()(),A(21,"app-alfa-social-footer"))},dependencies:[Bse],styles:[".footer_logo[_ngcontent-%COMP%]{height:55px;width:112px}"]})}}return e})();function Wse(e,t){if(1&e){const n=wt();g(0,"div",8),U("click",function(){ge(n);const i=k().$implicit;return me(k(2).selectAddress(i))}),g(1,"div",9)(2,"div",10)(3,"h4"),y(4),p(),A(5,"app-score",11),p(),g(6,"div",2),y(7),p(),g(8,"div",2),y(9),p(),g(10,"div",2),y(11),p()()()}if(2&e){const n=k().$implicit;w(4),ce(n.line_1),w(1),S("item",n),w(2),ot(" ",n.zip," "),w(2),ot(" ",n.city," "),w(2),ot(" ",n.province," ")}}function Gse(e,t){if(1&e){const n=wt();g(0,"div",12),U("click",function(){return ge(n),me(k(3).addAddress())}),A(1,"i",13),p()}}function qse(e,t){if(1&e&&(g(0,"div",4)(1,"div",5),R(2,Wse,12,5,"div",6),R(3,Gse,2,0,"div",7),p()()),2&e){const n=t.$implicit,r=k(2);_n(n&&n.addButton?"add-address-btn":"address-card"),w(1),_n(r.getSelectCondition(n)?"selected":""),w(1),S("ngIf",!(n&&n.addButton)),w(1),S("ngIf",n&&n.addButton)}}function Kse(e,t){if(1&e&&(g(0,"div",2),R(1,qse,4,6,"div",3),p()),2&e){const n=k();w(1),S("ngForOf",n.items)}}function Yse(e,t){if(1&e){const n=wt();g(0,"h4",14),y(1," Non sono ancora presenti indirizzi. "),p(),g(2,"div",15)(3,"div",16),U("click",function(){return ge(n),me(k().addAddress())}),g(4,"div",5),A(5,"i",13),p()()()}}let Qse=(()=>{class e{constructor(n,r){this.cartService=n,this.addressService=r,this.addAddressEmitter=new ae,this.selectAddressEmitter=new ae,this.items=[],this.addressReady=!1}ngOnInit(){}ngAfterViewInit(){}selectAddress(n){this.selectAddressEmitter.emit(n)}addAddress(){this.addAddressEmitter.emit()}getSelectCondition(n){return this.getAddressSelected()&&this.getAddressSelected().line_1===n.line_1}getAddressSelected(){return this.addressService.getSelectedAddress()}static{this.\u0275fac=function(r){return new(r||e)(C(jo),C(nu))}}static{this.\u0275cmp=pe({type:e,selectors:[["app-address-list"]],inputs:{items:"items",addressReady:"addressReady"},outputs:{addAddressEmitter:"addAddressEmitter",selectAddressEmitter:"selectAddressEmitter"},decls:3,vars:2,consts:[["class","d-flex",4,"ngIf","ngIfElse"],["noaddress",""],[1,"d-flex"],["class","card shadow me-4",3,"class",4,"ngFor","ngForOf"],[1,"card","shadow","me-4"],[1,"card-body"],["class","h-100 w-100 d-flex flex-column ",3,"click",4,"ngIf"],["class","card-body h-100 d-flex flex-column justify-content-center",3,"click",4,"ngIf"],[1,"h-100","w-100","d-flex","flex-column",3,"click"],[1,"w-100"],[1,"w-100","d-flex","justify-content-between"],[3,"item"],[1,"card-body","h-100","d-flex","flex-column","justify-content-center",3,"click"],[1,"bi","bi-plus-lg"],[1,"p-3","text-center"],[1,"d-flex","justify-content-center"],[1,"mini-add-address-btn","card","shadow",3,"click"]],template:function(r,i){if(1&r&&(R(0,Kse,2,1,"div",0),R(1,Yse,6,0,"ng-template",null,1,Bn)),2&r){const o=ar(2);S("ngIf",i.items&&i.items.length>0)("ngIfElse",o)}},dependencies:[eo,Et,np],styles:[".address-card[_ngcontent-%COMP%]{cursor:pointer;min-width:350px;width:350px;height:200px;margin-bottom:40px;transition:.3s}.mini-add-address-btn[_ngcontent-%COMP%]{cursor:pointer}.add-address-btn[_ngcontent-%COMP%]{font-size:50px;cursor:pointer;min-width:115px;width:115px;height:200px;margin-bottom:40px;transition:.3s;display:flex;flex-direction:column;justify-content:center}.selected[_ngcontent-%COMP%]{border:3px solid #32bd10;border-radius:5px;background-color:#bbf7ac}"]})}}return e})();function Zse(e,t){if(1&e){const n=wt();g(0,"div",2)(1,"app-address-list",3),U("selectAddressEmitter",function(i){return ge(n),me(k().selectAddress(i))})("addAddressEmitter",function(){return ge(n),me(k().addAddress())}),p()()}if(2&e){const n=k();w(1),S("items",n.addressList)("addressReady",n.addressReady)}}function Jse(e,t){1&e&&A(0,"app-spinner")}let Xse=(()=>{class e{constructor(n,r,i){this.authService=n,this.databaseService=r,this.addressService=i,this.addAddressEmitter=new ae,this.selectAddressEmitter=new ae,this.addressList=[],this.addressReady=!1}ngOnInit(){this.addressList=[],this.listenForUpdates()}listenForUpdates(){if(this.authService.getCurrentUser()&&this.authService.getCurrentUser().uid){let n=this.authService.getCurrentUser().uid;this.databaseService.listenToData("users/"+n+"/address",r=>{r&&(this.addressList=[...r,{addButton:!0}],this.addressReady=!0,this.addressService.setCurrentAddressList(this.addressList))})}}selectAddress(n){this.addressService.setSelectedAddress(n)}addAddress(){this.addAddressEmitter.emit()}getAddressSelected(){return this.addressService.getSelectedAddress()}static{this.\u0275fac=function(r){return new(r||e)(C(Yt),C(bn),C(nu))}}static{this.\u0275cmp=pe({type:e,selectors:[["app-address-selector"]],outputs:{addAddressEmitter:"addAddressEmitter",selectAddressEmitter:"selectAddressEmitter"},decls:3,vars:2,consts:[["class","address-wrapper",4,"ngIf","ngIfElse"],["spinner",""],[1,"address-wrapper"],[3,"items","addressReady","selectAddressEmitter","addAddressEmitter"]],template:function(r,i){if(1&r&&(R(0,Zse,2,2,"div",0),R(1,Jse,1,0,"ng-template",null,1,Bn)),2&r){const o=ar(2);S("ngIf",i.addressList)("ngIfElse",o)}},dependencies:[Et,ru,Qse],styles:[".address-wrapper[_ngcontent-%COMP%]{height:260px;width:100%;overflow-x:auto;overflow-y:hidden;display:flex;flex-direction:column;justify-content:center}"]})}}return e})();function eae(e,t){1&e&&(g(0,"div",21),y(1," La linea 1 dell'indirizzo \xe8 obbligatoria "),p())}function tae(e,t){1&e&&(g(0,"div",21),y(1," Inserisci un CAP valido (5 numeri) "),p())}function nae(e,t){1&e&&(g(0,"div",21),y(1," La citt\xe0 \xe8 obbligatoria "),p())}function rae(e,t){1&e&&(g(0,"div",21),y(1," La provincia \xe8 obbligatoria "),p())}function iae(e,t){if(1&e&&(g(0,"div")(1,"form",12)(2,"div",13)(3,"label",14),y(4,"Indirizzo (linea 1)"),p(),A(5,"input",15),R(6,eae,2,0,"div",16),p(),g(7,"div",13)(8,"label",14),y(9,"Indirizzo (linea 2)"),p(),A(10,"input",17),p(),g(11,"div",13)(12,"label",14),y(13,"CAP"),p(),A(14,"input",18),R(15,tae,2,0,"div",16),p(),g(16,"div",13)(17,"label",14),y(18,"Citt\xe0"),p(),A(19,"input",19),R(20,nae,2,0,"div",16),p(),g(21,"div",13)(22,"label",14),y(23,"Provincia"),p(),A(24,"input",20),R(25,rae,2,0,"div",16),p()()()),2&e){const n=k();let r,i,o,s;w(1),S("formGroup",n.addressForm),w(5),S("ngIf",(null==(r=n.addressForm.get("line_1"))?null:r.invalid)&&(null==(r=n.addressForm.get("line_1"))?null:r.touched)),w(9),S("ngIf",(null==(i=n.addressForm.get("zip"))?null:i.invalid)&&(null==(i=n.addressForm.get("zip"))?null:i.touched)),w(5),S("ngIf",(null==(o=n.addressForm.get("city"))?null:o.invalid)&&(null==(o=n.addressForm.get("city"))?null:o.touched)),w(5),S("ngIf",(null==(s=n.addressForm.get("province"))?null:s.invalid)&&(null==(s=n.addressForm.get("province"))?null:s.touched))}}function oae(e,t){if(1&e){const n=wt();g(0,"div")(1,"app-address-selector",23),U("addAddressEmitter",function(){return ge(n),me(k(2).popupStep=!0)}),p()()}}function sae(e,t){if(1&e&&(g(0,"div",22),y(1),R(2,oae,2,0,"div",6),p()),2&e){const n=k();w(1),ot(" ",n.modalData.modalText," "),w(1),S("ngIf","editAddress"==n.modalData.method)}}function aae(e,t){if(1&e){const n=wt();g(0,"button",24),U("click",function(){return ge(n),me(k().internalConfirmOperation())}),y(1," Salva indirizzo"),p()}}function cae(e,t){if(1&e){const n=wt();g(0,"button",25),U("click",function(){return ge(n),me(k().confirmOperation())}),y(1),p()}if(2&e){const n=k();w(1),ce(n.modalData.modalConfirmLabel)}}let lae=(()=>{class e{constructor(n,r,i,o,s){this.fb=n,this.modalService=r,this.cartService=i,this.addressService=o,this.databaseService=s,this.popupStep=!1,this.modalData={modalText:"",modalTitle:"",modalConfirmLabel:"",needInternalConfirm:!1},this.internalConfirm=!1}ngOnInit(){this.addressForm=this.fb.group({id:["",ie.required],line_1:["",ie.required],line_2:[""],zip:["",[ie.required,ie.pattern("^[0-9]{5}$")]],city:["",ie.required],province:["",ie.required]}),this.modalService.payload$.subscribe(n=>{n&&this.handlePayload(n)})}handlePayload(n){switch(n.method){case"removeFromCart":this.modalData.modalTitle="Rimuovi articolo dal carrello",this.modalData.modalText="Stai per rimuovere un articolo dal carrello. Procedere?",this.modalData.modalConfirmLabel="Rimuovi",this.modalData.productId=n.productId,this.modalData.method=n.method;break;case"editAddress":this.addressService.currentAddressList$.pipe(function zse(...e){const t=gp(e);return Qe((n,r)=>{const i=e.length,o=new Array(i);let s=e.map(()=>!1),a=!1;for(let c=0;c<i;c++)Zt(e[c]).subscribe($e(r,l=>{o[c]=l,!a&&!s[c]&&(s[c]=!0,(a=s.every(Dr))&&(s=null))},su));n.subscribe($e(r,c=>{if(a){const l=[c,...o];r.next(t?t(...l):l)}}))})}(this.addressService.addressSelected$)).subscribe(([r,i])=>{if(r&&r.length>0&&!i){const o=this.addressService.getCurrentAddressCheckout()?.deliveryAddressId,s=o?r.find(a=>a.deliveryAddressId===o):r[0];this.addressService.setSelectedAddress(s)}}),this.modalData.modalTitle="Seleziona o aggiungi indirizzo",this.modalData.modalText="",this.modalData.modalConfirmLabel="Conferma",this.modalData.item=n.item,this.modalData.method=n.method,this.modalData.needInternalConfirm=!0;break;default:console.log("unknown",n.method)}}confirmOperation(){let n=this.modalData;switch(n.method){case"removeFromCart":n.productId&&this.cartService.removeFromCart(n.productId);break;case"editAddress":this.cartService.getCurrentCheckout()&&(this.cartService.getCurrentCheckout().deliveryAddressId=this.addressService.getSelectedAddress().id,this.addressService.patchAddress(),this.addressService.updateAddress());break;default:console.log("unknown",n.method)}}cancelOperation(){this.internalConfirm=!1,this.addressService.setSelectedAddress(null),setTimeout(()=>{this.popupStep=!1},1e3)}getInternalConfirmCondition(){return this.modalData.needInternalConfirm&&!this.internalConfirm}toTitleCase(n){return n.toLowerCase().split(" ").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" ")}internalConfirmOperation(){let n=this.modalData;this.databaseService.generateRandomId(12,"address").then(i=>{this.addressForm.patchValue({id:i,line_1:this.toTitleCase(this.addressForm.controls.line_1.value),line_2:this.toTitleCase(this.addressForm.controls.line_2.value),city:this.toTitleCase(this.addressForm.controls.city.value),province:(this.addressForm.controls.province.value||"").toUpperCase(),zip:this.addressForm.controls.zip.value}),this.addressForm.invalid?this.addressForm.markAllAsTouched():"editAddress"===n.method?(this.internalConfirm=!0,this.addressService.addAddress(this.addressForm).then(()=>{this.popupStep=!1}).catch(o=>{})):console.log("unknown",n.method)})}static{this.\u0275fac=function(r){return new(r||e)(C(ea),C(rp),C(jo),C(nu),C(bn))}}static{this.\u0275cmp=pe({type:e,selectors:[["app-confirm-popup"]],decls:13,vars:5,consts:[["id","confirmModal","data-bs-backdrop","static","data-bs-keyboard","false","tabindex","-1",1,"modal","modal-lg","fade"],[1,"modal-dialog","modal-dialog-scrollable"],[1,"modal-content"],[1,"modal-header"],["id","confirmModalLabel",1,"modal-title","fs-5",3,"innerHTML"],["type","button","data-bs-dismiss","modal",1,"btn-close",3,"click"],[4,"ngIf"],["class","modal-body",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["class","btn btn-primary",3,"click",4,"ngIf"],["type","button","data-bs-dismiss","modal","class","btn btn-primary",3,"click",4,"ngIf"],[1,"p-3",3,"formGroup"],[1,"mb-3"],[1,"form-label"],["type","text","formControlName","line_1",1,"form-control"],["class","text-danger small",4,"ngIf"],["type","text","formControlName","line_2",1,"form-control"],["type","text","formControlName","zip",1,"form-control"],["type","text","formControlName","city",1,"form-control"],["type","text","formControlName","province",1,"form-control"],[1,"text-danger","small"],[1,"modal-body"],[3,"addAddressEmitter"],[1,"btn","btn-primary",3,"click"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"]],template:function(r,i){1&r&&(g(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),A(4,"h1",4),g(5,"button",5),U("click",function(){return i.cancelOperation()}),p()(),R(6,iae,26,5,"div",6),R(7,sae,3,2,"div",7),g(8,"div",8)(9,"button",9),U("click",function(){return i.cancelOperation()}),y(10,"Annulla"),p(),R(11,aae,2,0,"button",10),R(12,cae,2,1,"button",11),p()()()()),2&r&&(w(4),S("innerHTML",i.popupStep?"Aggiungi indirizzo":i.modalData.modalTitle,ed),w(2),S("ngIf",i.popupStep),w(1),S("ngIf",!i.popupStep),w(4),S("ngIf",i.popupStep),w(1),S("ngIf",!i.popupStep))},dependencies:[Et,Js,co,Qc,Qs,uo,Xs,Xse]})}}return e})();function uae(e,t){if(1&e){const n=wt();g(0,"div",5)(1,"app-main-overlay",6),U("toggleMenuEmitter",function(i){return ge(n),me(k().openOverlay(i))}),p()()}if(2&e){const n=k();w(1),S("loadingVisible",n.loadingVisible)("menuVisible",n.menuVisible)}}function dae(e,t){if(1&e){const n=wt();g(0,"app-alfa-navbar",7),U("contactsEmitter",function(){return ge(n),me(k().contacts())})("toggleOverlayEmitter",function(i){return ge(n),me(k().openOverlay(i))}),p()}if(2&e){const n=k();S("menuVisible",n.menuVisible)("overlayOpen",n.overlayOpen)}}let fae=(()=>{class e{constructor(n,r,i){this.router=n,this.modalService=r,this.toastService=i,this.overlayOpen=!1,this.menuVisible=!1,this.loadingVisible=!1,this.isLoginPage=!1,this.isRegisterPage=!1,this.modalData={text:"test text"},this.toastVisible=!1,this.toastType="info",this.toastText="",this.router.events.pipe($r(o=>o instanceof Br)).subscribe(o=>{this.isLoginPage="/login"===o.url,this.isRegisterPage="/register"===o.url})}ngAfterViewInit(){const n=document.getElementById("confirmModal");this.confirmModal=new bootstrap.Modal(n),this.modalService.openModal$.subscribe(()=>{this.confirmModal.show()}),this.toastEl=document.getElementById("liveToast"),this.toast=new bootstrap.Toast(this.toastEl,{delay:4e3}),this.toastService.showToast$.subscribe(()=>{setTimeout(()=>this.toast.show(),0)})}contacts(){}openConfirmModal(){this.confirmModal.show()}showToast(){}openOverlay(n){"menuVisible"===n.name&&(this.menuVisible=n.visibility),this.overlayOpen=!this.overlayOpen}static{this.\u0275fac=function(r){return new(r||e)(C(ct),C(rp),C(Uo))}}static{this.\u0275cmp=pe({type:e,selectors:[["app-root"]],decls:8,vars:2,consts:[["style","top: 0; position: fixed; height: vh100; z-index: 5000; width: 100%; ",4,"ngIf"],[3,"menuVisible","overlayOpen","contactsEmitter","toggleOverlayEmitter",4,"ngIf"],[1,"container",2,"margin-top","100px","margin-bottom","50px","padding","0!important"],[1,"container","main-container",2,"padding","0!important"],["id","footer"],[2,"top","0","position","fixed","height","vh100","z-index","5000","width","100%"],[3,"loadingVisible","menuVisible","toggleMenuEmitter"],[3,"menuVisible","overlayOpen","contactsEmitter","toggleOverlayEmitter"]],template:function(r,i){1&r&&(R(0,uae,2,2,"div",0),R(1,dae,1,2,"app-alfa-navbar",1),A(2,"app-alfa-toast"),g(3,"div",2)(4,"div",3),A(5,"router-outlet"),p()(),A(6,"app-confirm-popup")(7,"app-alfa-footer",4)),2&r&&(S("ngIf",!i.isLoginPage&&i.overlayOpen&&!i.isRegisterPage),w(1),S("ngIf",!i.isLoginPage&&!i.isRegisterPage))},dependencies:[Et,J_,Fse,jse,$se,Hse,lae]})}}return e})();const hae_firebase={apiKey:"AIzaSyAyPpwYB1X-e5VnUkUgJ2orPcDr9ybDHEU",authDomain:"draggable-9f92b.firebaseapp.com",databaseURL:"https://draggable-9f92b.firebaseio.com",projectId:"draggable-9f92b",storageBucket:"draggable-9f92b.appspot.com",messagingSenderId:"1010593277055",appId:"1:1010593277055:web:1b729dc7368b8f6f"},pt=void 0;!function JG(e,t,n){(function U3(e,t,n){"string"!=typeof t&&(n=t,t=e[xe.LocaleId]),t=t.toLowerCase().replace(/_/g,"-"),ks[t]=e,n&&(ks[t][xe.ExtraData]=n)})(e,t,n)}(["it",[["m.","p."],["AM","PM"],pt],pt,[["D","L","M","M","G","V","S"],["dom","lun","mar","mer","gio","ven","sab"],["domenica","luned\xec","marted\xec","mercoled\xec","gioved\xec","venerd\xec","sabato"],["dom","lun","mar","mer","gio","ven","sab"]],pt,[["G","F","M","A","M","G","L","A","S","O","N","D"],["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"]],pt,[["aC","dC"],["a.C.","d.C."],["avanti Cristo","dopo Cristo"]],1,[6,0],["dd/MM/yy","d MMM y","d MMMM y","EEEE d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1}, {0}",pt,"{1} {0}",pt],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{BRL:[pt,"R$"],BYN:[pt,"Br"],EGP:[pt,"\xa3E"],HKD:[pt,"$"],INR:[pt,"\u20b9"],JPY:[pt,"\xa5"],KRW:[pt,"\u20a9"],MXN:[pt,"$"],NOK:[pt,"NKr"],THB:["\u0e3f"],TWD:[pt,"NT$"],USD:[pt,"$"],VND:[pt,"\u20ab"]},"ltr",function pae(e){const n=Math.floor(Math.abs(e)),r=e.toString().replace(/^[^.]*\.?/,"").length,i=parseInt(e.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return 1===n&&0===r?1:0===i&&0!==n&&n%1e6==0&&0===r||!(i>=0&&i<=5)?4:5}]);let gae=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Xt({type:e,bootstrap:[fae]})}static{this.\u0275inj=Ot({providers:[{provide:ur,useValue:"it-IT"}],imports:[w6,Ose,e9,t9,jee(()=>$ee(hae_firebase)),Ote(()=>Lte()),doe(()=>hoe())]})}}return e})();C6().bootstrapModule(gae).catch(e=>console.error(e))}},Ee=>{Ee(Ee.s=158)}]);