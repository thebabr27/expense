<div class="container-fluid ">
    <div class="container pt-5" style="max-width: 500px;">

        <div *ngIf="gameForm.get('phase')?.value === 'player-input'">
            <input [(ngModel)]="nickname" type="text" class="form-control" placeholder="Nickname">

            <button (click)="addPeople()" class="mt-5 btn btn-primary">Enter</button>
        </div>
        <!-- Fase PLAYER-SELECTION -->
        <div *ngIf="gameForm.get('phase')?.value === 'player-selection'">
            <div class="card player-list">
                <div class="card-body">
                    <h5 class="card-title">Lista Player</h5>
                    <ul class="list-group list-group-flush">
                        <li *ngFor="let p of people" class="list-group-item" (click)="selectPlayer(p)">
                            {{ p.name }}
                        </li>
                    </ul>
                    <button (click)="startGame()" class="btn btn-primary w-100 mt-2">Start game</button>
                </div>
            </div>
        </div>
        <div *ngIf="gameForm.get('phase')?.value === 'start'" class="container">

            <div class="d-flex justify-content-between card-wrapper">
                <div class="left-wrapper">
                    <div class="card dos-deck-card deck-card">
                        <div class="card-body"> </div>
                    </div>
                </div>
                <div class="center-wrapper">
                   
                <div class="deck-container" style="position: relative; height: 135px;"
                    style="margin-left: -45px">
                    <div *ngFor="let card of gameForm.get('centerDeck')?.value; let i = index" class="card deck-card"
                        [ngClass]="{
                            'deck-red': card.color === 'Rosso',
                            'deck-green': card.color === 'Verde',
                            'deck-blue': card.color === 'Blu',
                            'deck-yellow': card.color === 'Giallo',
                            'deck-wild': !card.color
                        }" [ngStyle]="{'margin-top': calculateMargin(i, gameForm.get('userDeck')?.value.length)}"
                        (click)="moveCardToCenterDeck(i)">
                        <div class="card-body w-100 d-flex flex-column justify-content-between">
                            <!-- Valore piccolo in alto a sinistra -->
                            <div class="d-flex justify-content-start">
                                <span *ngIf="card.type" class="small-value">
                                    <div *ngIf="card.type == 'reverse'">
                                        <i class="bi bi-arrow-repeat"></i>
                                    </div>
                                    <div *ngIf="card.type == 'skip'">
                                        <i class="bi bi-x-circle"></i>
                                    </div>
                                    <div *ngIf="card.type == 'draw-two'">
                                        <i class="bi bi-plus-lg"></i>2
                                    </div>
                                    <div *ngIf="card.type == 'wild-draw-four'">
                                        <i class="bi bi-plus-lg"></i>4
                                    </div>
                                    <div *ngIf="card.type == 'wild'">
                                        <div class="change-color-icon"></div>
                                    </div>
                                </span>
                                <span *ngIf="!card.type" class="small-value">{{ card.value }}</span>
                            </div>

                            <!-- Valore grande al centro -->
                            <div class="d-flex justify-content-center align-items-center flex-grow-1">
                                <h1 *ngIf="card.type" class="center-value m-0">
                                    <div *ngIf="card.type == 'reverse'">
                                        <i class="bi bi-arrow-repeat"></i>
                                    </div>
                                    <div *ngIf="card.type == 'skip'">
                                        <i class="bi bi-x-circle"></i>
                                    </div>
                                    <div *ngIf="card.type == 'draw-two'">
                                        <i class="bi bi-plus-lg"></i>2
                                    </div>
                                    <div *ngIf="card.type == 'wild-draw-four'">
                                        <div class="plus-four-icon center-icon"></div>
                                    </div>
                                    <div *ngIf="card.type == 'wild'">
                                        <div class="change-color-icon center-icon"></div>
                                    </div>
                                </h1>
                                <h1 *ngIf="!card.type" class="center-value m-0">{{ card.value }}</h1>
                            </div>

                            <!-- Valore piccolo in basso a destra -->
                            <div class="d-flex justify-content-end">
                                <span *ngIf="card.type" class="small-value">
                                    <div *ngIf="card.type == 'reverse'">
                                        <i class="bi bi-arrow-repeat"></i>
                                    </div>
                                    <div *ngIf="card.type == 'skip'">
                                        <i class="bi bi-x-circle"></i>
                                    </div>
                                    <div *ngIf="card.type == 'draw-two'">
                                        <i class="bi bi-plus-lg"></i>2
                                    </div>
                                    <div *ngIf="card.type == 'wild-draw-four'">
                                        <i class="bi bi-plus-lg"></i>4
                                    </div>
                                    <div *ngIf="card.type == 'wild'">
                                        <div class="change-color-icon"></div>
                                    </div>
                                </span>
                                <span *ngIf="!card.type" class="small-value">{{ card.value }}</span>
                            </div>
                        </div>

                    </div>
                </div>
                </div>
                <div class="right-wrapper"> </div>
            </div>
            <div class="d-flex justify-content-center card-wrapper">

                <div class="deck-container" style="position: relative; height: 135px;"
                    [ngStyle]="{'margin-left': calculateMarginForDeckContainer(gameForm.get('user')?.value?.deck?.length)}">
                    <div *ngFor="let card of gameForm.get('user')?.value?.deck; let i = index" class="card deck-card"
                        [ngClass]="{
                            'deck-red': card.color === 'Rosso',
                            'deck-green': card.color === 'Verde',
                            'deck-blue': card.color === 'Blu',
                            'deck-yellow': card.color === 'Giallo',
                            'deck-wild': !card.color
                        }" [ngStyle]="{'margin-left': calculateMargin(i, gameForm.get('user')?.value?.deck?.length)}"
                        (click)="moveCardToCenterDeck(i)">
                        <div class="card-body w-100 d-flex flex-column justify-content-between">
                            <!-- Valore piccolo in alto a sinistra -->
                            <div class="d-flex justify-content-start">
                                <span *ngIf="card.type" class="small-value">
                                    <div *ngIf="card.type == 'reverse'">
                                        <i class="bi bi-arrow-repeat"></i>
                                    </div>
                                    <div *ngIf="card.type == 'skip'">
                                        <i class="bi bi-x-circle"></i>
                                    </div>
                                    <div *ngIf="card.type == 'draw-two'">
                                        <i class="bi bi-plus-lg"></i>2
                                    </div>
                                    <div *ngIf="card.type == 'wild-draw-four'">
                                        <i class="bi bi-plus-lg"></i>4
                                    </div>
                                    <div *ngIf="card.type == 'wild'">
                                        <div class="change-color-icon"></div>
                                    </div>
                                </span>
                                <span *ngIf="!card.type" class="small-value">{{ card.value }}</span>
                            </div>

                            <!-- Valore grande al centro -->
                            <div class="d-flex justify-content-center align-items-center flex-grow-1">
                                <h1 *ngIf="card.type" class="center-value m-0">
                                    <div *ngIf="card.type == 'reverse'">
                                        <i class="bi bi-arrow-repeat"></i>
                                    </div>
                                    <div *ngIf="card.type == 'skip'">
                                        <i class="bi bi-x-circle"></i>
                                    </div>
                                    <div *ngIf="card.type == 'draw-two'">
                                        <i class="bi bi-plus-lg"></i>2
                                    </div>
                                    <div *ngIf="card.type == 'wild-draw-four'">
                                        <div class="plus-four-icon center-icon"></div>
                                    </div>
                                    <div *ngIf="card.type == 'wild'">
                                        <div class="change-color-icon center-icon"></div>
                                    </div>
                                </h1>
                                <h1 *ngIf="!card.type" class="center-value m-0">{{ card.value }}</h1>
                            </div>

                            <!-- Valore piccolo in basso a destra -->
                            <div class="d-flex justify-content-end">
                                <span *ngIf="card.type" class="small-value">
                                    <div *ngIf="card.type == 'reverse'">
                                        <i class="bi bi-arrow-repeat"></i>
                                    </div>
                                    <div *ngIf="card.type == 'skip'">
                                        <i class="bi bi-x-circle"></i>
                                    </div>
                                    <div *ngIf="card.type == 'draw-two'">
                                        <i class="bi bi-plus-lg"></i>2
                                    </div>
                                    <div *ngIf="card.type == 'wild-draw-four'">
                                        <i class="bi bi-plus-lg"></i>4
                                    </div>
                                    <div *ngIf="card.type == 'wild'">
                                        <div class="change-color-icon"></div>
                                    </div>
                                </span>
                                <span *ngIf="!card.type" class="small-value">{{ card.value }}</span>
                            </div>
                        </div>

                    </div>
                </div>

            </div>
        </div>
    </div>
</div>