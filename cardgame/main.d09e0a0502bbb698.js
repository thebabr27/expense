"use strict";(self.webpackChunkgame=self.webpackChunkgame||[]).push([[792],{977:()=>{function ge(e){return"function"==typeof e}function ra(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Nu=ra(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Co(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class Pt{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(ge(r))try{r()}catch(o){t=o instanceof Nu?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{Wb(o)}catch(s){t=t??[],s instanceof Nu?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Nu(t)}}add(t){var n;if(t&&t!==this)if(this.closed)Wb(t);else{if(t instanceof Pt){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Co(n,t)}remove(t){const{_finalizers:n}=this;n&&Co(n,t),t instanceof Pt&&t._removeParent(this)}}Pt.EMPTY=(()=>{const e=new Pt;return e.closed=!0,e})();const Hb=Pt.EMPTY;function zb(e){return e instanceof Pt||e&&"closed"in e&&ge(e.remove)&&ge(e.add)&&ge(e.unsubscribe)}function Wb(e){ge(e)?e():e.unsubscribe()}const bi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ku={setTimeout(e,t,...n){const{delegate:r}=ku;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=ku;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Gb(e){ku.setTimeout(()=>{const{onUnhandledError:t}=bi;if(!t)throw e;t(e)})}function Pf(){}const IL=Of("C",void 0,void 0);function Of(e,t,n){return{kind:e,value:t,error:n}}let Ii=null;function xu(e){if(bi.useDeprecatedSynchronousErrorHandling){const t=!Ii;if(t&&(Ii={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=Ii;if(Ii=null,n)throw r}}else e()}class Ff extends Pt{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,zb(t)&&t.add(this)):this.destination=NL}static create(t,n,r){return new ia(t,n,r)}next(t){this.isStopped?Vf(function TL(e){return Of("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Vf(function DL(e){return Of("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Vf(IL,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const AL=Function.prototype.bind;function Lf(e,t){return AL.call(e,t)}class ML{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Pu(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Pu(r)}else Pu(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Pu(n)}}}class ia extends Ff{constructor(t,n,r){let i;if(super(),ge(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&bi.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Lf(t.next,o),error:t.error&&Lf(t.error,o),complete:t.complete&&Lf(t.complete,o)}):i=t}this.destination=new ML(i)}}function Pu(e){bi.useDeprecatedSynchronousErrorHandling?function SL(e){bi.useDeprecatedSynchronousErrorHandling&&Ii&&(Ii.errorThrown=!0,Ii.error=e)}(e):Gb(e)}function Vf(e,t){const{onStoppedNotification:n}=bi;n&&ku.setTimeout(()=>n(e,t))}const NL={closed:!0,next:Pf,error:function RL(e){throw e},complete:Pf},Uf="function"==typeof Symbol&&Symbol.observable||"@@observable";function Br(e){return e}function qb(e){return 0===e.length?Br:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}let Re=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function PL(e){return e&&e instanceof Ff||function xL(e){return e&&ge(e.next)&&ge(e.error)&&ge(e.complete)}(e)&&zb(e)}(n)?n:new ia(n,r,i);return xu(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Kb(r))((i,o)=>{const s=new ia({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Uf](){return this}pipe(...n){return qb(n)(this)}toPromise(n){return new(n=Kb(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function Kb(e){var t;return null!==(t=e??bi.Promise)&&void 0!==t?t:Promise}const OL=ra(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let sn=(()=>{class e extends Re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new Yb(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new OL}next(n){xu(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){xu(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){xu(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?Hb:(this.currentObservers=null,o.push(n),new Pt(()=>{this.currentObservers=null,Co(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new Re;return n.source=this,n}}return e.create=(t,n)=>new Yb(t,n),e})();class Yb extends sn{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:Hb}}function Qb(e){return ge(e?.lift)}function ze(e){return t=>{if(Qb(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function $e(e,t,n,r,i){return new FL(e,t,n,r,i)}class FL extends Ff{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function me(e,t){return ze((n,r)=>{let i=0;n.subscribe($e(r,o=>{r.next(e.call(t,o,i++))}))})}function Ou(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function $r(e){return this instanceof $r?(this.v=e,this):new $r(e)}function eI(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function Hf(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,c){!function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}(a,c,(s=e[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const tI=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function nI(e){return ge(e?.then)}function rI(e){return ge(e[Uf])}function iI(e){return Symbol.asyncIterator&&ge(e?.[Symbol.asyncIterator])}function oI(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const sI=function cV(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function aI(e){return ge(e?.[sI])}function cI(e){return function Jb(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),o=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function s(f){return function(p){return Promise.resolve(p).then(f,d)}}),i[Symbol.asyncIterator]=function(){return this},i;function a(f,p){r[f]&&(i[f]=function(m){return new Promise(function(y,v){o.push([f,m,y,v])>1||c(f,m)})},p&&(i[f]=p(i[f])))}function c(f,p){try{!function u(f){f.value instanceof $r?Promise.resolve(f.value.v).then(l,d):h(o[0][2],f)}(r[f](p))}catch(m){h(o[0][3],m)}}function l(f){c("next",f)}function d(f){c("throw",f)}function h(f,p){f(p),o.shift(),o.length&&c(o[0][0],o[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield $r(n.read());if(i)return yield $r(void 0);yield yield $r(r)}}finally{n.releaseLock()}})}function uI(e){return ge(e?.getReader)}function qt(e){if(e instanceof Re)return e;if(null!=e){if(rI(e))return function uV(e){return new Re(t=>{const n=e[Uf]();if(ge(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(tI(e))return function lV(e){return new Re(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(nI(e))return function dV(e){return new Re(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Gb)})}(e);if(iI(e))return lI(e);if(aI(e))return function hV(e){return new Re(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(uI(e))return function fV(e){return lI(cI(e))}(e)}throw oI(e)}function lI(e){return new Re(t=>{(function pV(e,t){var n,r,i,o;return function Xb(e,t,n,r){return new(n||(n=Promise))(function(o,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?o(l.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(l.value).then(a,c)}u((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=eI(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function cr(e,t,n,r=0,i=!1){const o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function nt(e,t,n=1/0){return ge(t)?nt((r,i)=>me((o,s)=>t(r,o,i,s))(qt(e(r,i))),n):("number"==typeof t&&(n=t),ze((r,i)=>function gV(e,t,n,r,i,o,s,a){const c=[];let u=0,l=0,d=!1;const h=()=>{d&&!c.length&&!u&&t.complete()},f=m=>u<r?p(m):c.push(m),p=m=>{o&&t.next(m),u++;let y=!1;qt(n(m,l++)).subscribe($e(t,v=>{i?.(v),o?f(v):t.next(v)},()=>{y=!0},void 0,()=>{if(y)try{for(u--;c.length&&u<r;){const v=c.shift();s?cr(t,s,()=>p(v)):p(v)}h()}catch(v){t.error(v)}}))};return e.subscribe($e(t,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,e,n)))}function wo(e=1/0){return nt(Br,e)}const On=new Re(e=>e.complete());function Wf(e){return e[e.length-1]}function dI(e){return ge(Wf(e))?e.pop():void 0}function oa(e){return function _V(e){return e&&ge(e.schedule)}(Wf(e))?e.pop():void 0}function Fu(e,t=0){return ze((n,r)=>{n.subscribe($e(r,i=>cr(r,e,()=>r.next(i),t),()=>cr(r,e,()=>r.complete(),t),i=>cr(r,e,()=>r.error(i),t)))})}function Lu(e,t=0){return ze((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function hI(e,t){if(!e)throw new Error("Iterable cannot be null");return new Re(n=>{cr(n,t,()=>{const r=e[Symbol.asyncIterator]();cr(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Qe(e,t){return t?function IV(e,t){if(null!=e){if(rI(e))return function vV(e,t){return qt(e).pipe(Lu(t),Fu(t))}(e,t);if(tI(e))return function wV(e,t){return new Re(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(nI(e))return function CV(e,t){return qt(e).pipe(Lu(t),Fu(t))}(e,t);if(iI(e))return hI(e,t);if(aI(e))return function EV(e,t){return new Re(n=>{let r;return cr(n,t,()=>{r=e[sI](),cr(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>ge(r?.return)&&r.return()})}(e,t);if(uI(e))return function bV(e,t){return hI(cI(e),t)}(e,t)}throw oI(e)}(e,t):qt(e)}class Kt extends sn{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function B(...e){return Qe(e,oa(e))}function fI(e={}){const{connector:t=(()=>new sn),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return o=>{let s,a,c,u=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=c=void 0,l=d=!1},p=()=>{const m=s;f(),m?.unsubscribe()};return ze((m,y)=>{u++,!d&&!l&&h();const v=c=c??t();y.add(()=>{u--,0===u&&!d&&!l&&(a=Gf(p,i))}),v.subscribe(y),!s&&u>0&&(s=new ia({next:_=>v.next(_),error:_=>{d=!0,h(),a=Gf(f,n,_),v.error(_)},complete:()=>{l=!0,h(),a=Gf(f,r),v.complete()}}),qt(m).subscribe(s))})(o)}}function Gf(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new ia({next:()=>{r.unsubscribe(),e()}});return qt(t(...n)).subscribe(r)}function Fn(e,t){return ze((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe($e(r,c=>{i?.unsubscribe();let u=0;const l=o++;qt(e(c,l)).subscribe(i=$e(r,d=>r.next(t?t(c,d,l,u++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function SV(e,t){return e===t}function he(e){for(let t in e)if(e[t]===he)return t;throw Error("Could not find renamed property on target object.")}function Vu(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function We(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(We).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function qf(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const AV=he({__forward_ref__:he});function Ce(e){return e.__forward_ref__=Ce,e.toString=function(){return We(this())},e}function U(e){return Kf(e)?e():e}function Kf(e){return"function"==typeof e&&e.hasOwnProperty(AV)&&e.__forward_ref__===Ce}function Yf(e){return e&&!!e.\u0275providers}const pI="https://g.co/ng/security#xss";class E extends Error{constructor(t,n){super(function Uu(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function $(e){return"string"==typeof e?e:null==e?"":String(e)}function Qf(e,t){throw new E(-201,!1)}function an(e,t){null==e&&function L(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function P(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Ct(e){return{providers:e.providers||[],imports:e.imports||[]}}function ju(e){return gI(e,$u)||gI(e,mI)}function gI(e,t){return e.hasOwnProperty(t)?e[t]:null}function Bu(e){return e&&(e.hasOwnProperty(Xf)||e.hasOwnProperty(FV))?e[Xf]:null}const $u=he({\u0275prov:he}),Xf=he({\u0275inj:he}),mI=he({ngInjectableDef:he}),FV=he({ngInjectorDef:he});var Z=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Z||{});let Zf;function Ot(e){const t=Zf;return Zf=e,t}function yI(e,t,n){const r=ju(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Z.Optional?null:void 0!==t?t:void Qf(We(e))}const we=globalThis;class D{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=P({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const sa={},rp="__NG_DI_FLAG__",Hu="ngTempTokenPath",UV=/\n/gm,CI="__source";let Eo;function Hr(e){const t=Eo;return Eo=e,t}function $V(e,t=Z.Default){if(void 0===Eo)throw new E(-203,!1);return null===Eo?yI(e,void 0,t):Eo.get(e,t&Z.Optional?null:void 0,t)}function x(e,t=Z.Default){return(function _I(){return Zf}()||$V)(U(e),t)}function k(e,t=Z.Default){return x(e,zu(t))}function zu(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function ip(e){const t=[];for(let n=0;n<e.length;n++){const r=U(e[n]);if(Array.isArray(r)){if(0===r.length)throw new E(900,!1);let i,o=Z.Default;for(let s=0;s<r.length;s++){const a=r[s],c=HV(a);"number"==typeof c?-1===c?i=a.token:o|=c:i=a}t.push(x(i,o))}else t.push(x(r))}return t}function aa(e,t){return e[rp]=t,e.prototype[rp]=t,e}function HV(e){return e[rp]}function ur(e){return{toString:e}.toString()}var Wu=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Wu||{}),wn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(wn||{});const Ln={},ie=[],Gu=he({\u0275cmp:he}),op=he({\u0275dir:he}),sp=he({\u0275pipe:he}),EI=he({\u0275mod:he}),lr=he({\u0275fac:he}),ca=he({__NG_ELEMENT_ID__:he}),bI=he({__NG_ENV_ID__:he});function II(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}function ap(e,t,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{const o=i,s=n[++r];TI(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function DI(e){return 3===e||4===e||6===e}function TI(e){return 64===e.charCodeAt(0)}function ua(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||SI(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function SI(e,t,n,r,i){let o=0,s=e.length;if(-1===t)s=-1;else for(;o<e.length;){const a=e[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<e.length;){const a=e[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}const AI="ng-template";function GV(e,t,n){let r=0,i=!0;for(;r<e.length;){let o=e[r++];if("string"==typeof o&&i){const s=e[r++];if(n&&"class"===o&&-1!==II(s.toLowerCase(),t,0))return!0}else{if(1===o){for(;r<e.length&&"string"==typeof(o=e[r++]);)if(o.toLowerCase()===t)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function MI(e){return 4===e.type&&e.value!==AI}function qV(e,t,n){return t===(4!==e.type||n?e.value:AI)}function KV(e,t,n){let r=4;const i=e.attrs||[],o=function XV(e){for(let t=0;t<e.length;t++)if(DI(e[t]))return t;return e.length}(i);let s=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!qV(e,c,n)||""===c&&1===t.length){if(En(r))return!1;s=!0}}else{const u=8&r?c:t[++a];if(8&r&&null!==e.attrs){if(!GV(e.attrs,u,n)){if(En(r))return!1;s=!0}continue}const d=YV(8&r?"class":c,i,MI(e),n);if(-1===d){if(En(r))return!1;s=!0;continue}if(""!==u){let h;h=d>o?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==II(f,u,0)||2&r&&u!==h){if(En(r))return!1;s=!0}}}}else{if(!s&&!En(r)&&!En(c))return!1;if(s&&En(c))continue;s=!1,r=c|1&r}}return En(r)||s}function En(e){return 0==(1&e)}function YV(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){const s=t[i];if(s===e)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++i];for(;"string"==typeof a;)a=t[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function ZV(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function RI(e,t,n=!1){for(let r=0;r<t.length;r++)if(KV(e,t[r],n))return!0;return!1}function NI(e,t){return e?":not("+t.trim()+")":t}function e2(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&r){const a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!En(s)&&(t+=NI(o,i),i=""),r=s,o=o||!En(r);n++}return""!==i&&(t+=NI(o,i)),t}function dr(e){return ur(()=>{const t=xI(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Wu.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||wn.Emulated,styles:e.styles||ie,_:null,schemas:e.schemas||null,tView:null,id:""};PI(n);const r=e.dependencies;return n.directiveDefs=qu(r,!1),n.pipeDefs=qu(r,!0),n.id=function c2(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const i of n)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(n),n})}function i2(e){return te(e)||rt(e)}function o2(e){return null!==e}function Ft(e){return ur(()=>({type:e.type,bootstrap:e.bootstrap||ie,declarations:e.declarations||ie,imports:e.imports||ie,exports:e.exports||ie,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function kI(e,t){if(null==e)return Ln;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}function j(e){return ur(()=>{const t=xI(e);return PI(t),t})}function te(e){return e[Gu]||null}function rt(e){return e[op]||null}function wt(e){return e[sp]||null}function Qt(e,t){const n=e[EI]||null;if(!n&&!0===t)throw new Error(`Type ${We(e)} does not have '\u0275mod' property.`);return n}function xI(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Ln,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||ie,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:kI(e.inputs,t),outputs:kI(e.outputs)}}function PI(e){e.features?.forEach(t=>t(e))}function qu(e,t){if(!e)return null;const n=t?wt:i2;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(o2)}const Pe=0,T=1,W=2,Se=3,bn=4,la=5,ht=6,Io=7,Ve=8,zr=9,Do=10,H=11,da=12,OI=13,To=14,Ue=15,ha=16,So=17,Vn=18,fa=19,FI=20,Wr=21,hr=22,pa=23,ga=24,J=25,cp=1,LI=2,Un=7,Ao=9,it=11;function Vt(e){return Array.isArray(e)&&"object"==typeof e[cp]}function Et(e){return Array.isArray(e)&&!0===e[cp]}function up(e){return 0!=(4&e.flags)}function Ti(e){return e.componentOffset>-1}function Yu(e){return 1==(1&e.flags)}function In(e){return!!e.template}function lp(e){return 0!=(512&e[W])}function Si(e,t){return e.hasOwnProperty(lr)?e[lr]:null}let ot=null,Qu=!1;function cn(e){const t=ot;return ot=e,t}const jI={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function $I(e){if(!_a(e)||e.dirty){if(!e.producerMustRecompute(e)&&!WI(e))return void(e.dirty=!1);e.producerRecomputeValue(e),e.dirty=!1}}function zI(e){e.dirty=!0,function HI(e){if(void 0===e.liveConsumerNode)return;const t=Qu;Qu=!0;try{for(const n of e.liveConsumerNode)n.dirty||zI(n)}finally{Qu=t}}(e),e.consumerMarkedDirty?.(e)}function hp(e){return e&&(e.nextProducerIndex=0),cn(e)}function fp(e,t){if(cn(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(_a(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Xu(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function WI(e){Mo(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||($I(n),r!==n.version))return!0}return!1}function GI(e){if(Mo(e),_a(e))for(let t=0;t<e.producerNode.length;t++)Xu(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Xu(e,t){if(function KI(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),Mo(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)Xu(e.producerNode[r],e.producerIndexOfThis[r]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];Mo(i),i.producerIndexOfThis[r]=t}}function _a(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Mo(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let YI=null;const JI=()=>{},w2=(()=>({...jI,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:e=>{e.schedule(e.ref)},hasRun:!1,cleanupFn:JI}))();class E2{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function un(){return eD}function eD(e){return e.type.prototype.ngOnChanges&&(e.setInput=I2),b2}function b2(){const e=nD(this),t=e?.current;if(t){const n=e.previous;if(n===Ln)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function I2(e,t,n,r){const i=this.declaredInputs[n],o=nD(e)||function D2(e,t){return e[tD]=t}(e,{previous:Ln,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[i];s[i]=new E2(c&&c.currentValue,t,a===Ln),e[r]=t}un.ngInherit=!0;const tD="__ngSimpleChanges__";function nD(e){return e[tD]||null}const jn=function(e,t,n){};function Ee(e){for(;Array.isArray(e);)e=e[Pe];return e}function Zu(e,t){return Ee(t[e])}function Ut(e,t){return Ee(t[e.index])}function oD(e,t){return e.data[t]}function Xt(e,t){const n=t[e];return Vt(n)?n:n[Pe]}function qr(e,t){return null==t?null:e[t]}function sD(e){e[So]=0}function N2(e){1024&e[W]||(e[W]|=1024,cD(e,1))}function aD(e){1024&e[W]&&(e[W]&=-1025,cD(e,-1))}function cD(e,t){let n=e[Se];if(null===n)return;n[la]+=t;let r=n;for(n=n[Se];null!==n&&(1===t&&1===r[la]||-1===t&&0===r[la]);)n[la]+=t,r=n,n=n[Se]}const V={lFrame:vD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function dD(){return V.bindingsEnabled}function C(){return V.lFrame.lView}function ne(){return V.lFrame.tView}function ln(e){return V.lFrame.contextLView=e,e[Ve]}function dn(e){return V.lFrame.contextLView=null,e}function st(){let e=hD();for(;null!==e&&64===e.type;)e=e.parent;return e}function hD(){return V.lFrame.currentTNode}function Bn(e,t){const n=V.lFrame;n.currentTNode=e,n.isParent=t}function yp(){return V.lFrame.isParent}function vp(){V.lFrame.isParent=!1}function bt(){const e=V.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function ko(){return V.lFrame.bindingIndex++}function pr(e){const t=V.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function H2(e,t){const n=V.lFrame;n.bindingIndex=n.bindingRootIndex=e,Cp(t)}function Cp(e){V.lFrame.currentDirectiveIndex=e}function mD(){return V.lFrame.currentQueryIndex}function Ep(e){V.lFrame.currentQueryIndex=e}function W2(e){const t=e[T];return 2===t.type?t.declTNode:1===t.type?e[ht]:null}function _D(e,t,n){if(n&Z.SkipSelf){let i=t,o=e;for(;!(i=i.parent,null!==i||n&Z.Host||(i=W2(o),null===i||(o=o[To],10&i.type))););if(null===i)return!1;t=i,e=o}const r=V.lFrame=yD();return r.currentTNode=t,r.lView=e,!0}function bp(e){const t=yD(),n=e[T];V.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function yD(){const e=V.lFrame,t=null===e?null:e.child;return null===t?vD(e):t}function vD(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function CD(){const e=V.lFrame;return V.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const wD=CD;function Ip(){const e=CD();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function It(){return V.lFrame.selectedIndex}function Ai(e){V.lFrame.selectedIndex=e}function Ne(){const e=V.lFrame;return oD(e.tView,e.selectedIndex)}let bD=!0;function Ju(){return bD}function Kr(e){bD=e}function el(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),u&&((e.viewHooks??=[]).push(n,u),(e.viewCheckHooks??=[]).push(n,u)),null!=l&&(e.destroyHooks??=[]).push(n,l)}}function tl(e,t,n){ID(e,t,3,n)}function nl(e,t,n,r){(3&e[W])===n&&ID(e,t,n,r)}function Dp(e,t){let n=e[W];(3&n)===t&&(n&=8191,n+=1,e[W]=n)}function ID(e,t,n,r){const o=r??-1,s=t.length-1;let a=0;for(let c=void 0!==r?65535&e[So]:0;c<s;c++)if("number"==typeof t[c+1]){if(a=t[c],null!=r&&a>=r)break}else t[c]<0&&(e[So]+=65536),(a<o||-1==o)&&(J2(e,n,t,c),e[So]=(4294901760&e[So])+c+2),c++}function DD(e,t){jn(4,e,t);const n=cn(null);try{t.call(e)}finally{cn(n),jn(5,e,t)}}function J2(e,t,n,r){const i=n[r]<0,o=n[r+1],a=e[i?-n[r]:n[r]];i?e[W]>>13<e[So]>>16&&(3&e[W])===t&&(e[W]+=8192,DD(a,o)):DD(a,o)}const xo=-1;class va{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Sp(e){return e!==xo}function Ca(e){return 32767&e}function wa(e,t){let n=function rU(e){return e>>16}(e),r=t;for(;n>0;)r=r[To],n--;return r}let Ap=!0;function rl(e){const t=Ap;return Ap=e,t}const TD=255,SD=5;let iU=0;const $n={};function il(e,t){const n=AD(e,t);if(-1!==n)return n;const r=t[T];r.firstCreatePass&&(e.injectorIndex=t.length,Mp(r.data,e),Mp(t,null),Mp(r.blueprint,null));const i=ol(e,t),o=e.injectorIndex;if(Sp(i)){const s=Ca(i),a=wa(i,t),c=a[T].data;for(let u=0;u<8;u++)t[o+u]=a[s+u]|c[s+u]}return t[o+8]=i,o}function Mp(e,t){e.push(0,0,0,0,0,0,0,0,t)}function AD(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function ol(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){if(r=OD(i),null===r)return xo;if(n++,i=i[To],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return xo}function Rp(e,t,n){!function oU(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ca)&&(r=n[ca]),null==r&&(r=n[ca]=iU++);const i=r&TD;t.data[e+(i>>SD)]|=1<<i}(e,t,n)}function MD(e,t,n){if(n&Z.Optional||void 0!==e)return e;Qf()}function RD(e,t,n,r){if(n&Z.Optional&&void 0===r&&(r=null),!(n&(Z.Self|Z.Host))){const i=e[zr],o=Ot(void 0);try{return i?i.get(t,r,n&Z.Optional):yI(t,r,n&Z.Optional)}finally{Ot(o)}}return MD(r,0,n)}function ND(e,t,n,r=Z.Default,i){if(null!==e){if(2048&t[W]&&!(r&Z.Self)){const s=function dU(e,t,n,r,i){let o=e,s=t;for(;null!==o&&null!==s&&2048&s[W]&&!(512&s[W]);){const a=kD(o,s,n,r|Z.Self,$n);if(a!==$n)return a;let c=o.parent;if(!c){const u=s[FI];if(u){const l=u.get(n,$n,r);if(l!==$n)return l}c=OD(s),s=s[To]}o=c}return i}(e,t,n,r,$n);if(s!==$n)return s}const o=kD(e,t,n,r,$n);if(o!==$n)return o}return RD(t,n,r,i)}function kD(e,t,n,r,i){const o=function cU(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(ca)?e[ca]:void 0;return"number"==typeof t?t>=0?t&TD:lU:t}(n);if("function"==typeof o){if(!_D(t,e,r))return r&Z.Host?MD(i,0,r):RD(t,n,r,i);try{let s;if(s=o(r),null!=s||r&Z.Optional)return s;Qf()}finally{wD()}}else if("number"==typeof o){let s=null,a=AD(e,t),c=xo,u=r&Z.Host?t[Ue][ht]:null;for((-1===a||r&Z.SkipSelf)&&(c=-1===a?ol(e,t):t[a+8],c!==xo&&PD(r,!1)?(s=t[T],a=Ca(c),t=wa(c,t)):a=-1);-1!==a;){const l=t[T];if(xD(o,a,l.data)){const d=aU(a,t,n,s,r,u);if(d!==$n)return d}c=t[a+8],c!==xo&&PD(r,t[T].data[a+8]===u)&&xD(o,a,t)?(s=l,a=Ca(c),t=wa(c,t)):a=-1}}return i}function aU(e,t,n,r,i,o){const s=t[T],a=s.data[e+8],l=sl(a,s,n,null==r?Ti(a)&&Ap:r!=s&&0!=(3&a.type),i&Z.Host&&o===a);return null!==l?Mi(t,s,l,a):$n}function sl(e,t,n,r,i){const o=e.providerIndexes,s=t.data,a=1048575&o,c=e.directiveStart,l=o>>20,h=i?a+l:e.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=s[f];if(f<c&&n===p||f>=c&&p.type===n)return f}if(i){const f=s[c];if(f&&In(f)&&f.type===n)return c}return null}function Mi(e,t,n,r){let i=e[n];const o=t.data;if(function eU(e){return e instanceof va}(i)){const s=i;s.resolving&&function MV(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new E(-200,`Circular dependency in DI detected for ${e}${n}`)}(function ce(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():$(e)}(o[n]));const a=rl(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?Ot(s.injectImpl):null;_D(e,r,Z.Default);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function Z2(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){const s=eD(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}(n,o[n],t)}finally{null!==u&&Ot(u),rl(a),s.resolving=!1,wD()}}return i}function xD(e,t,n){return!!(n[t+(e>>SD)]&1<<e)}function PD(e,t){return!(e&Z.Self||e&Z.Host&&t)}class Dt{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return ND(this._tNode,this._lView,t,zu(r),n)}}function lU(){return new Dt(st(),C())}function at(e){return ur(()=>{const t=e.prototype.constructor,n=t[lr]||Np(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const o=i[lr]||Np(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Np(e){return Kf(e)?()=>{const t=Np(U(e));return t&&t()}:Si(e)}function OD(e){const t=e[T],n=t.type;return 2===n?t.declTNode:1===n?e[ht]:null}const Oo="__parameters__";function Lo(e,t,n){return ur(()=>{const r=function kp(e){return function(...n){if(e){const r=e(...n);for(const i in r)this[i]=r[i]}}}(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(c,u,l){const d=c.hasOwnProperty(Oo)?c[Oo]:Object.defineProperty(c,Oo,{value:[]})[Oo];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function Uo(e,t){e.forEach(n=>Array.isArray(n)?Uo(n,t):t(n))}function LD(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function cl(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Zt(e,t,n){let r=jo(e,t);return r>=0?e[1|r]=n:(r=~r,function yU(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function xp(e,t){const n=jo(e,t);if(n>=0)return e[1|n]}function jo(e,t){return function VD(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}(e,t,1)}const Tt=aa(Lo("Optional"),8),ll=aa(Lo("SkipSelf"),4);function gl(e){return 128==(128&e.flags)}var Yr=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Yr||{});const UU=/^>|^->|<!--|-->|--!>|<!-$/g,jU=/(<|>)/g,BU="\u200b$1\u200b";const Vp=new Map;let $U=0;const jp="__ngContext__";function ft(e,t){Vt(t)?(e[jp]=t[fa],function zU(e){Vp.set(e[fa],e)}(t)):e[jp]=t}let Bp;function $p(e,t){return Bp(e,t)}function Sa(e){const t=e[Se];return Et(t)?t[Se]:t}function iT(e){return sT(e[da])}function oT(e){return sT(e[bn])}function sT(e){for(;null!==e&&!Et(e);)e=e[bn];return e}function Ho(e,t,n,r,i){if(null!=r){let o,s=!1;Et(r)?o=r:Vt(r)&&(s=!0,r=r[Pe]);const a=Ee(r);0===e&&null!==n?null==i?lT(t,n,a):Ri(t,n,a,i||null,!0):1===e&&null!==n?Ri(t,n,a,i||null,!0):2===e?function El(e,t,n){const r=Cl(e,t);r&&function uj(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,a,s):3===e&&t.destroyNode(a),null!=o&&function hj(e,t,n,r,i){const o=n[Un];o!==Ee(n)&&Ho(t,e,r,o,i);for(let a=it;a<n.length;a++){const c=n[a];Ma(c[T],c,e,t,r,o)}}(t,e,o,n,i)}}function Hp(e,t){return e.createComment(function QD(e){return e.replace(UU,t=>t.replace(jU,BU))}(t))}function yl(e,t,n){return e.createElement(t,n)}function cT(e,t){const n=e[Ao],r=n.indexOf(t);aD(t),n.splice(r,1)}function vl(e,t){if(e.length<=it)return;const n=it+t,r=e[n];if(r){const i=r[ha];null!==i&&i!==e&&cT(i,r),t>0&&(e[n-1][bn]=r[bn]);const o=cl(e,it+t);!function tj(e,t){Ma(e,t,t[H],2,null,null),t[Pe]=null,t[ht]=null}(r[T],r);const s=o[Vn];null!==s&&s.detachView(o[T]),r[Se]=null,r[bn]=null,r[W]&=-129}return r}function zp(e,t){if(!(256&t[W])){const n=t[H];t[pa]&&GI(t[pa]),t[ga]&&GI(t[ga]),n.destroyNode&&Ma(e,t,n,3,null,null),function ij(e){let t=e[da];if(!t)return Wp(e[T],e);for(;t;){let n=null;if(Vt(t))n=t[da];else{const r=t[it];r&&(n=r)}if(!n){for(;t&&!t[bn]&&t!==e;)Vt(t)&&Wp(t[T],t),t=t[Se];null===t&&(t=e),Vt(t)&&Wp(t[T],t),n=t&&t[bn]}t=n}}(t)}}function Wp(e,t){if(!(256&t[W])){t[W]&=-129,t[W]|=256,function cj(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof va)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],c=o[s+1];jn(4,a,c);try{c.call(a)}finally{jn(5,a,c)}}else{jn(4,i,o);try{o.call(i)}finally{jn(5,i,o)}}}}}(e,t),function aj(e,t){const n=e.cleanup,r=t[Io];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(t[Io]=null);const i=t[Wr];if(null!==i){t[Wr]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(e,t),1===t[T].type&&t[H].destroy();const n=t[ha];if(null!==n&&Et(t[Se])){n!==t[Se]&&cT(n,t);const r=t[Vn];null!==r&&r.detachView(e)}!function WU(e){Vp.delete(e[fa])}(t)}}function Gp(e,t,n){return function uT(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[Pe];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=e.data[r.directiveStart+i];if(o===wn.None||o===wn.Emulated)return null}return Ut(r,n)}}(e,t.parent,n)}function Ri(e,t,n,r,i){e.insertBefore(t,n,r,i)}function lT(e,t,n){e.appendChild(t,n)}function dT(e,t,n,r,i){null!==r?Ri(e,t,n,r,i):lT(e,t,n)}function Cl(e,t){return e.parentNode(t)}let qp,bl,Xp,Il,pT=function fT(e,t,n){return 40&e.type?Ut(e,n):null};function wl(e,t,n,r){const i=Gp(e,r,t),o=t[H],a=function hT(e,t,n){return pT(e,t,n)}(r.parent||t[ht],r,t);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)dT(o,i,n[c],a,!1);else dT(o,i,n,a,!1);void 0!==qp&&qp(o,r,t,n,i)}function Aa(e,t){if(null!==t){const n=t.type;if(3&n)return Ut(t,e);if(4&n)return Kp(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return Aa(e,r);{const i=e[t.index];return Et(i)?Kp(-1,i):Ee(i)}}if(32&n)return $p(t,e)()||Ee(e[t.index]);{const r=mT(e,t);return null!==r?Array.isArray(r)?r[0]:Aa(Sa(e[Ue]),r):Aa(e,t.next)}}return null}function mT(e,t){return null!==t?e[Ue][ht].projection[t.projection]:null}function Kp(e,t){const n=it+e+1;if(n<t.length){const r=t[n],i=r[T].firstChild;if(null!==i)return Aa(r,i)}return t[Un]}function Yp(e,t,n,r,i,o,s){for(;null!=n;){const a=r[n.index],c=n.type;if(s&&0===t&&(a&&ft(Ee(a),r),n.flags|=2),32!=(32&n.flags))if(8&c)Yp(e,t,n.child,r,i,o,!1),Ho(t,e,i,a,o);else if(32&c){const u=$p(n,r);let l;for(;l=u();)Ho(t,e,i,l,o);Ho(t,e,i,a,o)}else 16&c?yT(e,t,r,n,i,o):Ho(t,e,i,a,o);n=s?n.projectionNext:n.next}}function Ma(e,t,n,r,i,o){Yp(n,r,e.firstChild,t,i,o,!1)}function yT(e,t,n,r,i,o){const s=n[Ue],c=s[ht].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++)Ho(t,e,i,c[u],o);else{let u=c;const l=s[Se];gl(r)&&(u.flags|=128),Yp(e,t,u,l,i,o,!0)}}function vT(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function CT(e,t,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&ap(e,t,r),null!==i&&vT(e,t,i),null!==o&&function pj(e,t,n){e.setAttribute(t,"style",n)}(e,t,o)}function zo(e){return function Qp(){if(void 0===bl&&(bl=null,we.trustedTypes))try{bl=we.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return bl}()?.createHTML(e)||e}function Wo(){if(void 0!==Xp)return Xp;if(typeof document<"u")return document;throw new E(210,!1)}function Zp(){if(void 0===Il&&(Il=null,we.trustedTypes))try{Il=we.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Il}function wT(e){return Zp()?.createHTML(e)||e}function bT(e){return Zp()?.createScriptURL(e)||e}class IT{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${pI})`}}function Qr(e){return e instanceof IT?e.changingThisBreaksApplicationSecurity:e}function Ra(e,t){const n=function Ij(e){return e instanceof IT&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${pI})`)}return n===t}class Dj{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(zo(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.removeChild(n.firstChild),n)}catch{return null}}}class Tj{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){const n=this.inertDocument.createElement("template");return n.innerHTML=zo(t),n}}const Aj=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Jp(e){return(e=String(e)).match(Aj)?e:"unsafe:"+e}function gr(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function Na(...e){const t={};for(const n of e)for(const r in n)n.hasOwnProperty(r)&&(t[r]=!0);return t}const TT=gr("area,br,col,hr,img,wbr"),ST=gr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),AT=gr("rp,rt"),eg=Na(TT,Na(ST,gr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Na(AT,gr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Na(AT,ST)),tg=gr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),MT=Na(tg,gr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),gr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Mj=gr("script,style,template");class Rj{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let n=t.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(t){const n=t.nodeName.toLowerCase();if(!eg.hasOwnProperty(n))return this.sanitizedSomething=!0,!Mj.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=t.attributes;for(let i=0;i<r.length;i++){const o=r.item(i),s=o.name,a=s.toLowerCase();if(!MT.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;tg[a]&&(c=Jp(c)),this.buf.push(" ",s,'="',RT(c),'"')}return this.buf.push(">"),!0}endElement(t){const n=t.nodeName.toLowerCase();eg.hasOwnProperty(n)&&!TT.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(RT(t))}checkClobberedElement(t,n){if(n&&(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return n}}const Nj=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,kj=/([^\#-~ |!])/g;function RT(e){return e.replace(/&/g,"&amp;").replace(Nj,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(kj,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Dl;function ng(e){return"content"in e&&function Pj(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Go=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Go||{});function NT(e){const t=ka();return t?wT(t.sanitize(Go.HTML,e)||""):Ra(e,"HTML")?wT(Qr(e)):function xj(e,t){let n=null;try{Dl=Dl||function DT(e){const t=new Tj(e);return function Sj(){try{return!!(new window.DOMParser).parseFromString(zo(""),"text/html")}catch{return!1}}()?new Dj(t):t}(e);let r=t?String(t):"";n=Dl.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Dl.getInertBodyElement(r)}while(r!==o);return zo((new Rj).sanitizeChildren(ng(n)||n))}finally{if(n){const r=ng(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}(Wo(),$(e))}function kT(e){const t=ka();return t?t.sanitize(Go.URL,e)||"":Ra(e,"URL")?Qr(e):Jp($(e))}function xT(e){const t=ka();if(t)return bT(t.sanitize(Go.RESOURCE_URL,e)||"");if(Ra(e,"ResourceURL"))return bT(Qr(e));throw new E(904,!1)}function ka(){const e=C();return e&&e[Do].sanitizer}const xa=new D("ENVIRONMENT_INITIALIZER"),OT=new D("INJECTOR",-1),FT=new D("INJECTOR_DEF_TYPES");class rg{get(t,n=sa){if(n===sa){const r=new Error(`NullInjectorError: No provider for ${We(t)}!`);throw r.name="NullInjectorError",r}return n}}function jj(...e){return{\u0275providers:VT(0,e),\u0275fromNgModule:!0}}function VT(e,...t){const n=[],r=new Set;let i;const o=s=>{n.push(s)};return Uo(t,s=>{const a=s;Tl(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&UT(i,o),n}function UT(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:i}=e[n];ig(i,o=>{t(o,r)})}}function Tl(e,t,n,r){if(!(e=U(e)))return!1;let i=null,o=Bu(e);const s=!o&&te(e);if(o||s){if(s&&!s.standalone)return!1;i=e}else{const c=e.ngModule;if(o=Bu(c),!o)return!1;i=c}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const u of c)Tl(u,t,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let u;r.add(i);try{Uo(o.imports,l=>{Tl(l,t,n,r)&&(u||=[],u.push(l))})}finally{}void 0!==u&&UT(u,t)}if(!a){const u=Si(i)||(()=>new i);t({provide:i,useFactory:u,deps:ie},i),t({provide:FT,useValue:i,multi:!0},i),t({provide:xa,useValue:()=>x(i),multi:!0},i)}const c=o.providers;if(null!=c&&!a){const u=e;ig(c,l=>{t(l,u)})}}}return i!==e&&void 0!==e.providers}function ig(e,t){for(let n of e)Yf(n)&&(n=n.\u0275providers),Array.isArray(n)?ig(n,t):t(n)}const Bj=he({provide:String,useValue:he});function og(e){return null!==e&&"object"==typeof e&&Bj in e}function Ni(e){return"function"==typeof e}const sg=new D("Set Injector scope."),Sl={},Hj={};let ag;function Al(){return void 0===ag&&(ag=new rg),ag}class fn{}class qo extends fn{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ug(t,s=>this.processProvider(s)),this.records.set(OT,Ko(void 0,this)),i.has("environment")&&this.records.set(fn,Ko(void 0,this));const o=this.records.get(sg);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(FT.multi,ie,Z.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=Hr(this),r=Ot(void 0);try{return t()}finally{Hr(n),Ot(r)}}get(t,n=sa,r=Z.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(bI))return t[bI](this);r=zu(r);const o=Hr(this),s=Ot(void 0);try{if(!(r&Z.SkipSelf)){let c=this.records.get(t);if(void 0===c){const u=function Kj(e){return"function"==typeof e||"object"==typeof e&&e instanceof D}(t)&&ju(t);c=u&&this.injectableDefInScope(u)?Ko(cg(t),Sl):null,this.records.set(t,c)}if(null!=c)return this.hydrate(t,c)}return(r&Z.Self?Al():this.parent).get(t,n=r&Z.Optional&&n===sa?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Hu]=a[Hu]||[]).unshift(We(t)),o)throw a;return function zV(e,t,n,r){const i=e[Hu];throw t[CI]&&i.unshift(t[CI]),e.message=function WV(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=We(t);if(Array.isArray(t))i=t.map(We).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):We(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(UV,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[Hu]=null,e}(a,t,"R3InjectorError",this.source)}throw a}finally{Ot(s),Hr(o)}}resolveInjectorInitializers(){const t=Hr(this),n=Ot(void 0);try{const i=this.get(xa.multi,ie,Z.Self);for(const o of i)o()}finally{Hr(t),Ot(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(We(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new E(205,!1)}processProvider(t){let n=Ni(t=U(t))?t:U(t&&t.provide);const r=function Wj(e){return og(e)?Ko(void 0,e.useValue):Ko($T(e),Sl)}(t);if(Ni(t)||!0!==t.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=Ko(void 0,Sl,!0),i.factory=()=>ip(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===Sl&&(n.value=Hj,n.value=n.factory()),"object"==typeof n.value&&n.value&&function qj(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=U(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function cg(e){const t=ju(e),n=null!==t?t.factory:Si(e);if(null!==n)return n;if(e instanceof D)throw new E(204,!1);if(e instanceof Function)return function zj(e){const t=e.length;if(t>0)throw function Ia(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new E(204,!1);const n=function OV(e){return e&&(e[$u]||e[mI])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new E(204,!1)}function $T(e,t,n){let r;if(Ni(e)){const i=U(e);return Si(i)||cg(i)}if(og(e))r=()=>U(e.useValue);else if(function BT(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...ip(e.deps||[]));else if(function jT(e){return!(!e||!e.useExisting)}(e))r=()=>x(U(e.useExisting));else{const i=U(e&&(e.useClass||e.provide));if(!function Gj(e){return!!e.deps}(e))return Si(i)||cg(i);r=()=>new i(...ip(e.deps))}return r}function Ko(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function ug(e,t){for(const n of e)Array.isArray(n)?ug(n,t):n&&Yf(n)?ug(n.\u0275providers,t):t(n)}const Ml=new D("AppId",{providedIn:"root",factory:()=>Yj}),Yj="ng",HT=new D("Platform Initializer"),Xr=new D("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),zT=new D("CSP nonce",{providedIn:"root",factory:()=>Wo().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let WT=(e,t,n)=>null;function _g(e,t,n=!1){return WT(e,t,n)}class oB{}class KT{}class aB{resolveComponentFactory(t){throw function sB(e){const t=Error(`No component factory found for ${We(e)}.`);return t.ngComponent=e,t}(t)}}let Ol=(()=>{class e{static{this.NULL=new aB}}return e})();function cB(){return Xo(st(),C())}function Xo(e,t){return new Jt(Ut(e,t))}let Jt=(()=>{class e{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=cB}}return e})();function uB(e){return e instanceof Jt?e.nativeElement:e}class QT{}let mr=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function lB(){const e=C(),n=Xt(st().index,e);return(Vt(n)?n:e)[H]}()}}return e})(),dB=(()=>{class e{static{this.\u0275prov=P({token:e,providedIn:"root",factory:()=>null})}}return e})();class Zo{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const XT=new Zo("16.2.12"),Cg={};function tS(e,t=null,n=null,r){const i=nS(e,t,n,r);return i.resolveInjectorInitializers(),i}function nS(e,t=null,n=null,r,i=new Set){const o=[n||ie,jj(e)];return r=r||("object"==typeof e?void 0:We(e)),new qo(o,t||Al(),r||null,i)}let pt=(()=>{class e{static{this.THROW_IF_NOT_FOUND=sa}static{this.NULL=new rg}static create(n,r){if(Array.isArray(n))return tS({name:""},r,n,"");{const i=n.name??"";return tS({name:i},n.parent,n.providers,i)}}static{this.\u0275prov=P({token:e,providedIn:"any",factory:()=>x(OT)})}static{this.__NG_ELEMENT_ID__=-1}}return e})();function Eg(e){return e.ngOriginalError}class _r{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Eg(t);for(;n&&Eg(n);)n=Eg(n);return n||null}}function bg(e){return t=>{setTimeout(e,void 0,t)}}const Oe=class vB extends sn{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&"object"==typeof t){const c=t;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=bg(o),i&&(i=bg(i)),s&&(s=bg(s)));const a=super.subscribe({next:i,error:o,complete:s});return t instanceof Pt&&t.add(a),a}};function iS(...e){}class ue{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Oe(!1),this.onMicrotaskEmpty=new Oe(!1),this.onStable=new Oe(!1),this.onError=new Oe(!1),typeof Zone>"u")throw new E(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function CB(){const e="function"==typeof we.requestAnimationFrame;let t=we[e?"requestAnimationFrame":"setTimeout"],n=we[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function bB(e){const t=()=>{!function EB(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(we,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Dg(e),e.isCheckStableRunning=!0,Ig(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Dg(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(function DB(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,o,s,a);try{return oS(e),n.invokeTask(i,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&t(),sS(e)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return oS(e),n.invoke(i,o,s,a,c)}finally{e.shouldCoalesceRunChangeDetection&&t(),sS(e)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,Dg(e),Ig(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ue.isInAngularZone())throw new E(909,!1)}static assertNotInAngularZone(){if(ue.isInAngularZone())throw new E(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,wB,iS,iS);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const wB={};function Ig(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Dg(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function oS(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function sS(e){e._nesting--,Ig(e)}class IB{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Oe,this.onMicrotaskEmpty=new Oe,this.onStable=new Oe,this.onError=new Oe}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}const aS=new D("",{providedIn:"root",factory:cS});function cS(){const e=k(ue);let t=!0;return function DV(...e){const t=oa(e),n=function yV(e,t){return"number"==typeof Wf(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?qt(r[0]):wo(n)(Qe(r,t)):On}(new Re(i=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{i.next(t),i.complete()})}),new Re(i=>{let o;e.runOutsideAngular(()=>{o=e.onStable.subscribe(()=>{ue.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,i.next(!0))})})});const s=e.onUnstable.subscribe(()=>{ue.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(fI()))}function yr(e){return e instanceof Function?e():e}let Tg=(()=>{class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=P({token:e,providedIn:"root",factory:()=>new e})}}return e})();function Fa(e){for(;e;){e[W]|=64;const t=Sa(e);if(lp(e)&&!t)return e;e=t}return null}const fS=new D("",{providedIn:"root",factory:()=>!1});let Vl=null;function _S(e,t){return e[t]??CS()}function yS(e,t){const n=CS();n.producerNode?.length&&(e[t]=Vl,n.lView=e,Vl=vS())}const OB={...jI,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Fa(e.lView)},lView:null};function vS(){return Object.create(OB)}function CS(){return Vl??=vS(),Vl}const z={};function S(e){wS(ne(),C(),It()+e,!1)}function wS(e,t,n,r){if(!r)if(3==(3&t[W])){const o=e.preOrderCheckHooks;null!==o&&tl(t,o,n)}else{const o=e.preOrderHooks;null!==o&&nl(t,o,0,n)}Ai(n)}function w(e,t=Z.Default){const n=C();return null===n?x(e,t):ND(st(),n,U(e),t)}function Ul(e,t,n,r,i,o,s,a,c,u,l){const d=t.blueprint.slice();return d[Pe]=i,d[W]=140|r,(null!==u||e&&2048&e[W])&&(d[W]|=2048),sD(d),d[Se]=d[To]=e,d[Ve]=n,d[Do]=s||e&&e[Do],d[H]=a||e&&e[H],d[zr]=c||e&&e[zr]||null,d[ht]=o,d[fa]=function HU(){return $U++}(),d[hr]=l,d[FI]=u,d[Ue]=2==t.type?e[Ue]:d,d}function ts(e,t,n,r,i){let o=e.data[t];if(null===o)o=function Sg(e,t,n,r,i){const o=hD(),s=yp(),c=e.data[t]=function HB(e,t,n,r,i,o){let s=t?t.injectorIndex:-1,a=0;return function No(){return null!==V.skipHydrationRootTNode}()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(e,t,n,r,i),function $2(){return V.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function ya(){const e=V.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Bn(o,!0),o}function La(e,t,n,r){if(0===n)return-1;const i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function bS(e,t,n,r,i){const o=_S(t,pa),s=It(),a=2&r;try{Ai(-1),a&&t.length>J&&wS(e,t,J,!1),jn(a?2:0,i);const u=a?o:null,l=hp(u);try{null!==u&&(u.dirty=!1),n(r,i)}finally{fp(u,l)}}finally{a&&null===t[pa]&&yS(t,pa),Ai(s),jn(a?3:1,i)}}function Ag(e,t,n){if(up(t)){const r=cn(null);try{const o=t.directiveEnd;for(let s=t.directiveStart;s<o;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,n[s],s)}}finally{cn(r)}}}function Mg(e,t,n){dD()&&(function QB(e,t,n,r){const i=n.directiveStart,o=n.directiveEnd;Ti(n)&&function r$(e,t,n){const r=Ut(t,e),i=IS(n);let s=16;n.signals?s=4096:n.onPush&&(s=64);const a=jl(e,Ul(e,i,null,s,r,t,null,e[Do].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=a}(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||il(n,t),ft(r,t);const s=n.initialInputs;for(let a=i;a<o;a++){const c=e.data[a],u=Mi(t,e,a,n);ft(u,t),null!==s&&i$(0,a-i,u,c,0,s),In(c)&&(Xt(n.index,t)[Ve]=Mi(t,e,a,n))}}(e,t,n,Ut(n,t)),64==(64&n.flags)&&MS(e,t,n))}function Rg(e,t,n=Ut){const r=t.localNames;if(null!==r){let i=t.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(t,e):e[s];e[i++]=a}}}function IS(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Ng(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Ng(e,t,n,r,i,o,s,a,c,u,l){const d=J+r,h=d+i,f=function LB(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:z);return n}(d,h),p="function"==typeof u?u():u;return f[T]={type:e,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:l}}let DS=e=>null;function TS(e,t,n,r){for(let i in e)if(e.hasOwnProperty(i)){n=null===n?{}:n;const o=e[i];null===r?SS(n,t,i,o):r.hasOwnProperty(i)&&SS(n,t,r[i],o)}return n}function SS(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function kg(e,t,n,r){if(dD()){const i=null===r?null:{"":-1},o=function ZB(e,t){const n=e.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(RI(t,s.selectors,!1))if(r||(r=[]),In(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),xg(e,t,a.length)}else r.unshift(s),xg(e,t,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(e,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&AS(e,t,n,s,i,a),i&&function JB(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const o=n[t[i+1]];if(null==o)throw new E(-301,!1);r.push(t[i],o)}}}(n,r,i)}n.mergedAttrs=ua(n.mergedAttrs,n.attrs)}function AS(e,t,n,r,i,o){for(let u=0;u<r.length;u++)Rp(il(n,t),e,r[u].type);!function t$(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let u=0;u<r.length;u++){const l=r[u];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,c=La(e,t,r.length,null);for(let u=0;u<r.length;u++){const l=r[u];n.mergedAttrs=ua(n.mergedAttrs,l.hostAttrs),n$(e,n,t,c,l),e$(c,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function zB(e,t,n){const i=t.directiveEnd,o=e.data,s=t.attrs,a=[];let c=null,u=null;for(let l=t.directiveStart;l<i;l++){const d=o[l],h=n?n.get(d):null,p=h?h.outputs:null;c=TS(d.inputs,l,c,h?h.inputs:null),u=TS(d.outputs,l,u,p);const m=null===c||null===s||MI(t)?null:o$(c,l,s);a.push(m)}null!==c&&(c.hasOwnProperty("class")&&(t.flags|=8),c.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=c,t.outputs=u}(e,n,o)}function MS(e,t,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function z2(){return V.lFrame.currentDirectiveIndex}();try{Ai(o);for(let a=r;a<i;a++){const c=e.data[a],u=t[a];Cp(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&XB(c,u)}}finally{Ai(-1),Cp(s)}}function XB(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function xg(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function e$(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;In(t)&&(n[""]=e)}}function n$(e,t,n,r,i){e.data[r]=i;const o=i.factory||(i.factory=Si(i.type)),s=new va(o,In(i),w);e.blueprint[r]=s,n[r]=s,function KB(e,t,n,r,i){const o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~t.index;(function YB(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(e,t,r,La(e,n,i.hostVars,z),i)}function Hn(e,t,n,r,i,o){const s=Ut(e,t);!function Pg(e,t,n,r,i,o,s){if(null==o)e.removeAttribute(t,i,n);else{const a=null==s?$(o):s(o,r||"",i);e.setAttribute(t,i,a,n)}}(t[H],s,o,e.value,n,r,i)}function i$(e,t,n,r,i,o){const s=o[t];if(null!==s)for(let a=0;a<s.length;)RS(r,n,s[a++],s[a++],s[a++])}function RS(e,t,n,r,i){const o=cn(null);try{const s=e.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(t,i)),null!==e.setInput?e.setInput(t,i,n,r):t[r]=i}finally{cn(o)}}function o$(e,t,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(e.hasOwnProperty(o)){null===r&&(r=[]);const s=e[o];for(let a=0;a<s.length;a+=2)if(s[a]===t){r.push(o,s[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function NS(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null,null]}function kS(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r+1];if(-1!==o){const s=e.data[o];Ep(n[r]),s.contentQueries(2,t[o],o)}}}function jl(e,t){return e[da]?e[OI][bn]=t:e[da]=t,e[OI]=t,t}function Og(e,t,n){Ep(0);const r=cn(null);try{t(e,n)}finally{cn(r)}}function xS(e){return e[Io]||(e[Io]=[])}function PS(e){return e.cleanup||(e.cleanup=[])}function FS(e,t){const n=e[zr],r=n?n.get(_r,null):null;r&&r.handleError(t)}function Fg(e,t,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++];RS(e.data[s],t[s],r,a,i)}}function s$(e,t){const n=Xt(t,e),r=n[T];!function a$(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const i=n[Pe];null!==i&&null===n[hr]&&(n[hr]=_g(i,n[zr])),Lg(r,n,n[Ve])}function Lg(e,t,n){bp(t);try{const r=e.viewQuery;null!==r&&Og(1,r,n);const i=e.template;null!==i&&bS(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&kS(e,t),e.staticViewQueries&&Og(2,e.viewQuery,n);const o=e.components;null!==o&&function c$(e,t){for(let n=0;n<t.length;n++)s$(e,t[n])}(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[W]&=-5,Ip()}}let LS=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(n,r,i){const o=typeof Zone>"u"?null:Zone.current,s=function C2(e,t,n){const r=Object.create(w2);n&&(r.consumerAllowSignalWrites=!0),r.fn=e,r.schedule=t;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>zI(r),run:()=>{if(r.dirty=!1,r.hasRun&&!WI(r))return;r.hasRun=!0;const s=hp(r);try{r.cleanupFn(),r.cleanupFn=JI,r.fn(i)}finally{fp(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(n,u=>{this.all.has(u)&&this.queue.set(u,o)},i);let a;this.all.add(s),s.notify();const c=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[n,r]of this.queue)this.queue.delete(n),r?r.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=P({token:e,providedIn:"root",factory:()=>new e})}}return e})();function Bl(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?i=qf(i,a):2==o&&(r=qf(r,a+": "+t[++s]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function Va(e,t,n,r,i=!1){for(;null!==n;){const o=t[n.index];null!==o&&r.push(Ee(o)),Et(o)&&VS(o,r);const s=n.type;if(8&s)Va(e,t,n.child,r);else if(32&s){const a=$p(n,t);let c;for(;c=a();)r.push(c)}else if(16&s){const a=mT(t,n);if(Array.isArray(a))r.push(...a);else{const c=Sa(t[Ue]);Va(c[T],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function VS(e,t){for(let n=it;n<e.length;n++){const r=e[n],i=r[T].firstChild;null!==i&&Va(r[T],r,i,t)}e[Un]!==e[Pe]&&t.push(e[Un])}function $l(e,t,n,r=!0){const i=t[Do],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{US(e,t,e.template,n)}catch(c){throw r&&FS(t,c),c}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function US(e,t,n,r){const i=t[W];if(256!=(256&i)){t[Do].effectManager?.flush(),bp(t);try{sD(t),function pD(e){return V.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&bS(e,t,n,2,r);const s=3==(3&i);if(s){const u=e.preOrderCheckHooks;null!==u&&tl(t,u,null)}else{const u=e.preOrderHooks;null!==u&&nl(t,u,0,null),Dp(t,0)}if(function d$(e){for(let t=iT(e);null!==t;t=oT(t)){if(!t[LI])continue;const n=t[Ao];for(let r=0;r<n.length;r++){N2(n[r])}}}(t),jS(t,2),null!==e.contentQueries&&kS(e,t),s){const u=e.contentCheckHooks;null!==u&&tl(t,u)}else{const u=e.contentHooks;null!==u&&nl(t,u,1),Dp(t,1)}!function FB(e,t){const n=e.hostBindingOpCodes;if(null===n)return;const r=_S(t,ga);try{for(let i=0;i<n.length;i++){const o=n[i];if(o<0)Ai(~o);else{const s=o,a=n[++i],c=n[++i];H2(a,s),r.dirty=!1;const u=hp(r);try{c(2,t[s])}finally{fp(r,u)}}}}finally{null===t[ga]&&yS(t,ga),Ai(-1)}}(e,t);const a=e.components;null!==a&&$S(t,a,0);const c=e.viewQuery;if(null!==c&&Og(2,c,r),s){const u=e.viewCheckHooks;null!==u&&tl(t,u)}else{const u=e.viewHooks;null!==u&&nl(t,u,2),Dp(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[W]&=-73,aD(t)}finally{Ip()}}}function jS(e,t){for(let n=iT(e);null!==n;n=oT(n))for(let r=it;r<n.length;r++)BS(n[r],t)}function h$(e,t,n){BS(Xt(t,e),n)}function BS(e,t){if(!function M2(e){return 128==(128&e[W])}(e))return;const n=e[T],r=e[W];if(80&r&&0===t||1024&r||2===t)US(n,e,n.template,e[Ve]);else if(e[la]>0){jS(e,1);const i=n.components;null!==i&&$S(e,i,1)}}function $S(e,t,n){for(let r=0;r<t.length;r++)h$(e,t[r],n)}class Ua{get rootNodes(){const t=this._lView,n=t[T];return Va(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ve]}set context(t){this._lView[Ve]=t}get destroyed(){return 256==(256&this._lView[W])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Se];if(Et(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(vl(t,r),cl(n,r))}this._attachedToViewContainer=!1}zp(this._lView[T],this._lView)}onDestroy(t){!function uD(e,t){if(256==(256&e[W]))throw new E(911,!1);null===e[Wr]&&(e[Wr]=[]),e[Wr].push(t)}(this._lView,t)}markForCheck(){Fa(this._cdRefInjectingView||this._lView)}detach(){this._lView[W]&=-129}reattach(){this._lView[W]|=128}detectChanges(){$l(this._lView[T],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new E(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function rj(e,t){Ma(e,t,t[H],2,null,null)}(this._lView[T],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new E(902,!1);this._appRef=t}}class f$ extends Ua{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;$l(t[T],t,t[Ve],!1)}checkNoChanges(){}get context(){return null}}class HS extends Ol{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=te(t);return new ja(n,this.ngModule)}}function zS(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class g${constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=zu(r);const i=this.injector.get(t,Cg,r);return i!==Cg||n===Cg?i:this.parentInjector.get(t,n,r)}}class ja extends KT{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=zS(t.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return zS(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function t2(e){return e.map(e2).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){let o=(i=i||this.ngModule)instanceof fn?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new g$(t,o):t,a=s.get(QT,null);if(null===a)throw new E(407,!1);const d={rendererFactory:a,sanitizer:s.get(dB,null),effectManager:s.get(LS,null),afterRenderEventManager:s.get(Tg,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?function VB(e,t,n,r){const o=r.get(fS,!1)||n===wn.ShadowDom,s=e.selectRootElement(t,o);return function UB(e){DS(e)}(s),s}(h,r,this.componentDef.encapsulation,s):yl(h,f,function p$(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(f)),v=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let _=null;null!==p&&(_=_g(p,s,!0));const R=Ng(0,null,null,1,0,null,null,null,null,null,null),O=Ul(null,R,null,v,null,null,d,h,s,null,_);let K,Be;bp(O);try{const on=this.componentDef;let jr,vo=null;on.findHostDirectiveDefs?(jr=[],vo=new Map,on.findHostDirectiveDefs(on,jr,vo),jr.push(on)):jr=[on];const $b=function _$(e,t){const n=e[T],r=J;return e[r]=t,ts(n,r,2,"#host",null)}(O,p),Roe=function y$(e,t,n,r,i,o,s){const a=i[T];!function v$(e,t,n,r){for(const i of e)t.mergedAttrs=ua(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(Bl(t,t.mergedAttrs,!0),null!==n&&CT(r,n,t))}(r,e,t,s);let c=null;null!==t&&(c=_g(t,i[zr]));const u=o.rendererFactory.createRenderer(t,n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const d=Ul(i,IS(n),null,l,i[e.index],e,o,u,null,null,c);return a.firstCreatePass&&xg(a,e,r.length-1),jl(i,d),i[e.index]=d}($b,p,on,jr,O,d,h);Be=oD(R,J),p&&function w$(e,t,n,r){if(r)ap(e,n,["ng-version",XT.full]);else{const{attrs:i,classes:o}=function n2(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!En(i))break;i=o}r++}return{attrs:t,classes:n}}(t.selectors[0]);i&&ap(e,n,i),o&&o.length>0&&vT(e,n,o.join(" "))}}(h,on,p,r),void 0!==n&&function E$(e,t,n){const r=e.projection=[];for(let i=0;i<t.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(Be,this.ngContentSelectors,n),K=function C$(e,t,n,r,i,o){const s=st(),a=i[T],c=Ut(s,i);AS(a,i,s,n,null,r);for(let l=0;l<n.length;l++)ft(Mi(i,a,s.directiveStart+l,s),i);MS(a,i,s),c&&ft(c,i);const u=Mi(i,a,s.directiveStart+s.componentOffset,s);if(e[Ve]=i[Ve]=u,null!==o)for(const l of o)l(u,t);return Ag(a,s,e),u}(Roe,on,jr,vo,O,[b$]),Lg(R,O,null)}finally{Ip()}return new m$(this.componentType,K,Xo(Be,O),O,Be)}}class m$ extends oB{constructor(t,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new f$(i),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const o=this._rootLView;Fg(o[T],o,i,t,n),this.previousInputValues.set(t,n),Fa(Xt(this._tNode.index,o))}}get injector(){return new Dt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function b$(){const e=st();el(C()[T],e)}function fe(e){let t=function WS(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let i;if(In(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new E(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);const s=e;s.inputs=Hl(e.inputs),s.inputTransforms=Hl(e.inputTransforms),s.declaredInputs=Hl(e.declaredInputs),s.outputs=Hl(e.outputs);const a=i.hostBindings;a&&S$(e,a);const c=i.viewQuery,u=i.contentQueries;if(c&&D$(e,c),u&&T$(e,u),Vu(e.inputs,i.inputs),Vu(e.declaredInputs,i.declaredInputs),Vu(e.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),Vu(s.inputTransforms,i.inputTransforms)),In(i)&&i.data.animation){const l=e.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(e),a===fe&&(n=!1)}}t=Object.getPrototypeOf(t)}!function I$(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=ua(i.hostAttrs,n=ua(n,i.hostAttrs))}}(r)}function Hl(e){return e===Ln?{}:e===ie?[]:e}function D$(e,t){const n=e.viewQuery;e.viewQuery=n?(r,i)=>{t(r,i),n(r,i)}:t}function T$(e,t){const n=e.contentQueries;e.contentQueries=n?(r,i,o)=>{t(r,i,o),n(r,i,o)}:t}function S$(e,t){const n=e.hostBindings;e.hostBindings=n?(r,i)=>{t(r,i),n(r,i)}:t}function YS(e){const t=e.inputConfig,n={};for(const r in t)if(t.hasOwnProperty(r)){const i=t[r];Array.isArray(i)&&i[2]&&(n[r]=i[2])}e.inputTransforms=n}function zl(e){return!!Vg(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Vg(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function zn(e,t,n){return e[t]=n}function gt(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Wn(e,t,n,r){const i=C();return gt(i,ko(),t)&&(ne(),Hn(Ne(),i,e,t,n,r)),Wn}function F(e,t,n,r,i,o,s,a){const c=C(),u=ne(),l=e+J,d=u.firstCreatePass?function Z$(e,t,n,r,i,o,s,a,c){const u=t.consts,l=ts(t,e,4,s||null,qr(u,a));kg(t,n,l,qr(u,c)),el(t,l);const d=l.tView=Ng(2,l,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,u,null);return null!==t.queries&&(t.queries.template(t,l),d.queries=t.queries.embeddedTView(l)),l}(l,u,c,t,n,r,i,o,s):u.data[l];Bn(d,!1);const h=cA(u,c,d,e);Ju()&&wl(u,c,h,d),ft(h,c),jl(c,c[l]=NS(h,c,h,d)),Yu(d)&&Mg(u,c,d),null!=s&&Rg(c,d,a)}let cA=function uA(e,t,n,r){return Kr(!0),t[H].createComment("")};function N(e,t,n){const r=C();return gt(r,ko(),t)&&function en(e,t,n,r,i,o,s,a){const c=Ut(t,n);let l,u=t.inputs;!a&&null!=u&&(l=u[r])?(Fg(e,n,l,r,i),Ti(t)&&function GB(e,t){const n=Xt(t,e);16&n[W]||(n[W]|=64)}(n,t.index)):3&t.type&&(r=function WB(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=s?s(i,t.value||"",r):i,o.setProperty(c,r,i))}(ne(),Ne(),r,e,t,r[H],n,!1),N}function zg(e,t,n,r,i){const s=i?"class":"style";Fg(e,n,t.inputs[s],s,r)}function M(e,t,n,r){const i=C(),o=ne(),s=J+e,a=i[H],c=o.firstCreatePass?function rH(e,t,n,r,i,o){const s=t.consts,c=ts(t,e,2,r,qr(s,i));return kg(t,n,c,qr(s,o)),null!==c.attrs&&Bl(c,c.attrs,!1),null!==c.mergedAttrs&&Bl(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(s,o,i,t,n,r):o.data[s],u=lA(o,i,c,a,t,e);i[s]=u;const l=Yu(c);return Bn(c,!0),CT(a,u,c),32!=(32&c.flags)&&Ju()&&wl(o,i,u,c),0===function x2(){return V.lFrame.elementDepthCount}()&&ft(u,i),function P2(){V.lFrame.elementDepthCount++}(),l&&(Mg(o,i,c),Ag(o,c,i)),null!==r&&Rg(i,c),M}function A(){let e=st();yp()?vp():(e=e.parent,Bn(e,!1));const t=e;(function F2(e){return V.skipHydrationRootTNode===e})(t)&&function j2(){V.skipHydrationRootTNode=null}(),function O2(){V.lFrame.elementDepthCount--}();const n=ne();return n.firstCreatePass&&(el(n,e),up(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function tU(e){return 0!=(8&e.flags)}(t)&&zg(n,t,C(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function nU(e){return 0!=(16&e.flags)}(t)&&zg(n,t,C(),t.stylesWithoutHost,!1),A}function ee(e,t,n,r){return M(e,t,n,r),A(),ee}let lA=(e,t,n,r,i,o)=>(Kr(!0),yl(r,i,function ED(){return V.lFrame.currentNamespace}()));function Wa(e,t,n){const r=C(),i=ne(),o=e+J,s=i.firstCreatePass?function sH(e,t,n,r,i){const o=t.consts,s=qr(o,r),a=ts(t,e,8,"ng-container",s);return null!==s&&Bl(a,s,!0),kg(t,n,a,qr(o,i)),null!==t.queries&&t.queries.elementStart(t,a),a}(o,i,r,t,n):i.data[o];Bn(s,!0);const a=hA(i,r,s,e);return r[o]=a,Ju()&&wl(i,r,a,s),ft(a,r),Yu(s)&&(Mg(i,r,s),Ag(i,s,r)),null!=n&&Rg(r,s),Wa}function Ga(){let e=st();const t=ne();return yp()?vp():(e=e.parent,Bn(e,!1)),t.firstCreatePass&&(el(t,e),up(e)&&t.queries.elementEnd(e)),Ga}let hA=(e,t,n,r)=>(Kr(!0),Hp(t[H],""));function Zr(){return C()}function qa(e){return!!e&&"function"==typeof e.then}function fA(e){return!!e&&"function"==typeof e.subscribe}function ke(e,t,n,r){const i=C(),o=ne(),s=st();return function gA(e,t,n,r,i,o,s){const a=Yu(r),u=e.firstCreatePass&&PS(e),l=t[Ve],d=xS(t);let h=!0;if(3&r.type||s){const m=Ut(r,t),y=s?s(m):m,v=d.length,_=s?O=>s(Ee(O[r.index])):r.index;let R=null;if(!s&&a&&(R=function uH(e,t,n,r){const i=e.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=t[Io],c=i[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(e,t,i,r.index)),null!==R)(R.__ngLastListenerFn__||R).__ngNextListenerFn__=o,R.__ngLastListenerFn__=o,h=!1;else{o=_A(r,t,l,o,!1);const O=n.listen(y,i,o);d.push(o,O),u&&u.push(i,_,v,v+1)}}else o=_A(r,t,l,o,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const m=p.length;if(m)for(let y=0;y<m;y+=2){const K=t[p[y]][p[y+1]].subscribe(o),Be=d.length;d.push(o,K),u&&u.push(i,r.index,Be,-(Be+1))}}}(o,i,i[H],s,e,t,r),ke}function mA(e,t,n,r){try{return jn(6,t,n),!1!==n(r)}catch(i){return FS(e,i),!1}finally{jn(7,t,n)}}function _A(e,t,n,r,i){return function o(s){if(s===Function)return r;Fa(e.componentOffset>-1?Xt(e.index,t):t);let c=mA(t,n,r,s),u=o.__ngNextListenerFn__;for(;u;)c=mA(t,n,u,s)&&c,u=u.__ngNextListenerFn__;return i&&!1===c&&s.preventDefault(),c}}function re(e=1){return function G2(e){return(V.lFrame.contextLView=function q2(e,t){for(;e>0;)t=t[To],e--;return t}(e,V.lFrame.contextLView))[Ve]}(e)}function Yl(e,t){return e<<17|t<<2}function Jr(e){return e>>17&32767}function Gg(e){return 2|e}function xi(e){return(131068&e)>>2}function qg(e,t){return-131069&e|t<<2}function Kg(e){return 1|e}function SA(e,t,n,r,i){const o=e[n+1],s=null===t;let a=r?Jr(o):xi(o),c=!1;for(;0!==a&&(!1===c||s);){const l=e[a+1];yH(e[a],t)&&(c=!0,e[a+1]=r?Kg(l):Gg(l)),a=r?Jr(l):xi(l)}c&&(e[n+1]=r?Gg(o):Kg(o))}function yH(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&jo(e,t)>=0}const qe={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function AA(e){return e.substring(qe.key,qe.keyEnd)}function MA(e,t){const n=qe.textEnd;return n===t?-1:(t=qe.keyEnd=function EH(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,qe.key=t,n),ds(e,t,n))}function ds(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function Ql(e,t){return function Dn(e,t,n,r){const i=C(),o=ne(),s=pr(2);o.firstUpdatePass&&FA(o,e,s,r),t!==z&&gt(i,s,t)&&VA(o,o.data[It()],i,i[H],e,i[s+1]=function xH(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=We(Qr(e)))),e}(t,n),r,s)}(e,t,null,!0),Ql}function Yg(e){!function Tn(e,t,n,r){const i=ne(),o=pr(2);i.firstUpdatePass&&FA(i,null,o,r);const s=C();if(n!==z&&gt(s,o,n)){const a=i.data[It()];if(jA(a,r)&&!OA(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(n=qf(c,n||"")),zg(i,a,s,n,r)}else!function kH(e,t,n,r,i,o,s,a){i===z&&(i=ie);let c=0,u=0,l=0<i.length?i[0]:null,d=0<o.length?o[0]:null;for(;null!==l||null!==d;){const h=c<i.length?i[c+1]:void 0,f=u<o.length?o[u+1]:void 0;let m,p=null;l===d?(c+=2,u+=2,h!==f&&(p=d,m=f)):null===d||null!==l&&l<d?(c+=2,p=l):(u+=2,p=d,m=f),null!==p&&VA(e,t,n,r,p,m,s,a),l=c<i.length?i[c]:null,d=u<o.length?o[u]:null}}(i,a,s,s[H],s[o+1],s[o+1]=function RH(e,t,n){if(null==n||""===n)return ie;const r=[],i=Qr(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)e(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&e(r,o,i[o]);else"string"==typeof i&&t(r,i);return r}(e,t,n),r,o)}}(NH,qn,e,!0)}function qn(e,t){for(let n=function CH(e){return function NA(e){qe.key=0,qe.keyEnd=0,qe.value=0,qe.valueEnd=0,qe.textEnd=e.length}(e),MA(e,ds(e,0,qe.textEnd))}(t);n>=0;n=MA(t,n))Zt(e,AA(t),!0)}function OA(e,t){return t>=e.expandoStartIndex}function FA(e,t,n,r){const i=e.data;if(null===i[n+1]){const o=i[It()],s=OA(e,n);jA(o,r)&&null===t&&!s&&(t=!1),t=function TH(e,t,n,r){const i=function wp(e){const t=V.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=Ka(n=Qg(null,e,t,n,r),t.attrs,r),o=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==i)if(n=Qg(i,e,t,n,r),null===o){let c=function SH(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==xi(r))return e[Jr(r)]}(e,t,r);void 0!==c&&Array.isArray(c)&&(c=Qg(null,e,t,c[1],r),c=Ka(c,t.attrs,r),function AH(e,t,n,r){e[Jr(n?t.classBindings:t.styleBindings)]=r}(e,t,r,c))}else o=function MH(e,t,n){let r;const i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++)r=Ka(r,e[o].hostAttrs,n);return Ka(r,t.attrs,n)}(e,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),n}(i,o,t,r),function mH(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=Jr(s),c=xi(s);e[r]=n;let l,u=!1;if(Array.isArray(n)?(l=n[1],(null===l||jo(n,l)>0)&&(u=!0)):l=n,i)if(0!==c){const h=Jr(e[a+1]);e[r+1]=Yl(h,a),0!==h&&(e[h+1]=qg(e[h+1],r)),e[a+1]=function pH(e,t){return 131071&e|t<<17}(e[a+1],r)}else e[r+1]=Yl(a,0),0!==a&&(e[a+1]=qg(e[a+1],r)),a=r;else e[r+1]=Yl(c,0),0===a?a=r:e[c+1]=qg(e[c+1],r),c=r;u&&(e[r+1]=Gg(e[r+1])),SA(e,l,r,!0),SA(e,l,r,!1),function _H(e,t,n,r,i){const o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&jo(o,t)>=0&&(n[r+1]=Kg(n[r+1]))}(t,l,e,r,o),s=Yl(a,c),o?t.classBindings=s:t.styleBindings=s}(i,o,t,n,s,r)}}function Qg(e,t,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=t[a],r=Ka(r,o.hostAttrs,i),o!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function Ka(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?i=s:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Zt(e,s,!!n||t[++o]))}return void 0===e?null:e}function NH(e,t,n){const r=String(t);""!==r&&!r.includes(" ")&&Zt(e,r,n)}function VA(e,t,n,r,i,o,s,a){if(!(3&t.type))return;const c=e.data,u=c[a+1],l=function gH(e){return 1==(1&e)}(u)?UA(c,t,n,i,xi(u),s):void 0;Xl(l)||(Xl(o)||function fH(e){return 2==(2&e)}(u)&&(o=UA(c,null,n,i,a,s)),function fj(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:Yr.DashCase;null==i?e.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Yr.Important),e.setStyle(n,r,i,o))}}(r,s,Zu(It(),n),i,o))}function UA(e,t,n,r,i,o){const s=null===t;let a;for(;i>0;){const c=e[i],u=Array.isArray(c),l=u?c[1]:c,d=null===l;let h=n[i+1];h===z&&(h=d?ie:void 0);let f=d?xp(h,r):l===r?h:void 0;if(u&&!Xl(f)&&(f=xp(c,r)),Xl(f)&&(a=f,s))return a;const p=e[i+1];i=s?Jr(p):xi(p)}if(null!==t){let c=o?t.residualClasses:t.residualStyles;null!=c&&(a=xp(c,r))}return a}function Xl(e){return void 0!==e}function jA(e,t){return 0!=(e.flags&(t?8:16))}function le(e,t=""){const n=C(),r=ne(),i=e+J,o=r.firstCreatePass?ts(r,i,1,t,null):r.data[i],s=BA(r,n,o,t,e);n[i]=s,Ju()&&wl(r,n,s,o),Bn(o,!1)}let BA=(e,t,n,r,i)=>(Kr(!0),function _l(e,t){return e.createText(t)}(t[H],r));function Pi(e){return Oi("",e,""),Pi}function Oi(e,t,n){const r=C(),i=function rs(e,t,n,r){return gt(e,ko(),n)?t+$(n)+r:z}(r,e,t,n);return i!==z&&function vr(e,t,n){const r=Zu(t,e);!function aT(e,t,n){e.setValue(t,n)}(e[H],r,n)}(r,It(),i),Oi}const fs="en-US";let l0=fs;function Jg(e,t,n,r,i){if(e=U(e),Array.isArray(e))for(let o=0;o<e.length;o++)Jg(e[o],t,n,r,i);else{const o=ne(),s=C(),a=st();let c=Ni(e)?e:U(e.provide);const u=$T(e),l=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(Ni(e)||!e.multi){const f=new va(u,i,w),p=tm(c,t,i?l:l+h,d);-1===p?(Rp(il(a,s),o,c),em(o,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[p]=f,s[p]=f)}else{const f=tm(c,t,l+h,d),p=tm(c,t,l,l+h),y=p>=0&&n[p];if(i&&!y||!i&&!(f>=0&&n[f])){Rp(il(a,s),o,c);const v=function ez(e,t,n,r,i){const o=new va(e,n,w);return o.multi=[],o.index=t,o.componentProviders=0,O0(o,i,r&&!n),o}(i?J3:Z3,n.length,i,r,u);!i&&y&&(n[p].providerFactory=v),em(o,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),s.push(v)}else em(o,e,f>-1?f:p,O0(n[i?p:f],u,!i&&r));!i&&r&&y&&n[p].componentProviders++}}}function em(e,t,n,r){const i=Ni(t),o=function $j(e){return!!e.useClass}(t);if(i||o){const c=(o?U(t.useClass):t).prototype.ngOnDestroy;if(c){const u=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const l=u.indexOf(n);-1===l?u.push(n,[r,c]):u[l+1].push(r,c)}else u.push(n,c)}}}function O0(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function tm(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function Z3(e,t,n,r){return nm(this.multi,[])}function J3(e,t,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Mi(n,n[T],this.providerFactory.index,r);o=a.slice(0,s),nm(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],nm(i,o);return o}function nm(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Ae(e,t=[]){return n=>{n.providersResolver=(r,i)=>function X3(e,t,n){const r=ne();if(r.firstCreatePass){const i=In(e);Jg(n,r.data,r.blueprint,i,!0),Jg(t,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,t)}}class Li{}class F0{}class rm extends Li{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new HS(this);const i=Qt(t);this._bootstrapComponents=yr(i.bootstrap),this._r3Injector=nS(t,n,[{provide:Li,useValue:this},{provide:Ol,useValue:this.componentFactoryResolver},...r],We(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class im extends F0{constructor(t){super(),this.moduleType=t}create(t){return new rm(this.moduleType,t,[])}}class L0 extends Li{constructor(t){super(),this.componentFactoryResolver=new HS(this),this.instance=null;const n=new qo([...t.providers,{provide:Li,useValue:this},{provide:Ol,useValue:this.componentFactoryResolver}],t.parent||Al(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function om(e,t,n=null){return new L0({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let rz=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=VT(0,n.type),i=r.length>0?om([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=P({token:e,providedIn:"environment",factory:()=>new e(x(fn))})}}return e})();function V0(e){e.getStandaloneInjector=t=>t.get(rz).getOrCreateStandaloneInjector(e)}function nd(e,t,n){const r=bt()+e,i=C();return i[r]===z?zn(i,r,n?t.call(n):t()):function Ba(e,t){return e[t]}(i,r)}function ec(e,t,n,r){return function W0(e,t,n,r,i,o){const s=t+n;return gt(e,s,i)?zn(e,s+1,o?r.call(o,i):r(i)):tc(e,s+1)}(C(),bt(),e,t,n,r)}function am(e,t,n,r,i){return function G0(e,t,n,r,i,o,s){const a=t+n;return function ki(e,t,n,r){const i=gt(e,t,n);return gt(e,t+1,r)||i}(e,a,i,o)?zn(e,a+2,s?r.call(s,i,o):r(i,o)):tc(e,a+2)}(C(),bt(),e,t,n,r,i)}function tc(e,t){const n=e[t];return n===z?void 0:n}function Tz(){return this._results[Symbol.iterator]()}class cm{get changes(){return this._changes||(this._changes=new Oe)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=cm.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=Tz)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const r=this;r.dirty=!1;const i=function hn(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function mU(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Az(e,t,n,r=!0){const i=t[T];if(function oj(e,t,n,r){const i=it+r,o=n.length;r>0&&(n[i-1][bn]=t),r<o-it?(t[bn]=n[i],LD(n,it+r,t)):(n.push(t),t[bn]=null),t[Se]=n;const s=t[ha];null!==s&&n!==s&&function sj(e,t){const n=e[Ao];t[Ue]!==t[Se][Se][Ue]&&(e[LI]=!0),null===n?e[Ao]=[t]:n.push(t)}(s,t);const a=t[Vn];null!==a&&a.insertView(e),t[W]|=128}(i,t,e,n),r){const o=Kp(n,e),s=t[H],a=Cl(s,e[Un]);null!==a&&function nj(e,t,n,r,i,o){r[Pe]=i,r[ht]=t,Ma(e,r,n,1,i,o)}(i,e[ht],s,t,a,o)}}let Cr=(()=>{class e{static{this.__NG_ELEMENT_ID__=Nz}}return e})();const Mz=Cr,Rz=class extends Mz{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){const i=function Sz(e,t,n,r){const i=t.tView,a=Ul(e,i,n,4096&e[W]?4096:16,null,t,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[ha]=e[t.index];const u=e[Vn];return null!==u&&(a[Vn]=u.createEmbeddedView(i)),Lg(i,a,n),a}(this._declarationLView,this._declarationTContainer,t,{injector:n,hydrationInfo:r});return new Ua(i)}};function Nz(){return rd(st(),C())}function rd(e,t){return 4&e.type?new Rz(t,e,Xo(e,t)):null}let Sn=(()=>{class e{static{this.__NG_ELEMENT_ID__=Lz}}return e})();function Lz(){return nM(st(),C())}const Vz=Sn,eM=class extends Vz{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Xo(this._hostTNode,this._hostLView)}get injector(){return new Dt(this._hostTNode,this._hostLView)}get parentInjector(){const t=ol(this._hostTNode,this._hostLView);if(Sp(t)){const n=wa(t,this._hostLView),r=Ca(t);return new Dt(n[T].data[r+8],n)}return new Dt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=tM(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-it}createEmbeddedView(t,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=t.createEmbeddedViewImpl(n||{},o,null);return this.insertImpl(a,i,false),a}createComponent(t,n,r,i,o){const s=t&&!function ba(e){return"function"==typeof e}(t);let a;if(s)a=n;else{const m=n||{};a=m.index,r=m.injector,i=m.projectableNodes,o=m.environmentInjector||m.ngModuleRef}const c=s?t:new ja(te(t)),u=r||this.parentInjector;if(!o&&null==c.ngModule){const y=(s?u:this.parentInjector).get(fn,null);y&&(o=y)}te(c.componentType??{});const f=c.create(u,i,null,o);return this.insertImpl(f.hostView,a,false),f}insert(t,n){return this.insertImpl(t,n,!1)}insertImpl(t,n,r){const i=t._lView;if(function R2(e){return Et(e[Se])}(i)){const c=this.indexOf(t);if(-1!==c)this.detach(c);else{const u=i[Se],l=new eM(u,u[ht],u[Se]);l.detach(l.indexOf(t))}}const s=this._adjustIndex(n),a=this._lContainer;return Az(a,i,s,!r),t.attachToViewContainerRef(),LD(um(a),s,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=tM(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=vl(this._lContainer,n);r&&(cl(um(this._lContainer),n),zp(r[T],r))}detach(t){const n=this._adjustIndex(t,-1),r=vl(this._lContainer,n);return r&&null!=cl(um(this._lContainer),n)?new Ua(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function tM(e){return e[8]}function um(e){return e[8]||(e[8]=[])}function nM(e,t){let n;const r=t[e.index];return Et(r)?n=r:(n=NS(r,t,null,e),t[e.index]=n,jl(t,n)),rM(n,t,e,r),new eM(n,e,t)}let rM=function iM(e,t,n,r){if(e[Un])return;let i;i=8&n.type?Ee(r):function Uz(e,t){const n=e[H],r=n.createComment(""),i=Ut(t,e);return Ri(n,Cl(n,i),r,function lj(e,t){return e.nextSibling(t)}(n,i),!1),r}(t,n),e[Un]=i};class lm{constructor(t){this.queryList=t,this.matches=null}clone(){return new lm(this.queryList)}setDirty(){this.queryList.setDirty()}}class dm{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){const s=n.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new dm(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==dM(t,n).matches&&this.queries[n].setDirty()}}class oM{constructor(t,n,r=null){this.predicate=t,this.flags=n,this.read=r}}class hm{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new hm(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class fm{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new fm(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(t,n,$z(n,o)),this.matchTNodeWithReadOption(t,n,sl(n,t,o,!1,!1))}else r===Cr?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,sl(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Jt||i===Sn||i===Cr&&4&n.type)this.addMatch(n.index,-2);else{const o=sl(n,t,i,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function $z(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function zz(e,t,n,r){return-1===n?function Hz(e,t){return 11&e.type?Xo(e,t):4&e.type?rd(e,t):null}(t,e):-2===n?function Wz(e,t,n){return n===Jt?Xo(t,e):n===Cr?rd(t,e):n===Sn?nM(t,e):void 0}(e,t,r):Mi(e,e[T],n,t)}function sM(e,t,n,r){const i=t[Vn].queries[r];if(null===i.matches){const o=e.data,s=n.matches,a=[];for(let c=0;c<s.length;c+=2){const u=s[c];a.push(u<0?null:zz(t,o[u],s[c+1],n.metadata.read))}i.matches=a}return i.matches}function pm(e,t,n,r){const i=e.queries.getByIndex(n),o=i.matches;if(null!==o){const s=sM(e,t,i,n);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)r.push(s[a/2]);else{const u=o[a+1],l=t[-c];for(let d=it;d<l.length;d++){const h=l[d];h[ha]===h[Se]&&pm(h[T],h,u,r)}if(null!==l[Ao]){const d=l[Ao];for(let h=0;h<d.length;h++){const f=d[h];pm(f[T],f,u,r)}}}}}return r}function gm(e){const t=C(),n=ne(),r=mD();Ep(r+1);const i=dM(n,r);if(e.dirty&&function A2(e){return 4==(4&e[W])}(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const o=i.crossesNgTemplate?pm(n,t,r,[]):sM(n,t,i,r);e.reset(o,uB),e.notifyOnChanges()}return!0}return!1}function aM(e,t,n){const r=ne();r.firstCreatePass&&(function lM(e,t,n){null===e.queries&&(e.queries=new hm),e.queries.track(new fm(t,n))}(r,new oM(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),function uM(e,t,n){const r=new cm(4==(4&n));(function $B(e,t,n,r){const i=xS(t);i.push(n),e.firstCreatePass&&PS(e).push(r,i.length-1)})(e,t,r,r.destroy),null===t[Vn]&&(t[Vn]=new dm),t[Vn].queries.push(new lm(r))}(r,C(),t)}function dM(e,t){return e.queries.getByIndex(t)}const Em=new D("Application Initializer");let bm=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=k(Em,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=i();if(qa(o))n.push(o);else if(fA(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),AM=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();const wr=new D("LocaleId",{providedIn:"root",factory:()=>k(wr,Z.Optional|Z.SkipSelf)||function gW(){return typeof $localize<"u"&&$localize.locale||fs}()});let MM=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Kt(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();class yW{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let RM=(()=>{class e{compileModuleSync(n){return new im(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=yr(Qt(n).declarations).reduce((s,a)=>{const c=te(a);return c&&s.push(new ja(c)),s},[]);return new yW(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const PM=new D(""),ad=new D("");let Am,Tm=(()=>{class e{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Am||(function jW(e){Am=e}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ue.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static{this.\u0275fac=function(r){return new(r||e)(x(ue),x(Sm),x(ad))}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac})}}return e})(),Sm=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return Am?.findTestabilityInTree(this,n,r)??null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})(),ei=null;const OM=new D("AllowMultipleToken"),Mm=new D("PlatformDestroyListeners"),Rm=new D("appBootstrapListener");class LM{constructor(t,n){this.name=t,this.token=n}}function UM(e,t,n=[]){const r=`Platform: ${t}`,i=new D(r);return(o=[])=>{let s=Nm();if(!s||s.injector.get(OM,!1)){const a=[...n,...o,{provide:i,useValue:!0}];e?e(a):function HW(e){if(ei&&!ei.get(OM,!1))throw new E(400,!1);(function FM(){!function g2(e){YI=e}(()=>{throw new E(600,!1)})})(),ei=e;const t=e.get(BM);(function VM(e){e.get(HT,null)?.forEach(n=>n())})(e)}(function jM(e=[],t){return pt.create({name:t,providers:[{provide:sg,useValue:"platform"},{provide:Mm,useValue:new Set([()=>ei=null])},...e]})}(a,r))}return function WW(e){const t=Nm();if(!t)throw new E(401,!1);return t}()}}function Nm(){return ei?.get(BM)??null}let BM=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function GW(e="zone.js",t){return"noop"===e?new IB:"zone.js"===e?new ue(t):e}(r?.ngZone,function $M(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function nz(e,t,n){return new rm(e,t,n)}(n.moduleType,this.injector,function qM(e){return[{provide:ue,useFactory:e},{provide:xa,multi:!0,useFactory:()=>{const t=k(KW,{optional:!0});return()=>t.initialize()}},{provide:GM,useFactory:qW},{provide:aS,useFactory:cS}]}(()=>i)),s=o.injector.get(_r,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:c=>{s.handleError(c)}});o.onDestroy(()=>{cd(this._modules,o),a.unsubscribe()})}),function HM(e,t,n){try{const r=n();return qa(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(bm);return a.runInitializers(),a.donePromise.then(()=>(function d0(e){an(e,"Expected localeId to be defined"),"string"==typeof e&&(l0=e.toLowerCase().replace(/_/g,"-"))}(o.injector.get(wr,fs)||fs),this._moduleDoBootstrap(o),o))})})}bootstrapModule(n,r=[]){const i=zM({},r);return function BW(e,t,n){const r=new im(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(ms);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new E(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new E(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(Mm,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||e)(x(pt))}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function zM(e,t){return Array.isArray(t)?t.reduce(zM,e):{...e,...t}}let ms=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=k(GM),this.zoneIsStable=k(aS),this.componentTypes=[],this.components=[],this.isStable=k(MM).hasPendingTasks.pipe(Fn(n=>n?B(!1):this.zoneIsStable),function TV(e,t=Br){return e=e??SV,ze((n,r)=>{let i,o=!0;n.subscribe($e(r,s=>{const a=t(s);(o||!e(i,a))&&(o=!1,i=a,r.next(s))}))})}(),fI()),this._injector=k(fn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof KT;if(!this._injector.get(bm).done)throw!i&&function bo(e){const t=te(e)||rt(e)||wt(e);return null!==t&&t.standalone}(n),new E(405,!1);let s;s=i?n:this._injector.get(Ol).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function $W(e){return e.isBoundToModule}(s)?void 0:this._injector.get(Li),u=s.create(pt.NULL,[],r||s.selector,a),l=u.location.nativeElement,d=u.injector.get(PM,null);return d?.registerApplication(l),u.onDestroy(()=>{this.detachView(u.hostView),cd(this.components,u),d?.unregisterApplication(l)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new E(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;cd(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Rm,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>cd(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new E(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function cd(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const GM=new D("",{providedIn:"root",factory:()=>k(_r).handleError.bind(void 0)});function qW(){const e=k(ue),t=k(_r);return n=>e.runOutsideAngular(()=>t.handleError(n))}let KW=(()=>{class e{constructor(){this.zone=k(ue),this.applicationRef=k(ms)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();let ud=(()=>{class e{static{this.__NG_ELEMENT_ID__=QW}}return e})();function QW(e){return function XW(e,t,n){if(Ti(e)&&!n){const r=Xt(e.index,t);return new Ua(r,r)}return 47&e.type?new Ua(t[Ue],t):null}(st(),C(),16==(16&e))}class ZM{constructor(){}supports(t){return zl(t)}create(t){return new nG(t)}}const tG=(e,t)=>t;class nG{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||tG}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<eR(r,i,o)?n:r,a=eR(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const u=a-i,l=c-i;if(u!=l){for(let h=0;h<u;h++){const f=h<o.length?o[h]:o[h]=0,p=f+h;l<=p&&p<u&&(o[h]=f+1)}o[s.previousIndex]=l-u}}a!==c&&t(s,a,c)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!zl(t))throw new E(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function P$(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,i)):t=this._addAfter(new rG(n,r),o,i),t}_verifyReinsertion(t,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,o=t._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const i=null===n?this._itHead:n._next;return t._next=i,t._prev=n,null===i?this._itTail=t:i._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new JM),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new JM),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class rG{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class iG{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class JM{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new iG,this.map.set(n,r)),r.add(t)}get(t,n){const i=this.map.get(t);return i?i.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function eR(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class tR{constructor(){}supports(t){return t instanceof Map||Vg(t)}create(){return new oG}}class oG{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||Vg(t)))throw new E(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const i=this._records.get(t);this._maybeAddToChanges(i,n);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new sG(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class sG{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function nR(){return new hd([new ZM])}let hd=(()=>{class e{static{this.\u0275prov=P({token:e,providedIn:"root",factory:nR})}constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||nR()),deps:[[e,new ll,new Tt]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new E(901,!1)}}return e})();function rR(){return new oc([new tR])}let oc=(()=>{class e{static{this.\u0275prov=P({token:e,providedIn:"root",factory:rR})}constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||rR()),deps:[[e,new ll,new Tt]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new E(901,!1)}}return e})();const uG=UM(null,"core",[]);let lG=(()=>{class e{constructor(n){}static{this.\u0275fac=function(r){return new(r||e)(x(ms))}}static{this.\u0275mod=Ft({type:e})}static{this.\u0275inj=Ct({})}}return e})();function _s(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}let Lm=null;function ti(){return Lm}class IG{}const gn=new D("DocumentToken");let Vm=(()=>{class e{historyGo(n){throw new Error("Not implemented")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=P({token:e,factory:function(){return k(TG)},providedIn:"platform"})}}return e})();const DG=new D("Location Initialized");let TG=(()=>{class e extends Vm{constructor(){super(),this._doc=k(gn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ti().getBaseHref(this._doc)}onPopState(n){const r=ti().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=ti().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=P({token:e,factory:function(){return new e},providedIn:"platform"})}}return e})();function Um(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function hR(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function Er(e){return e&&"?"!==e[0]?"?"+e:e}let Ui=(()=>{class e{historyGo(n){throw new Error("Not implemented")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=P({token:e,factory:function(){return k(pR)},providedIn:"root"})}}return e})();const fR=new D("appBaseHref");let pR=(()=>{class e extends Ui{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??k(gn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Um(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Er(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+Er(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+Er(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||e)(x(Vm),x(fR,8))}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),SG=(()=>{class e extends Ui{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Um(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Er(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Er(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||e)(x(Vm),x(fR,8))}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac})}}return e})(),jm=(()=>{class e{constructor(n){this._subject=new Oe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function RG(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(hR(gR(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Er(r))}normalize(n){return e.stripTrailingSlash(function MG(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,gR(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Er(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Er(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=Er}static{this.joinWithSlash=Um}static{this.stripTrailingSlash=hR}static{this.\u0275fac=function(r){return new(r||e)(x(Ui))}}static{this.\u0275prov=P({token:e,factory:function(){return function AG(){return new jm(x(Ui))}()},providedIn:"root"})}}return e})();function gR(e){return e.replace(/\/index.html$/,"")}const Qm=/\s+/,IR=[];let Xm=(()=>{class e{constructor(n,r,i,o){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this.initialClasses=IR,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(Qm):IR}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(Qm):n}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const r of n)this._updateState(r,!0);else if(null!=n)for(const r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){const i=this.stateMap.get(n);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){(n=n.trim()).length>0&&n.split(Qm).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||e)(w(hd),w(oc),w(Jt),w(mr))}}static{this.\u0275dir=j({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return e})();class m4{constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Zm=(()=>{class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new m4(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),TR(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{TR(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(w(Sn),w(Cr),w(hd))}}static{this.\u0275dir=j({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return e})();function TR(e,t){e.context.$implicit=t.item}let Id=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new _4,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){SR("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){SR("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(w(Sn),w(Cr))}}static{this.\u0275dir=j({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return e})();class _4{constructor(){this.$implicit=null,this.ngIf=null}}function SR(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${We(t)}'.`)}let MR=(()=>{class e{constructor(n,r,i){this._ngEl=n,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){const n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,r){const[i,o]=n.split("."),s=-1===i.indexOf("-")?void 0:Yr.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(n){n.forEachRemovedItem(r=>this._setStyle(r.key,null)),n.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),n.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static{this.\u0275fac=function(r){return new(r||e)(w(Jt),w(oc),w(mr))}}static{this.\u0275dir=j({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return e})(),NR=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Ft({type:e})}static{this.\u0275inj=Ct({})}}return e})();function xR(e){return"server"===e}let G4=(()=>{class e{static{this.\u0275prov=P({token:e,providedIn:"root",factory:()=>new q4(x(gn),window)})}}return e})();class q4{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function K4(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class yq extends IG{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class o_ extends yq{static makeCurrent(){!function bG(e){Lm||(Lm=e)}(new o_)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function vq(){return uc=uc||document.querySelector("base"),uc?uc.getAttribute("href"):null}();return null==n?null:function Cq(e){Sd=Sd||document.createElement("a"),Sd.setAttribute("href",e);const t=Sd.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){uc=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function p4(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let Sd,uc=null,Eq=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac})}}return e})();const s_=new D("EventManagerPlugins");let VR=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new E(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||e)(x(s_),x(ue))}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac})}}return e})();class UR{constructor(t){this._doc=t}}const a_="ng-app-id";let jR=(()=>{class e{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=xR(o),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${a_}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(a_),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(a_,this.appId),s}}addStyleToHost(n,r){const i=this.getStyleElement(n,r);n.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||e)(x(gn),x(Ml),x(zT,8),x(Xr))}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac})}}return e})();const c_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},u_=/%COMP%/g,Tq=new D("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function $R(e,t){return t.map(n=>n.replace(u_,e))}let HR=(()=>{class e{constructor(n,r,i,o,s,a,c,u=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=xR(a),this.defaultRenderer=new l_(n,s,c,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===wn.ShadowDom&&(r={...r,encapsulation:wn.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof WR?i.applyToHost(n):i instanceof d_&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case wn.Emulated:o=new WR(c,u,r,this.appId,l,s,a,d);break;case wn.ShadowDom:return new Rq(c,u,n,r,s,a,this.nonce,d);default:o=new d_(c,u,r,l,s,a,d)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||e)(x(VR),x(jR),x(Ml),x(Tq),x(gn),x(Xr),x(ue),x(zT))}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac})}}return e})();class l_{constructor(t,n,r,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(c_[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(zR(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(zR(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new E(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const o=c_[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=c_[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(Yr.DashCase|Yr.Important)?t.style.setProperty(n,r,i&Yr.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Yr.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){if("string"==typeof t&&!(t=ti().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))&&n.preventDefault()}}}function zR(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class Rq extends l_{constructor(t,n,r,i,o,s,a,c){super(t,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=$R(i.id,i.styles);for(const l of u){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class d_ extends l_{constructor(t,n,r,i,o,s,a,c){super(t,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?$R(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class WR extends d_{constructor(t,n,r,i,o,s,a,c){const u=i+"-"+r.id;super(t,n,r,o,s,a,c,u),this.contentAttr=function Sq(e){return"_ngcontent-%COMP%".replace(u_,e)}(u),this.hostAttr=function Aq(e){return"_nghost-%COMP%".replace(u_,e)}(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}let Nq=(()=>{class e extends UR{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||e)(x(gn))}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac})}}return e})();const GR=["alt","control","meta","shift"],kq={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xq={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let Pq=(()=>{class e extends UR{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i){const o=e.parseEventName(r),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ti().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=e._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),GR.forEach(u=>{const l=r.indexOf(u);l>-1&&(r.splice(l,1),s+=u+".")}),s+=o,0!=r.length||0===o.length)return null;const c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=kq[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),GR.forEach(s=>{s!==i&&(0,xq[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}static{this.\u0275fac=function(r){return new(r||e)(x(gn))}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac})}}return e})();const Vq=UM(uG,"browser",[{provide:Xr,useValue:"browser"},{provide:HT,useValue:function Oq(){o_.makeCurrent()},multi:!0},{provide:gn,useFactory:function Lq(){return function yj(e){Xp=e}(document),document},deps:[]}]),Uq=new D(""),YR=[{provide:ad,useClass:class wq{addToWindow(t){we.getAngularTestability=(r,i=!0)=>{const o=t.findTestabilityInTree(r,i);if(null==o)throw new E(5103,!1);return o},we.getAllAngularTestabilities=()=>t.getAllTestabilities(),we.getAllAngularRootElements=()=>t.getAllRootElements(),we.frameworkStabilizers||(we.frameworkStabilizers=[]),we.frameworkStabilizers.push(r=>{const i=we.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(c){s=s||c,o--,0==o&&r(s)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?ti().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:PM,useClass:Tm,deps:[ue,Sm,ad]},{provide:Tm,useClass:Tm,deps:[ue,Sm,ad]}],QR=[{provide:sg,useValue:"root"},{provide:_r,useFactory:function Fq(){return new _r},deps:[]},{provide:s_,useClass:Nq,multi:!0,deps:[gn,ue,Xr]},{provide:s_,useClass:Pq,multi:!0,deps:[gn]},HR,jR,VR,{provide:QT,useExisting:HR},{provide:class Y4{},useClass:Eq,deps:[]},[]];let jq=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:Ml,useValue:n.appId}]}}static{this.\u0275fac=function(r){return new(r||e)(x(Uq,12))}}static{this.\u0275mod=Ft({type:e})}static{this.\u0275inj=Ct({providers:[...QR,...YR],imports:[NR,lG]})}}return e})(),XR=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||e)(x(gn))}}static{this.\u0275prov=P({token:e,factory:function(r){let i=null;return i=r?new r:function $q(){return new XR(x(gn))}(),i},providedIn:"root"})}}return e})();typeof window<"u"&&window;const{isArray:Kq}=Array,{getPrototypeOf:Yq,prototype:Qq,keys:Xq}=Object;function tN(e){if(1===e.length){const t=e[0];if(Kq(t))return{args:t,keys:null};if(function Zq(e){return e&&"object"==typeof e&&Yq(e)===Qq}(t)){const n=Xq(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}const{isArray:Jq}=Array;function nN(e){return me(t=>function e8(e,t){return Jq(t)?e(...t):e(t)}(e,t))}function rN(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function f_(...e){const t=oa(e),n=dI(e),{args:r,keys:i}=tN(e);if(0===r.length)return Qe([],t);const o=new Re(function t8(e,t,n=Br){return r=>{iN(t,()=>{const{length:i}=e,o=new Array(i);let s=i,a=i;for(let c=0;c<i;c++)iN(t,()=>{const u=Qe(e[c],t);let l=!1;u.subscribe($e(r,d=>{o[c]=d,l||(l=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,t,i?s=>rN(i,s):Br));return n?o.pipe(nN(n)):o}function iN(e,t,n){e?cr(n,e,t):t()}const Ad=ra(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function p_(...e){return function n8(){return wo(1)}()(Qe(e,oa(e)))}function oN(e){return new Re(t=>{qt(e()).subscribe(t)})}function lc(e,t){const n=ge(e)?e:()=>e,r=i=>i.error(n());return new Re(t?i=>t.schedule(r,0,i):r)}function g_(){return ze((e,t)=>{let n=null;e._refCount++;const r=$e(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class sN extends Re{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Qb(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Pt;const n=this.getSubject();t.add(this.source.subscribe($e(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Pt.EMPTY)}return t}refCount(){return g_()(this)}}function vs(e){return e<=0?()=>On:ze((t,n)=>{let r=0;t.subscribe($e(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function ri(e,t){return ze((n,r)=>{let i=0;n.subscribe($e(r,o=>e.call(t,o,i++)&&r.next(o)))})}function Md(e){return ze((t,n)=>{let r=!1;t.subscribe($e(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function aN(e=i8){return ze((t,n)=>{let r=!1;t.subscribe($e(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function i8(){return new Ad}function ji(e,t){const n=arguments.length>=2;return r=>r.pipe(e?ri((i,o)=>e(i,o,r)):Br,vs(1),n?Md(t):aN(()=>new Ad))}function dc(e,t){return ge(t)?nt(e,t,1):nt(e,1)}function ct(e,t,n){const r=ge(e)||t||n?{next:e,error:t,complete:n}:e;return r?ze((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe($e(o,c=>{var u;null===(u=r.next)||void 0===u||u.call(r,c),o.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),o.complete()},c=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,c),o.error(c)},()=>{var c,u;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):Br}function Bi(e){return ze((t,n)=>{let o,r=null,i=!1;r=t.subscribe($e(n,void 0,void 0,s=>{o=qt(e(s,Bi(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function m_(e){return e<=0?()=>On:ze((t,n)=>{let r=[];t.subscribe($e(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function __(e){return ze((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}const q="primary",hc=Symbol("RouteTitle");class l8{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Cs(e){return new l8(e)}function d8(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=e[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function Kn(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!cN(e[i],t[i]))return!1;return!0}function cN(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}return e===t}function uN(e){return e.length>0?e[e.length-1]:null}function ii(e){return function qq(e){return!!e&&(e instanceof Re||ge(e.lift)&&ge(e.subscribe))}(e)?e:qa(e)?Qe(Promise.resolve(e)):B(e)}const f8={exact:function hN(e,t,n){if(!$i(e.segments,t.segments)||!Rd(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!hN(e.children[r],t.children[r],n))return!1;return!0},subset:fN},lN={exact:function p8(e,t){return Kn(e,t)},subset:function g8(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>cN(e[n],t[n]))},ignored:()=>!0};function dN(e,t,n){return f8[n.paths](e.root,t.root,n.matrixParams)&&lN[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function fN(e,t,n){return pN(e,t,t.segments,n)}function pN(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!(!$i(i,n)||t.hasChildren()||!Rd(i,n,r))}if(e.segments.length===n.length){if(!$i(e.segments,n)||!Rd(e.segments,n,r))return!1;for(const i in t.children)if(!e.children[i]||!fN(e.children[i],t.children[i],r))return!1;return!0}{const i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!!($i(e.segments,i)&&Rd(e.segments,i,r)&&e.children[q])&&pN(e.children[q],t,o,r)}}function Rd(e,t,n){return t.every((r,i)=>lN[n](e[i].parameters,r.parameters))}class ws{constructor(t=new pe([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Cs(this.queryParams)),this._queryParamMap}toString(){return y8.serialize(this)}}class pe{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Nd(this)}}class fc{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Cs(this.parameters)),this._parameterMap}toString(){return _N(this)}}function $i(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let pc=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=P({token:e,factory:function(){return new y_},providedIn:"root"})}}return e})();class y_{parse(t){const n=new M8(t);return new ws(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${gc(t.root,!0)}`,r=function w8(e){const t=Object.keys(e).map(n=>{const r=e[n];return Array.isArray(r)?r.map(i=>`${kd(n)}=${kd(i)}`).join("&"):`${kd(n)}=${kd(r)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function v8(e){return encodeURI(e)}(t.fragment)}`:""}`}}const y8=new y_;function Nd(e){return e.segments.map(t=>_N(t)).join("/")}function gc(e,t){if(!e.hasChildren())return Nd(e);if(t){const n=e.children[q]?gc(e.children[q],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==q&&r.push(`${i}:${gc(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function _8(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===q&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==q&&(n=n.concat(t(i,r)))}),n}(e,(r,i)=>i===q?[gc(e.children[q],!1)]:[`${i}:${gc(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[q]?`${Nd(e)}/${n[0]}`:`${Nd(e)}/(${n.join("//")})`}}function gN(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function kd(e){return gN(e).replace(/%3B/gi,";")}function v_(e){return gN(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xd(e){return decodeURIComponent(e)}function mN(e){return xd(e.replace(/\+/g,"%20"))}function _N(e){return`${v_(e.path)}${function C8(e){return Object.keys(e).map(t=>`;${v_(t)}=${v_(e[t])}`).join("")}(e.parameters)}`}const E8=/^[^\/()?;#]+/;function C_(e){const t=e.match(E8);return t?t[0]:""}const b8=/^[^\/()?;=#]+/,D8=/^[^=?&#]+/,S8=/^[^&#]+/;class M8{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new pe([],{}):new pe([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[q]=new pe(t,n)),r}parseSegment(){const t=C_(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new E(4009,!1);return this.capture(t),new fc(xd(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=function I8(e){const t=e.match(b8);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=C_(this.remaining);i&&(r=i,this.capture(r))}t[xd(n)]=xd(r)}parseQueryParam(t){const n=function T8(e){const t=e.match(D8);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function A8(e){const t=e.match(S8);return t?t[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=mN(n),o=mN(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=C_(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new E(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=q);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[q]:new pe([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new E(4011,!1)}}function yN(e){return e.segments.length>0?new pe([],{[q]:e}):e}function vN(e){const t={};for(const r of Object.keys(e.children)){const o=vN(e.children[r]);if(r===q&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}return function R8(e){if(1===e.numberOfChildren&&e.children[q]){const t=e.children[q];return new pe(e.segments.concat(t.segments),t.children)}return e}(new pe(e.segments,t))}function Hi(e){return e instanceof ws}function CN(e){let t;const i=yN(function n(o){const s={};for(const c of o.children){const u=n(c);s[c.outlet]=u}const a=new pe(o.url,s);return o===e&&(t=a),a}(e.root));return t??i}function wN(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(0===t.length)return w_(i,i,i,n,r);const o=function k8(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new bN(!0,0,e);let t=0,n=!1;const r=e.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?t++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new bN(n,t,r)}(t);if(o.toRoot())return w_(i,i,new pe([],{}),n,r);const s=function x8(e,t,n){if(e.isAbsolute)return new Od(t,!0,0);if(!n)return new Od(t,!1,NaN);if(null===n.parent)return new Od(n,!0,0);const r=Pd(e.commands[0])?0:1;return function P8(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new E(4005,!1);i=r.segments.length}return new Od(r,!1,i-o)}(n,n.segments.length-1+r,e.numberOfDoubleDots)}(o,i,e),a=s.processChildren?_c(s.segmentGroup,s.index,o.commands):IN(s.segmentGroup,s.index,o.commands);return w_(i,s.segmentGroup,a,n,r)}function Pd(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function mc(e){return"object"==typeof e&&null!=e&&e.outlets}function w_(e,t,n,r,i){let s,o={};r&&Object.entries(r).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),s=e===t?n:EN(e,t,n);const a=yN(vN(s));return new ws(a,o,i)}function EN(e,t,n){const r={};return Object.entries(e.children).forEach(([i,o])=>{r[i]=o===t?n:EN(o,t,n)}),new pe(e.segments,r)}class bN{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Pd(r[0]))throw new E(4003,!1);const i=r.find(mc);if(i&&i!==uN(r))throw new E(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Od{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function IN(e,t,n){if(e||(e=new pe([],{})),0===e.segments.length&&e.hasChildren())return _c(e,t,n);const r=function F8(e,t,n){let r=0,i=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;const s=e.segments[i],a=n[r];if(mc(a))break;const c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===c)break;if(c&&u&&"object"==typeof u&&void 0===u.outlets){if(!TN(c,u,s))return o;r+=2}else{if(!TN(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const o=new pe(e.segments.slice(0,r.pathIndex),{});return o.children[q]=new pe(e.segments.slice(r.pathIndex),e.children),_c(o,0,i)}return r.match&&0===i.length?new pe(e.segments,{}):r.match&&!e.hasChildren()?E_(e,t,n):r.match?_c(e,0,i):E_(e,t,n)}function _c(e,t,n){if(0===n.length)return new pe(e.segments,{});{const r=function O8(e){return mc(e[0])?e[0].outlets:{[q]:e}}(n),i={};if(Object.keys(r).some(o=>o!==q)&&e.children[q]&&1===e.numberOfChildren&&0===e.children[q].segments.length){const o=_c(e.children[q],t,n);return new pe(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=IN(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new pe(e.segments,i)}}function E_(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const o=n[i];if(mc(o)){const c=L8(o.outlets);return new pe(r,c)}if(0===i&&Pd(n[0])){r.push(new fc(e.segments[t].path,DN(n[0]))),i++;continue}const s=mc(o)?o.outlets[q]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Pd(a)?(r.push(new fc(s,DN(a))),i+=2):(r.push(new fc(s,{})),i++)}return new pe(r,{})}function L8(e){const t={};return Object.entries(e).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(t[n]=E_(new pe([],{}),0,r))}),t}function DN(e){const t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function TN(e,t,n){return e==n.path&&Kn(t,n.parameters)}const yc="imperative";class Yn{constructor(t,n){this.id=t,this.url=n}}class Fd extends Yn{constructor(t,n,r="imperative",i=null){super(t,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class oi extends Yn{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class vc extends Yn{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Es extends Yn{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=16}}class Ld extends Yn{constructor(t,n,r,i){super(t,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class SN extends Yn{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class V8 extends Yn{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class U8 extends Yn{constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class j8 extends Yn{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class B8 extends Yn{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $8{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class H8{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class z8{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class W8{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class G8{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class q8{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class AN{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class b_{}class I_{constructor(t){this.url=t}}class K8{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Cc,this.attachRef=null}}let Cc=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new K8,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();class MN{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=D_(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=D_(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=T_(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return T_(t,this._root).map(n=>n.value)}}function D_(e,t){if(e===t.value)return t;for(const n of t.children){const r=D_(e,n);if(r)return r}return null}function T_(e,t){if(e===t.value)return[t];for(const n of t.children){const r=T_(e,n);if(r.length)return r.unshift(t),r}return[]}class Dr{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function bs(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class RN extends MN{constructor(t,n){super(t),this.snapshot=n,S_(this,t)}toString(){return this.snapshot.toString()}}function NN(e,t){const n=function Y8(e,t){const s=new Vd([],{},{},"",{},q,t,null,{});return new xN("",new Dr(s,[]))}(0,t),r=new Kt([new fc("",{})]),i=new Kt({}),o=new Kt({}),s=new Kt({}),a=new Kt(""),c=new zi(r,i,s,a,o,q,t,n.root);return c.snapshot=n.root,new RN(new Dr(c,[]),n)}class zi{constructor(t,n,r,i,o,s,a,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(me(u=>u[hc]))??B(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(me(t=>Cs(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(me(t=>Cs(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function kN(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function Q8(e){return e.reduce((t,n)=>({params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Vd{get title(){return this.data?.[hc]}constructor(t,n,r,i,o,s,a,c,u){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Cs(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Cs(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class xN extends MN{constructor(t,n){super(n),this.url=t,S_(this,n)}toString(){return PN(this._root)}}function S_(e,t){t.value._routerState=e,t.children.forEach(n=>S_(e,n))}function PN(e){const t=e.children.length>0?` { ${e.children.map(PN).join(", ")} } `:"";return`${e.value}${t}`}function A_(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Kn(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),Kn(t.params,n.params)||e.paramsSubject.next(n.params),function h8(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Kn(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.urlSubject.next(n.url),Kn(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function M_(e,t){const n=Kn(e.params,t.params)&&function m8(e,t){return $i(e,t)&&e.every((n,r)=>Kn(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||M_(e.parent,t.parent))}let R_=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=q,this.activateEvents=new Oe,this.deactivateEvents=new Oe,this.attachEvents=new Oe,this.detachEvents=new Oe,this.parentContexts=k(Cc),this.location=k(Sn),this.changeDetector=k(ud),this.environmentInjector=k(fn),this.inputBinder=k(Ud,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new E(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new E(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new E(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new E(4013,!1);this._activatedRoute=n;const i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new X8(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=j({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[un]})}}return e})();class X8{constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===zi?this.route:t===Cc?this.childContexts:this.parent.get(t,n)}}const Ud=new D("");let ON=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:r}=n,i=f_([r.queryParams,r.params,r.data]).pipe(Fn(([o,s,a],c)=>(a={...o,...s,...a},0===c?B(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(n);const s=function EG(e){const t=te(e);if(!t)return null;const n=new ja(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,i)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac})}}return e})();function wc(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function J8(e,t,n){return t.children.map(r=>{for(const i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return wc(e,r,i);return wc(e,r)})}(e,t,n);return new Dr(r,i)}{if(e.shouldAttach(t.value)){const o=e.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>wc(e,a)),s}}const r=function e6(e){return new zi(new Kt(e.url),new Kt(e.params),new Kt(e.queryParams),new Kt(e.fragment),new Kt(e.data),e.outlet,e.component,e)}(t.value),i=t.children.map(o=>wc(e,o));return new Dr(r,i)}}const N_="ngNavigationCancelingError";function FN(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=Hi(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=LN(!1,0,t);return i.url=n,i.navigationBehaviorOptions=r,i}function LN(e,t,n){const r=new Error("NavigationCancelingError: "+(e||""));return r[N_]=!0,r.cancellationCode=t,n&&(r.url=n),r}function VN(e){return e&&e[N_]}let UN=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=dr({type:e,selectors:[["ng-component"]],standalone:!0,features:[V0],decls:1,vars:0,template:function(r,i){1&r&&ee(0,"router-outlet")},dependencies:[R_],encapsulation:2})}}return e})();function k_(e){const t=e.children&&e.children.map(k_),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==q&&(n.component=UN),n}function Rn(e){return e.outlet||q}function Ec(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class c6{constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),A_(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const i=bs(n);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){const i=t.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=bs(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=bs(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){const i=bs(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new q8(o.value.snapshot))}),t.children.length&&this.forwardEvent(new W8(t.value.snapshot))}activateRoutes(t,n,r){const i=t.value,o=n?n.value:null;if(A_(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),A_(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=Ec(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,r)}}class jN{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class jd{constructor(t,n){this.component=t,this.route=n}}function u6(e,t,n){const r=e._root;return bc(r,t?t._root:null,n,[r.value])}function Is(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function PV(e){return null!==ju(e)}(e)?t.get(e):e:r}function bc(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=bs(t);return e.children.forEach(s=>{(function d6(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function h6(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!$i(e.url,t.url);case"pathParamsOrQueryParamsChange":return!$i(e.url,t.url)||!Kn(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!M_(e,t)||!Kn(e.queryParams,t.queryParams);default:return!M_(e,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new jN(r)):(o.data=s.data,o._resolvedData=s._resolvedData),bc(e,t,o.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new jd(a.outlet.component,s))}else s&&Ic(t,a,i),i.canActivateChecks.push(new jN(r)),bc(e,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ic(a,n.getContext(s),i)),i}function Ic(e,t,n){const r=bs(e),i=e.value;Object.entries(r).forEach(([o,s])=>{Ic(s,i.component?t?t.children.getContext(o):null:t,n)}),n.canDeactivateChecks.push(new jd(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function Dc(e){return"function"==typeof e}function BN(e){return e instanceof Ad||"EmptyError"===e?.name}const Bd=Symbol("INITIAL_VALUE");function Ds(){return Fn(e=>f_(e.map(t=>t.pipe(vs(1),function r8(...e){const t=oa(e);return ze((n,r)=>{(t?p_(e,n,t):p_(e,n)).subscribe(r)})}(Bd)))).pipe(me(t=>{for(const n of t)if(!0!==n){if(n===Bd)return Bd;if(!1===n||n instanceof ws)return n}return!0}),ri(t=>t!==Bd),vs(1)))}function $N(e){return function kL(...e){return qb(e)}(ct(t=>{if(Hi(t))throw FN(0,t)}),me(t=>!0===t))}class $d{constructor(t){this.segmentGroup=t||null}}class HN{constructor(t){this.urlTree=t}}function Ts(e){return lc(new $d(e))}function zN(e){return lc(new HN(e))}class k6{constructor(t,n){this.urlSerializer=t,this.urlTree=n}noMatchError(t){return new E(4002,!1)}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return B(r);if(i.numberOfChildren>1||!i.children[q])return lc(new E(4e3,!1));i=i.children[q]}}applyRedirectCommands(t,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r)}applyRedirectCreateUrlTree(t,n,r,i){const o=this.createSegmentGroup(t,n.root,r,i);return new ws(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return Object.entries(t).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){const o=this.createSegments(t,n.segments,r,i);let s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(t,c,r,i)}),new pe(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){const i=r[n.path.substring(1)];if(!i)throw new E(4001,!1);return i}findOrReturn(t,n){let r=0;for(const i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}}const x_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function x6(e,t,n,r,i){const o=P_(e,t,n);return o.matched?(r=function n6(e,t){return e.providers&&!e._injector&&(e._injector=om(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,r),function M6(e,t,n,r){const i=t.canMatch;return i&&0!==i.length?B(i.map(s=>{const a=Is(s,e);return ii(function y6(e){return e&&Dc(e.canMatch)}(a)?a.canMatch(t,n):e.runInContext(()=>a(t,n)))})).pipe(Ds(),$N()):B(!0)}(r,t,n).pipe(me(s=>!0===s?o:{...x_}))):B(o)}function P_(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...x_}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(t.matcher||d8)(n,e,t);if(!i)return{...x_};const o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function WN(e,t,n,r){return n.length>0&&function F6(e,t,n){return n.some(r=>Hd(e,t,r)&&Rn(r)!==q)}(e,n,r)?{segmentGroup:new pe(t,O6(r,new pe(n,e.children))),slicedSegments:[]}:0===n.length&&function L6(e,t,n){return n.some(r=>Hd(e,t,r))}(e,n,r)?{segmentGroup:new pe(e.segments,P6(e,0,n,r,e.children)),slicedSegments:n}:{segmentGroup:new pe(e.segments,e.children),slicedSegments:n}}function P6(e,t,n,r,i){const o={};for(const s of r)if(Hd(e,n,s)&&!i[Rn(s)]){const a=new pe([],{});o[Rn(s)]=a}return{...i,...o}}function O6(e,t){const n={};n[q]=t;for(const r of e)if(""===r.path&&Rn(r)!==q){const i=new pe([],{});n[Rn(r)]=i}return n}function Hd(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}class B6{constructor(t,n,r,i,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new k6(this.urlSerializer,this.urlTree)}noMatchError(t){return new E(4002,!1)}recognize(){const t=WN(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,q).pipe(Bi(n=>{if(n instanceof HN)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof $d?this.noMatchError(n):n}),me(n=>{const r=new Vd([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},q,this.rootComponentType,null,{}),i=new Dr(r,n),o=new xN("",i),s=function N8(e,t,n=null,r=null){return wN(CN(e),t,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,q).pipe(Bi(r=>{throw r instanceof $d?this.noMatchError(r):r}))}inheritParamsAndData(t){const n=t.value,r=kN(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,i,!0)}processChildren(t,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return Qe(i).pipe(dc(o=>{const s=r.children[o],a=function s6(e,t){const n=e.filter(r=>Rn(r)===t);return n.push(...e.filter(r=>Rn(r)!==t)),n}(n,o);return this.processSegmentGroup(t,a,s,o)}),function s8(e,t){return ze(function o8(e,t,n,r,i){return(o,s)=>{let a=n,c=t,u=0;o.subscribe($e(s,l=>{const d=u++;c=a?e(c,l,d):(a=!0,l),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}(e,t,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),Md(null),function a8(e,t){const n=arguments.length>=2;return r=>r.pipe(e?ri((i,o)=>e(i,o,r)):Br,m_(1),n?Md(t):aN(()=>new Ad))}(),nt(o=>{if(null===o)return Ts(r);const s=GN(o);return function $6(e){e.sort((t,n)=>t.value.outlet===q?-1:n.value.outlet===q?1:t.value.outlet.localeCompare(n.value.outlet))}(s),B(s)}))}processSegment(t,n,r,i,o,s){return Qe(n).pipe(dc(a=>this.processSegmentAgainstRoute(a._injector??t,n,a,r,i,o,s).pipe(Bi(c=>{if(c instanceof $d)return B(null);throw c}))),ji(a=>!!a),Bi(a=>{if(BN(a))return function U6(e,t,n){return 0===t.length&&!e.children[n]}(r,i,o)?B([]):Ts(r);throw a}))}processSegmentAgainstRoute(t,n,r,i,o,s,a){return function V6(e,t,n,r){return!!(Rn(e)===r||r!==q&&Hd(t,n,e))&&("**"===e.path||P_(t,e,n).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,s):Ts(i):Ts(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?zN(o):this.applyRedirects.lineralizeSegments(r,o).pipe(nt(s=>{const a=new pe(s,{});return this.processSegment(t,n,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s){const{matched:a,consumedSegments:c,remainingSegments:u,positionalParamSegments:l}=P_(n,i,o);if(!a)return Ts(n);const d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return i.redirectTo.startsWith("/")?zN(d):this.applyRedirects.lineralizeSegments(i,d).pipe(nt(h=>this.processSegment(t,r,n,h.concat(u),s,!1)))}matchSegmentAgainstRoute(t,n,r,i,o,s){let a;if("**"===r.path){const c=i.length>0?uN(i).parameters:{};a=B({snapshot:new Vd(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,qN(r),Rn(r),r.component??r._loadedComponent??null,r,KN(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=x6(n,r,i,t).pipe(me(({matched:c,consumedSegments:u,remainingSegments:l,parameters:d})=>c?{snapshot:new Vd(u,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,qN(r),Rn(r),r.component??r._loadedComponent??null,r,KN(r)),consumedSegments:u,remainingSegments:l}:null));return a.pipe(Fn(c=>null===c?Ts(n):this.getChildConfig(t=r._injector??t,r,i).pipe(Fn(({routes:u})=>{const l=r._loadedInjector??t,{snapshot:d,consumedSegments:h,remainingSegments:f}=c,{segmentGroup:p,slicedSegments:m}=WN(n,h,f,u);if(0===m.length&&p.hasChildren())return this.processChildren(l,u,p).pipe(me(v=>null===v?null:[new Dr(d,v)]));if(0===u.length&&0===m.length)return B([new Dr(d,[])]);const y=Rn(r)===o;return this.processSegment(l,u,p,m,y?q:o,!0).pipe(me(v=>[new Dr(d,v)]))}))))}getChildConfig(t,n,r){return n.children?B({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?B({routes:n._loadedRoutes,injector:n._loadedInjector}):function A6(e,t,n,r){const i=t.canLoad;return void 0===i||0===i.length?B(!0):B(i.map(s=>{const a=Is(s,e);return ii(function p6(e){return e&&Dc(e.canLoad)}(a)?a.canLoad(t,n):e.runInContext(()=>a(t,n)))})).pipe(Ds(),$N())}(t,n,r).pipe(nt(i=>i?this.configLoader.loadChildren(t,n).pipe(ct(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function N6(e){return lc(LN(!1,3))}())):B({routes:[],injector:t})}}function H6(e){const t=e.value.routeConfig;return t&&""===t.path}function GN(e){const t=[],n=new Set;for(const r of e){if(!H6(r)){t.push(r);continue}const i=t.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):t.push(r)}for(const r of n){const i=GN(r.children);t.push(new Dr(r.value,i))}return t.filter(r=>!n.has(r))}function qN(e){return e.data||{}}function KN(e){return e.resolve||{}}function YN(e){return"string"==typeof e.title||null===e.title}function O_(e){return Fn(t=>{const n=e(t);return n?Qe(n).pipe(me(()=>t)):B(t)})}const Ss=new D("ROUTES");let F_=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=k(RM)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return B(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=ii(n.loadComponent()).pipe(me(QN),ct(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),__(()=>{this.componentLoaders.delete(n)})),i=new sN(r,()=>new sn).pipe(g_());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return B({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function Q6(e,t,n,r){return ii(e.loadChildren()).pipe(me(QN),nt(i=>i instanceof F0||Array.isArray(i)?B(i):Qe(t.compileModuleAsync(i))),me(i=>{r&&r(e);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(n).injector,s=o.get(Ss,[],{optional:!0,self:!0}).flat()),{routes:s.map(k_),injector:o}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(__(()=>{this.childrenLoaders.delete(r)})),s=new sN(o,()=>new sn).pipe(g_());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function QN(e){return function X6(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let zd=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new sn,this.transitionAbortSubject=new sn,this.configLoader=k(F_),this.environmentInjector=k(fn),this.urlSerializer=k(pc),this.rootContexts=k(Cc),this.inputBindingEnabled=null!==k(Ud,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>B(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new H8(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new $8(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new Kt({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:n.urlHandlingStrategy.extract(r),urlAfterRedirects:n.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:yc,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ri(o=>0!==o.id),me(o=>({...o,extractedUrl:n.urlHandlingStrategy.extract(o.rawUrl)})),Fn(o=>{this.currentTransition=o;let s=!1,a=!1;return B(o).pipe(ct(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Fn(c=>{const u=c.currentBrowserUrl.toString(),l=!n.navigated||c.extractedUrl.toString()!==u||u!==c.currentUrlTree.toString();if(!l&&"reload"!==(c.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const h="";return this.events.next(new Es(c.id,this.urlSerializer.serialize(c.rawUrl),h,0)),c.resolve(null),On}if(n.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return B(c).pipe(Fn(h=>{const f=this.transitions?.getValue();return this.events.next(new Fd(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?On:Promise.resolve(h)}),function z6(e,t,n,r,i,o){return nt(s=>function j6(e,t,n,r,i,o,s="emptyOnly"){return new B6(e,t,n,r,i,s,o).recognize()}(e,t,n,r,s.extractedUrl,i,o).pipe(me(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),ct(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new SN(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(l&&n.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:h,extractedUrl:f,source:p,restoredState:m,extras:y}=c,v=new Fd(h,this.urlSerializer.serialize(f),p,m);this.events.next(v);const _=NN(0,this.rootComponentType).snapshot;return this.currentTransition=o={...c,targetSnapshot:_,urlAfterRedirects:f,extras:{...y,skipLocationChange:!1,replaceUrl:!1}},B(o)}{const h="";return this.events.next(new Es(c.id,this.urlSerializer.serialize(c.extractedUrl),h,1)),c.resolve(null),On}}),ct(c=>{const u=new V8(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),me(c=>(this.currentTransition=o={...c,guards:u6(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},o)),function C6(e,t){return nt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?B({...n,guardsResult:!0}):function w6(e,t,n,r){return Qe(e).pipe(nt(i=>function S6(e,t,n,r,i){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?B(o.map(a=>{const c=Ec(t)??i,u=Is(a,c);return ii(function _6(e){return e&&Dc(e.canDeactivate)}(u)?u.canDeactivate(e,t,n,r):c.runInContext(()=>u(e,t,n,r))).pipe(ji())})).pipe(Ds()):B(!0)}(i.component,i.route,n,t,r)),ji(i=>!0!==i,!0))}(s,r,i,e).pipe(nt(a=>a&&function f6(e){return"boolean"==typeof e}(a)?function E6(e,t,n,r){return Qe(t).pipe(dc(i=>p_(function I6(e,t){return null!==e&&t&&t(new z8(e)),B(!0)}(i.route.parent,r),function b6(e,t){return null!==e&&t&&t(new G8(e)),B(!0)}(i.route,r),function T6(e,t,n){const r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function l6(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(s)).filter(s=>null!==s).map(s=>oN(()=>B(s.guards.map(c=>{const u=Ec(s.node)??n,l=Is(c,u);return ii(function m6(e){return e&&Dc(e.canActivateChild)}(l)?l.canActivateChild(r,e):u.runInContext(()=>l(r,e))).pipe(ji())})).pipe(Ds())));return B(o).pipe(Ds())}(e,i.path,n),function D6(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return B(!0);const i=r.map(o=>oN(()=>{const s=Ec(t)??n,a=Is(o,s);return ii(function g6(e){return e&&Dc(e.canActivate)}(a)?a.canActivate(t,e):s.runInContext(()=>a(t,e))).pipe(ji())}));return B(i).pipe(Ds())}(e,i.route,n))),ji(i=>!0!==i,!0))}(r,o,e,t):B(a)),me(a=>({...n,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),ct(c=>{if(o.guardsResult=c.guardsResult,Hi(c.guardsResult))throw FN(0,c.guardsResult);const u=new U8(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),ri(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),O_(c=>{if(c.guards.canActivateChecks.length)return B(c).pipe(ct(u=>{const l=new j8(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),Fn(u=>{let l=!1;return B(u).pipe(function W6(e,t){return nt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return B(n);let o=0;return Qe(i).pipe(dc(s=>function G6(e,t,n,r){const i=e.routeConfig,o=e._resolve;return void 0!==i?.title&&!YN(i)&&(o[hc]=i.title),function q6(e,t,n,r){const i=function K6(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===i.length)return B({});const o={};return Qe(i).pipe(nt(s=>function Y6(e,t,n,r){const i=Ec(t)??r,o=Is(e,i);return ii(o.resolve?o.resolve(t,n):i.runInContext(()=>o(t,n)))}(e[s],t,n,r).pipe(ji(),ct(a=>{o[s]=a}))),m_(1),function c8(e){return me(()=>e)}(o),Bi(s=>BN(s)?On:lc(s)))}(o,e,t,r).pipe(me(s=>(e._resolvedData=s,e.data=kN(e,n).resolve,i&&YN(i)&&(e.data[hc]=i.title),null)))}(s.route,r,e,t)),ct(()=>o++),m_(1),nt(s=>o===i.length?B(n):On))})}(n.paramsInheritanceStrategy,this.environmentInjector),ct({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(u,"",2)}}))}),ct(u=>{const l=new B8(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}))}),O_(c=>{const u=l=>{const d=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(l.routeConfig).pipe(ct(h=>{l.component=h}),me(()=>{})));for(const h of l.children)d.push(...u(h));return d};return f_(u(c.targetSnapshot.root)).pipe(Md(),vs(1))}),O_(()=>this.afterPreactivation()),me(c=>{const u=function Z8(e,t,n){const r=wc(e,t._root,n?n._root:void 0);return new RN(r,t)}(n.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o={...c,targetRouterState:u},o}),ct(()=>{this.events.next(new b_)}),((e,t,n,r)=>me(i=>(new c6(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)))(this.rootContexts,n.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),vs(1),ct({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new oi(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),n.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),function u8(e){return ze((t,n)=>{qt(e).subscribe($e(n,()=>n.complete(),Pf)),!n.closed&&t.subscribe(n)})}(this.transitionAbortSubject.pipe(ct(c=>{throw c}))),__(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Bi(c=>{if(a=!0,VN(c))this.events.next(new vc(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),function t6(e){return VN(e)&&Hi(e.url)}(c)?this.events.next(new I_(c.url)):o.resolve(!1);else{this.events.next(new Ld(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(c))}catch(u){o.reject(u)}}return On}))}))}cancelNavigationTransition(n,r,i){const o=new vc(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function XN(e){return e!==yc}let ZN=(()=>{class e{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===q);return r}getResolvedTitleForRoute(n){return n.data[hc]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=P({token:e,factory:function(){return k(Z6)},providedIn:"root"})}}return e})(),Z6=(()=>{class e extends ZN{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||e)(x(XR))}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),J6=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=P({token:e,factory:function(){return k(t5)},providedIn:"root"})}}return e})();class e5{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let t5=(()=>{class e extends e5{static{this.\u0275fac=function(){let n;return function(i){return(n||(n=at(e)))(i||e)}}()}static{this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const Wd=new D("",{providedIn:"root",factory:()=>({})});let n5=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=P({token:e,factory:function(){return k(r5)},providedIn:"root"})}}return e})(),r5=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Tc=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Tc||{});function JN(e,t){e.events.pipe(ri(n=>n instanceof oi||n instanceof vc||n instanceof Ld||n instanceof Es),me(n=>n instanceof oi||n instanceof Es?Tc.COMPLETE:n instanceof vc&&(0===n.code||1===n.code)?Tc.REDIRECTING:Tc.FAILED),ri(n=>n!==Tc.REDIRECTING),vs(1)).subscribe(()=>{t()})}function i5(e){throw e}function o5(e,t,n){return t.parse("/")}const s5={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},a5={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let mt=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=k(AM),this.isNgZoneEnabled=!1,this._events=new sn,this.options=k(Wd,{optional:!0})||{},this.pendingTasks=k(MM),this.errorHandler=this.options.errorHandler||i5,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||o5,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=k(n5),this.routeReuseStrategy=k(J6),this.titleStrategy=k(ZN),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=k(Ss,{optional:!0})?.flat()??[],this.navigationTransitions=k(zd),this.urlSerializer=k(pc),this.location=k(jm),this.componentInputBindingEnabled=!!k(Ud,{optional:!0}),this.eventsSubscription=new Pt,this.isNgZoneEnabled=k(ue)instanceof ue&&ue.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ws,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=NN(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(ek(r)&&this._events.next(r));if(r instanceof Fd)XN(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof Es)this.rawUrlTree=i.rawUrl;else if(r instanceof SN){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(o,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof b_)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof vc)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof I_){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),s={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||XN(i.source)};this.scheduleNavigation(o,yc,null,s,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof Ld&&this.restoreHistory(i,!0),r instanceof oi&&(this.navigated=!0),ek(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),yc,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(k_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s;let d,l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...o};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=o||null}null!==l&&(l=this.removeEmptyProps(l));try{d=CN(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),d=this.currentUrlTree.root}return wN(d,n,l,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Hi(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,yc,null,r)}navigate(n,r={skipLocationChange:!1}){return function c5(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new E(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...s5}:!1===r?{...a5}:r,Hi(n))return dN(this.currentUrlTree,n,i);const o=this.parseUrl(n);return dN(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const o=n[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((d,h)=>{a=d,c=h});const l=this.pendingTasks.add();return JN(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function ek(e){return!(e instanceof b_||e instanceof I_)}let Gd=(()=>{class e{constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new sn,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=n.events.subscribe(u=>{u instanceof oi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function PT(e,t,n){return function Uj(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?xT:kT}(t,n)(e)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||e)(w(mt),w(zi),function al(e){return function sU(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if(DI(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===t)return n[i+1];i+=2}}}return null}(st(),e)}("tabindex"),w(mr),w(Jt),w(Ui))}}static{this.\u0275dir=j({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&ke("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&Wn("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",_s],skipLocationChange:["skipLocationChange","skipLocationChange",_s],replaceUrl:["replaceUrl","replaceUrl",_s],routerLink:"routerLink"},standalone:!0,features:[YS,un]})}}return e})();class tk{}let d5=(()=>{class e{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(ri(n=>n instanceof oi),dc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=om(o.providers,n,`Route: ${o.path}`));const s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Qe(i).pipe(wo())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):B(null);const o=i.pipe(nt(s=>null===s?B(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));return r.loadComponent&&!r._loadedComponent?Qe([o,this.loader.loadComponent(r)]).pipe(wo()):o})}static{this.\u0275fac=function(r){return new(r||e)(x(mt),x(RM),x(fn),x(tk),x(F_))}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const L_=new D("");let nk=(()=>{class e{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Fd?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof oi?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Es&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof AN&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new AN(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){!function ES(){throw new Error("invalid")}()}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac})}}return e})();function Tr(e,t){return{\u0275kind:e,\u0275providers:t}}function ik(){const e=k(pt);return t=>{const n=e.get(ms);if(t!==n.components[0])return;const r=e.get(mt),i=e.get(ok);1===e.get(V_)&&r.initialNavigation(),e.get(sk,null,Z.Optional)?.setUpPreloading(),e.get(L_,null,Z.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const ok=new D("",{factory:()=>new sn}),V_=new D("",{providedIn:"root",factory:()=>1}),sk=new D("");function g5(e){return Tr(0,[{provide:sk,useExisting:d5},{provide:tk,useExisting:e}])}const ak=new D("ROUTER_FORROOT_GUARD"),_5=[jm,{provide:pc,useClass:y_},mt,Cc,{provide:zi,useFactory:function rk(e){return e.routerState.root},deps:[mt]},F_,[]];function y5(){return new LM("Router",mt)}let ck=(()=>{class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[_5,[],{provide:Ss,multi:!0,useValue:n},{provide:ak,useFactory:E5,deps:[[mt,new Tt,new ll]]},{provide:Wd,useValue:r||{}},r?.useHash?{provide:Ui,useClass:SG}:{provide:Ui,useClass:pR},{provide:L_,useFactory:()=>{const e=k(G4),t=k(ue),n=k(Wd),r=k(zd),i=k(pc);return n.scrollOffset&&e.setOffset(n.scrollOffset),new nk(i,r,e,t,n)}},r?.preloadingStrategy?g5(r.preloadingStrategy).\u0275providers:[],{provide:LM,multi:!0,useFactory:y5},r?.initialNavigation?b5(r):[],r?.bindToComponentInputs?Tr(8,[ON,{provide:Ud,useExisting:ON}]).\u0275providers:[],[{provide:uk,useFactory:ik},{provide:Rm,multi:!0,useExisting:uk}]]}}static forChild(n){return{ngModule:e,providers:[{provide:Ss,multi:!0,useValue:n}]}}static{this.\u0275fac=function(r){return new(r||e)(x(ak,8))}}static{this.\u0275mod=Ft({type:e})}static{this.\u0275inj=Ct({})}}return e})();function E5(e){return"guarded"}function b5(e){return["disabled"===e.initialNavigation?Tr(3,[{provide:Em,multi:!0,useFactory:()=>{const t=k(mt);return()=>{t.setUpLocationChangeListener()}}},{provide:V_,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?Tr(2,[{provide:V_,useValue:0},{provide:Em,multi:!0,deps:[pt],useFactory:t=>{const n=t.get(DG,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=t.get(mt),o=t.get(ok);JN(i,()=>{r(!0)}),t.get(zd).afterPreactivation=()=>(r(!0),o.closed?B(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const uk=new D("");function lk(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(u){return void n(u)}a.done?t(c):Promise.resolve(c).then(r,i)}function g(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function s(c){lk(o,r,i,s,a,"next",c)}function a(c){lk(o,r,i,s,a,"throw",c)}s(void 0)})}}let dk=(()=>{class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||e)(w(mr),w(Jt))}}static{this.\u0275dir=j({type:e})}}return e})(),Wi=(()=>{class e extends dk{static{this.\u0275fac=function(){let n;return function(i){return(n||(n=at(e)))(i||e)}}()}static{this.\u0275dir=j({type:e,features:[fe]})}}return e})();const Qn=new D("NgValueAccessor"),S5={provide:Qn,useExisting:Ce(()=>Sc),multi:!0},M5=new D("CompositionEventMode");let Sc=(()=>{class e extends dk{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function A5(){const e=ti()?ti().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||e)(w(mr),w(Jt),w(M5,8))}}static{this.\u0275dir=j({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&ke("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Ae([S5]),fe]})}}return e})();function si(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}function fk(e){return null!=e&&"number"==typeof e.length}const _t=new D("NgValidators"),ai=new D("NgAsyncValidators"),R5=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class qd{static min(t){return function pk(e){return t=>{if(si(t.value)||si(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}(t)}static max(t){return function gk(e){return t=>{if(si(t.value)||si(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}(t)}static required(t){return function mk(e){return si(e.value)?{required:!0}:null}(t)}static requiredTrue(t){return function _k(e){return!0===e.value?null:{required:!0}}(t)}static email(t){return function yk(e){return si(e.value)||R5.test(e.value)?null:{email:!0}}(t)}static minLength(t){return function vk(e){return t=>si(t.value)||!fk(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function Ck(e){return t=>fk(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}(t)}static pattern(t){return function wk(e){if(!e)return Kd;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),r=>{if(si(r.value))return null;const i=r.value;return t.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(t)}static nullValidator(t){return null}static compose(t){return Sk(t)}static composeAsync(t){return Ak(t)}}function Kd(e){return null}function Ek(e){return null!=e}function bk(e){return qa(e)?Qe(e):e}function Ik(e){let t={};return e.forEach(n=>{t=null!=n?{...t,...n}:t}),0===Object.keys(t).length?null:t}function Dk(e,t){return t.map(n=>n(e))}function Tk(e){return e.map(t=>function N5(e){return!e.validate}(t)?t:n=>t.validate(n))}function Sk(e){if(!e)return null;const t=e.filter(Ek);return 0==t.length?null:function(n){return Ik(Dk(n,t))}}function U_(e){return null!=e?Sk(Tk(e)):null}function Ak(e){if(!e)return null;const t=e.filter(Ek);return 0==t.length?null:function(n){return function D5(...e){const t=dI(e),{args:n,keys:r}=tN(e),i=new Re(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let c=s,u=s;for(let l=0;l<s;l++){let d=!1;qt(n[l]).subscribe($e(o,h=>{d||(d=!0,u--),a[l]=h},()=>c--,void 0,()=>{(!c||!d)&&(u||o.next(r?rN(r,a):a),o.complete())}))}});return t?i.pipe(nN(t)):i}(Dk(n,t).map(bk)).pipe(me(Ik))}}function j_(e){return null!=e?Ak(Tk(e)):null}function Mk(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function Rk(e){return e._rawValidators}function Nk(e){return e._rawAsyncValidators}function B_(e){return e?Array.isArray(e)?e:[e]:[]}function Yd(e,t){return Array.isArray(e)?e.includes(t):e===t}function kk(e,t){const n=B_(t);return B_(e).forEach(i=>{Yd(n,i)||n.push(i)}),n}function xk(e,t){return B_(t).filter(n=>!Yd(e,n))}class Pk{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=U_(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=j_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return!!this.control&&this.control.hasError(t,n)}getError(t,n){return this.control?this.control.getError(t,n):null}}class Rt extends Pk{get formDirective(){return null}get path(){return null}}class ci extends Pk{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ok{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let $_=(()=>{class e extends Ok{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||e)(w(ci,2))}}static{this.\u0275dir=j({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Ql("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[fe]})}}return e})(),Fk=(()=>{class e extends Ok{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||e)(w(Rt,10))}}static{this.\u0275dir=j({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Ql("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[fe]})}}return e})();const Ac="VALID",Xd="INVALID",As="PENDING",Mc="DISABLED";function W_(e){return(Zd(e)?e.validators:e)||null}function G_(e,t){return(Zd(t)?t.asyncValidators:e)||null}function Zd(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function Vk(e,t,n){const r=e.controls;if(!(t?Object.keys(r):r).length)throw new E(1e3,"");if(!r[n])throw new E(1001,"")}function Uk(e,t,n){e._forEachChild((r,i)=>{if(void 0===n[i])throw new E(1002,"")})}class Jd{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Ac}get invalid(){return this.status===Xd}get pending(){return this.status==As}get disabled(){return this.status===Mc}get enabled(){return this.status!==Mc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(kk(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(kk(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(xk(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(xk(t,this._rawAsyncValidators))}hasValidator(t){return Yd(this._rawValidators,t)}hasAsyncValidator(t){return Yd(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=As,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=Mc,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=Ac,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ac||this.status===As)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Mc:Ac}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=As,this._hasOwnPendingAsyncValidator=!0;const n=bk(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(!1!==n.emitEvent)}get(t){let n=t;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Oe,this.statusChanges=new Oe}_calculateStatus(){return this._allControlsDisabled()?Mc:this.errors?Xd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(As)?As:this._anyControlsHaveStatus(Xd)?Xd:Ac}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Zd(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function O5(e){return Array.isArray(e)?U_(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function F5(e){return Array.isArray(e)?j_(e):e||null}(this._rawAsyncValidators)}}class Rc extends Jd{constructor(t,n,r){super(W_(n),G_(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){Uk(this,0,t),Object.keys(t).forEach(r=>{Vk(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(Object.keys(t).forEach(r=>{const i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class jk extends Rc{}const Gi=new D("CallSetDisabledState",{providedIn:"root",factory:()=>Nc}),Nc="always";function eh(e,t){return[...t.path,e]}function kc(e,t,n=Nc){q_(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===n)&&t.valueAccessor.setDisabledState?.(e.disabled),function V5(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Bk(e,t)})}(e,t),function j5(e,t){const n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function U5(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Bk(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function L5(e,t){if(t.valueAccessor.setDisabledState){const n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function th(e,t,n=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),rh(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function nh(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function q_(e,t){const n=Rk(e);null!==t.validator?e.setValidators(Mk(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=Nk(e);null!==t.asyncValidator?e.setAsyncValidators(Mk(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();nh(t._rawValidators,i),nh(t._rawAsyncValidators,i)}function rh(e,t){let n=!1;if(null!==e){if(null!==t.validator){const i=Rk(e);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==t.validator);o.length!==i.length&&(n=!0,e.setValidators(o))}}if(null!==t.asyncValidator){const i=Nk(e);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==t.asyncValidator);o.length!==i.length&&(n=!0,e.setAsyncValidators(o))}}}const r=()=>{};return nh(t._rawValidators,r),nh(t._rawAsyncValidators,r),n}function Bk(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Y_(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}function Q_(e,t){if(!t)return null;let n,r,i;return Array.isArray(t),t.forEach(o=>{o.constructor===Sc?n=o:function H5(e){return Object.getPrototypeOf(e.constructor)===Wi}(o)?r=o:i=o}),i||r||n||null}function zk(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function Wk(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const Pc=class extends Jd{constructor(t=null,n,r){super(W_(n),G_(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Zd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=Wk(t)?t.value:t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){zk(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){zk(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){Wk(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},K5={provide:ci,useExisting:Ce(()=>Z_)},Kk=(()=>Promise.resolve())();let Z_=(()=>{class e extends ci{constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Pc,this._registered=!1,this.name="",this.update=new Oe,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Q_(0,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),Y_(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){kc(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){Kk.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&_s(r);Kk.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?eh(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||e)(w(Rt,9),w(_t,10),w(ai,10),w(Qn,10),w(ud,8),w(Gi,8))}}static{this.\u0275dir=j({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ae([K5]),fe,un]})}}return e})(),Yk=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=j({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return e})(),Xk=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Ft({type:e})}static{this.\u0275inj=Ct({})}}return e})();const J_=new D("NgModelWithFormControlWarning"),e7={provide:Rt,useExisting:Ce(()=>ih)};let ih=(()=>{class e extends Rt{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Oe,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(rh(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return kc(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){th(n.control||null,n,!1),function z5(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,function Hk(e,t){e._syncPendingControls(),t.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(th(r||null,n),(e=>e instanceof Pc)(i)&&(kc(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function $k(e,t){q_(e,t)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function B5(e,t){return rh(e,t)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){q_(this.form,this),this._oldForm&&rh(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(r){return new(r||e)(w(_t,10),w(ai,10),w(Gi,8))}}static{this.\u0275dir=j({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&ke("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ae([e7]),fe,un]})}}return e})();const r7={provide:ci,useExisting:Ce(()=>ny)};let ny=(()=>{class e extends ci{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Oe,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Q_(0,o)}ngOnChanges(n){this._added||this._setUpControl(),Y_(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return eh(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||e)(w(Rt,13),w(_t,10),w(ai,10),w(Qn,10),w(J_,8))}}static{this.\u0275dir=j({type:e,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ae([r7]),fe,un]})}}return e})(),fx=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Ft({type:e})}static{this.\u0275inj=Ct({imports:[Xk]})}}return e})();class px extends Jd{constructor(t,n,r){super(W_(n),G_(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,n={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(t,n,r={}){this.controls.splice(t,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,n={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(t,n,r={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,n={}){Uk(this,0,t),t.forEach((r,i)=>{Vk(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(t.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t=[],n={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((n,r)=>{t(n,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(n=>n.enabled&&t(n))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function gx(e){return!!e&&(void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn)}let mx=(()=>{class e{constructor(){this.useNonNullable=!1}get nonNullable(){const n=new e;return n.useNonNullable=!0,n}group(n,r=null){const i=this._reduceControls(n);let o={};return gx(r)?o=r:null!==r&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Rc(i,o)}record(n,r=null){const i=this._reduceControls(n);return new jk(i,r)}control(n,r,i){let o={};return this.useNonNullable?(gx(r)?o=r:(o.validators=r,o.asyncValidators=i),new Pc(n,{...o,nonNullable:!0})):new Pc(n,r,i)}array(n,r,i){const o=n.map(s=>this._createControl(s));return new px(o,r,i)}_reduceControls(n){const r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){return n instanceof Pc||n instanceof Jd?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),y7=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:Gi,useValue:n.callSetDisabledState??Nc}]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Ft({type:e})}static{this.\u0275inj=Ct({imports:[fx]})}}return e})(),v7=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:J_,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Gi,useValue:n.callSetDisabledState??Nc}]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Ft({type:e})}static{this.\u0275inj=Ct({imports:[fx]})}}return e})();const I=function(e,t){if(!e)throw Ms(t)},Ms=function(e){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+e)},_x=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},oh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const o=e[i],s=i+1<e.length,a=s?e[i+1]:0,c=i+2<e.length,u=c?e[i+2]:0;let h=(15&a)<<2|u>>6,f=63&u;c||(f=64,s||(h=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(_x(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const c=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(1023&c))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const d=i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==u||null==d)throw Error();r.push(o<<2|a>>4),64!==u&&(r.push(a<<4&240|u>>2),64!==d&&r.push(u<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},yx=function(e){const t=_x(e);return oh.encodeByteArray(t,!0)},sh=function(e){return yx(e).replace(/\./g,"")},ay=function(e){try{return oh.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function w7(e){return vx(void 0,e)}function vx(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!E7(n)||(e[n]=vx(e[n],t[n]));return e}function E7(e){return"__proto__"!==e}class Oc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof t&&(this.promise.catch(()=>{}),1===t.length?t(n):t(n,r))}}}function Xe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function cy(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xe())}function uy(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function Cx(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ki(){return"object"==typeof indexedDB}function Fc(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;t((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(n){t(n)}})}function ly(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ar extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xn.prototype.create)}}class Xn{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,o=this.errors[t],s=o?function T7(e,t){return e.replace(S7,(n,r)=>{const i=t[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new Ar(i,`${this.serviceName}: ${s} (${i}).`,r)}}const S7=/\{\$([^}]+)}/g;function Lc(e){return JSON.parse(e)}function ut(e){return JSON.stringify(e)}const ah=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=Lc(ay(o[0])||""),n=Lc(ay(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}};function Zn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Rs(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function dy(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function ch(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function uh(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const o=e[i],s=t[i];if(wx(o)&&wx(s)){if(!uh(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function wx(e){return null!==e&&"object"==typeof e}function Ns(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Vc(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(o)}}),t}function Uc(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class R7{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const r=this.W_;if("string"==typeof t)for(let d=0;d<16;d++)r[d]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=4294967295&(h<<1|h>>>31)}let u,l,i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],c=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(u=a^o&(s^a),l=1518500249):(u=o^s^a,l=1859775393):d<60?(u=o&s|a&(o|s),l=2400959708):(u=o^s^a,l=3395469782);const h=(i<<5|i>>>27)+u+c+l+r[d]&4294967295;c=a,a=s,s=4294967295&(o<<30|o>>>2),o=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(t,n){if(null==t)return;void 0===n&&(n=t.length);const r=n-this.blockSize;let i=0;const o=this.buf_;let s=this.inbuf_;for(;i<n;){if(0===s)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if("string"==typeof t){for(;i<n;)if(o[s]=t.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=t[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){const t=[];let n=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&n,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)t[r]=this.chain_[i]>>o&255,++r;return t}}class k7{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(void 0===t&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function x7(e,t){if("object"!=typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(t,["next","error","complete"])?t:{next:t,error:n,complete:r},void 0===i.next&&(i.next=hy),void 0===i.error&&(i.error=hy),void 0===i.complete&&(i.complete=hy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(t){void 0===this.observers||void 0===this.observers[t]||(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hy(){}const lh=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},O7=1e3,F7=2,L7=144e5,V7=.5;function fy(e,t=O7,n=F7){const r=t*Math.pow(n,e),i=Math.round(V7*r*(Math.random()-.5)*2);return Math.min(L7,r+i)}function Jn(e){return e&&e._delegate?e._delegate:e}class yt{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Yi="[DEFAULT]";class j7{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Oc;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t?.identifier),i=null!==(n=t?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function $7(e){return"EAGER"===e.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:Yi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(t=Yi){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){var t=this;return g(function*(){const n=Array.from(t.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(t=Yi){return this.instances.has(t)}getOptions(t=Yi){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(t),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&t(s,i),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(e=t,e===Yi?void 0:e),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}var e;return r||null}normalizeInstanceIdentifier(t=Yi){return this.component?this.component.multipleInstances?t:Yi:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class H7{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new j7(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}const py=[];var _e=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}(_e||{});const Ex={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},z7=_e.INFO,W7={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},G7=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=W7[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class ks{constructor(t){this.name=t,this._logLevel=z7,this._logHandler=G7,this._userLogHandler=null,py.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in _e))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?Ex[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...t),this._logHandler(this,_e.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...t),this._logHandler(this,_e.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...t),this._logHandler(this,_e.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...t),this._logHandler(this,_e.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...t),this._logHandler(this,_e.ERROR,...t)}}const q7=(e,t)=>t.some(n=>e instanceof n);let bx,Ix;const Dx=new WeakMap,gy=new WeakMap,Tx=new WeakMap,my=new WeakMap,_y=new WeakMap;let yy={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return gy.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Tx.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mr(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function e9(e){return"function"==typeof e?function J7(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Y7(){return Ix||(Ix=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(e)?function(...t){return e.apply(vy(this),t),Mr(Dx.get(this))}:function(...t){return Mr(e.apply(vy(this),t))}:function(t,...n){const r=e.call(vy(this),t,...n);return Tx.set(r,t.sort?t.sort():[t]),Mr(r)}}(e):(e instanceof IDBTransaction&&function X7(e){if(gy.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",s),e.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",o),e.addEventListener("error",s),e.addEventListener("abort",s)});gy.set(e,t)}(e),q7(e,function K7(){return bx||(bx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(e,yy):e)}function Mr(e){if(e instanceof IDBRequest)return function Q7(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",o),e.removeEventListener("error",s)},o=()=>{n(Mr(e.result)),i()},s=()=>{r(e.error),i()};e.addEventListener("success",o),e.addEventListener("error",s)});return t.then(n=>{n instanceof IDBCursor&&Dx.set(n,e)}).catch(()=>{}),_y.set(t,e),t}(e);if(my.has(e))return my.get(e);const t=e9(e);return t!==e&&(my.set(e,t),_y.set(t,e)),t}const vy=e=>_y.get(e);function dh(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=Mr(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Mr(s.result),c.oldVersion,c.newVersion,Mr(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function Cy(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",()=>t()),Mr(n).then(()=>{})}const t9=["get","getKey","getAll","getAllKeys","count"],n9=["put","add","delete","clear"],wy=new Map;function Sx(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(wy.get(t))return wy.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=n9.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!t9.includes(n))return;const o=function(){var s=g(function*(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]});return function(c){return s.apply(this,arguments)}}();return wy.set(t,o),o}!function Z7(e){yy=e(yy)}(e=>({...e,get:(t,n,r)=>Sx(t,n)||e.get(t,n,r),has:(t,n)=>!!Sx(t,n)||e.has(t,n)}));class r9{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function i9(e){const t=e.getComponent();return"VERSION"===t?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const Ey="@firebase/app",by=new ks("@firebase/app"),Iy="[DEFAULT]",R9={[Ey]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Qi=new Map,hh=new Map;function N9(e,t){try{e.container.addComponent(t)}catch(n){by.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Nt(e){const t=e.name;if(hh.has(t))return by.debug(`There were multiple attempts to register component ${t}.`),!1;hh.set(t,e);for(const n of Qi.values())N9(n,e);return!0}function xs(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const ui=new Xn("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class x9{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new yt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ui.create("app-deleted",{appName:this._name})}}const Ps="9.8.0";function P9(e,t={}){"object"!=typeof t&&(t={name:t});const n=Object.assign({name:Iy,automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!=typeof r||!r)throw ui.create("bad-app-name",{appName:String(r)});const i=Qi.get(r);if(i){if(uh(e,i.options)&&uh(n,i.config))return i;throw ui.create("duplicate-app",{appName:r})}const o=new H7(r);for(const a of hh.values())o.addComponent(a);const s=new x9(e,n,o);return Qi.set(r,s),s}function Dy(e=Iy){const t=Qi.get(e);if(!t)throw ui.create("no-app",{appName:e});return t}function Mx(){return Array.from(Qi.values())}function Le(e,t,n){var r;let i=null!==(r=R9[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${t}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void by.warn(a.join(" "))}Nt(new yt(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const O9="firebase-heartbeat-database",F9=1,Bc="firebase-heartbeat-store";let Sy=null;function Rx(){return Sy||(Sy=dh(O9,F9,{upgrade:(e,t)=>{0===t&&e.createObjectStore(Bc)}}).catch(e=>{throw ui.create("storage-open",{originalErrorMessage:e.message})})),Sy}function Ay(){return(Ay=g(function*(e){try{return(yield Rx()).transaction(Bc).objectStore(Bc).get(kx(e))}catch(t){throw ui.create("storage-get",{originalErrorMessage:t.message})}})).apply(this,arguments)}function Nx(e,t){return My.apply(this,arguments)}function My(){return(My=g(function*(e,t){try{const r=(yield Rx()).transaction(Bc,"readwrite");return yield r.objectStore(Bc).put(t,kx(e)),r.done}catch(n){throw ui.create("storage-set",{originalErrorMessage:n.message})}})).apply(this,arguments)}function kx(e){return`${e.name}!${e.options.appId}`}class j9{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $9(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var t=this;return g(function*(){const r=t.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=xx();if(null===t._heartbeatsCache&&(t._heartbeatsCache=yield t._heartbeatsCachePromise),t._heartbeatsCache.lastSentHeartbeatDate!==i&&!t._heartbeatsCache.heartbeats.some(o=>o.date===i))return t._heartbeatsCache.heartbeats.push({date:i,agent:r}),t._heartbeatsCache.heartbeats=t._heartbeatsCache.heartbeats.filter(o=>{const s=new Date(o.date).valueOf();return Date.now()-s<=2592e6}),t._storage.overwrite(t._heartbeatsCache)})()}getHeartbeatsHeader(){var t=this;return g(function*(){if(null===t._heartbeatsCache&&(yield t._heartbeatsCachePromise),null===t._heartbeatsCache||0===t._heartbeatsCache.heartbeats.length)return"";const n=xx(),{heartbeatsToSend:r,unsentEntries:i}=function B9(e,t=1024){const n=[];let r=e.slice();for(const i of e){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Px(n)>t){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Px(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(t._heartbeatsCache.heartbeats),o=sh(JSON.stringify({version:2,heartbeats:r}));return t._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(t._heartbeatsCache.heartbeats=i,yield t._storage.overwrite(t._heartbeatsCache)):(t._heartbeatsCache.heartbeats=[],t._storage.overwrite(t._heartbeatsCache)),o})()}}function xx(){return(new Date).toISOString().substring(0,10)}class $9{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(function*(){return!!Ki()&&Fc().then(()=>!0).catch(()=>!1)})()}read(){var t=this;return g(function*(){return(yield t._canUseIndexedDBPromise)&&(yield function L9(e){return Ay.apply(this,arguments)}(t.app))||{heartbeats:[]}})()}overwrite(t){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return Nx(n.app,{lastSentHeartbeatDate:null!==(r=t.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}})()}add(t){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const o=yield n.read();return Nx(n.app,{lastSentHeartbeatDate:null!==(r=t.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}})()}}function Px(e){return sh(JSON.stringify({version:2,heartbeats:e})).length}!function H9(e){Nt(new yt("platform-logger",t=>new r9(t),"PRIVATE")),Nt(new yt("heartbeat",t=>new j9(t),"PRIVATE")),Le(Ey,"0.7.23",e),Le(Ey,"0.7.23","esm2017"),Le("fire-js","")}(""),Le("firebase","9.8.0","app");const Ox="@firebase/installations",Ry="0.5.9",Fx=1e4,Lx=`w:${Ry}`,Vx="FIS_v2",G9="https://firebaseinstallations.googleapis.com/v1",q9=36e5,Rr=new Xn("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ux(e){return e instanceof Ar&&e.code.includes("request-failed")}function Ny({projectId:e}){return`${G9}/projects/${e}/installations`}function jx(e){return{token:e.token,requestStatus:2,expiresIn:X9(e.expiresIn),creationTime:Date.now()}}function ky(e,t){return xy.apply(this,arguments)}function xy(){return(xy=g(function*(e,t){const r=(yield t.json()).error;return Rr.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function Bx({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function Py(e){return Oy.apply(this,arguments)}function Oy(){return(Oy=g(function*(e){const t=yield e();return t.status>=500&&t.status<600?e():t})).apply(this,arguments)}function X9(e){return Number(e.replace("s","000"))}function Fy(){return(Fy=g(function*({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=Ny(e),i=Bx(e),o=t.getImmediate({optional:!0});if(o){const u=yield o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:Vx,appId:e.appId,sdkVersion:Lx})},c=yield Py(()=>fetch(r,a));if(c.ok){const u=yield c.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:jx(u.authToken)}}throw yield ky("Create Installation",c)})).apply(this,arguments)}function Hx(e){return new Promise(t=>{setTimeout(t,e)})}const tK=/^[cdef][\w-]{21}$/,Ly="";function nK(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=function rK(e){return function eK(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}(e).substr(0,22)}(e);return tK.test(n)?n:Ly}catch{return Ly}}function Os(e){return`${e.appName}!${e.appId}`}const Fs=new Map;function zx(e,t){const n=Os(e);Wx(n,t),function sK(e,t){const n=function Gx(){return!Xi&&"BroadcastChannel"in self&&(Xi=new BroadcastChannel("[Firebase] FID Change"),Xi.onmessage=e=>{Wx(e.data.key,e.data.fid)}),Xi}();n&&n.postMessage({key:e,fid:t}),function qx(){0===Fs.size&&Xi&&(Xi.close(),Xi=null)}()}(n,t)}function Wx(e,t){const n=Fs.get(e);if(n)for(const r of n)r(t)}let Xi=null;const aK="firebase-installations-database",cK=1,Zi="firebase-installations-store";let Vy=null;function Uy(){return Vy||(Vy=dh(aK,cK,{upgrade:(e,t)=>{0===t&&e.createObjectStore(Zi)}})),Vy}function fh(e,t){return jy.apply(this,arguments)}function jy(){return(jy=g(function*(e,t){const n=Os(e),i=(yield Uy()).transaction(Zi,"readwrite"),o=i.objectStore(Zi),s=yield o.get(n);return yield o.put(t,n),yield i.done,(!s||s.fid!==t.fid)&&zx(e,t.fid),t})).apply(this,arguments)}function By(e){return $y.apply(this,arguments)}function $y(){return($y=g(function*(e){const t=Os(e),r=(yield Uy()).transaction(Zi,"readwrite");yield r.objectStore(Zi).delete(t),yield r.done})).apply(this,arguments)}function $c(e,t){return Hy.apply(this,arguments)}function Hy(){return(Hy=g(function*(e,t){const n=Os(e),i=(yield Uy()).transaction(Zi,"readwrite"),o=i.objectStore(Zi),s=yield o.get(n),a=t(s);return void 0===a?yield o.delete(n):yield o.put(a,n),yield i.done,a&&(!s||s.fid!==a.fid)&&zx(e,a.fid),a})).apply(this,arguments)}function zy(e){return Wy.apply(this,arguments)}function Wy(){return Wy=g(function*(e){let t;const n=yield $c(e.appConfig,r=>{const i=function uK(e){return Yx(e||{fid:nK(),registrationStatus:0})}(r),o=function lK(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(Rr.create("app-offline"))};const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function dK(e,t){return Gy.apply(this,arguments)}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:hK(e)}:{installationEntry:t}}(e,i);return t=o.registrationPromise,o.installationEntry});return n.fid===Ly?{installationEntry:yield t}:{installationEntry:n,registrationPromise:t}}),Wy.apply(this,arguments)}function Gy(){return Gy=g(function*(e,t){try{const n=yield function J9(e,t){return Fy.apply(this,arguments)}(e,t);return fh(e.appConfig,n)}catch(n){throw Ux(n)&&409===n.customData.serverCode?yield By(e.appConfig):yield fh(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}),Gy.apply(this,arguments)}function hK(e){return qy.apply(this,arguments)}function qy(){return(qy=g(function*(e){let t=yield Kx(e.appConfig);for(;1===t.registrationStatus;)yield Hx(100),t=yield Kx(e.appConfig);if(0===t.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield zy(e);return r||n}return t})).apply(this,arguments)}function Kx(e){return $c(e,t=>{if(!t)throw Rr.create("installation-not-found");return Yx(t)})}function Yx(e){return function fK(e){return 1===e.registrationStatus&&e.registrationTime+Fx<Date.now()}(e)?{fid:e.fid,registrationStatus:0}:e}function Ky(){return(Ky=g(function*({appConfig:e,heartbeatServiceProvider:t},n){const r=function gK(e,{fid:t}){return`${Ny(e)}/${t}/authTokens:generate`}(e,n),i=function $x(e,{refreshToken:t}){const n=Bx(e);return n.append("Authorization",function Z9(e){return`${Vx} ${e}`}(t)),n}(e,n),o=t.getImmediate({optional:!0});if(o){const u=yield o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:Lx,appId:e.appId}})},c=yield Py(()=>fetch(r,a));if(c.ok)return jx(yield c.json());throw yield ky("Generate Auth Token",c)})).apply(this,arguments)}function Yy(e){return Qy.apply(this,arguments)}function Qy(){return Qy=g(function*(e,t=!1){let n;const r=yield $c(e.appConfig,o=>{if(!Xx(o))throw Rr.create("not-registered");const s=o.authToken;if(!t&&function yK(e){return 2===e.requestStatus&&!function vK(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+q9}(e)}(s))return o;if(1===s.requestStatus)return n=function mK(e,t){return Xy.apply(this,arguments)}(e,t),o;{if(!navigator.onLine)throw Rr.create("app-offline");const a=function CK(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(o);return n=function _K(e,t){return Zy.apply(this,arguments)}(e,a),a}});return n?yield n:r.authToken}),Qy.apply(this,arguments)}function Xy(){return(Xy=g(function*(e,t){let n=yield Qx(e.appConfig);for(;1===n.authToken.requestStatus;)yield Hx(100),n=yield Qx(e.appConfig);const r=n.authToken;return 0===r.requestStatus?Yy(e,t):r})).apply(this,arguments)}function Qx(e){return $c(e,t=>{if(!Xx(t))throw Rr.create("not-registered");return function wK(e){return 1===e.requestStatus&&e.requestTime+Fx<Date.now()}(t.authToken)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}function Zy(){return Zy=g(function*(e,t){try{const n=yield function pK(e,t){return Ky.apply(this,arguments)}(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return yield fh(e.appConfig,r),n}catch(n){if(!Ux(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});yield fh(e.appConfig,r)}else yield By(e.appConfig);throw n}}),Zy.apply(this,arguments)}function Xx(e){return void 0!==e&&2===e.registrationStatus}function Jy(){return(Jy=g(function*(e){const t=e,{installationEntry:n,registrationPromise:r}=yield zy(t);return r?r.catch(console.error):Yy(t).catch(console.error),n.fid})).apply(this,arguments)}function ev(){return ev=g(function*(e,t=!1){const n=e;return yield function IK(e){return tv.apply(this,arguments)}(n),(yield Yy(n,t)).token}),ev.apply(this,arguments)}function tv(){return(tv=g(function*(e){const{registrationPromise:t}=yield zy(e);t&&(yield t)})).apply(this,arguments)}function iv(e){return Rr.create("missing-app-config-values",{valueName:e})}const Zx="installations",MK=e=>{const t=e.getProvider("app").getImmediate(),n=function SK(e){if(!e||!e.options)throw iv("App Configuration");if(!e.name)throw iv("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw iv(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:xs(t,"heartbeat"),_delete:()=>Promise.resolve()}},RK=e=>{const n=xs(e.getProvider("app").getImmediate(),Zx).getImmediate();return{getId:()=>function EK(e){return Jy.apply(this,arguments)}(n),getToken:i=>function bK(e){return ev.apply(this,arguments)}(n,i)}};(function NK(){Nt(new yt(Zx,MK,"PUBLIC")),Nt(new yt("installations-internal",RK,"PRIVATE"))})(),Le(Ox,Ry),Le(Ox,Ry,"esm2017");const ov="@firebase/remote-config",Ht=new Xn("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class $K{constructor(t,n,r,i){this.client=t,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(t,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=t;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${t}. Is cache hit: ${i}.`),i}fetch(t){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(t.cacheMaxAgeMillis,r))return i;t.eTag=i&&i.eTag;const o=yield n.client.fetch(t),s=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===o.status&&s.push(n.storage.setLastSuccessfulFetchResponse(o)),yield Promise.all(s),o})()}}function HK(e=navigator){return e.languages&&e.languages[0]||e.language}class zK{constructor(t,n,r,i,o,s){this.firebaseInstallations=t,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=o,this.appId=s}fetch(t){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),s=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},c={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:HK()},u={method:"POST",headers:a,body:JSON.stringify(c)},l=fetch(s,u),d=new Promise((v,_)=>{t.signal.addEventListener(()=>{const R=new Error("The operation was aborted.");R.name="AbortError",_(R)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(v){let _="fetch-client-network";throw"AbortError"===v.name&&(_="fetch-timeout"),Ht.create(_,{originalErrorMessage:v.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let m,y;if(200===h.status){let v;try{v=yield h.json()}catch(_){throw Ht.create("fetch-client-parse",{originalErrorMessage:_.message})}m=v.entries,y=v.state}if("INSTANCE_STATE_UNSPECIFIED"===y?f=500:"NO_CHANGE"===y?f=304:("NO_TEMPLATE"===y||"EMPTY_CONFIG"===y)&&(m={}),304!==f&&200!==f)throw Ht.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:m}})()}}class qK{constructor(t,n){this.client=t,this.storage=n}fetch(t){var n=this;return g(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(t,r)})()}attemptFetch(t,n){var r=this;return g(function*(i,{throttleEndTimeMillis:o,backoffCount:s}){yield function WK(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(o),r(Ht.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(i.signal,o);try{const a=yield r.client.fetch(i);return yield r.storage.deleteThrottleMetadata(),a}catch(a){if(!function GK(e){if(!(e instanceof Ar&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(a))throw a;const c={throttleEndTimeMillis:Date.now()+fy(s),backoffCount:s+1};return yield r.storage.setThrottleMetadata(c),r.attemptFetch(i,c)}}).apply(this,arguments)}}class QK{constructor(t,n,r,i,o){this.app=t,this._client=n,this._storageCache=r,this._storage=i,this._logger=o,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function gh(e,t){const n=e.target.error||void 0;return Ht.create(t,{originalErrorMessage:n&&n.message})}const Ji="app_namespace_store";class eY{constructor(t,n,r,i=function JK(){return new Promise((e,t)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{t(gh(r,"storage-open"))},n.onsuccess=r=>{e(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Ji,{keyPath:"compositeKey"})}}catch(n){t(Ht.create("storage-open",{originalErrorMessage:n}))}})}()){this.appId=t,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(t){return this.set("last_fetch_status",t)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(t){return this.set("last_successful_fetch_timestamp_millis",t)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(t){return this.set("last_successful_fetch_response",t)}getActiveConfig(){return this.get("active_config")}setActiveConfig(t){return this.set("active_config",t)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(t){return this.set("active_config_etag",t)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(t){return this.set("throttle_metadata",t)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(t){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([Ji],"readonly").objectStore(Ji),c=n.createCompositeKey(t);try{const u=a.get(c);u.onerror=l=>{o(gh(l,"storage-get"))},u.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(u){o(Ht.create("storage-get",{originalErrorMessage:u&&u.message}))}})})()}set(t,n){var r=this;return g(function*(){const i=yield r.openDbPromise;return new Promise((o,s)=>{const c=i.transaction([Ji],"readwrite").objectStore(Ji),u=r.createCompositeKey(t);try{const l=c.put({compositeKey:u,value:n});l.onerror=d=>{s(gh(d,"storage-set"))},l.onsuccess=()=>{o()}}catch(l){s(Ht.create("storage-set",{originalErrorMessage:l&&l.message}))}})})()}delete(t){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,o)=>{const a=r.transaction([Ji],"readwrite").objectStore(Ji),c=n.createCompositeKey(t);try{const u=a.delete(c);u.onerror=l=>{o(gh(l,"storage-delete"))},u.onsuccess=()=>{i()}}catch(u){o(Ht.create("storage-delete",{originalErrorMessage:u&&u.message}))}})})()}createCompositeKey(t){return[this.appId,this.appName,this.namespace,t].join()}}class tY{constructor(t){this.storage=t}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var t=this;return g(function*(){const n=t.storage.getLastFetchStatus(),r=t.storage.getLastSuccessfulFetchTimestampMillis(),i=t.storage.getActiveConfig(),o=yield n;o&&(t.lastFetchStatus=o);const s=yield r;s&&(t.lastSuccessfulFetchTimestampMillis=s);const a=yield i;a&&(t.activeConfig=a)})()}setLastFetchStatus(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)}setLastSuccessfulFetchTimestampMillis(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)}setActiveConfig(t){return this.activeConfig=t,this.storage.setActiveConfig(t)}}function rY(){return lv.apply(this,arguments)}function lv(){return(lv=g(function*(){if(!Ki())return!1;try{return yield Fc()}catch{return!1}})).apply(this,arguments)}!function nY(){Nt(new yt("remote-config",function e(t,{instanceIdentifier:n}){const r=t.getProvider("app").getImmediate(),i=t.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ht.create("registration-window");if(!Ki())throw Ht.create("indexed-db-unavailable");const{projectId:o,apiKey:s,appId:a}=r.options;if(!o)throw Ht.create("registration-project-id");if(!s)throw Ht.create("registration-api-key");if(!a)throw Ht.create("registration-app-id");const c=new eY(a,r.name,n=n||"firebase"),u=new tY(c),l=new ks(ov);l.logLevel=_e.ERROR;const d=new zK(i,Ps,n,o,s,a),h=new qK(d,c),f=new $K(h,c,u,l),p=new QK(r,f,u,c,l);return function UK(e){const t=Jn(e);t._initializePromise||(t._initializePromise=t._storageCache.loadFromStorage().then(()=>{t._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Le(ov,"0.3.8"),Le(ov,"0.3.8","esm2017")}();const iY="/firebase-messaging-sw.js",oY="/firebase-cloud-messaging-push-scope",nP="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",sY="https://fcmregistrations.googleapis.com/v1",rP="google.c.a.c_id",aY="google.c.a.c_l",cY="google.c.a.ts";var mh=function(e){return e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked",e}(mh||{});function Nr(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function dY(e){const n=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}const dv="fcm_token_details_db",hY=5,iP="fcm_token_object_Store";function hv(){return hv=g(function*(e){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(o=>o.name).includes(dv))return null;let t=null;return(yield dh(dv,hY,{upgrade:(r=g(function*(i,o,s,a){var c;if(o<2||!i.objectStoreNames.contains(iP))return;const u=a.objectStore(iP),l=yield u.index("fcmSenderId").get(e);if(yield u.clear(),l)if(2===o){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;t={token:d.fcmToken,createTime:null!==(c=d.createTime)&&void 0!==c?c:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Nr(d.vapidKey)}}}else if(3===o){const d=l;t={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Nr(d.auth),p256dh:Nr(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Nr(d.vapidKey)}}}else if(4===o){const d=l;t={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Nr(d.auth),p256dh:Nr(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Nr(d.vapidKey)}}}}),function(o,s,a,c){return r.apply(this,arguments)})})).close(),yield Cy(dv),yield Cy("fcm_vapid_details_db"),yield Cy("undefined"),function pY(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}(t)?t:null;var r}),hv.apply(this,arguments)}const gY="firebase-messaging-database",mY=1,eo="firebase-messaging-store";let fv=null;function pv(){return fv||(fv=dh(gY,mY,{upgrade:(e,t)=>{0===t&&e.createObjectStore(eo)}})),fv}function oP(e){return gv.apply(this,arguments)}function gv(){return gv=g(function*(e){const t=vv(e),r=yield(yield pv()).transaction(eo).objectStore(eo).get(t);if(r)return r;{const i=yield function fY(e){return hv.apply(this,arguments)}(e.appConfig.senderId);if(i)return yield mv(e,i),i}}),gv.apply(this,arguments)}function mv(e,t){return _v.apply(this,arguments)}function _v(){return(_v=g(function*(e,t){const n=vv(e),i=(yield pv()).transaction(eo,"readwrite");return yield i.objectStore(eo).put(t,n),yield i.done,t})).apply(this,arguments)}function yv(){return(yv=g(function*(e){const t=vv(e),r=(yield pv()).transaction(eo,"readwrite");yield r.objectStore(eo).delete(t),yield r.done})).apply(this,arguments)}function vv({appConfig:e}){return e.appId}const lt=new Xn("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function vY(e,t){return Cv.apply(this,arguments)}function Cv(){return(Cv=g(function*(e,t){const n=yield Iv(e),r=aP(t),i={method:"POST",headers:n,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(bv(e.appConfig),i)).json()}catch(s){throw lt.create("token-subscribe-failed",{errorInfo:s})}if(o.error)throw lt.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw lt.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function wv(){return(wv=g(function*(e,t){const n=yield Iv(e),r=aP(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let o;try{o=yield(yield fetch(`${bv(e.appConfig)}/${t.token}`,i)).json()}catch(s){throw lt.create("token-update-failed",{errorInfo:s})}if(o.error)throw lt.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw lt.create("token-update-no-token");return o.token})).apply(this,arguments)}function sP(e,t){return Ev.apply(this,arguments)}function Ev(){return(Ev=g(function*(e,t){const r={method:"DELETE",headers:yield Iv(e)};try{const o=yield(yield fetch(`${bv(e.appConfig)}/${t}`,r)).json();if(o.error)throw lt.create("token-unsubscribe-failed",{errorInfo:o.error.message})}catch(i){throw lt.create("token-unsubscribe-failed",{errorInfo:i})}})).apply(this,arguments)}function bv({projectId:e}){return`${sY}/projects/${e}/registrations`}function Iv(e){return Dv.apply(this,arguments)}function Dv(){return(Dv=g(function*({appConfig:e,installations:t}){const n=yield t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function aP({p256dh:e,auth:t,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:t,p256dh:e}};return r!==nP&&(i.web.applicationPubKey=r),i}const wY=6048e5;function Tv(){return Tv=g(function*(e){const t=yield function IY(e,t){return Rv.apply(this,arguments)}(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:Nr(t.getKey("auth")),p256dh:Nr(t.getKey("p256dh"))},r=yield oP(e.firebaseDependencies);if(r){if(function DY(e,t){return t.vapidKey===e.vapidKey&&t.endpoint===e.endpoint&&t.auth===e.auth&&t.p256dh===e.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+wY?function bY(e,t){return Av.apply(this,arguments)}(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield sP(e.firebaseDependencies,r.token)}catch(i){console.warn(i)}return uP(e.firebaseDependencies,n)}return uP(e.firebaseDependencies,n)}),Tv.apply(this,arguments)}function Sv(){return Sv=g(function*(e){const t=yield oP(e.firebaseDependencies);t&&(yield sP(e.firebaseDependencies,t.token),yield function _Y(e){return yv.apply(this,arguments)}(e.firebaseDependencies));const n=yield e.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),Sv.apply(this,arguments)}function Av(){return Av=g(function*(e,t){try{const n=yield function CY(e,t){return wv.apply(this,arguments)}(e.firebaseDependencies,t),r=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return yield mv(e.firebaseDependencies,r),n}catch(n){throw yield function cP(e){return Sv.apply(this,arguments)}(e),n}}),Av.apply(this,arguments)}function uP(e,t){return Mv.apply(this,arguments)}function Mv(){return(Mv=g(function*(e,t){const r={token:yield vY(e,t),createTime:Date.now(),subscriptionOptions:t};return yield mv(e,r),r.token})).apply(this,arguments)}function Rv(){return(Rv=g(function*(e,t){return(yield e.pushManager.getSubscription())||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:dY(t)})})).apply(this,arguments)}function lP(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function TY(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const i=t.notification.image;i&&(e.notification.image=i)}(t,e),function SY(e,t){t.data&&(e.data=t.data)}(t,e),function AY(e,t){if(!t.fcmOptions)return;e.fcmOptions={};const n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);const r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}(t,e),t}function dP(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}function Nv(e){return lt.create("missing-app-config-values",{valueName:e})}dP("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),dP("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class NY{constructor(t,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function RY(e){if(!e||!e.options)throw Nv("App Configuration Object");if(!e.name)throw Nv("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const r of t)if(!n[r])throw Nv(r);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(t);this.firebaseDependencies={app:t,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function kv(){return(kv=g(function*(e){try{e.swRegistration=yield navigator.serviceWorker.register(iY,{scope:oY}),e.swRegistration.update().catch(()=>{})}catch(t){throw lt.create("failed-service-worker-registration",{browserErrorMessage:t.message})}})).apply(this,arguments)}function xv(){return(xv=g(function*(e,t){if(!t&&!e.swRegistration&&(yield function hP(e){return kv.apply(this,arguments)}(e)),t||!e.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw lt.create("invalid-sw-registration");e.swRegistration=t}})).apply(this,arguments)}function Pv(){return(Pv=g(function*(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=nP)})).apply(this,arguments)}function Ov(){return Ov=g(function*(e,t){if(!navigator)throw lt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw lt.create("permission-blocked");return yield function xY(e,t){return Pv.apply(this,arguments)}(e,t?.vapidKey),yield function kY(e,t){return xv.apply(this,arguments)}(e,t?.serviceWorkerRegistration),function EY(e){return Tv.apply(this,arguments)}(e)}),Ov.apply(this,arguments)}function Fv(){return(Fv=g(function*(e,t,n){const r=function OY(e){switch(e){case mh.NOTIFICATION_CLICKED:return"notification_open";case mh.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t);(yield e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[rP],message_name:n[aY],message_time:n[cY],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Lv(){return Lv=g(function*(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===mh.PUSH_RECEIVED&&("function"==typeof e.onMessageHandler?e.onMessageHandler(lP(n)):e.onMessageHandler.next(lP(n)));const r=n.data;(function MY(e){return"object"==typeof e&&!!e&&rP in e})(r)&&"1"===r["google.c.a.e"]&&(yield function PY(e,t,n){return Fv.apply(this,arguments)}(e,n.messageType,r))}),Lv.apply(this,arguments)}const pP="@firebase/messaging",LY=e=>{const t=new NY(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function FY(e,t){return Lv.apply(this,arguments)}(t,n)),t},VY=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:r=>function fP(e,t){return Ov.apply(this,arguments)}(t,r)}};function mP(){return Vv.apply(this,arguments)}function Vv(){return(Vv=g(function*(){try{yield Fc()}catch{return!1}return typeof window<"u"&&Ki()&&ly()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function UY(){Nt(new yt("messaging",LY,"PUBLIC")),Nt(new yt("messaging-internal",VY,"PRIVATE")),Le(pP,"0.9.13"),Le(pP,"0.9.13","esm2017")}();const _h="analytics",$Y="firebase_id",HY="origin",zY=6e4,WY="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",_P="https://www.googletagmanager.com/gtag/js",dt=new ks("@firebase/analytics");function yP(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function Bv(){return(Bv=g(function*(e,t,n,r,i,o){const s=r[i];try{if(s)yield t[s];else{const c=(yield yP(n)).find(u=>u.measurementId===i);c&&(yield t[c.appId])}}catch(a){dt.error(a)}e("config",i,o)})).apply(this,arguments)}function $v(){return($v=g(function*(e,t,n,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const a=yield yP(n);for(const c of s){const u=a.find(d=>d.measurementId===c),l=u&&t[u.appId];if(!l){o=[];break}o.push(l)}}0===o.length&&(o=Object.values(t)),yield Promise.all(o),e("event",r,i||{})}catch(o){dt.error(o)}})).apply(this,arguments)}const nn=new Xn("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),eQ=30,vP=new class nQ{constructor(t={},n=1e3){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}};function rQ(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function Hv(){return(Hv=g(function*(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:rQ(r)},o=WY.replace("{app-id}",n),s=yield fetch(o,i);if(200!==s.status&&304!==s.status){let a="";try{const c=yield s.json();null!==(t=c.error)&&void 0!==t&&t.message&&(a=c.error.message)}catch{}throw nn.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})).apply(this,arguments)}function zv(){return(zv=g(function*(e,t=vP,n){const{appId:r,apiKey:i,measurementId:o}=e.options;if(!r)throw nn.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw nn.create("no-api-key")}const s=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new cQ;return setTimeout(g(function*(){a.abort()}),void 0!==n?n:zY),CP({appId:r,apiKey:i,measurementId:o},s,a,t)})).apply(this,arguments)}function CP(e,t,n){return Wv.apply(this,arguments)}function Wv(){return Wv=g(function*(e,{throttleEndTimeMillis:t,backoffCount:n},r,i=vP){const{appId:o,measurementId:s}=e;try{yield function sQ(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(o),r(nn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(r,t)}catch(a){if(s)return dt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:o,measurementId:s};throw a}try{const a=yield function iQ(e){return Hv.apply(this,arguments)}(e);return i.deleteThrottleMetadata(o),a}catch(a){if(!function aQ(e){if(!(e instanceof Ar&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(a)){if(i.deleteThrottleMetadata(o),s)return dt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${a.message}]`),{appId:o,measurementId:s};throw a}const c=503===Number(a.customData.httpStatus)?fy(n,i.intervalMillis,eQ):fy(n,i.intervalMillis),u={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,u),dt.debug(`Calling attemptFetch again in ${c} millis`),CP(e,u,r,i)}}),Wv.apply(this,arguments)}class cQ{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}function Gv(){return(Gv=g(function*(){if(!Ki())return dt.warn(nn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Fc()}catch(e){return dt.warn(nn.create("indexeddb-unavailable",{errorInfo:e}).message),!1}return!0})).apply(this,arguments)}function qv(){return qv=g(function*(e,t,n,r,i,o,s){var a;const c=function oQ(e){return zv.apply(this,arguments)}(e);c.then(f=>{n[f.measurementId]=f.appId,e.options.measurementId&&f.measurementId!==e.options.measurementId&&dt.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>dt.error(f)),t.push(c);const u=function uQ(){return Gv.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([c,u]);(function ZY(){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(_P))return t;return null})()||function GY(e,t){const n=document.createElement("script");n.src=`${_P}?l=${e}&id=${t}`,n.async=!0,document.head.appendChild(n)}(o,l.measurementId),i("js",new Date);const h=null!==(a=s?.config)&&void 0!==a?a:{};return h[HY]="firebase",h.update=!0,null!=d&&(h[$Y]=d),i("config",l.measurementId,h),l.measurementId}),qv.apply(this,arguments)}class dQ{constructor(t){this.app=t}_delete(){return delete kr[this.app.options.appId],Promise.resolve()}}let kr={},wP=[];const EP={};let IP,Hc,yh="dataLayer",Kv=!1;function fQ(e,t,n){!function hQ(){const e=[];if(uy()&&e.push("This is a browser extension environment."),ly()||e.push("Cookies are not available."),e.length>0){const t=e.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=nn.create("invalid-analytics-context",{errorInfo:t});dt.warn(n.message)}}();const r=e.options.appId;if(!r)throw nn.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw nn.create("no-api-key");dt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=kr[r])throw nn.create("already-exists",{id:r});if(!Kv){!function qY(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(yh);const{wrappedGtag:o,gtagCore:s}=function XY(e,t,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function QY(e,t,n,r){function o(){return o=g(function*(s,a,c){try{"event"===s?yield function YY(e,t,n,r,i){return $v.apply(this,arguments)}(e,t,n,a,c):"config"===s?yield function KY(e,t,n,r,i,o){return Bv.apply(this,arguments)}(e,t,n,r,a,c):e("set",a)}catch(u){dt.error(u)}}),o.apply(this,arguments)}return function i(s,a,c){return o.apply(this,arguments)}}(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}(kr,wP,EP,yh,"gtag");Hc=o,IP=s,Kv=!0}return kr[r]=function lQ(e,t,n,r,i,o,s){return qv.apply(this,arguments)}(e,wP,EP,t,IP,yh,n),new dQ(e)}function Yv(){return(Yv=g(function*(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const o=yield t;e("event",n,Object.assign(Object.assign({},r),{send_to:o}))}})).apply(this,arguments)}function CQ(){return eC.apply(this,arguments)}function eC(){return(eC=g(function*(){if(uy()||!ly()||!Ki())return!1;try{return yield Fc()}catch{return!1}})).apply(this,arguments)}const DP="@firebase/analytics";!function EQ(){Nt(new yt(_h,(t,{options:n})=>fQ(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),Nt(new yt("analytics-internal",function e(t){try{const n=t.getProvider(_h).getImmediate();return{logEvent:(r,i,o)=>function wQ(e,t,n,r){e=Jn(e),function pQ(e,t,n,r,i){return Yv.apply(this,arguments)}(Hc,kr[e.app.options.appId],t,n,r).catch(i=>dt.error(i))}(n,r,i,o)}}catch(n){throw nn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Le(DP,"0.7.9"),Le(DP,"0.7.9","esm2017")}();class bQ extends Pt{constructor(t,n){super()}schedule(t,n=0){return this}}const vh={setInterval(e,t,...n){const{delegate:r}=vh;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){const{delegate:t}=vh;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};class SP extends bQ{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,r=0){return vh.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&vh.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let i,r=!1;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Co(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}}const AP={now:()=>(AP.delegate||Date).now(),delegate:void 0};class zc{constructor(t,n=zc.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}}zc.now=AP.now;class MP extends zc{constructor(t,n=zc.now){super(t,n),this.actions=[],this._active=!1}flush(t){const{actions:n}=this;if(this._active)return void n.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}}const TQ=new class DQ extends MP{}(class IQ extends SP{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}schedule(t,n=0){return n>0?super.schedule(t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)}execute(t,n){return n>0||this.closed?super.execute(t,n):this._execute(t,n)}requestAsyncId(t,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(t,n,r):(t.flush(this),0)}}),SQ=new MP(SP),Ch=new Zo("7.5.0"),tC="__angularfire_symbol__analyticsIsSupportedValue",nC="__angularfire_symbol__analyticsIsSupported",rC="__angularfire_symbol__remoteConfigIsSupportedValue",iC="__angularfire_symbol__remoteConfigIsSupported",oC="__angularfire_symbol__messagingIsSupportedValue",sC="__angularfire_symbol__messagingIsSupported";function cC(e,t,n){if(t){if(1===t.length)return t[0];const o=t.filter(s=>s.app===n);if(1===o.length)return o[0]}return n.container.getProvider(e).getImmediate({optional:!0})}globalThis[nC]||(globalThis[nC]=CQ().then(e=>globalThis[tC]=e).catch(()=>globalThis[tC]=!1)),globalThis[sC]||(globalThis[sC]=mP().then(e=>globalThis[oC]=e).catch(()=>globalThis[oC]=!1)),globalThis[iC]||(globalThis[iC]=rY().then(e=>globalThis[rC]=e).catch(()=>globalThis[rC]=!1));const uC=(e,t)=>{const n=t?[t]:Mx(),r=[];return n.forEach(i=>{i.container.getProvider(e).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};function Ls(){}class RP{constructor(t,n=TQ){this.zone=t,this.delegate=n}now(){return this.delegate.now()}schedule(t,n,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{t.apply(this,[s])})},n,r)}}class AQ{constructor(t){this.zone=t,this.task=null}call(t,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ls,{},Ls,Ls)),n.pipe(ct({next:r,complete:r,error:r})).subscribe(t).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let lC=(()=>{class e{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new RP(Zone.current)),this.insideAngular=n.run(()=>new RP(Zone.current,SQ)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return e.\u0275fac=function(n){return new(n||e)(x(ue))},e.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function to(){const e=globalThis.\u0275AngularFireScheduler;if(!e)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return e}function no(e){return to().ngZone.run(()=>e())}function RQ(e){return to(),function NQ(e){return function(n){return(n=n.lift(new AQ(e.ngZone))).pipe(Lu(e.outsideAngular),Fu(e.insideAngular))}}(to())(e)}const kQ=(e,t)=>function(){const r=arguments;return t&&setTimeout(()=>{"scheduled"===t.state&&t.invoke()},10),no(()=>e.apply(void 0,r))},Vs=(e,t)=>function(){let n;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(t&&(n||(n=no(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ls,{},Ls,Ls)))),r[o]=kQ(r[o],n));const i=function MQ(e){return to().ngZone.runOutsideAngular(()=>e())}(()=>e.apply(this,r));if(!t){if(i instanceof Re){const o=to();return i.pipe(Lu(o.outsideAngular),Fu(o.insideAngular))}return no(()=>i)}return i instanceof Re?i.pipe(RQ):i instanceof Promise?no(()=>new Promise((o,s)=>i.then(a=>no(()=>o(a)),a=>no(()=>s(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:no(()=>i)};class Us{constructor(t){return t}}class dC{constructor(){return Mx()}}const hC=new D("angularfire2._apps"),PQ={provide:Us,useFactory:function xQ(e){return e&&1===e.length?e[0]:new Us(Dy())},deps:[[new Tt,hC]]},OQ={provide:dC,deps:[[new Tt,hC]]};function FQ(e){return(t,n)=>{const r=t.runOutsideAngular(()=>e(n));return new Us(r)}}let LQ=(()=>{class e{constructor(n){Le("angularfire",Ch.full,"core"),Le("angularfire",Ch.full,"app"),Le("angular",XT.full,n.toString())}}return e.\u0275fac=function(n){return new(n||e)(x(Xr))},e.\u0275mod=Ft({type:e}),e.\u0275inj=Ct({providers:[PQ,OQ]}),e})();function VQ(e,...t){return{ngModule:LQ,providers:[{provide:hC,useFactory:FQ(e),multi:!0,deps:[ue,pt,lC,...t]}]}}const UQ=Vs(P9,!0),NP=new Map,jQ={activated:!1,tokenObservers:[]},BQ={initialized:!1,enabled:!1};function Ze(e){return NP.get(e)||jQ}function Nn(e,t){NP.set(e,t)}function wh(){return BQ}const fC="https://content-firebaseappcheck.googleapis.com/v1",zQ="exchangeDebugToken",kP={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class GQ{constructor(t,n,r,i,o){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var n=this;return g(function*(){n.stop();try{n.pending=new Oc,yield function qQ(e){return new Promise(t=>{setTimeout(t,e)})}(n.getNextRun(t)),n.pending.resolve(),yield n.pending.promise,n.pending=new Oc,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const kt=new Xn("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function mC(){return(mC=g(function*({url:e,body:t},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const o={method:"POST",body:JSON.stringify(t),headers:r};let s,a;try{s=yield fetch(e,o)}catch(d){throw kt.create("fetch-network-error",{originalErrorMessage:d.message})}if(200!==s.status)throw kt.create("fetch-status-error",{httpStatus:s.status});try{a=yield s.json()}catch(d){throw kt.create("fetch-parse-error",{originalErrorMessage:d.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw kt.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=1e3*Number(c[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+u,issuedAtTimeMillis:l}})).apply(this,arguments)}const JQ="firebase-app-check-database",eX=1,Wc="firebase-app-check-store";let Ih=null;function _C(){return(_C=g(function*(e,t){const r=(yield function OP(){return Ih||(Ih=new Promise((e,t)=>{try{const n=indexedDB.open(JQ,eX);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{var i;t(kt.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Wc,{keyPath:"compositeKey"})}}catch(n){t(kt.create("storage-open",{originalErrorMessage:n.message}))}}),Ih)}()).transaction(Wc,"readwrite"),o=r.objectStore(Wc).put({compositeKey:e,value:t});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var u;a(kt.create("storage-set",{originalErrorMessage:null===(u=c.target.error)||void 0===u?void 0:u.message}))}})})).apply(this,arguments)}const Gc=new ks("@firebase/app-check");function UP(e,t){return Ki()?function nX(e,t){return function FP(e,t){return _C.apply(this,arguments)}(function VP(e){return`${e.options.appId}-${e.name}`}(e),t)}(e,t).catch(n=>{Gc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function wC(){return(wC=g(function*(){const e=wh();if(e.enabled&&e.token)return e.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const cX={error:"UNKNOWN_ERROR"};function uX(e){return oh.encodeString(JSON.stringify(e),!1)}function Dh(e){return EC.apply(this,arguments)}function EC(){return(EC=g(function*(e,t=!1){const n=e.app;!function xP(e){if(!Ze(e).activated)throw kt.create("use-before-activation",{appName:e.name})}(n);const r=Ze(n);let o,i=r.token;if(!i){const c=yield r.cachedTokenPromise;c&&Th(c)&&(i=c)}if(!t&&i&&Th(i))return{token:i.token};let a,s=!1;if(function jP(){return wh().enabled}()){r.exchangeTokenPromise||(r.exchangeTokenPromise=function gC(e,t){return mC.apply(this,arguments)}(function ZQ(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${fC}/projects/${n}/apps/${r}:${zQ}?key=${i}`,body:{debug_token:t}}}(n,yield function BP(){return wC.apply(this,arguments)}()),e.heartbeatServiceProvider).then(u=>(r.exchangeTokenPromise=void 0,u)),s=!0);const c=yield r.exchangeTokenPromise;return yield UP(n,c),Nn(n,Object.assign(Object.assign({},r),{token:c})),{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(c=>(r.exchangeTokenPromise=void 0,c)),s=!0),i=yield r.exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?Gc.warn(c.message):Gc.error(c),o=c}return i?(a={token:i.token},Nn(n,Object.assign(Object.assign({},r),{token:i})),yield UP(n,i)):a=function dX(e){return{token:uX(cX),error:e}}(o),s&&function HP(e,t){const n=Ze(e).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=t.error?r.error(t.error):r.next(t)}catch{}}(n,a),a})).apply(this,arguments)}function IC(e,t){const n=Ze(e),r=n.tokenObservers.filter(i=>i.next!==t);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),Nn(e,Object.assign(Object.assign({},n),{tokenObservers:r}))}function $P(e){const{app:t}=e,n=Ze(t);let r=n.tokenRefresher;r||(r=function lX(e){const{app:t}=e;return new GQ(g(function*(){let r;if(r=Ze(t).token?yield Dh(e,!0):yield Dh(e),r.error)throw r.error}),()=>!0,()=>{const n=Ze(t);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},kP.RETRIAL_MIN_WAIT,kP.RETRIAL_MAX_WAIT)}(e),Nn(t,Object.assign(Object.assign({},n),{tokenRefresher:r}))),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Th(e){return e.expireTimeMillis-Date.now()>0}class hX{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:t}=Ze(this.app);for(const n of t)IC(this.app,n.next);return Promise.resolve()}}const XP="app-check-internal";!function TX(){Nt(new yt("app-check",e=>function fX(e,t){return new hX(e,t)}(e.getProvider("app").getImmediate(),e.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(XP).initialize()})),Nt(new yt(XP,e=>function pX(e){return{getToken:t=>Dh(e,t),addTokenListener:t=>function bC(e,t,n,r){const{app:i}=e,o=Ze(i),s={next:n,error:r,type:t};if(Nn(i,Object.assign(Object.assign({},o),{tokenObservers:[...o.tokenObservers,s]})),o.token&&Th(o.token)){const a=o.token;Promise.resolve().then(()=>{n({token:a.token}),$P(e)}).catch(()=>{})}o.cachedTokenPromise.then(()=>$P(e))}(e,"INTERNAL",t),removeTokenListener:t=>IC(e.app,t)}}(e.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Le("@firebase/app-check","0.5.8")}();class AC{constructor(){return uC("app-check")}}typeof window<"u"&&window;const NX=function JP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},eO=new Xn("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),tO=new ks("@firebase/auth");function Ah(e,...t){tO.logLevel<=_e.ERROR&&tO.error(`Auth (${Ps}): ${e}`,...t)}function zt(e,...t){throw RC(e,...t)}function er(e,...t){return RC(e,...t)}function RC(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return eO.create(e,...t)}function b(e,t,...n){if(!e)throw RC(t,...n)}function tr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Ah(t),new Error(t)}function li(e,t){e||tr(t)}const rO=new Map;function xr(e){li(e instanceof Function,"Expected a class definition");let t=rO.get(e);return t?(li(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,rO.set(e,t),t)}function qc(){var e;return typeof self<"u"&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function iO(){var e;return typeof self<"u"&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Kc{constructor(t,n){this.shortDelay=t,this.longDelay=n,li(n>t,"Short delay should be less than long delay!"),this.isMobile=cy()||Cx()}get(){return function PX(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function NC(){return"http:"===iO()||"https:"===iO()}()||uy()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function kC(e,t){li(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class oO{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const FX={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},LX=new Kc(3e4,6e4);function Ke(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Je(e,t,n,r){return xC.apply(this,arguments)}function xC(){return(xC=g(function*(e,t,n,r,i={}){return sO(e,i,g(function*(){let o={},s={};r&&("GET"===t?s=r:o={body:JSON.stringify(r)});const a=Ns(Object.assign({key:e.config.apiKey},s)).slice(1),c=yield e._getAdditionalHeaders();return c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode),oO.fetch()(aO(e,e.config.apiHost,n,a),Object.assign({method:t,headers:c,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function sO(e,t,n){return PC.apply(this,arguments)}function PC(){return(PC=g(function*(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},FX),t);try{const i=new VX(e),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw Mh(e,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw Mh(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===c)throw Mh(e,"email-already-in-use",s);const l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw function nO(e,t,n){const r=Object.assign(Object.assign({},NX()),{[t]:n});return new Xn("auth","Firebase",r).create(t,{appName:e.name})}(e,l,u);zt(e,l)}}catch(i){if(i instanceof Ar)throw i;zt(e,"network-request-failed")}})).apply(this,arguments)}function Pr(e,t,n,r){return OC.apply(this,arguments)}function OC(){return(OC=g(function*(e,t,n,r,i={}){const o=yield Je(e,t,n,r,i);return"mfaPendingCredential"in o&&zt(e,"multi-factor-auth-required",{_serverResponse:o}),o})).apply(this,arguments)}function aO(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?kC(e.config,i):`${e.config.apiScheme}://${i}`}class VX{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(er(this.auth,"network-request-failed")),LX.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mh(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=er(e,t,r);return i.customData._tokenResponse=n,i}function FC(){return(FC=g(function*(e,t){return Je(e,"POST","/v1/accounts:delete",t)})).apply(this,arguments)}function VC(){return(VC=g(function*(e,t){return Je(e,"POST","/v1/accounts:lookup",t)})).apply(this,arguments)}function Yc(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function UC(){return(UC=g(function*(e,t=!1){const n=Jn(e),r=yield n.getIdToken(t),i=Rh(r);b(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Yc(jC(i.auth_time)),issuedAtTime:Yc(jC(i.iat)),expirationTime:Yc(jC(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function jC(e){return 1e3*Number(e)}function Rh(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Ah("JWT malformed, contained fewer than 3 sections"),null;try{const i=ay(n);return i?JSON.parse(i):(Ah("Failed to decode base64 JWT payload"),null)}catch(i){return Ah("Caught error parsing JWT payload as JSON",i),null}}function Or(e,t){return BC.apply(this,arguments)}function BC(){return(BC=g(function*(e,t,n=!1){if(n)return t;try{return yield t}catch(r){throw r instanceof Ar&&function zX({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(r)&&e.auth.currentUser===e&&(yield e.auth.signOut()),r}})).apply(this,arguments)}class WX{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(t);this.timerId=setTimeout(g(function*(){yield n.iteration()}),r)}iteration(){var t=this;return g(function*(){try{yield t.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n.code&&t.schedule(!0))}t.schedule()})()}}class cO{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yc(this.lastLoginAt),this.creationTime=Yc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Qc(e){return $C.apply(this,arguments)}function $C(){return $C=g(function*(e){var t;const n=e.auth,r=yield e.getIdToken(),i=yield Or(e,function BX(e,t){return VC.apply(this,arguments)}(n,{idToken:r}));b(i?.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=null!==(t=o.providerUserInfo)&&void 0!==t&&t.length?function KX(e){return e.map(t=>{var{providerId:n}=t,r=Ou(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(o.providerUserInfo):[],a=function qX(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}(e.providerData,s),l=!!e.isAnonymous&&!(e.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new cO(o.createdAt,o.lastLoginAt),isAnonymous:l};Object.assign(e,d)}),$C.apply(this,arguments)}function HC(){return(HC=g(function*(e){const t=Jn(e);yield Qc(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})).apply(this,arguments)}function zC(){return(zC=g(function*(e,t){const n=yield sO(e,{},g(function*(){const r=Ns({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:o}=e.config,s=aO(e,i,"/v1/token",`key=${o}`),a=yield e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",oO.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Xc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){b(t.idToken,"internal-error"),b(typeof t.idToken<"u","internal-error"),b(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):function HX(e){const t=Rh(e);return b(t,"internal-error"),b(typeof t.exp<"u","internal-error"),b(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}getToken(t){var n=this;return g(function*(r,i=!1){return b(!n.accessToken||n.refreshToken,r,"user-token-expired"),i||!n.accessToken||n.isExpired?n.refreshToken?(yield n.refresh(r,n.refreshToken),n.accessToken):null:n.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(t,n){var r=this;return g(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function YX(e,t){return zC.apply(this,arguments)}(t,n);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Xc;return r&&(b("string"==typeof r,"internal-error",{appName:t}),s.refreshToken=r),i&&(b("string"==typeof i,"internal-error",{appName:t}),s.accessToken=i),o&&(b("number"==typeof o,"internal-error",{appName:t}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Xc,this.toJSON())}_performRefresh(){return tr("not implemented")}}function di(e,t){b("string"==typeof e||typeof e>"u","internal-error",{appName:t})}class ro{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,o=Ou(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new WX(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new cO(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(t){var n=this;return g(function*(){const r=yield Or(n,n.stsTokenManager.getToken(n.auth,t));return b(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(t){return function $X(e){return UC.apply(this,arguments)}(this,t)}reload(){return function GX(e){return HC.apply(this,arguments)}(this)}_assign(t){this!==t&&(b(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){return new ro(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(t){b(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t){var n=this;return g(function*(r,i=!1){let o=!1;r.idToken&&r.idToken!==n.stsTokenManager.accessToken&&(n.stsTokenManager.updateFromServerResponse(r),o=!0),i&&(yield Qc(n)),yield n.auth._persistUserIfCurrent(n),o&&n.auth._notifyListenersIfCurrent(n)}).apply(this,arguments)}delete(){var t=this;return g(function*(){const n=yield t.getIdToken();return yield Or(t,function UX(e,t){return FC.apply(this,arguments)}(t.auth,{idToken:n})),t.stsTokenManager.clearRefreshToken(),t.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,o,s,a,c,u,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(o=n.phoneNumber)&&void 0!==o?o:void 0,p=null!==(s=n.photoURL)&&void 0!==s?s:void 0,m=null!==(a=n.tenantId)&&void 0!==a?a:void 0,y=null!==(c=n._redirectEventId)&&void 0!==c?c:void 0,v=null!==(u=n.createdAt)&&void 0!==u?u:void 0,_=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:R,emailVerified:O,isAnonymous:K,providerData:Be,stsTokenManager:on}=n;b(R&&on,t,"internal-error");const jr=Xc.fromJSON(this.name,on);b("string"==typeof R,t,"internal-error"),di(d,t.name),di(h,t.name),b("boolean"==typeof O,t,"internal-error"),b("boolean"==typeof K,t,"internal-error"),di(f,t.name),di(p,t.name),di(m,t.name),di(y,t.name),di(v,t.name),di(_,t.name);const vo=new ro({uid:R,auth:t,email:h,emailVerified:O,displayName:d,isAnonymous:K,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:jr,createdAt:v,lastLoginAt:_});return Be&&Array.isArray(Be)&&(vo.providerData=Be.map($b=>Object.assign({},$b))),y&&(vo._redirectEventId=y),vo}static _fromIdTokenResponse(t,n){return g(function*(r,i,o=!1){const s=new Xc;s.updateFromServerResponse(i);const a=new ro({uid:i.localId,auth:r,stsTokenManager:s,isAnonymous:o});return yield Qc(a),a}).apply(this,arguments)}}const uO=(()=>{class e{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(n,r){var i=this;return g(function*(){i.storage[n]=r})()}_get(n){var r=this;return g(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return g(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return e.type="NONE",e})();function Nh(e,t,n){return`firebase:${e}:${t}:${n}`}class Bs{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Nh(this.userKey,i.apiKey,o),this.fullPersistenceKey=Nh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){var t=this;return g(function*(){const n=yield t.persistence._get(t.fullUserKey);return n?ro._fromJSON(t.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){var n=this;return g(function*(){if(n.persistence===t)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=t,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,n){return g(function*(r,i,o="authUser"){if(!i.length)return new Bs(xr(uO),r,o);const s=(yield Promise.all(i.map(function(){var d=g(function*(h){if(yield h._isAvailable())return h});return function(h){return d.apply(this,arguments)}}()))).filter(d=>d);let a=s[0]||xr(uO);const c=Nh(o,r.config.apiKey,r.name);let u=null;for(const d of i)try{const h=yield d._get(c);if(h){const f=ro._fromJSON(r,h);d!==a&&(u=f),a=d;break}}catch{}const l=s.filter(d=>d._shouldAllowMigration);return a._shouldAllowMigration&&l.length?(a=l[0],u&&(yield a._set(c,u.toJSON())),yield Promise.all(i.map(function(){var d=g(function*(h){if(h!==a)try{yield h._remove(c)}catch{}});return function(h){return d.apply(this,arguments)}}())),new Bs(a,r,o)):new Bs(a,r,o)}).apply(this,arguments)}}function lO(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(fO(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(dO(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(gO(t))return"Blackberry";if(mO(t))return"Webos";if(WC(t))return"Safari";if((t.includes("chrome/")||hO(t))&&!t.includes("edge/"))return"Chrome";if(pO(t))return"Android";{const r=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function dO(e=Xe()){return/firefox\//i.test(e)}function WC(e=Xe()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function hO(e=Xe()){return/crios\//i.test(e)}function fO(e=Xe()){return/iemobile/i.test(e)}function pO(e=Xe()){return/android/i.test(e)}function gO(e=Xe()){return/blackberry/i.test(e)}function mO(e=Xe()){return/webos/i.test(e)}function kh(e=Xe()){return/iphone|ipad|ipod/i.test(e)}function _O(e=Xe()){return kh(e)||pO(e)||mO(e)||gO(e)||/windows phone/i.test(e)||fO(e)}function yO(e,t=[]){let n;switch(e){case"Browser":n=lO(Xe());break;case"Worker":n=`${lO(Xe())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ps}/${r}`}class JX{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=o=>new Promise((s,a)=>{try{s(t(o))}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(t){var n=this;return g(function*(){if(n.auth.currentUser===t)return;const r=[];try{for(const i of n.queue)yield i(t),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i.message})}})()}}class eZ{constructor(t,n,r){this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vO(this),this.idTokenSubscription=new vO(this),this.beforeStateQueue=new JX(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eO,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,n){var r=this;return n&&(this._popupRedirectResolver=xr(n)),this._initializationPromise=this.queue(g(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield Bs.create(r,t),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var t=this;return g(function*(){if(t._deleted)return;const n=yield t.assertedPersistence.getCurrentUser();if(t.currentUser||n){if(t.currentUser&&n&&t.currentUser.uid===n.uid)return t._currentUser._assign(n),void(yield t.currentUser.getIdToken());yield t._updateCurrentUser(n,!0)}})()}initializeCurrentUser(t){var n=this;return g(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let o=i,s=!1;if(t&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,c=o?._redirectEventId,u=yield n.tryRedirectSignIn(t);(!a||a===c)&&u?.user&&(o=u.user,s=!0)}if(!o)return n.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield n.beforeStateQueue.runMiddleware(o)}catch(a){o=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return o?n.reloadAndSetCurrentUserOrClear(o):n.directlySetCurrentUser(null)}return b(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===o._redirectEventId?n.directlySetCurrentUser(o):n.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(t){var n=this;return g(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,t,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(t){var n=this;return g(function*(){try{yield Qc(t)}catch(r){if("auth/network-request-failed"!==r.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(t)})()}useDeviceLanguage(){this.languageCode=function OX(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}_delete(){var t=this;return g(function*(){t._deleted=!0})()}updateCurrentUser(t){var n=this;return g(function*(){const r=t?Jn(t):null;return r&&b(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(t){var n=this;return g(function*(r,i=!1){if(!n._deleted)return r&&b(n.tenantId===r.tenantId,n,"tenant-id-mismatch"),i||(yield n.beforeStateQueue.runMiddleware(r)),n.queue(g(function*(){yield n.directlySetCurrentUser(r),n.notifyAuthListeners()}))}).apply(this,arguments)}signOut(){var t=this;return g(function*(){return yield t.beforeStateQueue.runMiddleware(null),(t.redirectPersistenceManager||t._popupRedirectResolver)&&(yield t._setRedirectUser(null)),t._updateCurrentUser(null,!0)})()}setPersistence(t){var n=this;return this.queue(g(function*(){yield n.assertedPersistence.setPersistence(xr(t))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Xn("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}_setRedirectUser(t,n){var r=this;return g(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===t?i.removeCurrentUser():i.setCurrentUser(t)})()}getOrInitRedirectPersistenceManager(t){var n=this;return g(function*(){if(!n.redirectPersistenceManager){const r=t&&xr(t)||n._popupRedirectResolver;b(r,n,"argument-error"),n.redirectPersistenceManager=yield Bs.create(n,[xr(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(t){var n=this;return g(function*(){var r,i;return n._isInitialized&&(yield n.queue(g(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===t?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===t?n.redirectUser:null})()}_persistUserIfCurrent(t){var n=this;return g(function*(){if(t===n.currentUser)return n.queue(g(function*(){return n.directlySetCurrentUser(t)}))})()}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const o="function"==typeof n?n:n.next.bind(n),s=this._isInitialized?Promise.resolve():this._initializationPromise;return b(s,this,"internal-error"),s.then(()=>o(this.currentUser)),"function"==typeof n?t.addObserver(n,r,i):t.addObserver(n)}directlySetCurrentUser(t){var n=this;return g(function*(){n.currentUser&&n.currentUser!==t&&(n._currentUser._stopProactiveRefresh(),t&&n.isProactiveRefreshEnabled&&t._startProactiveRefresh()),n.currentUser=t,t?yield n.assertedPersistence.setCurrentUser(t):yield n.assertedPersistence.removeCurrentUser()})()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return b(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=yO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var t=this;return g(function*(){var n;const r={"X-Client-Version":t.clientVersion};t.app.options.appId&&(r["X-Firebase-gmpid"]=t.app.options.appId);const i=yield null===(n=t.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}function Wt(e){return Jn(e)}class vO{constructor(t){this.auth=t,this.observer=null,this.addObserver=function N7(e,t){const n=new k7(e,t);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return b(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}class Zc{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return tr("not implemented")}_getIdTokenResponse(t){return tr("not implemented")}_linkToIdToken(t,n){return tr("not implemented")}_getReauthenticationResolver(t){return tr("not implemented")}}function bO(e,t){return qC.apply(this,arguments)}function qC(){return(qC=g(function*(e,t){return Je(e,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function YC(){return(YC=g(function*(e,t){return Pr(e,"POST","/v1/accounts:signInWithPassword",Ke(e,t))})).apply(this,arguments)}function tw(){return(tw=g(function*(e,t){return Pr(e,"POST","/v1/accounts:signInWithEmailLink",Ke(e,t))})).apply(this,arguments)}function nw(){return(nw=g(function*(e,t){return Pr(e,"POST","/v1/accounts:signInWithEmailLink",Ke(e,t))})).apply(this,arguments)}class Jc extends Zc{constructor(t,n,r,i=null){super("password",r),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new Jc(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new Jc(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n="string"==typeof t?JSON.parse(t):t;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(t){var n=this;return g(function*(){switch(n.signInMethod){case"password":return function iZ(e,t){return YC.apply(this,arguments)}(t,{returnSecureToken:!0,email:n._email,password:n._password});case"emailLink":return function uZ(e,t){return tw.apply(this,arguments)}(t,{email:n._email,oobCode:n._password});default:zt(t,"internal-error")}})()}_linkToIdToken(t,n){var r=this;return g(function*(){switch(r.signInMethod){case"password":return bO(t,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function lZ(e,t){return nw.apply(this,arguments)}(t,{idToken:n,email:r._email,oobCode:r._password});default:zt(t,"internal-error")}})()}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}function Fr(e,t){return rw.apply(this,arguments)}function rw(){return(rw=g(function*(e,t){return Pr(e,"POST","/v1/accounts:signInWithIdp",Ke(e,t))})).apply(this,arguments)}class nu{constructor(t){var n,r,i,o,s,a;const c=Vc(Uc(t)),u=null!==(n=c.apiKey)&&void 0!==n?n:null,l=null!==(r=c.oobCode)&&void 0!==r?r:null,d=function _Z(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);b(u&&l&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=l,this.continueUrl=null!==(o=c.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=c.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(t){const n=function yZ(e){const t=Vc(Uc(e)).link,n=t?Vc(Uc(t)).deep_link_id:null,r=Vc(Uc(e)).deep_link_id;return(r?Vc(Uc(r)).link:null)||r||n||t||e}(t);try{return new nu(n)}catch{return null}}}let IO=(()=>{class e{constructor(){this.providerId=e.PROVIDER_ID}static credential(n,r){return Jc._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=nu.parseLink(r);return b(i,"argument-error"),Jc._fromEmailAndCode(n,i.code,i.tenantId)}}return e.PROVIDER_ID="password",e.EMAIL_PASSWORD_SIGN_IN_METHOD="password",e.EMAIL_LINK_SIGN_IN_METHOD="emailLink",e})();class Lr{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class vZ extends Lr{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}function uw(){return(uw=g(function*(e,t){return Pr(e,"POST","/v1/accounts:signUp",Ke(e,t))})).apply(this,arguments)}class yn{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static _fromIdTokenResponse(t,n,r){return g(function*(i,o,s,a=!1){const c=yield ro._fromIdTokenResponse(i,s,a),u=TO(s);return new yn({user:c,providerId:u,_tokenResponse:s,operationType:o})}).apply(this,arguments)}static _forOperation(t,n,r){return g(function*(){yield t._updateTokensIfNecessary(r,!0);const i=TO(r);return new yn({user:t,providerId:i,_tokenResponse:r,operationType:n})})()}}function TO(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Oh extends Ar{constructor(t,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Oh.prototype),this.customData={appName:t.name,tenantId:null!==(o=t.tenantId)&&void 0!==o?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new Oh(t,n,r,i)}}function SO(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?Oh._fromErrorAndOperation(e,o,t,r):o})}function fw(){return(fw=g(function*(e,t,n=!1){const r=yield Or(e,t._linkToIdToken(e.auth,yield e.getIdToken()),n);return yn._forOperation(e,"link",r)})).apply(this,arguments)}function gw(){return(gw=g(function*(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const o=yield Or(e,SO(r,i,t,e),n);b(o.idToken,r,"internal-error");const s=Rh(o.idToken);b(s,r,"internal-error");const{sub:a}=s;return b(e.uid===a,r,"user-mismatch"),yn._forOperation(e,i,o)}catch(o){throw"auth/user-not-found"===o?.code&&zt(r,"user-mismatch"),o}})).apply(this,arguments)}function RO(e,t){return mw.apply(this,arguments)}function mw(){return(mw=g(function*(e,t,n=!1){const r="signIn",i=yield SO(e,r,t),o=yield yn._fromIdTokenResponse(e,r,i);return n||(yield e._updateCurrentUser(o.user)),o})).apply(this,arguments)}function yw(){return(yw=g(function*(e,t){return RO(Wt(e),t)})).apply(this,arguments)}function TZ(e,t,n){return Mw.apply(this,arguments)}function Mw(){return(Mw=g(function*(e,t,n){const r=Wt(e),i=yield function DO(e,t){return uw.apply(this,arguments)}(r,{returnSecureToken:!0,email:t,password:n}),o=yield yn._fromIdTokenResponse(r,"signIn",i);return yield r._updateCurrentUser(o.user),o})).apply(this,arguments)}function SZ(e,t,n){return function _w(e,t){return yw.apply(this,arguments)}(Jn(e),IO.credential(t,n))}function FZ(e){return Jn(e).signOut()}const Uh="__sak";class xO{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Uh,"1"),this.storage.removeItem(Uh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const HZ=(()=>{class e extends xO{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function jZ(){const e=Xe();return WC(e)||kh(e)}()&&function ZX(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=_O(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const o=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);!function XX(){return function I7(){const e=Xe();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}()||s===n.newValue||n.newValue===n.oldValue?o():setTimeout(o,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,o=this;return g(function*(){yield i().call(o,n,r),o.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return g(function*(){const o=yield r().call(i,n);return i.localCache[n]=JSON.stringify(o),o})()}_remove(n){var r=()=>super._remove,i=this;return g(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return e.type="LOCAL",e})(),PO=(()=>{class e extends xO{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return e.type="SESSION",e})();let WZ=(()=>{class e{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;const i=new e(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return g(function*(){const i=n,{eventId:o,eventType:s,data:a}=i.data,c=r.handlersMap[s];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:o,eventType:s});const u=Array.from(c).map(function(){var d=g(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function zZ(e){return Promise.all(e.map(function(){var t=g(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return t.apply(this,arguments)}}()))}(u);i.ports[0].postMessage({status:"done",eventId:o,eventType:s,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return e.receivers=[],e})();function Hw(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}class GZ{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}_send(t,n){var r=this;return g(function*(i,o,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let c,u;return new Promise((l,d)=>{const h=Hw("",20);a.port1.start();const f=setTimeout(()=>{d(new Error("unsupported_event"))},s);u={messageChannel:a,onMessage(p){const m=p;if(m.data.eventId===h)switch(m.data.status){case"ack":clearTimeout(f),c=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),l(m.data.response);break;default:clearTimeout(f),clearTimeout(c),d(new Error("invalid_response"))}}},r.handlers.add(u),a.port1.addEventListener("message",u.onMessage),r.target.postMessage({eventType:i,eventId:h,data:o},[a.port2])}).finally(()=>{u&&r.removeMessageHandler(u)})}).apply(this,arguments)}}function Ye(){return window}function zw(){return typeof Ye().WorkerGlobalScope<"u"&&"function"==typeof Ye().importScripts}function Ww(){return(Ww=g(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const OO="firebaseLocalStorageDb",jh="firebaseLocalStorage",FO="fbase_key";class iu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Bh(e,t){return e.transaction([jh],t?"readwrite":"readonly").objectStore(jh)}function Gw(){const e=indexedDB.open(OO,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(jh,{keyPath:FO})}catch(i){n(i)}}),e.addEventListener("success",g(function*(){const r=e.result;r.objectStoreNames.contains(jh)?t(r):(r.close(),yield function ZZ(){const e=indexedDB.deleteDatabase(OO);return new iu(e).toPromise()}(),t(yield Gw()))}))})}function LO(e,t,n){return qw.apply(this,arguments)}function qw(){return(qw=g(function*(e,t,n){const r=Bh(e,!0).put({[FO]:t,value:n});return new iu(r).toPromise()})).apply(this,arguments)}function Kw(){return(Kw=g(function*(e,t){const n=Bh(e,!1).get(t),r=yield new iu(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function VO(e,t){const n=Bh(e,!0).delete(t);return new iu(n).toPromise()}const nJ=(()=>{class e{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return g(function*(){return n.db||(n.db=yield Gw()),n.db})()}_withRetries(n){var r=this;return g(function*(){let i=0;for(;;)try{const o=yield r._openDb();return yield n(o)}catch(o){if(i++>3)throw o;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return g(function*(){return zw()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return g(function*(){n.receiver=WZ._getInstance(function QZ(){return zw()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=g(function*(i,o){return{keyProcessed:(yield n._poll()).includes(o.key)}});return function(i,o){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=g(function*(i,o){return["keyChanged"]});return function(i,o){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return g(function*(){var r,i;if(n.activeServiceWorker=yield function KZ(){return Ww.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new GZ(n.activeServiceWorker);const o=yield n.sender._send("ping",{},800);o&&null!==(r=o[0])&&void 0!==r&&r.fulfilled&&null!==(i=o[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return g(function*(){if(r.sender&&r.activeServiceWorker&&function YZ(){var e;return(null===(e=navigator?.serviceWorker)||void 0===e?void 0:e.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return g(function*(){try{if(!indexedDB)return!1;const n=yield Gw();return yield LO(n,Uh,"1"),yield VO(n,Uh),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return g(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return g(function*(){return i._withPendingWrite(g(function*(){return yield i._withRetries(o=>LO(o,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return g(function*(){const i=yield r._withRetries(o=>function JZ(e,t){return Kw.apply(this,arguments)}(o,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return g(function*(){return r._withPendingWrite(g(function*(){return yield r._withRetries(i=>VO(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return g(function*(){const r=yield n._withRetries(s=>{const a=Bh(s,!1).getAll();return new iu(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],o=new Set;for(const{fbase_key:s,value:a}of r)o.add(s),JSON.stringify(n.localCache[s])!==JSON.stringify(a)&&(n.notifyListeners(s,a),i.push(s));for(const s of Object.keys(n.localCache))n.localCache[s]&&!o.has(s)&&(n.notifyListeners(s,null),i.push(s));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const o of Array.from(i))o(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(g(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return e.type="LOCAL",e})();function jO(e){return`__${e}${Math.floor(1e6*Math.random())}`}jO("rcb"),new Kc(3e4,6e4);class iE extends Zc{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Fr(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Fr(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Fr(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function vJ(e){return RO(e.auth,new iE(e),e.bypassAuthState)}function CJ(e){const{auth:t,user:n}=e;return b(n,t,"internal-error"),function MO(e,t){return gw.apply(this,arguments)}(n,new iE(e),e.bypassAuthState)}function wJ(e){return oE.apply(this,arguments)}function oE(){return(oE=g(function*(e){const{auth:t,user:n}=e;return b(n,t,"internal-error"),function hw(e,t){return fw.apply(this,arguments)}(n,new iE(e),e.bypassAuthState)})).apply(this,arguments)}class EJ{constructor(t,n,r,i,o=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var t=this;return new Promise(function(){var n=g(function*(r,i){t.pendingPromise={resolve:r,reject:i};try{t.eventManager=yield t.resolver._initialize(t.auth),yield t.onExecution(),t.eventManager.registerConsumer(t)}catch(o){t.reject(o)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(t){var n=this;return g(function*(){const{urlResponse:r,sessionId:i,postBody:o,tenantId:s,error:a,type:c}=t;if(a)return void n.reject(a);const u={auth:n.auth,requestUri:r,sessionId:i,tenantId:s||void 0,postBody:o||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(c)(u))}catch(l){n.reject(l)}})()}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return vJ;case"linkViaPopup":case"linkViaRedirect":return wJ;case"reauthViaPopup":case"reauthViaRedirect":return CJ;default:zt(this.auth,"internal-error")}}resolve(t){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Kc(2e3,1e4);const bJ="pendingRedirect",ou=new Map;class IJ extends EJ{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var t=()=>super.execute,n=this;return g(function*(){let r=ou.get(n.auth._key());if(!r){try{const o=(yield function DJ(e,t){return lE.apply(this,arguments)}(n.resolver,n.auth))?yield t().call(n):null;r=()=>Promise.resolve(o)}catch(i){r=()=>Promise.reject(i)}ou.set(n.auth._key(),r)}return n.bypassAuthState||ou.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(t){var n=()=>super.onAuthEvent,r=this;return g(function*(){if("signInViaRedirect"===t.type)return n().call(r,t);if("unknown"!==t.type){if(t.eventId){const i=yield r.auth._redirectUserForId(t.eventId);if(i)return r.user=i,n().call(r,t);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return g(function*(){})()}cleanUp(){}}function lE(){return(lE=g(function*(e,t){const n=function HO(e){return Nh(bJ,e.config.apiKey,e.name)}(t),r=function $O(e){return xr(e._redirectPersistence)}(e);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function TJ(e,t){ou.set(e._key(),t)}function zO(e,t){return _E.apply(this,arguments)}function _E(){return(_E=g(function*(e,t,n=!1){const r=Wt(e),i=function oo(e,t){return t?xr(t):(b(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}(r,t),s=yield new IJ(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,t)),s})).apply(this,arguments)}class NJ{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!function kJ(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qO(e);default:return!1}}(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!qO(t)){const i=(null===(r=t.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(er(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=null===n.eventId||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(GO(t))}saveEventToCache(t){this.cachedEventUids.add(GO(t)),this.lastProcessedEventTime=Date.now()}}function GO(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function qO({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===t?.code}function vE(){return(vE=g(function*(e,t={}){return Je(e,"GET","/v1/projects",t)})).apply(this,arguments)}const PJ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,OJ=/^https?/;function CE(){return CE=g(function*(e){if(e.config.emulator)return;const{authorizedDomains:t}=yield function xJ(e){return vE.apply(this,arguments)}(e);for(const n of t)try{if(LJ(n))return}catch{}zt(e,"unauthorized-domain")}),CE.apply(this,arguments)}function LJ(e){const t=qc(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return""===s.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&s.hostname===r}if(!OJ.test(n))return!1;if(PJ.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const VJ=new Kc(3e4,6e4);function KO(){const e=Ye().___jsl;if(e?.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let Hh=null;function jJ(e){return Hh=Hh||function UJ(e){return new Promise((t,n)=>{var r,i,o;function s(){KO(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{KO(),n(er(e,"network-request-failed"))},timeout:VJ.get()})}if(null!==(i=null===(r=Ye().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)t(gapi.iframes.getContext());else{if(null===(o=Ye().gapi)||void 0===o||!o.load){const a=jO("iframefcb");return Ye()[a]=()=>{gapi.load?s():n(er(e,"network-request-failed"))},function UO(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const o=er("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",function sJ(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>n(c))}s()}}).catch(t=>{throw Hh=null,t})}(e),Hh}const BJ=new Kc(5e3,15e3),$J="__/auth/iframe",HJ="emulator/auth/iframe",zJ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},WJ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function GJ(e){const t=e.config;b(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?kC(t,HJ):`https://${e.config.authDomain}/${$J}`,r={apiKey:t.apiKey,appName:e.name,v:Ps},i=WJ.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Ns(r).slice(1)}`}function wE(){return wE=g(function*(e){const t=yield jJ(e),n=Ye().gapi;return b(n,e,"internal-error"),t.open({where:document.body,url:GJ(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zJ,dontclear:!0},r=>new Promise(function(){var i=g(function*(o,s){yield r.restyle({setHideOnLeave:!1});const a=er(e,"network-request-failed"),c=Ye().setTimeout(()=>{s(a)},BJ.get());function u(){Ye().clearTimeout(c),o(r)}r.ping(u).then(u,()=>{s(a)})});return function(o,s){return i.apply(this,arguments)}}()))}),wE.apply(this,arguments)}const KJ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class YO{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function QO(e,t,n,r,i,o){b(e.config.authDomain,e,"auth-domain-config-required"),b(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Ps,eventId:i};if(t instanceof Lr){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",dy(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,u]of Object.entries(o||{}))s[c]=u}if(t instanceof vZ){const c=t.getScopes().filter(u=>""!==u);c.length>0&&(s.scopes=c.join(","))}e.tenantId&&(s.tid=e.tenantId);const a=s;for(const c of Object.keys(a))void 0===a[c]&&delete a[c];return`${function ree({config:e}){return e.emulator?kC(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${Ns(a).slice(1)}`}const EE="webStorageSupport",oee=class iee{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=PO,this._completeRedirectFn=zO,this._overrideRedirectResult=TJ}_openPopup(t,n,r,i){var o=this;return g(function*(){var s;li(null===(s=o.eventManagers[t._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");const a=QO(t,n,r,qc(),i);return function JJ(e,t,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},KJ),{width:r.toString(),height:i.toString(),top:o,left:s}),u=Xe().toLowerCase();n&&(a=hO(u)?"_blank":n),dO(u)&&(t=t||"http://localhost",c.scrollbars="yes");const l=Object.entries(c).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function QX(e=Xe()){var t;return kh(e)&&!(null===(t=window.navigator)||void 0===t||!t.standalone)}(u)&&"_self"!==a)return function eee(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new YO(null);const d=window.open(t||"",a,l);b(d,e,"popup-blocked");try{d.focus()}catch{}return new YO(d)}(t,a,Hw())})()}_openRedirect(t,n,r,i){var o=this;return g(function*(){return yield o._originValidation(t),function qZ(e){Ye().location.href=e}(QO(t,n,r,qc(),i)),new Promise(()=>{})})()}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(li(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(t){var n=this;return g(function*(){const r=yield function qJ(e){return wE.apply(this,arguments)}(t),i=new NJ(t);return r.register("authEvent",o=>(b(o?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[t._key()]={manager:i},n.iframes[t._key()]=r,i})()}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(EE,{type:EE},i=>{var o;const s=null===(o=i?.[0])||void 0===o?void 0:o[EE];void 0!==s&&n(!!s),zt(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function FJ(e){return CE.apply(this,arguments)}(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return _O()||WC()||kh()}};var ZO="@firebase/auth";class aee{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}getToken(t){var n=this;return g(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(t)}:null})()}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{var i;t((null===(i=r)||void 0===i?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){b(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function lee(e=Dy()){const t=xs(e,"auth");return t.isInitialized()?t.getImmediate():function kX(e,t){const n=xs(e,"auth");if(n.isInitialized()){const i=n.getImmediate();if(uh(n.getOptions(),t??{}))return i;zt(i,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:oee,persistence:[nJ,HZ,PO]})}!function uee(e){Nt(new yt("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),{apiKey:o,authDomain:s}=r.options;return((a,c)=>{b(o&&!o.includes(":"),"invalid-api-key",{appName:a.name}),b(!s?.includes(":"),"argument-error",{appName:a.name});const u={apiKey:o,authDomain:s,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yO(e)},l=new eZ(a,c,u);return function xX(e,t){const n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(xr);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}(l,n),l})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Nt(new yt("auth-internal",t=>{const n=Wt(t.getProvider("auth").getImmediate());return new aee(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Le(ZO,"0.20.0",function cee(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(e)),Le(ZO,"0.20.0","esm2017")}("Browser");class zh{constructor(t){return t}}class t1{constructor(){return uC("auth")}}const bE=new D("angularfire2.auth-instances");function hee(e){return(t,n)=>{const r=t.runOutsideAngular(()=>e(n));return new zh(r)}}const fee={provide:t1,deps:[[new Tt,bE]]},pee={provide:zh,useFactory:function dee(e,t){const n=cC("auth",e,t);return n&&new zh(n)},deps:[[new Tt,bE],Us]};let gee=(()=>{class e{constructor(){Le("angularfire",Ch.full,"auth")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Ft({type:e}),e.\u0275inj=Ct({providers:[pee,fee]}),e})();function mee(e,...t){return{ngModule:gee,providers:[{provide:bE,useFactory:hee(e),multi:!0,deps:[ue,pt,lC,dC,[new Tt,AC],...t]}]}}const _ee=Vs(TZ,!0),yee=Vs(lee,!0),vee=Vs(SZ,!0),Cee=Vs(FZ,!0);let IE=(()=>{class e{constructor(n,r){this.auth=n,this.router=r,this.currentUserSubject=new Kt(null),this.authState$=this.currentUserSubject.asObservable(),this.monitorAuthState()}signUp(n,r){var i=this;return g(function*(){return(yield _ee(i.auth,n,r)).user})()}signIn(n,r){var i=this;return g(function*(){return(yield vee(i.auth,n,r)).user})()}signOut(){var n=this;return g(function*(){return Cee(n.auth)})()}getCurrentUser(){return this.auth.currentUser}monitorAuthState(){!function OZ(e,t,n,r){Jn(e).onAuthStateChanged(t,n,r)}(this.auth,n=>{this.currentUserSubject.next(n),n?(console.log("Utente loggato:",n.email),this.router.navigate(["/home"])):(console.log("Utente non loggato, redirect a login"),this.router.navigate(["/login"]))})}static{this.\u0275fac=function(r){return new(r||e)(x(zh),x(mt))}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function wee(e,t){1&e&&(M(0,"div"),le(1,"Email obbligatoria."),A())}function Eee(e,t){1&e&&(M(0,"div"),le(1,"Formato email non valido."),A())}function bee(e,t){if(1&e&&(M(0,"div",15),F(1,wee,2,0,"div",16),F(2,Eee,2,0,"div",16),A()),2&e){const n=re();S(1),N("ngIf",null==n.email||null==n.email.errors?null:n.email.errors.required),S(1),N("ngIf",null==n.email||null==n.email.errors?null:n.email.errors.email)}}function Iee(e,t){1&e&&(M(0,"div"),le(1,"Password obbligatoria."),A())}function Dee(e,t){if(1&e&&(M(0,"div"),le(1),A()),2&e){const n=re(2);S(1),Oi(" Minimo ",null==n.password||null==n.password.errors?null:n.password.errors.minlength.requiredLength," caratteri. ")}}function Tee(e,t){if(1&e&&(M(0,"div",15),F(1,Iee,2,0,"div",16),F(2,Dee,2,1,"div",16),A()),2&e){const n=re();S(1),N("ngIf",null==n.password||null==n.password.errors?null:n.password.errors.required),S(1),N("ngIf",null==n.password||null==n.password.errors?null:n.password.errors.minlength)}}function See(e,t){if(1&e&&(M(0,"div",17),le(1),A()),2&e){const n=re();S(1),Oi(" ",n.errorMessage," ")}}let Aee=(()=>{class e{constructor(n,r,i){this.fb=n,this.authService=r,this.router=i,this.errorMessage="",this.user$=this.authService.authState$}ngOnInit(){this.loginForm=this.fb.group({email:["",[qd.required,qd.email]],password:["",[qd.required,qd.minLength(6)]]})}login(){var n=this;return g(function*(){if(n.loginForm.invalid)return;const{email:r,password:i}=n.loginForm.value;try{yield n.authService.signIn(r,i),n.errorMessage="",n.loginForm.reset()}catch(o){n.errorMessage=o.message}})()}register(){var n=this;return g(function*(){if(n.loginForm.invalid)return;const{email:r,password:i}=n.loginForm.value;try{yield n.authService.signUp(r,i),n.errorMessage="",n.loginForm.reset()}catch(o){n.errorMessage=o.message}})()}get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}static{this.\u0275fac=function(r){return new(r||e)(w(mx),w(IE),w(mt))}}static{this.\u0275cmp=dr({type:e,selectors:[["app-login"]],decls:23,vars:6,consts:[[1,"container-fluid"],[1,"container",2,"max-width","700px"],[1,"d-flex","justify-content-center","text-light","ciao"],[1,"p-5","text-light"],[3,"formGroup","ngSubmit"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email",1,"form-control"],["class","text-danger small mt-1",4,"ngIf"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password",1,"form-control"],["class","alert alert-danger py-2",4,"ngIf"],[1,"d-flex","justify-content-between"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-secondary",3,"disabled","click"],[1,"text-danger","small","mt-1"],[4,"ngIf"],[1,"alert","alert-danger","py-2"]],template:function(r,i){1&r&&(M(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),le(4,"Ciao!"),A()(),M(5,"div",3)(6,"form",4),ke("ngSubmit",function(){return i.login()}),M(7,"div",5)(8,"label",6),le(9,"Email"),A(),ee(10,"input",7),F(11,bee,3,2,"div",8),A(),M(12,"div",5)(13,"label",9),le(14,"Password"),A(),ee(15,"input",10),F(16,Tee,3,2,"div",8),A(),F(17,See,2,1,"div",11),M(18,"div",12)(19,"button",13),le(20," Login "),A(),M(21,"button",14),ke("click",function(){return i.register()}),le(22," Registrati "),A()()()()()()),2&r&&(S(6),N("formGroup",i.loginForm),S(5),N("ngIf",(null==i.email?null:i.email.invalid)&&((null==i.email?null:i.email.dirty)||(null==i.email?null:i.email.touched))),S(5),N("ngIf",(null==i.password?null:i.password.invalid)&&((null==i.password?null:i.password.dirty)||(null==i.password?null:i.password.touched))),S(1),N("ngIf",i.errorMessage),S(2),N("disabled",i.loginForm.invalid),S(2),N("disabled",i.loginForm.invalid))},dependencies:[Id,Yk,Sc,$_,Fk,ih,ny],styles:[".container-fluid[_ngcontent-%COMP%]{background:linear-gradient(180deg,#A80077 0%,#7F9F2D 100%);height:100vh;width:100%;margin:0}.ciao[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-top:100px;transform:rotate(-10deg)}"]})}}return e})();function Mee(e,t){if(1&e&&(M(0,"div",3)(1,"div",4),ee(2,"div",5),A()()),2&e){const n=t.$implicit;N("routerLink",n.link),S(2),Yg(n.name)}}let n1=(()=>{class e{constructor(){this.iconList=[]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=dr({type:e,selectors:[["app-icon-link-list"]],inputs:{iconList:"iconList"},decls:3,vars:1,consts:[[1,"d-flex","justify-content-center"],[1,"d-flex","flex-wrap"],["class","card link-card",3,"routerLink",4,"ngFor","ngForOf"],[1,"card","link-card",3,"routerLink"],[1,"card-body"],[1,"game-icon"]],template:function(r,i){1&r&&(M(0,"div",0)(1,"div",1),F(2,Mee,3,3,"div",2),A()()),2&r&&(S(2),N("ngForOf",i.iconList))},dependencies:[Zm,Gd],styles:[".link-card[_ngcontent-%COMP%], .link-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{background:transparent}.link-card[_ngcontent-%COMP%]{margin:15px;padding:30px;cursor:pointer;transition:.2s}.link-card[_ngcontent-%COMP%]:hover{background-color:#ffffff1a;transition:.2s}.gamepad[_ngcontent-%COMP%], .game-icon[_ngcontent-%COMP%]{background-position:center;background-repeat:no-repeat;background-size:contain;width:90px;height:90px}.gamepad[_ngcontent-%COMP%]{background-image:url(gamepad.a5df2d2502607b4d.svg)}.dos-icon[_ngcontent-%COMP%]{background-image:url(dos_icon.e116e5fa792768cd.svg)}.scopa-icon[_ngcontent-%COMP%]{background-image:url(scopa-icon.1fdd48b5e7bb5642.svg)}"]})}}return e})();const Ree=function(){return{name:"gamepad",link:"/games"}},Nee=function(e){return[e]};let kee=(()=>{class e{constructor(n){this.authService=n,this.user$=this.authService.authState$}logout(){var n=this;return g(function*(){yield n.authService.signOut()})()}static{this.\u0275fac=function(r){return new(r||e)(w(IE))}}static{this.\u0275cmp=dr({type:e,selectors:[["app-home"]],decls:5,vars:4,consts:[[1,"container-fluid"],[1,"d-flex","justify-content-end"],[1,"btn","btn-outline-danger",3,"click"],[3,"iconList"]],template:function(r,i){1&r&&(M(0,"div",0)(1,"div",1)(2,"button",2),ke("click",function(){return i.logout()}),le(3,"Logout"),A()(),ee(4,"app-icon-link-list",3),A()),2&r&&(S(4),N("iconList",ec(2,Nee,nd(1,Ree))))},dependencies:[n1]})}}return e})(),Wh=(()=>{class e{constructor(n,r){this.authService=n,this.router=r}canActivate(){return this.authService.authState$.pipe(me(n=>!!n||this.router.createUrlTree(["/login"])))}static{this.\u0275fac=function(r){return new(r||e)(x(IE),x(mt))}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const xee=function(){return{name:"dos-icon",link:"/uno"}},Pee=function(){return{name:"scopa-icon",link:"/scopa"}},Oee=function(e,t){return[e,t]};let Fee=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=dr({type:e,selectors:[["app-games"]],decls:2,vars:6,consts:[[1,"container-fluid"],[3,"iconList"]],template:function(r,i){1&r&&(M(0,"div",0),ee(1,"app-icon-link-list",1),A()),2&r&&(S(1),N("iconList",am(3,Oee,nd(1,xee),nd(2,Pee))))},dependencies:[n1]})}}return e})(),r1=(()=>{class e{constructor(){this.showAlertSource=new sn,this.showAlert$=this.showAlertSource.asObservable(),this.currentMessage={type:"info",text:"",icon:"info-circle"}}triggerAlert(n,r,i,o){this.currentMessage={type:n,text:r,icon:i,color:o},this.showAlertSource.next()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const Lee=["nicknameInput"];function Vee(e,t){if(1&e){const n=Zr();M(0,"div",4)(1,"div",5)(2,"input",6,7),ke("ngModelChange",function(i){return ln(n),dn(re().nickname=i)})("keydown.enter",function(){return ln(n),dn(re().addPlayer())}),A(),M(4,"button",8),ke("click",function(){return ln(n),dn(re().addPlayer())}),le(5,"Enter"),A()()()}if(2&e){const n=re();S(2),N("ngModel",n.nickname)}}function Uee(e,t){1&e&&ee(0,"i",23)}function jee(e,t){1&e&&ee(0,"i",24)}function Bee(e,t){if(1&e&&(M(0,"li",18)(1,"span",19),le(2),A(),M(3,"span",20),F(4,Uee,1,0,"i",21),F(5,jee,1,0,"i",22),le(6),A()()),2&e){const n=t.$implicit;S(2),Pi(n.name),S(2),N("ngIf","human"===n.playerType),S(1),N("ngIf","cpu"===n.playerType),S(1),Oi(" ",n.playerType," ")}}function $ee(e,t){if(1&e){const n=Zr();M(0,"button",25),ke("click",function(){return ln(n),dn(re(2).addBots())}),le(1," Gioca contro il computer "),A()}}function Hee(e,t){if(1&e){const n=Zr();M(0,"div",9)(1,"div",10)(2,"div",11)(3,"h5",12),le(4,"Sala d'attesa"),A(),M(5,"p",13),le(6,"In attesa di altri giocatori..."),A(),M(7,"ul",14),F(8,Bee,7,4,"li",15),A(),M(9,"button",16),ke("click",function(){return ln(n),dn(re().startGame())}),le(10," Inizia la partita "),A(),F(11,$ee,2,0,"button",17),A()()()}if(2&e){const n=re();let r,i,o;S(8),N("ngForOf",null==(r=n.gameForm.get("users"))?null:r.value),S(1),N("disabled",((null==(i=n.gameForm.get("users"))||null==i.value?null:i.value.length)||0)<n.minPlayers),S(2),N("ngIf",(null==(o=n.gameForm.get("users"))?null:o.value.length)<n.minPlayers)}}function zee(e,t){1&e&&(M(0,"div",48)(1,"span",49),le(2,"Loading..."),A()())}function Wee(e,t){1&e&&(M(0,"div",50),ee(1,"div",33),A())}function Gee(e,t){if(1&e&&(M(0,"div",42)(1,"div",43),F(2,zee,3,0,"div",44),M(3,"p",45),le(4),A()(),M(5,"p",45),le(6),A(),M(7,"div",46),F(8,Wee,2,0,"div",47),A()()),2&e){const n=re().$implicit,r=re(2);let i;S(2),N("ngIf",(null==(i=r.gameForm.get("peopleInTurn"))?null:i.value)===n.name),S(2),Pi(n.name),S(2),Oi("Carte ",(null==n.deck?null:n.deck.length)||0,""),S(2),N("ngForOf",n.deck)}}function qee(e,t){if(1&e&&(M(0,"div",40),F(1,Gee,9,4,"div",41),A()),2&e){const n=t.$implicit,r=re(2);let i;S(1),N("ngIf",n.name!==(null==(i=r.gameForm.get("userName"))?null:i.value))}}const DE=function(e){return{"margin-left":e}};function Kee(e,t){if(1&e){const n=Zr();M(0,"div",51),ke("click",function(){const o=ln(n).index,s=re(2);let a;return dn(s.moveCardToCenterDeck(o,null==(a=s.gameForm.get("userName"))?null:a.value))}),M(1,"div",52),ee(2,"h1",53),A()()}if(2&e){const n=t.$implicit,r=t.index,i=re(2);let o;N("ngClass",i.getCardBackground(n))("ngStyle",ec(3,DE,i.calculateMargin(r,null==(o=i.gameForm.get("centerDeck"))||null==o.value?null:o.value.length))),S(2),N("ngClass",i.getCardCenterClass(n))}}function Yee(e,t){1&e&&(M(0,"div"),ee(1,"i",63),A())}function Qee(e,t){1&e&&(M(0,"div"),ee(1,"i",64),A())}function Xee(e,t){1&e&&(M(0,"div"),ee(1,"i",65),le(2,"2"),A())}function Zee(e,t){1&e&&(M(0,"div"),ee(1,"i",65),le(2,"4"),A())}function Jee(e,t){1&e&&(M(0,"div"),ee(1,"div",66),A())}function ete(e,t){1&e&&(M(0,"div"),ee(1,"div",67),A())}function tte(e,t){1&e&&(M(0,"div"),ee(1,"div",68),A())}function nte(e,t){1&e&&(M(0,"div"),ee(1,"div",69),A())}function rte(e,t){1&e&&(M(0,"div"),ee(1,"div",70),A())}function ite(e,t){if(1&e&&(M(0,"span",62),F(1,Yee,2,0,"div",60),F(2,Qee,2,0,"div",60),F(3,Xee,3,0,"div",60),F(4,Zee,3,0,"div",60),F(5,Jee,2,0,"div",60),F(6,ete,2,0,"div",60),F(7,tte,2,0,"div",60),F(8,nte,2,0,"div",60),F(9,rte,2,0,"div",60),A()),2&e){const n=re().$implicit;S(1),N("ngIf","reverse"==n.type),S(1),N("ngIf","skip"==n.type),S(1),N("ngIf","draw-two"==n.type),S(1),N("ngIf","wild-draw-four"==n.type),S(1),N("ngIf","wild"==n.type),S(1),N("ngIf",n.suit&&"Denari"==n.type),S(1),N("ngIf",n.suit&&"Spade"==n.type),S(1),N("ngIf",n.suit&&"Bastoni"==n.type),S(1),N("ngIf",n.suit&&"Coppe"==n.type)}}function ote(e,t){if(1&e&&(M(0,"span",62),le(1),A()),2&e){const n=re().$implicit;S(1),Pi(n.value)}}function ste(e,t){1&e&&ee(0,"i",63)}function ate(e,t){1&e&&ee(0,"i",64)}function cte(e,t){1&e&&(M(0,"span",76),le(1,"2"),A())}function ute(e,t){1&e&&ee(0,"div",77)}function lte(e,t){1&e&&ee(0,"div",78)}function dte(e,t){if(1&e&&(M(0,"span",76),le(1),A()),2&e){const n=re(2).$implicit;S(1),Pi(n.value)}}function hte(e,t){if(1&e&&(Wa(0),F(1,ste,1,0,"i",71),F(2,ate,1,0,"i",72),F(3,cte,2,0,"span",73),F(4,ute,1,0,"div",74),F(5,lte,1,0,"div",75),F(6,dte,2,1,"span",73),Ga()),2&e){const n=re().$implicit;S(1),N("ngIf","reverse"===n.type),S(1),N("ngIf","skip"===n.type),S(1),N("ngIf","draw-two"===n.type),S(1),N("ngIf","wild-draw-four"===n.type),S(1),N("ngIf","wild"===n.type),S(1),N("ngIf",!n.type)}}function fte(e,t){if(1&e&&(Wa(0),ee(1,"div",79),Ga()),2&e){const n=re().$implicit,r=re(2);S(1),N("ngClass",r.getCardCenterClass(n))}}function pte(e,t){1&e&&(M(0,"div"),ee(1,"i",63),A())}function gte(e,t){1&e&&(M(0,"div"),ee(1,"i",64),A())}function mte(e,t){1&e&&(M(0,"div"),ee(1,"i",65),le(2,"2"),A())}function _te(e,t){1&e&&(M(0,"div"),ee(1,"i",65),le(2,"4"),A())}function yte(e,t){1&e&&(M(0,"div"),ee(1,"div",66),A())}function vte(e,t){if(1&e&&(M(0,"span",62),F(1,pte,2,0,"div",60),F(2,gte,2,0,"div",60),F(3,mte,3,0,"div",60),F(4,_te,3,0,"div",60),F(5,yte,2,0,"div",60),A()),2&e){const n=re(2).$implicit;S(1),N("ngIf","reverse"==n.type),S(1),N("ngIf","skip"==n.type),S(1),N("ngIf","draw-two"==n.type),S(1),N("ngIf","wild-draw-four"==n.type),S(1),N("ngIf","wild"==n.type)}}function Cte(e,t){if(1&e&&(M(0,"span",62),le(1),A()),2&e){const n=re(2).$implicit;S(1),Pi(n.value)}}function wte(e,t){if(1&e&&(M(0,"div",80),F(1,vte,6,5,"span",57),F(2,Cte,2,1,"span",57),A()),2&e){const n=re().$implicit;S(1),N("ngIf",n.type),S(1),N("ngIf",!n.type)}}const Ete=function(e,t){return{"margin-left":e,"z-index":t}};function bte(e,t){if(1&e){const n=Zr();M(0,"div",54),ke("mouseenter",function(){const o=ln(n).$implicit;return dn(re(2).onHover(o))})("mouseleave",function(){return ln(n),dn(re(2).onLeave())})("click",function(){const i=ln(n),o=i.$implicit,s=i.index,a=re(2);let c;return dn(a.isCardPlayable(o)&&a.moveCardToCenterDeck(s,null==(c=a.gameForm.get("userName"))?null:c.value))}),M(1,"div",55)(2,"div",56),F(3,ite,10,9,"span",57),F(4,ote,2,1,"span",57),A(),M(5,"div",58)(6,"h1",59),F(7,hte,7,6,"ng-container",60),F(8,fte,2,1,"ng-container",60),A()(),F(9,wte,3,2,"div",61),A()()}if(2&e){const n=t.$implicit,r=t.index,i=re(2);let o,s;N("ngClass",i.getCardBackground(n))("ngStyle",am(7,Ete,i.calculateMargin(r,i.getMyUserDeck().length),i.hoveredCard===n?100:1)),S(3),N("ngIf",!n.suit&&n.type),S(1),N("ngIf",!n.type),S(3),N("ngIf","uno"===(null==(o=i.gameForm.get("gameName"))?null:o.value)),S(1),N("ngIf","scopa"===(null==(s=i.gameForm.get("gameName"))?null:s.value)&&n.suit&&n.rank),S(1),N("ngIf",!n.suit)}}function Ite(e,t){if(1&e){const n=Zr();M(0,"div",26)(1,"div",27)(2,"div",28),F(3,qee,2,1,"div",29),A()(),M(4,"div",30)(5,"div",31)(6,"div",32),ke("click",function(){ln(n);const i=re();let o;return dn(i.playerDrawCard(null==(o=i.gameForm.get("userName"))?null:o.value))}),ee(7,"div",33),A()(),M(8,"div",34)(9,"div",35),F(10,Kee,3,5,"div",36),A()(),ee(11,"div",37),A(),M(12,"div",38)(13,"div",35),F(14,bte,10,10,"div",39),A()()()}if(2&e){const n=re();let r,i,o;S(3),N("ngForOf",null==(r=n.gameForm.get("users"))?null:r.value),S(6),N("ngStyle",ec(5,DE,n.calculateMarginForDeckContainer(null==(i=n.gameForm.get("centerDeck"))||null==i.value?null:i.value.length))),S(1),N("ngForOf",null==(o=n.gameForm.get("centerDeck"))?null:o.value),S(3),N("ngStyle",ec(7,DE,n.calculateMarginForDeckContainer(n.getMyUserDeck().length))),S(1),N("ngForOf",n.getMyUserDeck())}}let o1=(()=>{class e{constructor(n,r,i){this.fb=n,this.alertService=r,this.route=i,this.nickname="",this.people=[],this.minPlayers=4,this.maxPlayers=4,this.hoveredCard=null}ngOnInit(){this.gameForm=this.fb.group({gameName:[this.route.snapshot.data.gameName||"uno"],phase:["player-input"],users:[[]],peopleInTurn:[""],mainDeck:[[]],centerDeck:[[]],userName:["Mimmo"],currentColor:[""],direction:[1]})}ngAfterViewInit(){this.nicknameInput.nativeElement.focus()}onHover(n){this.hoveredCard=n}onLeave(){this.hoveredCard=null}getCardBackground(n){return"scopa"===this.gameForm.get("gameName")?.value?.toLowerCase()?{"deck-white":!0}:{"deck-red":"Rosso"===n.color&&this.isCardPlayable(n),"deck-green":"Verde"===n.color&&this.isCardPlayable(n),"deck-blue":"Blu"===n.color&&this.isCardPlayable(n),"deck-yellow":"Giallo"===n.color&&this.isCardPlayable(n),"deck-wild":!n.suit&&!n.color&&this.isCardPlayable(n),"deck-red-disabled":"Rosso"===n.color&&!this.isCardPlayable(n),"deck-green-disabled":"Verde"===n.color&&!this.isCardPlayable(n),"deck-blue-disabled":"Blu"===n.color&&!this.isCardPlayable(n),"deck-yellow-disabled":"Giallo"===n.color&&!this.isCardPlayable(n),"deck-wild-disabled":!n.color&&!this.isCardPlayable(n)}}getCardCenterClass(n){const r=this.gameForm.get("gameName")?.value?.toLowerCase();return"uno"===r?n.type?`uno-${n.type}`:"":"scopa"===r&&n.suit&&n.rank?`${n.suit.toLowerCase()} ${n.suit.toLowerCase()}-${n.rank.toLowerCase()}`:""}getMyUserDeck(){const n=this.gameForm.get("userName")?.value;return(this.gameForm.get("users")?.value).find(i=>i.name===n)?.deck}calculateMargin(n,r){if(!r)return"0px";const i=Math.floor(r/2);return n<i?`-${30*(i-n)}px`:n>i?30*(n-i)+"px":"0px"}calculateMarginForDeckContainer(n){return!n||n<=1?"0px":30*-Math.floor(n/2)+"px"}addPlayer(){if(!this.nickname.trim())return;const n=this.gameForm.get("users")?.value||[],i={name:this.nickname.trim().charAt(0).toUpperCase()+this.nickname.trim().slice(1).toLowerCase(),deck:[],played:!1,drawed:!1,playerType:"human"};this.people.push(i),this.gameForm.patchValue({users:[...n,i],phase:"waiting-room"}),this.nickname=""}addBots(){const n=this.gameForm.get("users")?.value||[],i=Array.from({length:this.minPlayers-n.length}).map((o,s)=>({name:`CPU ${s+1}`,deck:[],played:!1,drawed:!1,playerType:"cpu"}));this.gameForm.patchValue({users:[...n,...i]})}root(){var n=this;return g(function*(){if((n.gameForm.get("users")?.value?.length||0)<n.minPlayers)return;const r=n.gameForm.get("gameName")?.value;if(!r)return void console.error("Errore: nessun gioco selezionato!");let i=[],o=5;console.log(r),"uno"===r.toLowerCase()?(i=yield n.createUnoDeck(),o=7):"scopa"===r.toLowerCase()&&(i=n.createScopaDeck(),o=3),i&&0!==i.length?(console.log(`Mazzo principale pronto: ${i.length} carte`),i=n.shuffleDeck([...i]),n.gameForm.patchValue({users:(n.gameForm.get("users")?.value||[]).map(s=>{const a=[];for(let c=0;c<o;c++){const u=i.shift();u&&a.push(u)}return{...s,deck:a}}),mainDeck:i,phase:"start-playing"}),console.log(`Gioco "${r}" iniziato, carte distribuite:`,n.gameForm.get("users")?.value)):console.error("Errore: mazzo non creato!")})()}shuffleDeck(n){for(let r=n.length-1;r>0;r--){const i=Math.floor(Math.random()*(r+1));[n[r],n[i]]=[n[i],n[r]]}return n}createUnoDeck(){const n=["Rosso","Verde","Blu","Giallo"],r=[];for(const i of n){r.push({color:i,name:`0 ${i}`,value:0});for(let s=1;s<=9;s++)r.push({color:i,name:`${s} ${i}`,value:s}),r.push({color:i,name:`${s} ${i}`,value:s});const o=["draw-two","Reverse","Skip"];for(const s of o)r.push({color:i,name:`${s} ${i}`,type:s.toLowerCase()}),r.push({color:i,name:`${s} ${i}`,type:s.toLowerCase()})}for(let i=0;i<4;i++)r.push({name:"Wild",type:"wild"}),r.push({name:"Wild +4",type:"wild-draw-four"});return console.log(`Mazzo UNO creato: ${r.length} carte`),r}createScopaDeck(){const n=["Coppe","Denari","Spade","Bastoni"],r=["1","2","3","4","5","6","7","Fante","Cavallo","Re"],i=[];for(const o of n)for(const s of r)i.push({name:`${s} di ${o}`,suit:o,rank:s});return i}startGame(){(this.gameForm.get("users")?.value||[]).length>=this.minPlayers&&(this.gameForm.patchValue({phase:"start-waiting"}),this.root())}moveCards(n,r,i=[]){if(!n||!r)return n;const o=[];if(0===i.length){const s=n.pop();s&&o.push(s)}else i.sort((s,a)=>a-s).forEach(s=>{s>=0&&s<n.length&&o.push(n.splice(s,1)[0])});return r.push(...o),o}moveCardToCenterDeck(n,r){const i=this.gameForm.get("users")?.value||[],o=this.gameForm.get("centerDeck")?.value||[],s=r||this.gameForm.get("userName")?.value,a=i.find(u=>u.name===s);if(!a||!a.deck||n>=a.deck.length)return;const c=a.deck.splice(n,1)[0];c&&("uno"===this.gameForm.get("gameName")?.value?.toLowerCase()&&c.color&&this.gameForm.patchValue({currentColor:c.color}),o.push(c),this.gameForm.patchValue({users:i,centerDeck:o}),this.alertService.triggerAlert("info",`${s} ha giocato: ${c.name}`,"check-circle"))}playerDrawCard(n,r=1,i="mainDeck"){const o=this.gameForm.get(i)?.value||[],s=this.gameForm.get("users")?.value||[],a=n||this.gameForm.get("userName")?.value,c=s.find(l=>l.name===a);if(!c||!o||0===o.length)return;const u=[];for(let l=0;l<r&&o.length>0;l++)u.push(o.shift());return c.deck.push(...u),this.gameForm.patchValue({users:s,[i]:o}),u.length>0&&this.alertService.triggerAlert("warning",`${a} pesca ${u.length} carte${r>1?"s":""}: ${u.map(l=>l.name).join(", ")}`,"exclamation-circle"),u}isCardPlayable(n,r){const i=this.gameForm.get("gameName")?.value?.toLowerCase();if(!n)return!1;if(0===(this.gameForm.get("centerDeck")?.value||[]).length)return!0;if("uno"===i){let s=this.gameForm.get("currentColor")?.value;return!s&&r?.color&&(s=r.color),!n.color||n.color===s||["wild","wild-draw-four"].includes(n.type)}return!0}static{this.\u0275fac=function(r){return new(r||e)(w(mx),w(r1),w(zi))}}static{this.\u0275cmp=dr({type:e,selectors:[["app-base"]],viewQuery:function(r,i){if(1&r&&aM(Lee,5),2&r){let o;gm(o=function mm(){return function Gz(e,t){return e[Vn].queries[t].queryList}(C(),mD())}())&&(i.nicknameInput=o.first)}},decls:4,vars:3,consts:[[1,"container-fluid"],["class","container d-flex justify-content-center player-input-container h-100 px-0",4,"ngIf"],["class","container d-flex justify-content-center align-items-center h-100",4,"ngIf"],["class","container",4,"ngIf"],[1,"container","d-flex","justify-content-center","player-input-container","h-100","px-0"],[1,"d-flex","flex-column","h-100","justify-content-center","w-100","player-input-inner-container"],["type","text","placeholder","Nickname",1,"form-control",3,"ngModel","ngModelChange","keydown.enter"],["nicknameInput",""],[1,"mt-3","btn","btn-primary","w-100",3,"click"],[1,"container","d-flex","justify-content-center","align-items-center","h-100"],[1,"card","w-100","waiting-room",2,"max-width","500px"],[1,"card-body","text-center"],[1,"card-title"],[1,"text-muted"],[1,"list-group","list-group-flush","mb-3"],["class","list-group-item d-flex align-items-center",4,"ngFor","ngForOf"],[1,"btn","btn-primary","w-100","mb-2",3,"disabled","click"],["class","btn btn-primary w-100",3,"click",4,"ngIf"],[1,"list-group-item","d-flex","align-items-center"],[1,"me-2"],[1,"badge","bg-secondary","d-flex","align-items-center"],["class","bi bi-person-fill me-1",4,"ngIf"],["class","bi bi-pc-display-horizontal me-1",4,"ngIf"],[1,"bi","bi-person-fill","me-1"],[1,"bi","bi-pc-display-horizontal","me-1"],[1,"btn","btn-primary","w-100",3,"click"],[1,"container"],[1,"position-absolute","players-wrapper"],[1,"d-flex","flex-column"],["class","d-flex flex-column text-end me-1 mt-2",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","card-wrapper"],[1,"left-wrapper"],[1,"card","scopa-deck-card","deck-card","shadow",3,"click"],[1,"card-body"],[1,"center-wrapper"],[1,"deck-container",2,"position","relative","height","135px",3,"ngStyle"],["class","card deck-card shadow",3,"ngClass","ngStyle","click",4,"ngFor","ngForOf"],[1,"right-wrapper"],[1,"d-flex","justify-content-center","card-wrapper",2,"margin-top","50px"],["class","card deck-card shadow",3,"ngClass","ngStyle","mouseenter","mouseleave","click",4,"ngFor","ngForOf"],[1,"d-flex","flex-column","text-end","me-1","mt-2"],["class","d-flex flex-column text-end",4,"ngIf"],[1,"d-flex","flex-column","text-end"],[1,"d-flex","align-items-center"],["class","spinner-border spinner-border-sm mx-1 text-warning","role","status",4,"ngIf"],[1,"mb-1"],[1,"mini-card-wrapper","d-flex","flex-column"],["class","card mini-card me-1",4,"ngFor","ngForOf"],["role","status",1,"spinner-border","spinner-border-sm","mx-1","text-warning"],[1,"visually-hidden"],[1,"card","mini-card","me-1"],[1,"card","deck-card","shadow",3,"ngClass","ngStyle","click"],[1,"card-body","w-100","d-flex","flex-column","justify-content-center","align-items-center"],[1,"center-value","m-0","center-icon-scopa",3,"ngClass"],[1,"card","deck-card","shadow",3,"ngClass","ngStyle","mouseenter","mouseleave","click"],[1,"card-body","w-100","d-flex","flex-column","justify-content-between"],[1,"d-flex","justify-content-start"],["class","small-value",4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center","flex-grow-1"],[1,"center-value","m-0","d-flex","justify-content-center","align-items-center"],[4,"ngIf"],["class","d-flex justify-content-end",4,"ngIf"],[1,"small-value"],[1,"bi","bi-arrow-repeat"],[1,"bi","bi-x-circle"],[1,"bi","bi-plus-lg"],[1,"change-color-icon"],[1,"denari"],[1,"spade"],[1,"bastoni"],[1,"coppe"],["class","bi bi-arrow-repeat",4,"ngIf"],["class","bi bi-x-circle",4,"ngIf"],["class","uno-number",4,"ngIf"],["class","plus-four-icon center-icon",4,"ngIf"],["class","change-color-icon center-icon",4,"ngIf"],[1,"uno-number"],[1,"plus-four-icon","center-icon"],[1,"change-color-icon","center-icon"],[1,"center-icon-scopa",3,"ngClass"],[1,"d-flex","justify-content-end"]],template:function(r,i){if(1&r&&(M(0,"div",0),F(1,Vee,6,1,"div",1),F(2,Hee,12,3,"div",2),F(3,Ite,15,9,"div",3),A()),2&r){let o,s,a;S(1),N("ngIf","player-input"===(null==(o=i.gameForm.get("phase"))?null:o.value)),S(1),N("ngIf","waiting-room"===(null==(s=i.gameForm.get("phase"))?null:s.value)),S(1),N("ngIf","start-waiting"===(null==(a=i.gameForm.get("phase"))?null:a.value)||"start-playing"===(null==(a=i.gameForm.get("phase"))?null:a.value))}},dependencies:[Xm,Zm,Id,MR,Sc,$_,Z_],styles:['@charset "UTF-8";.player-input-container[_ngcontent-%COMP%]{max-width:750px}.player-input-inner-container[_ngcontent-%COMP%]{max-width:550px}.waiting-room[_ngcontent-%COMP%]{background-color:transparent!important;border:2px dashed #ccc;box-shadow:none}.waiting-room[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%], .waiting-room[_ngcontent-%COMP%]   .list-group[_ngcontent-%COMP%]{background-color:transparent!important}.waiting-room[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{background-color:transparent!important;border:none;padding:.5rem 0}.player-list[_ngcontent-%COMP%], .player-list[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%], .list-group-item[_ngcontent-%COMP%]{background:transparent}.list-group-item[_ngcontent-%COMP%]{cursor:pointer;transition:.2s}.list-group-item[_ngcontent-%COMP%]:hover{background-color:#ffffff80}.card-wrapper[_ngcontent-%COMP%]{min-height:150px}.center-wrapper[_ngcontent-%COMP%]{width:100%}.left-wrapper[_ngcontent-%COMP%], .center-wrapper[_ngcontent-%COMP%], .right-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;min-width:150px}.deck-card[_ngcontent-%COMP%]{min-width:100px;width:100px;height:135px;border-radius:10px;color:#fff;display:flex;justify-content:center;align-items:center;font-weight:700;font-size:18px;text-align:center;margin:5px;transition:transform .2s;position:absolute;cursor:pointer}.deck-card[_ngcontent-%COMP%]:not(.deck-red-disabled):not(.deck-green-disabled):not(.deck-blue-disabled):not(.deck-yellow-disabled):not(.deck-wild-disabled):hover{transform:translateY(-20px)}.card-body[_ngcontent-%COMP%]{padding:10px}.change-color-icon[_ngcontent-%COMP%], .plus-four-icon[_ngcontent-%COMP%], .denari[_ngcontent-%COMP%], .spade[_ngcontent-%COMP%], .bastoni[_ngcontent-%COMP%], .coppe[_ngcontent-%COMP%]{background-position:center;background-size:contain;background-repeat:no-repeat;width:20px;height:20px}.denari-1[_ngcontent-%COMP%]{background-image:url(Denari_1.ecd12c9de70ab72e.svg)}.denari-2[_ngcontent-%COMP%]{background-image:url(Denari_2.31f4bdb222aeb63d.svg)}.denari-3[_ngcontent-%COMP%]{background-image:url(Denari_3.bab4bfb9207b7303.svg)}.denari-4[_ngcontent-%COMP%]{background-image:url(Denari_4.896019b52b773343.svg)}.denari-5[_ngcontent-%COMP%]{background-image:url(Denari_5.0a5d26bf6c2fb2c0.svg)}.denari-6[_ngcontent-%COMP%]{background-image:url(Denari_6.7b56a7dd54fc039e.svg)}.denari-7[_ngcontent-%COMP%]{background-image:url(Denari_7.6344a9c7a12d4072.svg)}.denari-fante[_ngcontent-%COMP%]{background-image:url(Denari_8.9b7aea748b665909.svg)}.denari-cavallo[_ngcontent-%COMP%]{background-image:url(Denari_9.fd08e52f50669f60.svg)}.denari-re[_ngcontent-%COMP%]{background-image:url(Denari_10.dfce3172ed779e9f.svg)}.coppe-1[_ngcontent-%COMP%]{background-image:url(Coppe_1.1b696a57fe58167a.svg)}.coppe-2[_ngcontent-%COMP%]{background-image:url(Coppe_2.e8a438ab90a8656b.svg)}.coppe-3[_ngcontent-%COMP%]{background-image:url(Coppe_3.78329df41b98e680.svg)}.coppe-4[_ngcontent-%COMP%]{background-image:url(Coppe_4.10e396e1595633d1.svg)}.coppe-5[_ngcontent-%COMP%]{background-image:url(Coppe_5.958cc83fe759b99a.svg)}.coppe-6[_ngcontent-%COMP%]{background-image:url(Coppe_6.43cc427b09089d87.svg)}.coppe-7[_ngcontent-%COMP%]{background-image:url(Coppe_7.f906752083c4eaaf.svg)}.coppe-fante[_ngcontent-%COMP%]{background-image:url(Coppe_8.b390e7d7e6bf2124.svg)}.coppe-cavallo[_ngcontent-%COMP%]{background-image:url(Coppe_9.33afccbcbd3798a6.svg)}.coppe-re[_ngcontent-%COMP%]{background-image:url(Coppe_10.7c54bdc294791a44.svg)}.spade-1[_ngcontent-%COMP%]{background-image:url(Spade_1.3d6e21c62a3fa88c.svg)}.spade-2[_ngcontent-%COMP%]{background-image:url(Spade_2.5a365380a4dce665.svg)}.spade-3[_ngcontent-%COMP%]{background-image:url(Spade_3.bc840bd5c8684c32.svg)}.spade-4[_ngcontent-%COMP%]{background-image:url(Spade_4.fcfe6e0705ff3263.svg)}.spade-5[_ngcontent-%COMP%]{background-image:url(Spade_5.dcdf188bdee4c5c7.svg)}.spade-6[_ngcontent-%COMP%]{background-image:url(Spade_6.1346cd26d61ac17d.svg)}.spade-7[_ngcontent-%COMP%]{background-image:url(Spade_7.6ed29559fee9345a.svg)}.spade-fante[_ngcontent-%COMP%]{background-image:url(Spade_8.9e4ebf80b55e0bf5.svg)}.spade-cavallo[_ngcontent-%COMP%]{background-image:url(Spade_9.78f6eb0ef300a5b6.svg)}.spade-re[_ngcontent-%COMP%]{background-image:url(Spade_10.5bba1c6844748473.svg)}.bastoni-1[_ngcontent-%COMP%]{background-image:url(Bastoni_1.5deedb66e5142535.svg)}.bastoni-2[_ngcontent-%COMP%]{background-image:url(Bastoni_2.dc381c0db529f884.svg)}.bastoni-3[_ngcontent-%COMP%]{background-image:url(Bastoni_3.b803f1f32de7372c.svg)}.bastoni-4[_ngcontent-%COMP%]{background-image:url(Bastoni_4.deaf489480a05497.svg)}.bastoni-5[_ngcontent-%COMP%]{background-image:url(Bastoni_5.90c6581357e474dc.svg)}.bastoni-6[_ngcontent-%COMP%]{background-image:url(Bastoni_6.7b88c33782f5c436.svg)}.bastoni-7[_ngcontent-%COMP%]{background-image:url(Bastoni_7.3f3a6cb946bb37ae.svg)}.bastoni-fante[_ngcontent-%COMP%]{background-image:url(Bastoni_8.507ee10f9e875165.svg)}.bastoni-cavallo[_ngcontent-%COMP%]{background-image:url(Bastoni_9.2fe2c8d4608eceee.svg)}.bastoni-re[_ngcontent-%COMP%]{background-image:url(Bastoni_10.ba6eb40e7832ebc0.svg)}.plus-four-icon[_ngcontent-%COMP%]{background-image:url(plus-four-icon.1f025be8b51ad587.svg)}.change-color-icon[_ngcontent-%COMP%]{background-image:url(change-color-icon.1ce9f735ea4c88cf.svg)}.players-wrapper[_ngcontent-%COMP%]{overflow-y:auto;overflow-x:hidden;width:80px;right:0;height:100vh}.btn-blue[_ngcontent-%COMP%]{color:#fff;background-color:#0d6efd;border-color:#0d6efd;display:inline-block;font-weight:400;text-align:center;vertical-align:middle;-webkit-user-select:none;user-select:none;border:1px solid transparent;padding:.375rem .75rem;font-size:1rem;line-height:1.5;border-radius:.375rem;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;cursor:pointer}.btn-blue[_ngcontent-%COMP%]:hover{background-color:#0b5ed7;border-color:#0a58ca}.btn-blue[_ngcontent-%COMP%]:focus{outline:0;box-shadow:0 0 0 .25rem #0d6efd80}.btn-blue[_ngcontent-%COMP%]:disabled{background-color:#0d6efd;opacity:.65;cursor:not-allowed}.deck-denari[_ngcontent-%COMP%], .deck-spade[_ngcontent-%COMP%], .deck-bastoni[_ngcontent-%COMP%], .deck-coppe[_ngcontent-%COMP%]{background-color:#fff}.deck-red[_ngcontent-%COMP%]{background-color:#e74c3c}.deck-green[_ngcontent-%COMP%]{background-color:#27ae60}.deck-blue[_ngcontent-%COMP%]{background-color:#3498db}.deck-yellow[_ngcontent-%COMP%]{background-color:#f1c40f;color:#000}.deck-wild[_ngcontent-%COMP%]{background:linear-gradient(135deg,#000000,#333333,#555555,#000000);background-size:400% 400%;animation:_ngcontent-%COMP%_wildGradientBlack 5s ease infinite;color:#fff}.center-value[_ngcontent-%COMP%]{font-size:32px;font-weight:700}.small-value[_ngcontent-%COMP%]{font-size:12px;font-weight:700}.center-icon[_ngcontent-%COMP%]{transform:scale(2.5)}.center-icon-scopa[_ngcontent-%COMP%]{transform:scale(6.2)!important}@keyframes _ngcontent-%COMP%_wildGradientBlack{0%{background-position:0% 50%}50%{background-position:100% 50%}to{background-position:0% 50%}}.dos-deck-card[_ngcontent-%COMP%]{background-color:transparent}.scopa-deck-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{background-image:url(scopa-deck-card.fbfdb0b1456eb143.svg);background-position:center;background-size:contain;background-repeat:no-repeat;width:100px;height:100px}.dos-deck-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{background-image:url(dos-deck-card.d36501d1b583e5a5.svg);background-position:center;background-size:contain;background-repeat:no-repeat;width:100%;height:100%}.deck-red-disabled[_ngcontent-%COMP%]{background-color:#ab3535;cursor:not-allowed}.deck-green-disabled[_ngcontent-%COMP%]{background-color:#418e34;cursor:not-allowed}.deck-blue-disabled[_ngcontent-%COMP%]{background-color:#2e4a74;cursor:not-allowed}.deck-yellow-disabled[_ngcontent-%COMP%]{background-color:#c0a850;color:#000;cursor:not-allowed}.deck-wild-disabled[_ngcontent-%COMP%]{background-color:#333;color:#fff;cursor:not-allowed}.mini-card-wrapper[_ngcontent-%COMP%]{margin-top:25px}.mini-card[_ngcontent-%COMP%]{width:55px;height:40px;background-color:#9f2467;border:1px solid #FFF;margin-top:-20px}']})}}return e})();const Dte=[{path:"login",component:Aee},{path:"home",component:kee,canActivate:[Wh]},{path:"games",component:Fee,canActivate:[Wh]},{path:"uno",component:o1,canActivate:[Wh],data:{gameName:"uno"}},{path:"scopa",component:o1,canActivate:[Wh],data:{gameName:"scopa"}},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",redirectTo:"/home"}];let Tte=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Ft({type:e})}static{this.\u0275inj=Ct({imports:[ck.forRoot(Dte),ck]})}}return e})();function Ste(e,t){if(1&e){const n=Zr();M(0,"div",2),ee(1,"i")(2,"span",3),M(3,"button",4),ke("click",function(){return ln(n),dn(re().show=!1)}),A()()}if(2&e){const n=re();N("ngClass","alert alert-"+n.alertType+" show"),S(1),Yg("bi bi-"+n.alertIcon),S(1),N("innerHTML",n.alertText,NT)}}let Ate=(()=>{class e{constructor(n){this.alertService=n,this.alertText="",this.alertType="info",this.alertIcon="info-circle",this.show=!1}ngOnInit(){this.alertService.showAlert$.subscribe(()=>{const n=this.alertService.currentMessage;this.alertText=n.color?`${n.text} <span class="color-box" style="background-color: ${n.color}"></span>`:n.text,this.alertType=n.type,this.alertIcon=n.icon,this.show=!0,setTimeout(()=>this.show=!1,3e3)})}static{this.\u0275fac=function(r){return new(r||e)(w(r1))}}static{this.\u0275cmp=dr({type:e,selectors:[["app-alert"]],decls:2,vars:1,consts:[[1,"alert-container"],["role","alert",3,"ngClass",4,"ngIf"],["role","alert",3,"ngClass"],[3,"innerHTML"],["type","button",1,"btn-close","ms-auto",3,"click"]],template:function(r,i){1&r&&(M(0,"div",0),F(1,Ste,4,4,"div",1),A()),2&r&&(S(1),N("ngIf",i.show))},dependencies:[Xm,Id],styles:['@charset "UTF-8";.alert-container[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;z-index:3000}.color-box[_ngcontent-%COMP%]{display:inline-block;width:16px;height:16px;margin-left:5px;border-radius:3px;vertical-align:middle}.alert[_ngcontent-%COMP%]{position:absolute;margin-top:10px;right:30px;display:flex;align-items:center;padding:15px;border-radius:8px;min-width:250px;font-size:16px;opacity:0;transform:translateY(-20px);transition:opacity .4s ease,transform .4s ease}.alert.show[_ngcontent-%COMP%]{opacity:1;transform:translateY(0)}.alert-success[_ngcontent-%COMP%]{background-color:#198754;color:#fff}.alert-danger[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff}.alert-warning[_ngcontent-%COMP%]{background-color:#ffc107;color:#212529}.alert-info[_ngcontent-%COMP%]{background-color:#0dcaf0;color:#fff}.alert[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:8px}']})}}return e})(),Mte=(()=>{class e{constructor(){this.title="game"}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=dr({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(r,i){1&r&&ee(0,"app-alert")(1,"router-outlet")},dependencies:[R_,Ate]})}}return e})();const s1_firebase={apiKey:"AIzaSyAyPpwYB1X-e5VnUkUgJ2orPcDr9ybDHEU",authDomain:"draggable-9f92b.firebaseapp.com",databaseURL:"https://draggable-9f92b.firebaseio.com",projectId:"draggable-9f92b",storageBucket:"draggable-9f92b.appspot.com",messagingSenderId:"1010593277055",appId:"1:1010593277055:web:1b729dc7368b8f6f"},a1="@firebase/database";let TE="";class Nte{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){null==n?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),ut(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return null==n?null:Lc(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class kte{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){null==n?delete this.cache_[t]:this.cache_[t]=n}get(t){return Zn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const u1=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Nte(t)}}catch{}return new kte},so=u1("localStorage"),SE=u1("sessionStorage"),Hs=new ks("@firebase/database"),l1=function(){let e=1;return function(){return e++}}(),d1=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,I(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new R7;n.update(t);const r=n.digest();return oh.encodeByteArray(r)},su=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=su.apply(null,r):t+="object"==typeof r?ut(r):r,t+=" "}return t};let ao=null,h1=!0;const et=function(...e){if(!0===h1&&(h1=!1,null===ao&&!0===SE.get("logging_enabled")&&function(e,t){I(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Hs.logLevel=_e.VERBOSE,ao=Hs.log.bind(Hs),t&&SE.set("logging_enabled",!0)):"function"==typeof e?ao=e:(ao=null,SE.remove("logging_enabled"))}(!0)),ao){const t=su.apply(null,e);ao(t)}},au=function(e){return function(...t){et(e,...t)}},AE=function(...e){const t="FIREBASE INTERNAL ERROR: "+su(...e);Hs.error(t)},nr=function(...e){const t=`FIREBASE FATAL ERROR: ${su(...e)}`;throw Hs.error(t),new Error(t)},vt=function(...e){const t="FIREBASE WARNING: "+su(...e);Hs.warn(t)},Gh=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Vr="[MIN_NAME]",rr="[MAX_NAME]",co=function(e,t){if(e===t)return 0;if(e===Vr||t===rr)return-1;if(t===Vr||e===rr)return 1;{const n=qh(e),r=qh(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},Ote=function(e,t){return e===t?0:e<t?-1:1},cu=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+ut(t))},ME=function(e){if("object"!=typeof e||null===e)return ut(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=ut(t[r]),n+=":",n+=ME(e[t[r]]);return n+="}",n},p1=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)r.push(e.substring(i,i+t>n?n:i+t));return r};function tt(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const g1=function(e){I(!Gh(e),"Invalid JSON number");const r=1023;let i,o,s,a,c;0===e?(o=0,s=0,i=1/e==-1/0?1:0):(i=e<0,(e=Math.abs(e))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),r),o=a+r,s=Math.round(e*Math.pow(2,52-a)-Math.pow(2,52))):(o=0,s=Math.round(e/Math.pow(2,-1074))));const u=[];for(c=52;c;c-=1)u.push(s%2?1:0),s=Math.floor(s/2);for(c=11;c;c-=1)u.push(o%2?1:0),o=Math.floor(o/2);u.push(i?1:0),u.reverse();const l=u.join("");let d="";for(c=0;c<64;c+=8){let h=parseInt(l.substr(c,8),2).toString(16);1===h.length&&(h="0"+h),d+=h}return d.toLowerCase()},Ute=new RegExp("^-?(0*)\\d{1,10}$"),qh=function(e){if(Ute.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},zs=function(e){try{e()}catch(t){setTimeout(()=>{throw vt("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},uu=function(e,t){const n=setTimeout(e,t);return"object"==typeof n&&n.unref&&n.unref(),n};class Bte{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){vt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class $te{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&"auth/token-not-initialized"===n.code?(et("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',vt(t)}}let lu=(()=>{class e{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return e.OWNER="owner",e})();const w1=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,I1="websocket",D1="long_polling";class kE{constructor(t,n,r,i,o=!1,s="",a=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=so.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&so.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function T1(e,t,n){let r;if(I("string"==typeof t,"typeof type must == string"),I("object"==typeof n,"typeof params must == object"),t===I1)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==D1)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function Hte(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return tt(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}class zte{constructor(){this.counters_={}}incrementCounter(t,n=1){Zn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return w7(this.counters_)}}const xE={},PE={};function OE(e){const t=e.toString();return xE[t]||(xE[t]=new zte),xE[t]}class Gte{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&zs(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class hi{constructor(t,n,r,i,o,s,a){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=au(t),this.stats_=OE(n),this.urlFn=c=>(this.appCheckToken&&(c.ac=this.appCheckToken),T1(n,D1,c))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Gte(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if("complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new FE((...o)=>{const[s,a,c,u,l]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===s)this.id=a,this.password=c;else{if("close"!==s)throw new Error("Unrecognized command received: "+s);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&w1.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){hi.forceAllow_=!0}static forceDisallow(){hi.forceDisallow_=!0}static isAvailable(){return!(!hi.forceAllow_&&(hi.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=ut(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=yx(n),i=p1(r,1840);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=t,r.pw=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=ut(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class FE{constructor(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=l1(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=FE.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){et("frame writing exception"),a.stack&&et(a.stack),et(a)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||et("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const s=this.pendingSegs.shift();r=r+"&seg"+i+"="+s.seg+"&ts"+i+"="+s.ts+"&d"+i+"="+s.d,i++}return n+=r,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(i),r()})}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{et("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let Yh=null;typeof MozWebSocket<"u"?Yh=MozWebSocket:typeof WebSocket<"u"&&(Yh=WebSocket);let Ws=(()=>{class e{constructor(n,r,i,o,s,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=au(this.connId),this.stats_=OE(r),this.connURL=e.connectionURL_(r,a,c,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){const a={v:"5"};return typeof location<"u"&&location.hostname&&w1.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),o&&(a.ac=o),s&&(a.p=s),T1(n,I1,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,so.set("previous_websocket_failure",!0);try{let i;0,this.mySock=new Yh(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const o=i.message||i.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&null!==Yh&&!e.forceDisallow_}static previouslyFailed(){return so.isInMemoryStorage||!0===so.get("previous_websocket_failure")}markConnectionHealthy(){so.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=Lc(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(I(null===this.frames,"We already have a frame buffer"),n.length<=6){const r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();const r=ut(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=p1(r,16384);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e})(),x1=(()=>{class e{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[hi,Ws]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const r=Ws&&Ws.isAvailable();let i=r&&!Ws.previouslyFailed();if(n.webSocketOnly&&(r||vt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Ws];else{const o=this.transports_=[];for(const s of e.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return e.globalTransportInitialized_=!1,e})();class j1{constructor(t,n,r,i,o,s,a,c,u,l){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=u,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=au("c:"+this.id+":"),this.transportManager_=new x1(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=uu(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const n=t.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=cu("t",t),r=cu("d",t);if("c"===n)this.onSecondaryControl_(r);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=cu("t",t),r=cu("d",t);"c"===n?this.onControl_(r):"d"===n&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=cu("t",t);if("d"in t){const r=t.d;if("h"===n)this.onHandshake_(r);else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(r):"r"===n?this.onReset_(r):"e"===n?AE("Server Error: "+r):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):AE("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==r&&vt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),uu(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):uu(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(so.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class B1{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}class $1{constructor(t){this.allowedEvents_=t,this.listeners_={},I(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context))return void i.splice(o,1)}validateEventType_(t){I(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}class Qh extends $1{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!cy()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Qh}getInitialEvent(t){return I("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class de{constructor(t,n){if(void 0===n){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(t+="/"+this.pieces_[n]);return t||"/"}}function oe(){return new de("")}function Y(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function fi(e){return e.pieces_.length-e.pieceNum_}function ve(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new de(e.pieces_,t)}function VE(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function du(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function W1(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new de(t,0)}function Me(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof de)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new de(n,0)}function Q(e){return e.pieceNum_>=e.pieces_.length}function xt(e,t){const n=Y(e),r=Y(t);if(null===n)return t;if(n===r)return xt(ve(e),ve(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function UE(e,t){if(fi(e)!==fi(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function vn(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(fi(e)>fi(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class gne{constructor(t,n){this.errorPrefix_=n,this.parts_=du(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=lh(this.parts_[r]);G1(this)}}function G1(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+uo(e))}function uo(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class jE extends $1{constructor(){let t,n;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new jE}getInitialEvent(t){return I("visible"===t,"Unknown event type: "+t),[this.visible_]}}const hu=1e3;let Zh,lo=(()=>{class e extends B1{constructor(n,r,i,o,s,a,c,u){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=u,this.id=e.nextPersistentConnectionId_++,this.log_=au("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=hu,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,u)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");jE.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&Qh.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){const o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(ut(s)),I(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();const r=new Oc,i={p:n._path.toString(),q:n._queryObject},o={action:"g",request:i,onComplete:a=>{const c=a.d;"ok"===a.s?(this.onDataUpdate_(i.p,c,!1,null),r.resolve(c)):r.reject(c)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const a=this.outstandingGets_[s];void 0===a||o!==a||(delete this.outstandingGets_[s],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+s+" timed out on connection"),r.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(s),r.promise}listen(n,r,i,o){this.initConnection_();const s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),I(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),I(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const c={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(n){const r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){const r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);const s={p:i};n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest("q",s,c=>{const u=c.d,l=c.s;e.warnOnListenWarnings_(u,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",c),"ok"!==l&&this.removeListen_(i,o),n.onComplete&&n.onComplete(l,u))})}static warnOnListenWarnings_(n,r){if(n&&"object"==typeof n&&Zn(n,"w")){const i=Rs(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();vt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||function(e){const t=ah(e).claims;return"object"==typeof t&&!0===t.admin}(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,r=function(e){const n=ah(e).claims;return!!n&&"object"==typeof n&&n.hasOwnProperty("iat")}(n)?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{const s=o.s,a=o.d||"error";this.authToken_===n&&("ok"===s?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const r=n.s,i=n.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){const i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),I(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);const s={p:n};o&&(s.q=i,s.t=o),this.sendRequest("n",s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){const s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();const a={p:r,d:i};void 0!==s&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(n){const r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){const r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+ut(n));const r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),"d"===n?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===n?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===n?this.onListenRevoked_(r.p,r.q):"ac"===n?this.onAuthRevoked_(r.s,r.d):"apc"===n?this.onAppCheckRevoked_(r.s,r.d):"sd"===n?this.onSecurityDebugPacket_(r):AE("Unrecognized action received from server: "+ut(n)+"\nAre you using the latest client?")}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){I(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=hu,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=hu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=hu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return g(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const r=n.onDataMessage_.bind(n),i=n.onReady_.bind(n),o=n.onRealtimeDisconnect_.bind(n),s=n.id+":"+e.nextConnectionId_++,a=n.lastSessionId;let c=!1,u=null;const l=function(){u?u.close():(c=!0,o())};n.realtime_={close:l,sendRequest:function(f){I(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(f)}};const h=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[f,p]=yield Promise.all([n.authTokenProvider_.getToken(h),n.appCheckTokenProvider_.getToken(h)]);c?et("getToken() completed but was canceled"):(et("getToken() completed. Creating connection."),n.authToken_=f&&f.accessToken,n.appCheckToken_=p&&p.token,u=new j1(s,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,r,i,o,m=>{vt(m+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},a))}catch(f){n.log_("Failed to get token: "+f),c||(n.repoInfo_.nodeAdmin&&vt(f),l())}}})()}interrupt(n){et("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){et("Resuming connection for reason: "+n),delete this.interruptReasons_[n],dy(this.interruptReasons_)&&(this.reconnectDelay_=hu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const r=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;i=r?r.map(s=>ME(s)).join("$"):"default";const o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){const i=new de(n).toString();let o;if(this.listens.has(i)){const s=this.listens.get(i);o=s.get(r),s.delete(r),0===s.size&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){et("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){et("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let r="js";n["sdk."+r+"."+TE.replace(/\./g,"-")]=1,cy()?n["framework.cordova"]=1:Cx()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=Qh.getInstance().currentlyOnline();return dy(this.interruptReasons_)&&n}}return e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e})();class X{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new X(t,n)}}class Xh{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new X(Vr,t),i=new X(Vr,n);return 0!==this.compare(r,i)}minPost(){return X.MIN}}class Y1 extends Xh{static get __EMPTY_NODE(){return Zh}static set __EMPTY_NODE(t){Zh=t}compare(t,n){return co(t.name,n.name)}isDefinedOn(t){throw Ms("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return X.MIN}maxPost(){return new X(rr,Zh)}makePost(t,n){return I("string"==typeof t,"KeyIndex indexValue must always be a string."),new X(t,Zh)}toString(){return".key"}}const ir=new Y1;class Jh{constructor(t,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,i&&(s*=-1),s<0)t=this.isReverse_?t.left:t.right;else{if(0===s){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,t=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let $E,kn=(()=>{class e{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??e.RED,this.left=o??Gt.EMPTY_NODE,this.right=s??Gt.EMPTY_NODE}copy(n,r,i,o,s){return new e(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this;const s=i(n,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(n,r,i),null):0===s?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Gt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(n,i.key)){if(i.right.isEmpty())return Gt.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})();class Gt{constructor(t,n=Gt.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new Gt(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,kn.BLACK,null,null))}remove(t){return new Gt(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,kn.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),0===n)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),0===n){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}n<0?r=r.left:n>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Jh(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Jh(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Jh(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Jh(this.root_,null,this.comparator_,!0,t)}}function Ine(e,t){return co(e.name,t.name)}function BE(e,t){return co(e,t)}Gt.EMPTY_NODE=new class bne{copy(t,n,r,i,o){return this}insert(t,n,r){return new kn(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Q1=function(e){return"number"==typeof e?"number:"+g1(e):"string:"+e},X1=function(e){if(e.isLeafNode()){const t=e.val();I("string"==typeof t||"number"==typeof t||"object"==typeof t&&Zn(t,".sv"),"Priority must be a string or number.")}else I(e===$E||e.isEmpty(),"priority of unexpected type.");I(e===$E||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Z1,J1,eF,Gs=(()=>{class e{constructor(n,r=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,I(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),X1(this.priorityNode_)}static set __childrenNodeConstructor(n){Z1=n}static get __childrenNodeConstructor(){return Z1}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new e(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return Q(n)?this:".priority"===Y(n)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return".priority"===n?this.updatePriority(r):r.isEmpty()&&".priority"!==n?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){const i=Y(n);return null===i?r:r.isEmpty()&&".priority"!==i?this:(I(".priority"!==i||1===fi(n),".priority must be the last token in a path"),this.updateImmediateChild(i,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(ve(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+Q1(this.priorityNode_.val())+":");const r=typeof this.value_;n+=r+":",n+="number"===r?g1(this.value_):this.value_,this.lazyHash_=d1(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===e.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof e.__childrenNodeConstructor?-1:(I(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const r=typeof n.value_,i=typeof this.value_,o=e.VALUE_TYPE_ORDER.indexOf(r),s=e.VALUE_TYPE_ORDER.indexOf(i);return I(o>=0,"Unknown leaf type: "+r),I(s>=0,"Unknown leaf type: "+i),o===s?"object"===i?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){return n===this||!!n.isLeafNode()&&(this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_))}}return e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e})();const De=new class Ane extends Xh{compare(t,n){const r=t.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return 0===o?co(t.name,n.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return X.MIN}maxPost(){return new X(rr,new Gs("[PRIORITY-POST]",eF))}makePost(t,n){const r=J1(t);return new X(n,new Gs("[PRIORITY-POST]",r))}toString(){return".priority"}},Mne=Math.log(2);class Rne{constructor(t){this.count=parseInt(Math.log(t+1)/Mne,10),this.current_=this.count-1;const i=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const ef=function(e,t,n,r){e.sort(t);const i=function(c,u){const l=u-c;let d,h;if(0===l)return null;if(1===l)return d=e[c],h=n?n(d):d,new kn(h,d.node,kn.BLACK,null,null);{const f=parseInt(l/2,10)+c,p=i(c,f),m=i(f+1,u);return d=e[f],h=n?n(d):d,new kn(h,d.node,kn.BLACK,p,m)}},a=function(c){let u=null,l=null,d=e.length;const h=function(p,m){const y=d-p,v=d;d-=p;const _=i(y+1,v),R=e[y],O=n?n(R):R;f(new kn(O,R.node,m,null,_))},f=function(p){u?(u.left=p,u=p):(l=p,u=p)};for(let p=0;p<c.count;++p){const m=c.nextBitIsOne(),y=Math.pow(2,c.count-(p+1));m?h(y,kn.BLACK):(h(y,kn.BLACK),h(y,kn.RED))}return l}(new Rne(e.length));return new Gt(r||t,a)};let HE;const qs={};class Ur{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return I(qs&&De,"ChildrenNode.ts has not been loaded"),HE=HE||new Ur({".priority":qs},{".priority":De}),HE}get(t){const n=Rs(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Gt?n:null}hasIndex(t){return Zn(this.indexSet_,t.toString())}addIndex(t,n){I(t!==ir,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(X.Wrap);let a,s=o.getNext();for(;s;)i=i||t.isDefinedOn(s.node),r.push(s),s=o.getNext();a=i?ef(r,t.getCompare()):qs;const c=t.toString(),u=Object.assign({},this.indexSet_);u[c]=t;const l=Object.assign({},this.indexes_);return l[c]=a,new Ur(l,u)}addToIndexes(t,n){const r=ch(this.indexes_,(i,o)=>{const s=Rs(this.indexSet_,o);if(I(s,"Missing index implementation for "+o),i===qs){if(s.isDefinedOn(t.node)){const a=[],c=n.getIterator(X.Wrap);let u=c.getNext();for(;u;)u.name!==t.name&&a.push(u),u=c.getNext();return a.push(t),ef(a,s.getCompare())}return qs}{const a=n.get(t.name);let c=i;return a&&(c=c.remove(new X(t.name,a))),c.insert(t,t.node)}});return new Ur(r,this.indexSet_)}removeFromIndexes(t,n){const r=ch(this.indexes_,i=>{if(i===qs)return i;{const o=n.get(t.name);return o?i.remove(new X(t.name,o)):i}});return new Ur(r,this.indexSet_)}}let fu,G=(()=>{class e{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&X1(this.priorityNode_),this.children_.isEmpty()&&I(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return fu||(fu=new e(new Gt(BE),null,Ur.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||fu}updatePriority(n){return this.children_.isEmpty()?this:new e(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const r=this.children_.get(n);return null===r?fu:r}}getChild(n){const r=Y(n);return null===r?this:this.getImmediateChild(r).getChild(ve(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,r){if(I(r,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(r);{const i=new X(n,r);let o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));const a=o.isEmpty()?fu:this.priorityNode_;return new e(o,a,s)}}updateChild(n,r){const i=Y(n);if(null===i)return r;{I(".priority"!==Y(n)||1===fi(n),".priority must be the last token in a path");const o=this.getImmediateChild(i).updateChild(ve(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const r={};let i=0,o=0,s=!0;if(this.forEachChild(De,(a,c)=>{r[a]=c.val(n),i++,s&&e.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){const a=[];for(const c in r)a[c]=r[c];return a}return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+Q1(this.getPriority().val())+":"),this.forEachChild(De,(r,i)=>{const o=i.hash();""!==o&&(n+=":"+r+":"+o)}),this.lazyHash_=""===n?"":d1(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){const o=this.resolveIndex_(i);if(o){const s=o.getPredecessorKey(new X(n,r));return s?s.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(n){const r=this.getFirstChildName(n);return r?new X(r,this.children_.get(r)):null}getLastChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(n){const r=this.getLastChildName(n);return r?new X(r,this.children_.get(r)):null}forEachChild(n,r){const i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{const o=this.children_.getIteratorFrom(n.name,X.Wrap);let s=o.peek();for(;null!=s&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{const o=this.children_.getReverseIteratorFrom(n.name,X.Wrap);let s=o.peek();for(;null!=s&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===pu?-1:0}withIndex(n){if(n===ir||this.indexMap_.hasIndex(n))return this;{const r=this.indexMap_.addIndex(n,this.children_);return new e(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===ir||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const r=n;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(De),o=r.getIterator(De);let s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return null===s&&null===a}return!1}return!1}}resolveIndex_(n){return n===ir?null:this.indexMap_.get(n.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})();const pu=new class Nne extends G{constructor(){super(new Gt(BE),G.EMPTY_NODE,Ur.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return G.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(X,{MIN:{value:new X(Vr,G.EMPTY_NODE)},MAX:{value:new X(rr,pu)}}),Y1.__EMPTY_NODE=G.EMPTY_NODE,Gs.__childrenNodeConstructor=G,function Dne(e){$E=e}(pu),function Sne(e){eF=e}(pu);const kne=!0;function xe(e,t=null){if(null===e)return G.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),I(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new Gs(e,xe(t));if(e instanceof Array||!kne){let n=G.EMPTY_NODE;return tt(e,(r,i)=>{if(Zn(e,r)&&"."!==r.substring(0,1)){const o=xe(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(xe(t))}{const n=[];let r=!1;if(tt(e,(s,a)=>{if("."!==s.substring(0,1)){const c=xe(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new X(s,c)))}}),0===n.length)return G.EMPTY_NODE;const o=ef(n,Ine,s=>s.name,BE);if(r){const s=ef(n,De.getCompare());return new G(o,xe(t),new Ur({".priority":s},{".priority":De}))}return new G(o,xe(t),Ur.Default)}}!function Tne(e){J1=e}(xe);class zE extends Xh{constructor(t){super(),this.indexPath_=t,I(!Q(t)&&".priority"!==Y(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),i=this.extractChild(n.node),o=r.compareTo(i);return 0===o?co(t.name,n.name):o}makePost(t,n){const r=xe(t),i=G.EMPTY_NODE.updateChild(this.indexPath_,r);return new X(n,i)}maxPost(){const t=G.EMPTY_NODE.updateChild(this.indexPath_,pu);return new X(rr,t)}toString(){return du(this.indexPath_,0).join("/")}}const WE=new class xne extends Xh{compare(t,n){const r=t.node.compareTo(n.node);return 0===r?co(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return X.MIN}maxPost(){return X.MAX}makePost(t,n){const r=xe(t);return new X(n,r)}toString(){return".value"}};function mu(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class KE{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=De}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return I(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return I(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Vr}hasEnd(){return this.endSet_}getIndexEndValue(){return I(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return I(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:rr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return I(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===De}copy(){const t=new KE;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function sF(e){const t={};if(e.isDefault())return t;let n;return e.index_===De?n="$priority":e.index_===WE?n="$value":e.index_===ir?n="$key":(I(e.index_ instanceof zE,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=ut(n),e.startSet_&&(t.startAt=ut(e.indexStartValue_),e.startNameSet_&&(t.startAt+=","+ut(e.indexStartName_))),e.endSet_&&(t.endAt=ut(e.indexEndValue_),e.endNameSet_&&(t.endAt+=","+ut(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function aF(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==De&&(t.i=e.index_.toString()),t}class nf extends B1{constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=au("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return void 0!==n?"tag$"+n:(I(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,r,i){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const s=nf.getListenId_(t,r),a={};this.listens_[s]=a;const c=sF(t._queryParams);this.restRequest_(o+".json",c,(u,l)=>{let d=l;if(404===u&&(d=null,u=null),null===u&&this.onDataUpdate_(o,d,!1,r),Rs(this.listens_,s)===a){let h;h=u?401===u?"permission_denied":"rest_error:"+u:"ok",i(h,null)}})}unlisten(t,n){const r=nf.getListenId_(t,n);delete this.listens_[r]}get(t){const n=sF(t._queryParams),r=t._path.toString(),i=new Oc;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;404===o&&(a=null,o=null),null===o?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Ns(n);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=Lc(a.responseText)}catch{vt("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,c)}else 401!==a.status&&404!==a.status&&vt("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}}class $ne{constructor(){this.rootNode_=G.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}function rf(){return{value:null,children:new Map}}function Qs(e,t,n){if(Q(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=Y(t);e.children.has(r)||e.children.set(r,rf()),Qs(e.children.get(r),t=ve(t),n)}}function ZE(e,t,n){null!==e.value?n(t,e.value):function Hne(e,t){e.children.forEach((n,r)=>{t(r,n)})}(e,(r,i)=>{ZE(i,new de(t.toString()+"/"+r),n)})}class zne{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&tt(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}}class qne{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new zne(t);const r=1e4+2e4*Math.random();uu(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;tt(t,(i,o)=>{o>0&&Zn(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),uu(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var or=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}(or||{});function tb(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}class sf{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=or.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Q(this.path)){if(null!=this.affectedTree.value)return I(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new de(t));return new sf(oe(),n,this.revert)}}return I(Y(this.path)===t,"operationForChild called for unrelated child."),new sf(ve(this.path),this.affectedTree,this.revert)}}class ho{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=or.OVERWRITE}operationForChild(t){return Q(this.path)?new ho(this.source,oe(),this.snap.getImmediateChild(t)):new ho(this.source,ve(this.path),this.snap)}}class Xs{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=or.MERGE}operationForChild(t){if(Q(this.path)){const n=this.children.subtree(new de(t));return n.isEmpty()?null:n.value?new ho(this.source,oe(),n.value):new Xs(this.source,oe(),n)}return I(Y(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Xs(this.source,ve(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class pi{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Q(t))return this.isFullyInitialized()&&!this.filtered_;const n=Y(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}function vu(e,t,n,r,i,o){const s=r.filter(a=>a.type===n);s.sort((a,c)=>function Xne(e,t,n){if(null==t.childName||null==n.childName)throw Ms("Should only compare child_ events.");const r=new X(t.childName,t.snapshotNode),i=new X(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,a,c)),s.forEach(a=>{const c=function Qne(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,a,o);i.forEach(u=>{u.respondsTo(a.type)&&t.push(u.createEvent(c,e.query_))})})}function af(e,t){return{eventCache:e,serverCache:t}}function Cu(e,t,n,r){return af(new pi(t,n,r),e.serverCache)}function uF(e,t,n,r){return af(e.eventCache,new pi(t,n,r))}function cf(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function fo(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let nb;class Te{constructor(t,n=(()=>(nb||(nb=new Gt(Ote)),nb))()){this.value=t,this.children=n}static fromObject(t){let n=new Te(null);return tt(t,(r,i)=>{n=n.set(new de(r),i)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(null!=this.value&&n(this.value))return{path:oe(),value:this.value};if(Q(t))return null;{const r=Y(t),i=this.children.get(r);if(null!==i){const o=i.findRootMostMatchingPathAndValue(ve(t),n);return null!=o?{path:Me(new de(r),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Q(t))return this;{const n=Y(t),r=this.children.get(n);return null!==r?r.subtree(ve(t)):new Te(null)}}set(t,n){if(Q(t))return new Te(n,this.children);{const r=Y(t),o=(this.children.get(r)||new Te(null)).set(ve(t),n),s=this.children.insert(r,o);return new Te(this.value,s)}}remove(t){if(Q(t))return this.children.isEmpty()?new Te(null):new Te(null,this.children);{const n=Y(t),r=this.children.get(n);if(r){const i=r.remove(ve(t));let o;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new Te(null):new Te(this.value,o)}return this}}get(t){if(Q(t))return this.value;{const n=Y(t),r=this.children.get(n);return r?r.get(ve(t)):null}}setTree(t,n){if(Q(t))return n;{const r=Y(t),o=(this.children.get(r)||new Te(null)).setTree(ve(t),n);let s;return s=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new Te(this.value,s)}}fold(t){return this.fold_(oe(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Me(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,oe(),n)}findOnPath_(t,n,r){const i=!!this.value&&r(n,this.value);if(i)return i;if(Q(t))return null;{const o=Y(t),s=this.children.get(o);return s?s.findOnPath_(ve(t),Me(n,o),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,oe(),n)}foreachOnPath_(t,n,r){if(Q(t))return this;{this.value&&r(n,this.value);const i=Y(t),o=this.children.get(i);return o?o.foreachOnPath_(ve(t),Me(n,i),r):new Te(null)}}foreach(t){this.foreach_(oe(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Me(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}class xn{constructor(t){this.writeTree_=t}static empty(){return new xn(new Te(null))}}function wu(e,t,n){if(Q(t))return new xn(new Te(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let o=r.value;const s=xt(i,t);return o=o.updateChild(s,n),new xn(e.writeTree_.set(i,o))}{const i=new Te(n),o=e.writeTree_.setTree(t,i);return new xn(o)}}}function rb(e,t,n){let r=e;return tt(n,(i,o)=>{r=wu(r,Me(t,i),o)}),r}function lF(e,t){if(Q(t))return xn.empty();{const n=e.writeTree_.setTree(t,new Te(null));return new xn(n)}}function ib(e,t){return null!=po(e,t)}function po(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(xt(n.path,t)):null}function dF(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(De,(r,i)=>{t.push(new X(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&t.push(new X(r,i.value))}),t}function gi(e,t){if(Q(t))return e;{const n=po(e,t);return new xn(null!=n?new Te(n):e.writeTree_.subtree(t))}}function ob(e){return e.writeTree_.isEmpty()}function Zs(e,t){return hF(oe(),e.writeTree_,t)}function hF(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,o)=>{".priority"===i?(I(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):n=hF(Me(e,i),o,n)}),!n.getChild(e).isEmpty()&&null!==r&&(n=n.updateChild(Me(e,".priority"),r)),n}}function uf(e,t){return _F(t,e)}function rre(e,t){if(e.snap)return vn(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&vn(Me(e.path,n),t))return!0;return!1}function ore(e){return e.visible}function fF(e,t,n){let r=xn.empty();for(let i=0;i<e.length;++i){const o=e[i];if(t(o)){const s=o.path;let a;if(o.snap)vn(n,s)?(a=xt(n,s),r=wu(r,a,o.snap)):vn(s,n)&&(a=xt(s,n),r=wu(r,oe(),o.snap.getChild(a)));else{if(!o.children)throw Ms("WriteRecord should have .snap or .children");if(vn(n,s))a=xt(n,s),r=rb(r,a,o.children);else if(vn(s,n))if(a=xt(s,n),Q(a))r=rb(r,oe(),o.children);else{const c=Rs(o.children,Y(a));if(c){const u=c.getChild(ve(a));r=wu(r,oe(),u)}}}}}return r}function pF(e,t,n,r,i){if(r||i){const o=gi(e.visibleWrites,t);return!i&&ob(o)?n:i||null!=n||ib(o,oe())?Zs(fF(e.allWrites,function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(vn(u.path,t)||vn(t,u.path))},t),n||G.EMPTY_NODE):null}{const o=po(e.visibleWrites,t);if(null!=o)return o;{const s=gi(e.visibleWrites,t);return ob(s)?n:null!=n||ib(s,oe())?Zs(s,n||G.EMPTY_NODE):null}}}function lf(e,t,n,r){return pF(e.writeTree,e.treePath,t,n,r)}function sb(e,t){return function sre(e,t,n){let r=G.EMPTY_NODE;const i=po(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(De,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){const o=gi(e.visibleWrites,t);return n.forEachChild(De,(s,a)=>{const c=Zs(gi(o,new de(s)),a);r=r.updateImmediateChild(s,c)}),dF(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}return dF(gi(e.visibleWrites,t)).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}(e.writeTree,e.treePath,t)}function gF(e,t,n,r){return function are(e,t,n,r,i){I(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=Me(t,n);if(ib(e.visibleWrites,o))return null;{const s=gi(e.visibleWrites,o);return ob(s)?i.getChild(n):Zs(s,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function df(e,t){return function ure(e,t){return po(e.visibleWrites,t)}(e.writeTree,Me(e.treePath,t))}function ab(e,t,n){return function cre(e,t,n,r){const i=Me(t,n),o=po(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?Zs(gi(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function mF(e,t){return _F(Me(e.treePath,t),e.writeTree)}function _F(e,t){return{treePath:e,writeTree:t}}class fre{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;I("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),I(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if("child_added"===n&&"child_removed"===o)this.changeMap.set(r,mu(r,t.snapshotNode,i.snapshotNode));else if("child_removed"===n&&"child_added"===o)this.changeMap.delete(r);else if("child_removed"===n&&"child_changed"===o)this.changeMap.set(r,function gu(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}(r,i.oldSnap));else if("child_changed"===n&&"child_added"===o)this.changeMap.set(r,function Ys(e,t){return{type:"child_added",snapshotNode:t,childName:e}}(r,t.snapshotNode));else{if("child_changed"!==n||"child_changed"!==o)throw Ms("Illegal combination of changes: "+t+" occurred after "+i);this.changeMap.set(r,mu(r,t.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}const yF=new class pre{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}};class cb{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=null!=this.optCompleteServerCache_?new pi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ab(this.writes_,t,r)}}getChildAfterChild(t,n,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:fo(this.viewCache_),o=function hre(e,t,n,r,i,o){return function lre(e,t,n,r,i,o,s){let a;const c=gi(e.visibleWrites,t),u=po(c,oe());if(null!=u)a=u;else{if(null==n)return[];a=Zs(c,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const l=[],d=s.getCompare(),h=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let f=h.getNext();for(;f&&l.length<i;)0!==d(f,r)&&l.push(f),f=h.getNext();return l}}(e.writeTree,e.treePath,t,n,r,i,o)}(this.writes_,i,n,1,r,t);return 0===o.length?null:o[0]}}function vF(e,t,n,r,i,o){const s=t.eventCache;if(null!=df(r,n))return t;{let a,c;if(Q(n))if(I(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const u=fo(t),d=sb(r,u instanceof G?u:G.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),d,o)}else{const u=lf(r,fo(t));a=e.filter.updateFullNode(t.eventCache.getNode(),u,o)}else{const u=Y(n);if(".priority"===u){I(1===fi(n),"Can't have a priority with additional path components");const l=s.getNode();c=t.serverCache.getNode();const d=gF(r,n,l,c);a=null!=d?e.filter.updatePriority(l,d):s.getNode()}else{const l=ve(n);let d;if(s.isCompleteForChild(u)){c=t.serverCache.getNode();const h=gF(r,n,s.getNode(),c);d=null!=h?s.getNode().getImmediateChild(u).updateChild(l,h):s.getNode().getImmediateChild(u)}else d=ab(r,u,t.serverCache);a=null!=d?e.filter.updateChild(s.getNode(),u,d,l,i,o):s.getNode()}}return Cu(t,a,s.isFullyInitialized()||Q(n),e.filter.filtersNodes())}}function hf(e,t,n,r,i,o,s,a){const c=t.serverCache;let u;const l=s?e.filter:e.filter.getIndexedFilter();if(Q(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){const f=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),f,null)}else{const f=Y(n);if(!c.isCompleteForPath(n)&&fi(n)>1)return t;const p=ve(n),y=c.getNode().getImmediateChild(f).updateChild(p,r);u=".priority"===f?l.updatePriority(c.getNode(),y):l.updateChild(c.getNode(),f,y,p,yF,null)}const d=uF(t,u,c.isFullyInitialized()||Q(n),l.filtersNodes());return vF(e,d,n,i,new cb(i,d,o),a)}function ub(e,t,n,r,i,o,s){const a=t.eventCache;let c,u;const l=new cb(i,t,o);if(Q(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,s),c=Cu(t,u,!0,e.filter.filtersNodes());else{const d=Y(n);if(".priority"===d)u=e.filter.updatePriority(t.eventCache.getNode(),r),c=Cu(t,u,a.isFullyInitialized(),a.isFiltered());else{const h=ve(n),f=a.getNode().getImmediateChild(d);let p;if(Q(h))p=r;else{const m=l.getCompleteChild(d);p=null!=m?".priority"===VE(h)&&m.getChild(W1(h)).isEmpty()?m:m.updateChild(h,r):G.EMPTY_NODE}c=f.equals(p)?t:Cu(t,e.filter.updateChild(a.getNode(),d,p,h,l,s),a.isFullyInitialized(),e.filter.filtersNodes())}}return c}function CF(e,t){return e.eventCache.isCompleteForChild(t)}function wF(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function lb(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let u,c=t;u=Q(n)?r:new Te(null).setTree(n,r);const l=t.serverCache.getNode();return u.children.inorderTraversal((d,h)=>{if(l.hasChild(d)){const p=wF(0,t.serverCache.getNode().getImmediateChild(d),h);c=hf(e,c,new de(d),p,i,o,s,a)}}),u.children.inorderTraversal((d,h)=>{const f=!t.serverCache.isCompleteForChild(d)&&void 0===h.value;if(!l.hasChild(d)&&!f){const m=wF(0,t.serverCache.getNode().getImmediateChild(d),h);c=hf(e,c,new de(d),m,i,o,s,a)}}),c}function Tre(e,t){const n=fo(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Q(t)&&!n.getImmediateChild(Y(t)).isEmpty())?n.getChild(t):null}function IF(e,t,n,r){t.type===or.MERGE&&null!==t.source.queryId&&(I(fo(e.viewCache_),"We should always have a full cache before handling merges"),I(cf(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,o=function _re(e,t,n,r,i){const o=new fre;let s,a;if(n.type===or.OVERWRITE){const u=n;u.source.fromUser?s=ub(e,t,u.path,u.snap,r,i,o):(I(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.serverCache.isFiltered()&&!Q(u.path),s=hf(e,t,u.path,u.snap,r,i,a,o))}else if(n.type===or.MERGE){const u=n;u.source.fromUser?s=function vre(e,t,n,r,i,o,s){let a=t;return r.foreach((c,u)=>{const l=Me(n,c);CF(t,Y(l))&&(a=ub(e,a,l,u,i,o,s))}),r.foreach((c,u)=>{const l=Me(n,c);CF(t,Y(l))||(a=ub(e,a,l,u,i,o,s))}),a}(e,t,u.path,u.children,r,i,o):(I(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.serverCache.isFiltered(),s=lb(e,t,u.path,u.children,r,i,a,o))}else if(n.type===or.ACK_USER_WRITE){const u=n;s=u.revert?function Ere(e,t,n,r,i,o){let s;if(null!=df(r,n))return t;{const a=new cb(r,t,i),c=t.eventCache.getNode();let u;if(Q(n)||".priority"===Y(n)){let l;if(t.serverCache.isFullyInitialized())l=lf(r,fo(t));else{const d=t.serverCache.getNode();I(d instanceof G,"serverChildren would be complete if leaf node"),l=sb(r,d)}u=e.filter.updateFullNode(c,l,o)}else{const l=Y(n);let d=ab(r,l,t.serverCache);null==d&&t.serverCache.isCompleteForChild(l)&&(d=c.getImmediateChild(l)),u=null!=d?e.filter.updateChild(c,l,d,ve(n),a,o):t.eventCache.getNode().hasChild(l)?e.filter.updateChild(c,l,G.EMPTY_NODE,ve(n),a,o):c,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=lf(r,fo(t)),s.isLeafNode()&&(u=e.filter.updateFullNode(u,s,o)))}return s=t.serverCache.isFullyInitialized()||null!=df(r,oe()),Cu(t,u,s,e.filter.filtersNodes())}}(e,t,u.path,r,i,o):function Cre(e,t,n,r,i,o,s){if(null!=df(i,n))return t;const a=t.serverCache.isFiltered(),c=t.serverCache;if(null!=r.value){if(Q(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return hf(e,t,n,c.getNode().getChild(n),i,o,a,s);if(Q(n)){let u=new Te(null);return c.getNode().forEachChild(ir,(l,d)=>{u=u.set(new de(l),d)}),lb(e,t,n,u,i,o,a,s)}return t}{let u=new Te(null);return r.foreach((l,d)=>{const h=Me(n,l);c.isCompleteForPath(h)&&(u=u.set(l,c.getNode().getChild(h)))}),lb(e,t,n,u,i,o,a,s)}}(e,t,u.path,u.affectedTree,r,i,o)}else{if(n.type!==or.LISTEN_COMPLETE)throw Ms("Unknown operation type: "+n.type);s=function wre(e,t,n,r,i){const o=t.serverCache;return vF(e,uF(t,o.getNode(),o.isFullyInitialized()||Q(n),o.isFiltered()),n,r,yF,i)}(e,t,n.path,r,o)}const c=o.getChanges();return function yre(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=cf(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(function oF(e){return{type:"value",snapshotNode:e}}(cf(t)))}}(t,s,c),{viewCache:s,changes:c}}(e.processor_,i,t,n,r);return function mre(e,t){I(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),I(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}(e.processor_,o.viewCache),I(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,function DF(e,t,n,r){return function Yne(e,t,n,r){const i=[],o=[];return t.forEach(s=>{"child_changed"===s.type&&e.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(function One(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}(s.childName,s.snapshotNode))}),vu(e,i,"child_removed",t,r,n),vu(e,i,"child_added",t,r,n),vu(e,i,"child_moved",o,r,n),vu(e,i,"child_changed",t,r,n),vu(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,r?[r]:e.eventRegistrations_)}(e,o.changes,o.viewCache.eventCache.getNode(),null)}let ff,gf;function db(e,t,n,r){const i=t.source.queryId;if(null!==i){const o=e.views.get(i);return I(null!=o,"SyncTree gave us an op for an invalid query."),IF(o,t,n,r)}{let o=[];for(const s of e.views.values())o=o.concat(IF(s,t,n,r));return o}}function mi(e,t){let n=null;for(const r of e.views.values())n=n||Tre(r,t);return n}class NF{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Te(null),this.pendingWriteTree_=function dre(){return{visibleWrites:xn.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function hb(e,t,n,r,i){return function Jne(e,t,n,r,i){I(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=wu(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Js(e,new ho({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function yi(e,t,n=!1){const r=function tre(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(function nre(e,t){const n=e.allWrites.findIndex(a=>a.writeId===t);I(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){const a=e.allWrites[s];a.visible&&(s>=n&&rre(a,r.path)?i=!1:vn(r.path,a.path)&&(o=!0)),s--}return!!i&&(o?(function ire(e){e.visibleWrites=fF(e.allWrites,ore,oe()),e.lastWriteId=e.allWrites.length>0?e.allWrites[e.allWrites.length-1].writeId:-1}(e),!0):(r.snap?e.visibleWrites=lF(e.visibleWrites,r.path):tt(r.children,c=>{e.visibleWrites=lF(e.visibleWrites,Me(r.path,c))}),!0))}(e.pendingWriteTree_,t)){let o=new Te(null);return null!=r.snap?o=o.set(oe(),!0):tt(r.children,s=>{o=o.set(new de(s),!0)}),Js(e,new sf(r.path,o,n))}return[]}function Eu(e,t,n){return Js(e,new ho({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function mf(e,t,n){const i=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(s,a)=>{const u=mi(a,xt(s,t));if(u)return u});return pF(i,t,o,n,!0)}function Js(e,t){return xF(t,e.syncPointTree_,null,uf(e.pendingWriteTree_,oe()))}function xF(e,t,n,r){if(Q(e.path))return PF(e,t,n,r);{const i=t.get(oe());null==n&&null!=i&&(n=mi(i,oe()));let o=[];const s=Y(e.path),a=e.operationForChild(s),c=t.children.get(s);if(c&&a){const u=n?n.getImmediateChild(s):null,l=mF(r,s);o=o.concat(xF(a,c,u,l))}return i&&(o=o.concat(db(i,e,r,n))),o}}function PF(e,t,n,r){const i=t.get(oe());null==n&&null!=i&&(n=mi(i,oe()));let o=[];return t.children.inorderTraversal((s,a)=>{const c=n?n.getImmediateChild(s):null,u=mF(r,s),l=e.operationForChild(s);l&&(o=o.concat(PF(l,a,c,u)))}),i&&(o=o.concat(db(i,e,r,n))),o}function pb(e,t){return e.tagToQueryMap.get(t)}function gb(e){const t=e.indexOf("$");return I(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new de(e.substr(0,t))}}function mb(e,t,n){const r=e.syncPointTree_.get(t);return I(r,"Missing sync point for query tag that we're tracking"),db(r,n,uf(e.pendingWriteTree_,t),null)}class _b{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new _b(n)}node(){return this.node_}}class yb{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=Me(this.path_,t);return new yb(this.syncTree_,n)}node(){return mf(this.syncTree_,this.path_)}}const Kre=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},FF=function(e,t,n){return e&&"object"==typeof e?(I(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?Yre(e[".sv"],t,n):"object"==typeof e[".sv"]?Qre(e[".sv"],t):void I(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Yre=function(e,t,n){if("timestamp"===e)return n.timestamp;I(!1,"Unexpected server value: "+e)},Qre=function(e,t,n){e.hasOwnProperty("increment")||I(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!=typeof r&&I(!1,"Unexpected increment value: "+r);const i=t.node();if(I(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return"number"!=typeof s?r:s+r},LF=function(e,t,n,r){return Cb(t,new yb(n,e),r)},vb=function(e,t,n){return Cb(e,new _b(t),n)};function Cb(e,t,n){const r=e.getPriority().val(),i=FF(r,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const s=e,a=FF(s.getValue(),t,n);return a!==s.getValue()||i!==s.getPriority().val()?new Gs(a,xe(i)):e}{const s=e;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new Gs(i))),s.forEachChild(De,(a,c)=>{const u=Cb(c,t.getImmediateChild(a),n);u!==c&&(o=o.updateImmediateChild(a,u))}),o}}class wb{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function vf(e,t){let n=t instanceof de?t:new de(t),r=e,i=Y(n);for(;null!==i;){const o=Rs(r.node.children,i)||{children:{},childCount:0};r=new wb(i,r,o),n=ve(n),i=Y(n)}return r}function go(e){return e.node.value}function Eb(e,t){e.node.value=t,bb(e)}function VF(e){return e.node.childCount>0}function Cf(e,t){tt(e.node.children,(n,r)=>{t(new wb(n,e,r))})}function UF(e,t,n,r){n&&!r&&t(e),Cf(e,i=>{UF(i,t,!0,r)}),n&&r&&t(e)}function Iu(e){return new de(null===e.parent?e.name:Iu(e.parent)+"/"+e.name)}function bb(e){null!==e.parent&&function Jre(e,t,n){const r=function Xre(e){return void 0===go(e)&&!VF(e)}(n),i=Zn(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,bb(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,bb(e))}(e.parent,e.name,e)}const eie=/[\[\].#$\/\u0000-\u001F\u007F]/,tie=/[\[\].#$\u0000-\u001F\u007F]/,Ib=10485760,wf=function(e){return"string"==typeof e&&0!==e.length&&!eie.test(e)},Tu=function(e,t,n){const r=n instanceof de?new gne(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+uo(r));if("function"==typeof t)throw new Error(e+"contains a function "+uo(r)+" with contents = "+t.toString());if(Gh(t))throw new Error(e+"contains "+t.toString()+" "+uo(r));if("string"==typeof t&&t.length>Ib/3&&lh(t)>Ib)throw new Error(e+"contains a string greater than "+Ib+" utf8 bytes "+uo(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let i=!1,o=!1;if(tt(t,(s,a)=>{if(".value"===s)i=!0;else if(".priority"!==s&&".sv"!==s&&(o=!0,!wf(s)))throw new Error(e+" contains an invalid key ("+s+") "+uo(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function mne(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=lh(t),G1(e)})(r,s),Tu(e,a,r),function _ne(e){const t=e.parts_.pop();e.byteLength_-=lh(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)}),i&&o)throw new Error(e+' contains ".value" child '+uo(r)+" in addition to actual children.")}},$F=function(e,t){const n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!wf(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),function(e){return"string"==typeof e&&0!==e.length&&!tie.test(e)}(e)}(n))throw new Error(function jc(e,t){return`${e} failed: ${t} argument `}(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class oie{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Cn(e,t,n){(function Ef(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],o=i.getPath();null!==n&&!UE(o,n.path)&&(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)})(e,n),function HF(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];i&&(t(i.path)?(sie(e.eventLists_[r]),e.eventLists_[r]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}(e,r=>vn(r,t)||vn(t,r))}function sie(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();ao&&et("event: "+n.toString()),zs(r)}}}const aie=25;class cie{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new oie,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=rf(),this.transactionQueueTree_=new wb,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function WF(e){const n=e.infoData_.getNode(new de(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function Au(e){return Kre({timestamp:WF(e)})}function GF(e,t,n,r,i){e.dataUpdateCount++;const o=new de(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){const c=ch(n,u=>xe(u));s=function $re(e,t,n,r){const i=pb(e,r);if(i){const o=gb(i),s=o.path,a=o.queryId,c=xt(s,t),u=Te.fromObject(n);return mb(e,s,new Xs(tb(a),c,u))}return[]}(e.serverSyncTree_,o,c,i)}else{const c=xe(n);s=function Bre(e,t,n,r){const i=pb(e,r);if(null!=i){const o=gb(i),s=o.path,a=o.queryId,c=xt(s,t);return mb(e,s,new ho(tb(a),c,n))}return[]}(e.serverSyncTree_,o,c,i)}else if(r){const c=ch(n,u=>xe(u));s=function Vre(e,t,n){const r=Te.fromObject(n);return Js(e,new Xs({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,c)}else{const c=xe(n);s=Eu(e.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=ta(e,o)),Cn(e.eventQueue_,a,s)}function qF(e,t){Ab(e,"connected",t),!1===t&&function fie(e){ea(e,"onDisconnectEvents");const t=Au(e),n=rf();ZE(e.onDisconnect_,oe(),(i,o)=>{const s=LF(i,o,e.serverSyncTree_,t);Qs(n,i,s)});let r=[];ZE(n,oe(),(i,o)=>{r=r.concat(Eu(e.serverSyncTree_,i,o));const s=function kb(e,t){const n=Iu(QF(e,t)),r=vf(e.transactionQueueTree_,t);return function Zre(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,i=>{xb(e,i)}),xb(e,r),UF(r,i=>{xb(e,i)}),n}(e,i);ta(e,s)}),e.onDisconnect_=rf(),Cn(e.eventQueue_,oe(),r)}(e)}function Ab(e,t,n){const r=new de("/.info/"+t),i=xe(n);e.infoData_.updateSnapshot(r,i);const o=Eu(e.infoSyncTree_,r,i);Cn(e.eventQueue_,r,o)}function bf(e){return e.nextWriteId_++}function ea(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),et(n,...t)}function Nb(e,t,n){return mf(e.serverSyncTree_,t,n)||G.EMPTY_NODE}function If(e,t=e.transactionQueueTree_){if(t||Df(e,t),go(t)){const n=XF(e,t);I(n.length>0,"Sending zero length transaction queue"),n.every(i=>0===i.status)&&function Cie(e,t,n){const r=n.map(u=>u.currentWriteId),i=Nb(e,t,r);let o=i;const s=i.hash();for(let u=0;u<n.length;u++){const l=n[u];I(0===l.status,"tryToSendTransactionQueue_: items in queue should all be run."),l.status=1,l.retryCount++;const d=xt(t,l.path);o=o.updateChild(d,l.currentOutputSnapshotRaw)}const a=o.val(!0),c=t;e.server_.put(c.toString(),a,u=>{ea(e,"transaction put response",{path:c.toString(),status:u});let l=[];if("ok"===u){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,l=l.concat(yi(e.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Df(e,vf(e.transactionQueueTree_,t)),If(e,e.transactionQueueTree_),Cn(e.eventQueue_,t,l);for(let h=0;h<d.length;h++)zs(d[h])}else{if("datastale"===u)for(let d=0;d<n.length;d++)n[d].status=3===n[d].status?4:0;else{vt("transaction at "+c.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}ta(e,t)}},s)}(e,Iu(t),n)}else VF(t)&&Cf(t,n=>{If(e,n)})}function ta(e,t){const n=QF(e,t),r=Iu(n);return function wie(e,t,n){if(0===t.length)return;const r=[];let i=[];const s=t.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){const c=t[a],u=xt(n,c.path);let d,l=!1;if(I(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)l=!0,d=c.abortReason,i=i.concat(yi(e.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=aie)l=!0,d="maxretry",i=i.concat(yi(e.serverSyncTree_,c.currentWriteId,!0));else{const h=Nb(e,c.path,s);c.currentInputSnapshot=h;const f=t[a].update(h.val());if(void 0!==f){Tu("transaction failed: Data returned ",f,c.path);let p=xe(f);"object"==typeof f&&null!=f&&Zn(f,".priority")||(p=p.updatePriority(h.getPriority()));const y=c.currentWriteId,v=Au(e),_=vb(p,h,v);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=_,c.currentWriteId=bf(e),s.splice(s.indexOf(y),1),i=i.concat(hb(e.serverSyncTree_,c.path,_,c.currentWriteId,c.applyLocally)),i=i.concat(yi(e.serverSyncTree_,y,!0))}else l=!0,d="nodata",i=i.concat(yi(e.serverSyncTree_,c.currentWriteId,!0))}Cn(e.eventQueue_,n,i),i=[],l&&(t[a].status=2,setTimeout(t[a].unwatcher,Math.floor(0)),t[a].onComplete&&r.push("nodata"===d?()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot):()=>t[a].onComplete(new Error(d),!1,null)))}Df(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)zs(r[a]);If(e,e.transactionQueueTree_)}(e,XF(e,n),r),r}function QF(e,t){let n,r=e.transactionQueueTree_;for(n=Y(t);null!==n&&void 0===go(r);)r=vf(r,n),n=Y(t=ve(t));return r}function XF(e,t){const n=[];return ZF(e,t,n),n.sort((r,i)=>r.order-i.order),n}function ZF(e,t,n){const r=go(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Cf(t,i=>{ZF(e,i,n)})}function Df(e,t){const n=go(t);if(n){let r=0;for(let i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Eb(t,n.length>0?n:void 0)}Cf(t,r=>{Df(e,r)})}function xb(e,t){const n=go(t);if(n){const r=[];let i=[],o=-1;for(let s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?(I(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(I(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(yi(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===o?Eb(t,void 0):n.length=o+1,Cn(e.eventQueue_,Iu(t),i);for(let s=0;s<r.length;s++)zs(r[s])}}const Pb=function(e,t){const n=Iie(e),r=n.namespace;return"firebase.com"===n.domain&&nr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==n.domain&&nr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&vt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new kE(n.host,n.secure,r,"ws"===n.scheme||"wss"===n.scheme,t,"",r!==n.subdomain),path:new de(n.pathString)}},Iie=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",c=443;if("string"==typeof e){let u=e.indexOf("//");u>=0&&(a=e.substring(0,u-1),e=e.substring(u+2));let l=e.indexOf("/");-1===l&&(l=e.length);let d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(l,d)),l<d&&(i=function Eie(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}(e.substring(l,d)));const h=function bie(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):vt(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,d)));u=t.indexOf(":"),u>=0?(s="https"===a||"wss"===a,c=parseInt(t.substring(u+1),10)):u=t.length;const f=t.slice(0,u);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),o=r}"ns"in h&&(o=h.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};class rn{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Q(this._path)?null:VE(this._path)}get ref(){return new Pn(this._repo,this._path)}get _queryIdentifier(){const t=aF(this._queryParams),n=ME(t);return"{}"===n?"default":n}get _queryObject(){return aF(this._queryParams)}isEqual(t){if(!((t=Jn(t))instanceof rn))return!1;const n=this._repo===t._repo,r=UE(this._path,t._path);return n&&r&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function fne(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class Pn extends rn{constructor(t,n){super(t,n,new KE,!1)}get parent(){const t=W1(this._path);return null===t?null:new Pn(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}(function Mre(e){I(!ff,"__referenceConstructor has already been defined"),ff=e})(Pn),function Pre(e){I(!gf,"__referenceConstructor has already been defined"),gf=e}(Pn);const Ob={};class Hie{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function uie(e,t,n){if(e.stats_=OE(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new nf(e.repoInfo_,(r,i,o,s)=>{GF(e,r,i,o,s)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>qF(e,!0),0);else{if(typeof n<"u"&&null!==n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ut(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new lo(e.repoInfo_,t,(r,i,o,s)=>{GF(e,r,i,o,s)},r=>{qF(e,r)},r=>{!function lie(e,t){tt(t,(n,r)=>{Ab(e,n,r)})}(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=function Wte(e,t){const n=e.toString();return PE[n]||(PE[n]=t()),PE[n]}(e.repoInfo_,()=>new qne(e.stats_,e.server_)),e.infoData_=new $ne,e.infoSyncTree_=new NF({startListening:(r,i,o,s)=>{let a=[];const c=e.infoData_.getNode(r._path);return c.isEmpty()||(a=Eu(e.infoSyncTree_,r._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),Ab(e,"connected",!1),e.serverSyncTree_=new NF({startListening:(r,i,o,s)=>(e.server_.listen(r,o,i,(a,c)=>{const u=s(a,c);Cn(e.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Pn(this._repo,oe())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function jie(e,t){const n=Ob[t];(!n||n[e.key]!==e)&&nr(`Database ${t}(${e.repoInfo_}) has already been deleted.`),function YF(e){e.persistentConnection_&&e.persistentConnection_.interrupt("repo_interrupt")}(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&nr("Cannot call "+t+" on a deleted database.")}}function zie(e=Dy(),t){return xs(e,"database").getImmediate({identifier:t})}lo.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},lo.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)},function Wie(e){(function Rte(e){TE=e})(Ps),Nt(new yt("database",(t,{instanceIdentifier:n})=>function Uie(e,t,n,r,i){let o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||nr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),et("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let c,u,s=Pb(o,i),a=s.repoInfo;typeof process<"u"&&process.env&&(u=process.env.FIREBASE_DATABASE_EMULATOR_HOST),u?(c=!0,o=`http://${u}?ns=${a.namespace}`,s=Pb(o,i),a=s.repoInfo):c=!s.repoInfo.secure;const l=i&&c?new lu(lu.OWNER):new $te(e.name,e.options,t);$F("Invalid Firebase Database URL",s),Q(s.path)||nr("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function Bie(e,t,n,r){let i=Ob[t.name];i||(i={},Ob[t.name]=i);let o=i[e.toURLString()];return o&&nr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new cie(e,!1,n,r),i[e.toURLString()]=o,o}(a,e,l,new Bte(e.name,n));return new Hie(d,e)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),Le(a1,"0.13.0",e),Le(a1,"0.13.0","esm2017")}();class Fb{constructor(t){return t}}const aL="database",Lb=new D("angularfire2.database-instances");function Qie(e){return(t,n)=>{const r=t.runOutsideAngular(()=>e(n));return new Fb(r)}}const Xie={provide:class Kie{constructor(){return uC(aL)}},deps:[[new Tt,Lb]]},Zie={provide:Fb,useFactory:function Yie(e,t){const n=cC(aL,e,t);return n&&new Fb(n)},deps:[[new Tt,Lb],Us]};let Jie=(()=>{class e{constructor(){Le("angularfire",Ch.full,"rtdb")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Ft({type:e}),e.\u0275inj=Ct({providers:[Zie,Xie]}),e})();function eoe(e,...t){return{ngModule:Jie,providers:[{provide:Lb,useFactory:Qie(e),multi:!0,deps:[ue,pt,lC,dC,[new Tt,t1],[new Tt,AC],...t]}]}}const toe=Vs(zie,!0),_L=new D("");let Aoe=(()=>{class e{constructor(n){this.router=n}intercept(n,r){const i="https://thebabr27.github.io/expense/cardgame";return n.url.startsWith(i)?(console.log(`Intercepted request to ${i}, redirecting...`),this.router.navigate(["/"]),new Re):r.handle(n)}static{this.\u0275fac=function(r){return new(r||e)(x(mt))}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac})}}return e})(),Moe=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=Ft({type:e,bootstrap:[Mte]})}static{this.\u0275inj=Ct({providers:[{provide:_L,useClass:Aoe,multi:!0}],imports:[NR,jq,Tte,y7,v7,VQ(()=>UQ(s1_firebase)),mee(()=>yee()),eoe(()=>toe())]})}}return e})();Vq().bootstrapModule(Moe).catch(e=>console.error(e))}},ge=>{ge(ge.s=977)}]);